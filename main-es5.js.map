{"version":3,"sources":["webpack:///./$_lazy_route_resource lazy namespace object","webpack:///./src/app/app.component.html","webpack:///./src/app/design-pop/container/button-list/button-list.component.html","webpack:///./src/app/design-pop/container/container.component.html","webpack:///./src/app/design-pop/cue-info/cue-info.component.html","webpack:///./src/app/design-pop/design-pop.component.html","webpack:///./src/app/design-pop/img-distance/img-distance.component.html","webpack:///./src/app/design-pop/input-div/input-box/input-box.component.html","webpack:///./src/app/design-pop/loading/loading.component.html","webpack:///./src/app/design-pop/panel/messages/messages.component.html","webpack:///./src/app/design-pop/panel/panel-bottom/panel-bottom.component.html","webpack:///./src/app/design-pop/panel/panel-left/panel-left.component.html","webpack:///./src/app/design-pop/panel/panel-left/product-list/draw-room/draw-room.component.html","webpack:///./src/app/design-pop/panel/panel-left/product-list/mine/mine.component.html","webpack:///./src/app/design-pop/panel/panel-left/product-list/product-list.component.html","webpack:///./src/app/design-pop/panel/panel-left/product-list/put-model/put-model.component.html","webpack:///./src/app/design-pop/panel/panel-left/type-list/type-list.component.html","webpack:///./src/app/design-pop/panel/panel-propety/check-slider/check-slider.component.html","webpack:///./src/app/design-pop/panel/panel-propety/img-detail/img-detail.component.html","webpack:///./src/app/design-pop/panel/panel-propety/img-list/img-list.component.html","webpack:///./src/app/design-pop/panel/panel-propety/inline-text/inline-text.component.html","webpack:///./src/app/design-pop/panel/panel-propety/panel-propety.component.html","webpack:///./src/app/design-pop/panel/panel-propety/select-box/select-box.component.html","webpack:///./src/app/design-pop/panel/panel-propety/slider-box/slider-box.component.html","webpack:///./src/app/design-pop/panel/panel-propety/text-box/text-box.component.html","webpack:///./src/app/design-pop/panel/panel-top/panel-top.component.html","webpack:///./src/app/design-pop/pop-div/right-div/right-div.component.html","webpack:///./src/app/design-pop/test/test.component.html","webpack:///./src/app/design-pop/three-tools/three-tools.component.html","webpack:///./src/app/design-pop/toggle-window/toggle-window.component.html","webpack:///./src/app/svg/dom/back/back.component.html","webpack:///./src/app/svg/dom/block/block.component.html","webpack:///./src/app/svg/dom/camera/camera.component.html","webpack:///./src/app/svg/dom/common/absorb-lines/absorb-lines.component.html","webpack:///./src/app/svg/dom/common/label-circle/label-circle.component.html","webpack:///./src/app/svg/dom/common/label-lines/label-lines.component.html","webpack:///./src/app/svg/dom/common/repeat-path/repeat-path.component.html","webpack:///./src/app/svg/dom/common/test-svg/test-svg.component.html","webpack:///./src/app/svg/dom/corner-wins/corner-win/corner-win.component.html","webpack:///./src/app/svg/dom/corner-wins/corner-wins.component.html","webpack:///./src/app/svg/dom/cowalls/cowall-shadow/cowall-shadow.component.html","webpack:///./src/app/svg/dom/cowalls/cowall/cowall.component.html","webpack:///./src/app/svg/dom/cowalls/cowalls.component.html","webpack:///./src/app/svg/dom/cowalls/out-label/out-label.component.html","webpack:///./src/app/svg/dom/doors/door/door.component.html","webpack:///./src/app/svg/dom/doors/doors.component.html","webpack:///./src/app/svg/dom/geometrys/geometry/geometry.component.html","webpack:///./src/app/svg/dom/geometrys/geometrys.component.html","webpack:///./src/app/svg/dom/lu-wins/lu-win/lu-win.component.html","webpack:///./src/app/svg/dom/lu-wins/lu-wins.component.html","webpack:///./src/app/svg/dom/params-models/params-model/params-model.component.html","webpack:///./src/app/svg/dom/params-models/params-models.component.html","webpack:///./src/app/svg/dom/points/point/point.component.html","webpack:///./src/app/svg/dom/points/points.component.html","webpack:///./src/app/svg/dom/rooms/floor/floor.component.html","webpack:///./src/app/svg/dom/rooms/room-shadow/room-shadow.component.html","webpack:///./src/app/svg/dom/rooms/room/room.component.html","webpack:///./src/app/svg/dom/rooms/rooms-text/rooms-text.component.html","webpack:///./src/app/svg/dom/rooms/rooms.component.html","webpack:///./src/app/svg/dom/walls/wall-shadow/wall-shadow.component.html","webpack:///./src/app/svg/dom/walls/wall/wall.component.html","webpack:///./src/app/svg/dom/walls/walls.component.html","webpack:///./src/app/svg/dom/wins/win/win.component.html","webpack:///./src/app/svg/dom/wins/wins.component.html","webpack:///./src/app/svg/svg.component.html","webpack:///./src/app/three/three.component.html","webpack:///./src/app/app.component.scss","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/data/design.data.ts","webpack:///./src/app/data/pop.data.ts","webpack:///./src/app/data/util2d.data.ts","webpack:///./src/app/design-pop/container/button-list/button-list.component.css","webpack:///./src/app/design-pop/container/button-list/button-list.component.ts","webpack:///./src/app/design-pop/container/button-list/button-list.module.ts","webpack:///./src/app/design-pop/container/container.component.css","webpack:///./src/app/design-pop/container/container.component.ts","webpack:///./src/app/design-pop/container/container.module.ts","webpack:///./src/app/design-pop/cue-info/cue-info.component.css","webpack:///./src/app/design-pop/cue-info/cue-info.component.ts","webpack:///./src/app/design-pop/cue-info/cue-info.module.ts","webpack:///./src/app/design-pop/design-pop.component.scss","webpack:///./src/app/design-pop/design-pop.component.ts","webpack:///./src/app/design-pop/design-pop.module.ts","webpack:///./src/app/design-pop/hotkey/newNewHotKey.class.ts","webpack:///./src/app/design-pop/img-distance/img-distance.component.css","webpack:///./src/app/design-pop/img-distance/img-distance.component.ts","webpack:///./src/app/design-pop/img-distance/img-distance.module.ts","webpack:///./src/app/design-pop/input-div/input-box/input-box.component.css","webpack:///./src/app/design-pop/input-div/input-box/input-box.component.ts","webpack:///./src/app/design-pop/input-div/input-div.module.ts","webpack:///./src/app/design-pop/loading/loading.component.css","webpack:///./src/app/design-pop/loading/loading.component.ts","webpack:///./src/app/design-pop/loading/loading.module.ts","webpack:///./src/app/design-pop/panel/messages/messages.component.scss","webpack:///./src/app/design-pop/panel/messages/messages.component.ts","webpack:///./src/app/design-pop/panel/messages/messages.module.ts","webpack:///./src/app/design-pop/panel/panel-bottom/panel-bottom.component.css","webpack:///./src/app/design-pop/panel/panel-bottom/panel-bottom.component.ts","webpack:///./src/app/design-pop/panel/panel-bottom/panel-bottom.module.ts","webpack:///./src/app/design-pop/panel/panel-left/panel-left.component.css","webpack:///./src/app/design-pop/panel/panel-left/panel-left.component.ts","webpack:///./src/app/design-pop/panel/panel-left/panel-left.module.ts","webpack:///./src/app/design-pop/panel/panel-left/product-list/draw-room/draw-room.component.css","webpack:///./src/app/design-pop/panel/panel-left/product-list/draw-room/draw-room.component.ts","webpack:///./src/app/design-pop/panel/panel-left/product-list/draw-room/draw-room.module.ts","webpack:///./src/app/design-pop/panel/panel-left/product-list/mine/mine.component.css","webpack:///./src/app/design-pop/panel/panel-left/product-list/mine/mine.component.ts","webpack:///./src/app/design-pop/panel/panel-left/product-list/mine/mine.module.ts","webpack:///./src/app/design-pop/panel/panel-left/product-list/product-list.component.css","webpack:///./src/app/design-pop/panel/panel-left/product-list/product-list.component.ts","webpack:///./src/app/design-pop/panel/panel-left/product-list/product-list.module.ts","webpack:///./src/app/design-pop/panel/panel-left/product-list/put-model/put-model.component.css","webpack:///./src/app/design-pop/panel/panel-left/product-list/put-model/put-model.component.ts","webpack:///./src/app/design-pop/panel/panel-left/product-list/put-model/put-model.module.ts","webpack:///./src/app/design-pop/panel/panel-left/type-list/type-list.component.css","webpack:///./src/app/design-pop/panel/panel-left/type-list/type-list.component.ts","webpack:///./src/app/design-pop/panel/panel-left/type-list/type-list.module.ts","webpack:///./src/app/design-pop/panel/panel-propety/check-slider/check-slider.component.css","webpack:///./src/app/design-pop/panel/panel-propety/check-slider/check-slider.component.ts","webpack:///./src/app/design-pop/panel/panel-propety/check-slider/check-slider.module.ts","webpack:///./src/app/design-pop/panel/panel-propety/img-detail/img-detail.component.css","webpack:///./src/app/design-pop/panel/panel-propety/img-detail/img-detail.component.ts","webpack:///./src/app/design-pop/panel/panel-propety/img-detail/img-detail.module.ts","webpack:///./src/app/design-pop/panel/panel-propety/img-list/img-list.component.css","webpack:///./src/app/design-pop/panel/panel-propety/img-list/img-list.component.ts","webpack:///./src/app/design-pop/panel/panel-propety/img-list/img-list.module.ts","webpack:///./src/app/design-pop/panel/panel-propety/inline-text/inline-text.component.css","webpack:///./src/app/design-pop/panel/panel-propety/inline-text/inline-text.component.ts","webpack:///./src/app/design-pop/panel/panel-propety/inline-text/inline-text.module.ts","webpack:///./src/app/design-pop/panel/panel-propety/panel-propety.component.css","webpack:///./src/app/design-pop/panel/panel-propety/panel-propety.component.ts","webpack:///./src/app/design-pop/panel/panel-propety/panel-propety.module.ts","webpack:///./src/app/design-pop/panel/panel-propety/select-box/select-box.component.css","webpack:///./src/app/design-pop/panel/panel-propety/select-box/select-box.component.ts","webpack:///./src/app/design-pop/panel/panel-propety/select-box/select-box.module.ts","webpack:///./src/app/design-pop/panel/panel-propety/slider-box/slider-box.component.css","webpack:///./src/app/design-pop/panel/panel-propety/slider-box/slider-box.component.ts","webpack:///./src/app/design-pop/panel/panel-propety/slider-box/slider-box.module.ts","webpack:///./src/app/design-pop/panel/panel-propety/text-box/text-box.component.css","webpack:///./src/app/design-pop/panel/panel-propety/text-box/text-box.component.ts","webpack:///./src/app/design-pop/panel/panel-propety/text-box/text-box.module.ts","webpack:///./src/app/design-pop/panel/panel-top/panel-top.component.css","webpack:///./src/app/design-pop/panel/panel-top/panel-top.component.ts","webpack:///./src/app/design-pop/panel/panel-top/panel-top.module.ts","webpack:///./src/app/design-pop/panel/panel.module.ts","webpack:///./src/app/design-pop/pop-div/pop-div.module.ts","webpack:///./src/app/design-pop/pop-div/right-div/right-div.component.css","webpack:///./src/app/design-pop/pop-div/right-div/right-div.component.ts","webpack:///./src/app/design-pop/test/test.component.css","webpack:///./src/app/design-pop/test/test.component.ts","webpack:///./src/app/design-pop/test/test.module.ts","webpack:///./src/app/design-pop/three-tools/three-tools.component.css","webpack:///./src/app/design-pop/three-tools/three-tools.component.ts","webpack:///./src/app/design-pop/three-tools/three-tools.module.ts","webpack:///./src/app/design-pop/toggle-window/toggle-window.component.css","webpack:///./src/app/design-pop/toggle-window/toggle-window.component.ts","webpack:///./src/app/design-pop/toggle-window/toggle-window.module.ts","webpack:///./src/app/design-pop/toggle-window/view-container.directive.ts","webpack:///./src/app/designStyleData/hotKey.config.ts/hotKey.data.ts","webpack:///./src/app/designStyleData/panel/bottom-panel/bottom.panel.ts","webpack:///./src/app/designStyleData/panel/designStyleData.panel.ts","webpack:///./src/app/designStyleData/panel/left.panel.ts","webpack:///./src/app/designStyleData/panel/leftBuild.panel.ts","webpack:///./src/app/designStyleData/panel/right-panel/Lwindow.panel.ts","webpack:///./src/app/designStyleData/panel/right-panel/Uwindow.panel.ts","webpack:///./src/app/designStyleData/panel/right-panel/cornerWindow.panel.ts","webpack:///./src/app/designStyleData/panel/right-panel/door.panel.ts","webpack:///./src/app/designStyleData/panel/right-panel/floor.panel.ts","webpack:///./src/app/designStyleData/panel/right-panel/frog.panel.ts","webpack:///./src/app/designStyleData/panel/right-panel/paramsModel.panel.ts","webpack:///./src/app/designStyleData/panel/right-panel/platfond.panel.ts","webpack:///./src/app/designStyleData/panel/right-panel/wall.panel.ts","webpack:///./src/app/designStyleData/panel/right-panel/window.panel.ts","webpack:///./src/app/designStyleData/panel/rightData.panel.ts","webpack:///./src/app/designStyleData/panel/topData.panel.ts","webpack:///./src/app/designStyleData/rightMenu/DW.rightMenu.ts","webpack:///./src/app/designStyleData/rightMenu/back.rightMenu.ts","webpack:///./src/app/designStyleData/rightMenu/cornWin.rightMenu.ts","webpack:///./src/app/designStyleData/rightMenu/designStyleData.rightMenu.ts","webpack:///./src/app/designStyleData/rightMenu/door.rightMenu.ts","webpack:///./src/app/designStyleData/rightMenu/furniture.rightMenu.ts","webpack:///./src/app/designStyleData/rightMenu/point.rightMenu.ts","webpack:///./src/app/designStyleData/rightMenu/room.rightMenu.ts","webpack:///./src/app/designStyleData/rightMenu/wall.rightMenu.ts","webpack:///./src/app/designStyleData/rightMenu/win.rightMenu.ts","webpack:///./src/app/designStyleData/shortFunc/DW.shortFunc.ts","webpack:///./src/app/designStyleData/shortFunc/LUWin.shortFunc.ts","webpack:///./src/app/designStyleData/shortFunc/back.shortFunc.ts","webpack:///./src/app/designStyleData/shortFunc/build.shortFunc.ts","webpack:///./src/app/designStyleData/shortFunc/camera.shortFuncs.ts","webpack:///./src/app/designStyleData/shortFunc/common.shortFunc.ts","webpack:///./src/app/designStyleData/shortFunc/cornWin.shortFunc.ts","webpack:///./src/app/designStyleData/shortFunc/design.shortFunc.ts","webpack:///./src/app/designStyleData/shortFunc/door.shortFunc.ts","webpack:///./src/app/designStyleData/shortFunc/furniture.shortFunc.ts","webpack:///./src/app/designStyleData/shortFunc/point.shortFunc.ts","webpack:///./src/app/designStyleData/shortFunc/room.shortFunc.ts","webpack:///./src/app/designStyleData/shortFunc/wall.shortFunc.ts","webpack:///./src/app/designStyleData/shortFunc/win.shortFunc.ts","webpack:///./src/app/services/calculators.service.ts","webpack:///./src/app/services/data3d.service.ts","webpack:///./src/app/services/dom-update.service.ts","webpack:///./src/app/services/hot-key.service.ts","webpack:///./src/app/services/http.service.ts","webpack:///./src/app/services/jdesign-data.service.ts","webpack:///./src/app/services/jdesign-util2d.service.ts","webpack:///./src/app/services/message.service.ts","webpack:///./src/app/services/pop-div.service.ts","webpack:///./src/app/services/right-menu.service.ts","webpack:///./src/app/services/save-data.service.ts","webpack:///./src/app/svg/common/Util/AbsorbUtil.ts","webpack:///./src/app/svg/common/Util/CalUtil.ts","webpack:///./src/app/svg/common/Util/CommonUtil.ts","webpack:///./src/app/svg/common/Util/JParseJ2D.ts","webpack:///./src/app/svg/common/Util/ObjUtil.ts","webpack:///./src/app/svg/common/Util/PosUtil.ts","webpack:///./src/app/svg/common/Util/SvgUtil.ts","webpack:///./src/app/svg/common/Util/consoleUtil.ts","webpack:///./src/app/svg/common/Util/parseJ2D.ts","webpack:///./src/app/svg/common/act/absorb/DWAbsorb.ts","webpack:///./src/app/svg/common/act/absorb/DrawWallAbsorb.ts","webpack:///./src/app/svg/common/act/absorb/MoveWallAbsorb.ts","webpack:///./src/app/svg/common/act/absorb/svg.absorb.event.ts","webpack:///./src/app/svg/common/act/common/OpenAct.ts","webpack:///./src/app/svg/common/act/common/SaveAct.ts","webpack:///./src/app/svg/common/act/input/DrawWallInput.ts","webpack:///./src/app/svg/common/act/input/MovePointInput.ts","webpack:///./src/app/svg/common/act/input/MoveWallinput.ts","webpack:///./src/app/svg/common/act/input/svg.input.event.ts","webpack:///./src/app/svg/common/act/mouse/EventAbstract.ts","webpack:///./src/app/svg/common/act/mouse/SvgDrawRoom.ts","webpack:///./src/app/svg/common/act/mouse/SvgDrawWall.ts","webpack:///./src/app/svg/common/act/mouse/SvgMoveBack.ts","webpack:///./src/app/svg/common/act/mouse/SvgMoveCWin.ts","webpack:///./src/app/svg/common/act/mouse/SvgMoveDW.ts","webpack:///./src/app/svg/common/act/mouse/SvgMoveGeometry.ts","webpack:///./src/app/svg/common/act/mouse/SvgMoveLUWin.ts","webpack:///./src/app/svg/common/act/mouse/SvgMovePoint.ts","webpack:///./src/app/svg/common/act/mouse/SvgMoveWall.ts","webpack:///./src/app/svg/common/act/mouse/paramsModel/SvgMoveParamsModel.ts","webpack:///./src/app/svg/common/act/mouse/paramsModel/SvgMoveParamsModelAbsorbType.ts","webpack:///./src/app/svg/common/act/mouse/paramsModel/SvgParamsMoveParamsModelType.ts","webpack:///./src/app/svg/common/act/mouse/paramsModel/svgMoveParamsModelCal.ts","webpack:///./src/app/svg/common/act/mouse/svg.mouse.event.ts","webpack:///./src/app/svg/common/act/mouse/svgMoveCamera.ts","webpack:///./src/app/svg/common/calculator/LWin.cal.ts","webpack:///./src/app/svg/common/calculator/adsorb.cal.ts","webpack:///./src/app/svg/common/calculator/build.cal.ts","webpack:///./src/app/svg/common/calculator/cornerWin.cal.ts","webpack:///./src/app/svg/common/calculator/cowall.cal.ts","webpack:///./src/app/svg/common/calculator/createRoom.cal.extends.ts","webpack:///./src/app/svg/common/calculator/createRoom.cal.ts","webpack:///./src/app/svg/common/calculator/createRoom.del.cal.ts","webpack:///./src/app/svg/common/calculator/door.cal.ts","webpack:///./src/app/svg/common/calculator/doorWin.cal.ts","webpack:///./src/app/svg/common/calculator/floorplan.cal.ts","webpack:///./src/app/svg/common/calculator/furniture.cal.ts","webpack:///./src/app/svg/common/calculator/geometry.cal.ts","webpack:///./src/app/svg/common/calculator/line.cal.ts","webpack:///./src/app/svg/common/calculator/paramsModel.cal.ts","webpack:///./src/app/svg/common/calculator/point.cal.ts","webpack:///./src/app/svg/common/calculator/pos.cal.ts","webpack:///./src/app/svg/common/calculator/room.cal.ts","webpack:///./src/app/svg/common/calculator/transData.cal.ts","webpack:///./src/app/svg/common/calculator/uWin.cal.ts","webpack:///./src/app/svg/common/calculator/undo.redo.cal.ts","webpack:///./src/app/svg/common/calculator/wall.cal.ts","webpack:///./src/app/svg/common/calculator/wall.cut.cal.ts","webpack:///./src/app/svg/common/calculator/wall.overCut.cal.ts","webpack:///./src/app/svg/common/calculator/wall.overlay.cal.ts","webpack:///./src/app/svg/common/calculator/win.cal.ts","webpack:///./src/app/svg/common/event/animation.event.listen.ts","webpack:///./src/app/svg/common/event/floatDiv.event.ts","webpack:///./src/app/svg/common/event/panelTestInput.event.ts","webpack:///./src/app/svg/common/event/readJson.event.ts","webpack:///./src/app/svg/common/event/svg.event.ts","webpack:///./src/app/svg/common/event/svg.mouse.listen.ts","webpack:///./src/app/svg/common/jdesign/JBuild.ts","webpack:///./src/app/svg/common/jdesign/JCache.ts","webpack:///./src/app/svg/common/jdesign/JCamera.ts","webpack:///./src/app/svg/common/jdesign/JCmd.ts","webpack:///./src/app/svg/common/jdesign/JCornerWin.ts","webpack:///./src/app/svg/common/jdesign/JCowall.ts","webpack:///./src/app/svg/common/jdesign/JDWAbstract.ts","webpack:///./src/app/svg/common/jdesign/JDesign.ts","webpack:///./src/app/svg/common/jdesign/JDoor.ts","webpack:///./src/app/svg/common/jdesign/JFloor.ts","webpack:///./src/app/svg/common/jdesign/JFloorplan.ts","webpack:///./src/app/svg/common/jdesign/JFurniture.ts","webpack:///./src/app/svg/common/jdesign/JGeometry.ts","webpack:///./src/app/svg/common/jdesign/JIcon.ts","webpack:///./src/app/svg/common/jdesign/JJSON.ts","webpack:///./src/app/svg/common/jdesign/JLUWin.ts","webpack:///./src/app/svg/common/jdesign/JLWin.ts","webpack:///./src/app/svg/common/jdesign/JParamsModel.ts","webpack:///./src/app/svg/common/jdesign/JPoint.ts","webpack:///./src/app/svg/common/jdesign/JRoof.ts","webpack:///./src/app/svg/common/jdesign/JRoom.ts","webpack:///./src/app/svg/common/jdesign/JUWin.ts","webpack:///./src/app/svg/common/jdesign/JWall.ts","webpack:///./src/app/svg/common/jdesign/JWin.ts","webpack:///./src/app/svg/common/save/SaveType.ts","webpack:///./src/app/svg/common/services/console.service.ts","webpack:///./src/app/svg/common/services/mouse-event.service.ts","webpack:///./src/app/svg/dom/back/back.component.scss","webpack:///./src/app/svg/dom/back/back.component.ts","webpack:///./src/app/svg/dom/back/back.module.ts","webpack:///./src/app/svg/dom/block/block.component.scss","webpack:///./src/app/svg/dom/block/block.component.ts","webpack:///./src/app/svg/dom/block/block.module.ts","webpack:///./src/app/svg/dom/camera/camera.component.scss","webpack:///./src/app/svg/dom/camera/camera.component.ts","webpack:///./src/app/svg/dom/camera/camera.module.ts","webpack:///./src/app/svg/dom/common/absorb-lines/absorb-lines.component.scss","webpack:///./src/app/svg/dom/common/absorb-lines/absorb-lines.component.ts","webpack:///./src/app/svg/dom/common/absorb-lines/absorb-lines.module.ts","webpack:///./src/app/svg/dom/common/label-circle/label-circle.component.scss","webpack:///./src/app/svg/dom/common/label-circle/label-circle.component.ts","webpack:///./src/app/svg/dom/common/label-circle/label-circle.module.ts","webpack:///./src/app/svg/dom/common/label-lines/label-lines.component.scss","webpack:///./src/app/svg/dom/common/label-lines/label-lines.component.ts","webpack:///./src/app/svg/dom/common/label-lines/label-lines.module.ts","webpack:///./src/app/svg/dom/common/repeat-path/repeat-path.component.scss","webpack:///./src/app/svg/dom/common/repeat-path/repeat-path.component.ts","webpack:///./src/app/svg/dom/common/repeat-path/repeat-path.module.ts","webpack:///./src/app/svg/dom/common/test-svg/test-svg.component.scss","webpack:///./src/app/svg/dom/common/test-svg/test-svg.component.ts","webpack:///./src/app/svg/dom/common/test-svg/test-svg.module.ts","webpack:///./src/app/svg/dom/corner-wins/corner-win/corner-win.component.scss","webpack:///./src/app/svg/dom/corner-wins/corner-win/corner-win.component.ts","webpack:///./src/app/svg/dom/corner-wins/corner-wins.component.scss","webpack:///./src/app/svg/dom/corner-wins/corner-wins.component.ts","webpack:///./src/app/svg/dom/corner-wins/corner-wins.module.ts","webpack:///./src/app/svg/dom/cowalls/cowall-shadow/cowall-shadow.component.scss","webpack:///./src/app/svg/dom/cowalls/cowall-shadow/cowall-shadow.component.ts","webpack:///./src/app/svg/dom/cowalls/cowall/cowall.component.scss","webpack:///./src/app/svg/dom/cowalls/cowall/cowall.component.ts","webpack:///./src/app/svg/dom/cowalls/cowalls.component.scss","webpack:///./src/app/svg/dom/cowalls/cowalls.component.ts","webpack:///./src/app/svg/dom/cowalls/cowalls.module.ts","webpack:///./src/app/svg/dom/cowalls/out-label/AnalysisOutLines.ts","webpack:///./src/app/svg/dom/cowalls/out-label/TransOutLines.ts","webpack:///./src/app/svg/dom/cowalls/out-label/out-label.component.scss","webpack:///./src/app/svg/dom/cowalls/out-label/out-label.component.ts","webpack:///./src/app/svg/dom/doors/door/door.component.scss","webpack:///./src/app/svg/dom/doors/door/door.component.ts","webpack:///./src/app/svg/dom/doors/doors.component.scss","webpack:///./src/app/svg/dom/doors/doors.component.ts","webpack:///./src/app/svg/dom/doors/doors.module.ts","webpack:///./src/app/svg/dom/geometrys/geometry/geometry.component.scss","webpack:///./src/app/svg/dom/geometrys/geometry/geometry.component.ts","webpack:///./src/app/svg/dom/geometrys/geometrys.component.scss","webpack:///./src/app/svg/dom/geometrys/geometrys.component.ts","webpack:///./src/app/svg/dom/geometrys/geometrys.module.ts","webpack:///./src/app/svg/dom/lu-wins/lu-win/lu-win.component.scss","webpack:///./src/app/svg/dom/lu-wins/lu-win/lu-win.component.ts","webpack:///./src/app/svg/dom/lu-wins/lu-wins.component.scss","webpack:///./src/app/svg/dom/lu-wins/lu-wins.component.ts","webpack:///./src/app/svg/dom/lu-wins/lu-wins.module.ts","webpack:///./src/app/svg/dom/params-models/params-model/params-model.component.scss","webpack:///./src/app/svg/dom/params-models/params-model/params-model.component.ts","webpack:///./src/app/svg/dom/params-models/params-models.component.scss","webpack:///./src/app/svg/dom/params-models/params-models.component.ts","webpack:///./src/app/svg/dom/params-models/params-models.module.ts","webpack:///./src/app/svg/dom/points/point/point.component.scss","webpack:///./src/app/svg/dom/points/point/point.component.ts","webpack:///./src/app/svg/dom/points/points.component.scss","webpack:///./src/app/svg/dom/points/points.component.ts","webpack:///./src/app/svg/dom/points/points.module.ts","webpack:///./src/app/svg/dom/rooms/floor/floor.component.scss","webpack:///./src/app/svg/dom/rooms/floor/floor.component.ts","webpack:///./src/app/svg/dom/rooms/room-shadow/room-shadow.component.scss","webpack:///./src/app/svg/dom/rooms/room-shadow/room-shadow.component.ts","webpack:///./src/app/svg/dom/rooms/room/room.component.scss","webpack:///./src/app/svg/dom/rooms/room/room.component.ts","webpack:///./src/app/svg/dom/rooms/rooms-text/rooms-text.component.scss","webpack:///./src/app/svg/dom/rooms/rooms-text/rooms-text.component.ts","webpack:///./src/app/svg/dom/rooms/rooms.component.scss","webpack:///./src/app/svg/dom/rooms/rooms.component.ts","webpack:///./src/app/svg/dom/rooms/rooms.module.ts","webpack:///./src/app/svg/dom/walls/wall-shadow/wall-shadow.component.scss","webpack:///./src/app/svg/dom/walls/wall-shadow/wall-shadow.component.ts","webpack:///./src/app/svg/dom/walls/wall/wall.component.scss","webpack:///./src/app/svg/dom/walls/wall/wall.component.ts","webpack:///./src/app/svg/dom/walls/walls.component.scss","webpack:///./src/app/svg/dom/walls/walls.component.ts","webpack:///./src/app/svg/dom/walls/walls.module.ts","webpack:///./src/app/svg/dom/wins/win/win.component.scss","webpack:///./src/app/svg/dom/wins/win/win.component.ts","webpack:///./src/app/svg/dom/wins/wins.component.scss","webpack:///./src/app/svg/dom/wins/wins.component.ts","webpack:///./src/app/svg/dom/wins/wins.module.ts","webpack:///./src/app/svg/svg.component.scss","webpack:///./src/app/svg/svg.component.ts","webpack:///./src/app/svg/svg.module.ts","webpack:///./src/app/three/classes/BaywinModel.ts","webpack:///./src/app/three/classes/BoxMaker.ts","webpack:///./src/app/three/classes/CornerBaywinModel.ts","webpack:///./src/app/three/classes/CurrentSelectModel.ts","webpack:///./src/app/three/classes/DoorWindowFrame.ts","webpack:///./src/app/three/classes/ExtrueModelMaker.ts","webpack:///./src/app/three/classes/HGModel/HGDataServer.ts","webpack:///./src/app/three/classes/HGModel/HGHardware.ts","webpack:///./src/app/three/classes/HGModel/HGLOFT.ts","webpack:///./src/app/three/classes/HGModel/HGMapResourcesPreloader.ts","webpack:///./src/app/three/classes/HGModel/HGMyUtils.ts","webpack:///./src/app/three/classes/HGModel/HGShaderPreloader.ts","webpack:///./src/app/three/classes/HGModel/HGSingleModelHandler.ts","webpack:///./src/app/three/classes/HGModel/HGStruct.ts","webpack:///./src/app/three/classes/HGModel/HGWardrobeLoader.ts","webpack:///./src/app/three/classes/HGModel/HGX3dLoader.ts","webpack:///./src/app/three/classes/HGModel/HGmodelUtils.ts","webpack:///./src/app/three/classes/ModelTransformer.ts","webpack:///./src/app/three/classes/MyUtil.ts","webpack:///./src/app/three/classes/PreloadBox.ts","webpack:///./src/app/three/classes/ProfileModel.ts","webpack:///./src/app/three/classes/PropertiesMenuData.ts","webpack:///./src/app/three/classes/RayhitModelList.ts","webpack:///./src/app/three/classes/Rayhitter.ts","webpack:///./src/app/three/classes/SceneMaker.ts","webpack:///./src/app/three/classes/THREEDataServer.ts","webpack:///./src/app/three/classes/WireSelectFrame.ts","webpack:///./src/app/three/classes/canvasEventMaster.ts","webpack:///./src/app/three/classes/dataStruct.ts","webpack:///./src/app/three/jDesign3D/JBayWin3D.ts","webpack:///./src/app/three/jDesign3D/JBuild3D.ts","webpack:///./src/app/three/jDesign3D/JCamera3D.ts","webpack:///./src/app/three/jDesign3D/JCornerWin3D.ts","webpack:///./src/app/three/jDesign3D/JCowall3D.ts","webpack:///./src/app/three/jDesign3D/JDW3D.ts","webpack:///./src/app/three/jDesign3D/JDoor3D.ts","webpack:///./src/app/three/jDesign3D/JFloor3D.ts","webpack:///./src/app/three/jDesign3D/JFloorplan3D.ts","webpack:///./src/app/three/jDesign3D/JFurniture3D.ts","webpack:///./src/app/three/jDesign3D/JGeometry3D.ts","webpack:///./src/app/three/jDesign3D/JLUWin3D.ts","webpack:///./src/app/three/jDesign3D/JLWin3D.ts","webpack:///./src/app/three/jDesign3D/JParamsModel3D.ts","webpack:///./src/app/three/jDesign3D/JPoint3D.ts","webpack:///./src/app/three/jDesign3D/JRoof3D.ts","webpack:///./src/app/three/jDesign3D/JRoom3D.ts","webpack:///./src/app/three/jDesign3D/JUWin3D.ts","webpack:///./src/app/three/jDesign3D/JWall3D.ts","webpack:///./src/app/three/jDesign3D/JWin3D.ts","webpack:///./src/app/three/save3D/Redo3D.ts","webpack:///./src/app/three/save3D/SaveType3D.ts","webpack:///./src/app/three/three.component.scss","webpack:///./src/app/three/three.component.ts","webpack:///./src/app/three/three.module.ts","webpack:///./src/environments/environment.ts","webpack:///./src/main.ts"],"names":[],"mappings":";;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,4CAA4C,WAAW;AACvD;AACA;AACA,wE;;;;;;;;;;;ACZA,mG;;;;;;;;;;;ACAA,kJAAkJ,UAAU,sS;;;;;;;;;;;ACA5J,8K;;;;;;;;;;;ACAA,gKAAgK,cAAc,wCAAwC,cAAc,oG;;;;;;;;;;;ACApO,m3B;;;;;;;;;;;ACAA,mhBAAmhB,wDAAwD,uFAAuF,4DAA4D,oCAAoC,6FAA6F,yqE;;;;;;;;;;;ACA/1B,mIAAmI,yOAAyO,sV;;;;;;;;;;;ACA5W,oI;;;;;;;;;;;ACAA,0LAA0L,eAAe,kN;;;;;;;;;;;ACAzM,2KAA2K,yFAAyF,mGAAmG,UAAU,kL;;;;;;;;;;;ACAjX,k2BAAk2B,8DAA8D,8EAA8E,qDAAqD,+IAA+I,UAAU,wUAAwU,WAAW,omB;;;;;;;;;;;ACA/gD,mHAAmH,gBAAgB,4TAA4T,0BAA0B,iKAAiK,YAAY,iRAAiR,+GAA+G,qMAAqM,+GAA+G,uBAAuB,UAAU,4D;;;;;;;;;;;ACA31C,8C;;;;;;;;;;;ACAA,sf;;;;;;;;;;;ACAA,sMAAsM,OAAO,wyBAAwyB,YAAY,gD;;;;;;;;;;;ACAjgC,+NAA+N,WAAW,mKAAmK,UAAU,gD;;;;;;;;;;;ACAvZ,8OAA8O,YAAY,yJ;;;;;;;;;;;ACA1P,mJAAmJ,kBAAkB,kB;;;;;;;;;;;ACArK,mIAAmI,cAAc,wUAAwU,gEAAgE,qlB;;;;;;;;;;;ACAzhB,wEAAwE,iBAAiB,6G;;;;;;;;;;;ACAzF,oqB;;;;;;;;;;;ACAA,0EAA0E,gBAAgB,yUAAyU,8CAA8C,kaAAka,SAAS,uV;;;;;;;;;;;ACA53B,6IAA6I,aAAa,6L;;;;;;;;;;;ACA1J,sXAAsX,UAAU,wC;;;;;;;;;;;ACAhY,+kBAA+kB,UAAU,0cAA0c,WAAW,iJAAiJ,WAAW,mIAAmI,+KAA+K,WAAW,6UAA6U,WAAW,wQAAwQ,WAAW,4bAA4b,oBAAoB,kRAAkR,UAAU,8F;;;;;;;;;;;ACA91F,sPAAsP,qBAAqB,8QAA8Q,YAAY,muBAAmuB,UAAU,6UAA6U,UAAU,4CAA4C,SAAS,qK;;;;;;;;;;;ACA9pD,wHAAwH,SAAS,iO;;;;;;;;;;;ACAjI,0NAA0N,WAAW,oQAAoQ,UAAU,kC;;;;;;;;;;;ACAnf,khD;;;;;;;;;;;ACAA,82CAA82C,wDAAwD,oFAAoF,wDAAwD,gE;;;;;;;;;;;ACAljD,sDAAsD,iKAAiK,+CAA+C,snBAAsnB,oB;;;;;;;;;;;ACA53B,smD;;;;;;;;;;;ACAA,qnB;;;;;;;;;;;ACAA,yjB;;;;;;;;;;;ACAA,ivDAAivD,WAAW,0J;;;;;;;;;;;ACA5vD,4lB;;;;;;;;;;;ACAA,qb;;;;;;;;;;;ACAA,whE;;;;;;;;;;;ACAA,iL;;;;;;;;;;;ACAA,sH;;;;;;;;;;;ACAA,uKAAuK,4pBAA4pB,WAAW,sM;;;;;;;;;;;ACA90B,glB;;;;;;;;;;;ACAA,6N;;;;;;;;;;;ACAA,ipBAAipB,+GAA+G,+BAA+B,6HAA6H,qbAAqb,+GAA+G,+BAA+B,6HAA6H,uZAAuZ,+GAA+G,uoB;;;;;;;;;;;ACAlmE,6J;;;;;;;;;;;ACAA,yxC;;;;;;;;;;;ACAA,yI;;;;;;;;;;;ACAA,oa;;;;;;;;;;;ACAA,kI;;;;;;;;;;;ACAA,6X;;;;;;;;;;;ACAA,uK;;;;;;;;;;;ACAA,+e;;;;;;;;;;;ACAA,wJ;;;;;;;;;;;ACAA,kf;;;;;;;;;;;ACAA,mJAAmJ,+BAA+B,wQAAwQ,eAAe,sD;;;;;;;;;;;ACAzc,i7BAAi7B,eAAe,+KAA+K,MAAM,sD;;;;;;;;;;;ACArnC,kSAAkS,eAAe,wLAAwL,eAAe,uC;;;;;;;;;;;ACAxf,2L;;;;;;;;;;;ACAA,kX;;;;;;;;;;;ACAA,6jDAA6jD,qgBAAqgB,SAAS,ioC;;;;;;;;;;;ACA3kE,8I;;;;;;;;;;;ACAA,itC;;;;;;;;;;;ACAA,yJ;;;;;;;;;;;ACAA,0KAA0K,mfAAmf,gHAAgH,2EAA2E,w6B;;;;;;;;;;;ACAx1B,sD;;;;;;;;;;;ACAA,+DAA+D,+H;;;;;;;;;;;;;;;;;;ACAT;AACmB;AAQzE;IAGE,sBAAoB,EAAc,EAAU,SAA+B;QAAvD,OAAE,GAAF,EAAE,CAAY;QAAU,cAAS,G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","file":"main-es5.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","module.exports = \"<app-svg>\\r\\n</app-svg>\\r\\n<app-design-pop *ngIf='designPopOn'></app-design-pop>\"","module.exports = \"<div *ngFor=\\\"let btn of buttonList let i=index\\\">\\r\\n  <button type=\\\"button\\\" class=\\\"btn\\\" container=\\\"body\\\" ngbPopover=\\\"{{btn.text}}\\\" triggers=\\\"mouseenter:mouseleave\\\" placement=\\\"bottom\\\" (click)=\\\"btn.func(btn,buttonList,i)\\\">\\r\\n    <div class=\\\"iconbox\\\">\\r\\n      <svg class=\\\"icon\\\" aria-hidden=\\\"true\\\">\\r\\n        <use [attr.xlink:href]=\\\"btn.icon\\\"></use>\\r\\n      </svg>\\r\\n    </div>\\r\\n  </button>\\r\\n</div>\\r\\n\"","module.exports = \"<div class=\\\"out_div\\\" [ngStyle]=\\\"container.outArea.style\\\" *ngIf=\\\"container != null\\\">\\r\\n  <div [buttonList]=\\\"container.content\\\"></div>\\r\\n</div>\\r\\n\"","module.exports = \"<div class=\\\"cue-info\\\" *ngIf=\\\"cueInfo != undefined && cueInfo.time > 0\\\">\\r\\n  <div class=\\\"center-text\\\">\\r\\n    <div class=\\\"cue-text\\\">{{cueInfo.text}}</div>\\r\\n    <div class=\\\"cue-time\\\">{{cueInfo.time}}s</div>\\r\\n    <div class=\\\"cue-button\\\" (click)=\\\"hidde()\\\">我知道了</div>\\r\\n  </div>  \\r\\n</div>\\r\\n\"","module.exports = \"<div [rightDiv]=\\\"rigthClickMenu\\\"></div>\\r\\n<app-container [container]=\\\"button\\\">\\r\\n</app-container>\\r\\n<div [panelTop]=\\\"panelTop\\\"></div>\\r\\n<!-- <div [panelRight]=\\\"panelRight\\\"></div> -->\\r\\n<div [panelPropety]=\\\"panelRight\\\"></div>\\r\\n<div [panelLeft]=\\\"panelLeft\\\"></div>\\r\\n<div [panelBottom] = \\\"panelBottom\\\"></div>\\r\\n<!-- <! <div class='viewContainer' [appViewContainer]=\\\"condtion\\\"> -->\\r\\n<app-toggle-window [toggleWindow]=\\\"toggleData\\\"></app-toggle-window>\\r\\n<!-- </div> -->\\r\\n<div [messages]=\\\"popMessage\\\"></div>\\r\\n<!-- <app-panel></app-panel> -->\\r\\n<div [ImgDistance]=\\\"imgDistance\\\"></div>\\r\\n<div *ngIf=\\\"inputBox != null\\\" [inputBox]=\\\"inputBox\\\"></div>\\r\\n<div [test]=\\\"testData\\\"></div>\\r\\n<div [cueInfo]=\\\"cueInfo\\\"></div>\\r\\n<!-- <div [threeTools]=\\\"null\\\"></div> -->\\r\\n<!-- <app-loading [loading]=\\\"loadingOn\\\"></app-loading> -->\"","module.exports = \"<div *ngIf=\\\"ImgDistance != null\\\">\\r\\n  <div class=\\\"zhezhao\\\">\\r\\n    <div class=\\\"pop\\\" (mousedown)='mouseDownEvent($event)' (mousemove)='mouseMoveEvent($event)' (mouseup)='mouseUpEvent($event)'\\r\\n      (wheel)='mouseWheelEvent($event)'>\\r\\n      <div class=\\\"title\\\">\\r\\n        <span class=\\\"name\\\">导入户型图</span>\\r\\n        <span class=\\\"btnclose\\\" (click)=\\\"btnClose($event)\\\">\\r\\n          X\\r\\n        </span>\\r\\n      </div>\\r\\n      <div class=\\\"middle\\\">\\r\\n        <div class=\\\"distance\\\" [ngStyle]='{\\\"width.px\\\":divSize.width,\\\"height.px\\\":divSize.height}'>\\r\\n          <ng-container *ngIf='svgProper!=null'>\\r\\n            <svg [ngStyle]='{\\\"width.px\\\":svgProper.width,\\\"height.px\\\":svgProper.height}'>\\r\\n              <g [ngStyle]=\\\"{'transform' :svgProper? 'scale(' + svgProper.zoom + ',' + svgProper.zoom + ')': 'scale(1,1)'}\\\">\\r\\n                <image [attr.xlink:href]='ImgDistance.url' [attr.x]='svgProper.img.left' [attr.y]='svgProper.img.top'\\r\\n                  [attr.width]='svgProper.img.width' [attr.height]='svgProper.img.height' class='svg_img' (mousedown)='setMoveAct(\\\"img\\\")'></image>\\r\\n                <!-- 两个点 -->\\r\\n                <circle [attr.r]='circleBigRadius' [attr.cx]='svgProper.pointS.x' [attr.cy]='svgProper.pointS.y' class='svg_circle big pointStart'\\r\\n                  (mousedown)='setMoveAct(\\\"pointStart\\\")'></circle>\\r\\n                <!-- <circle [attr.r]='circleSmallRadius' [attr.cx]='svgProper.pointS.x' [attr.cy]='svgProper.pointS.y'\\r\\n                  class='small pointStart'></circle> -->\\r\\n                <circle [attr.r]='circleBigRadius' [attr.cx]='svgProper.pointE.x' [attr.cy]='svgProper.pointE.y' class='svg_circle big pointEnd'\\r\\n                  (mousedown)='setMoveAct(\\\"pointEnd\\\")'></circle>\\r\\n                <!-- <circle [attr.r]='circleSmallRadius' [attr.cx]='svgProper.pointE.x' [attr.cy]='svgProper.pointE.y'\\r\\n                  class='small pointEnd'></circle> -->\\r\\n                <!-- 连接线 -->\\r\\n                <path [attr.d]='getPath()' class='svg_path'></path>\\r\\n              </g>\\r\\n            </svg>\\r\\n          </ng-container>\\r\\n          <!-- <img [attr.src]=\\\"ImgDistance.url\\\" alt=\\\"\\\">\\r\\n          <div class=\\\"radiu radiu-left\\\">+</div>\\r\\n          <div class=\\\"radiu radiu-right\\\">+</div> -->\\r\\n        </div>\\r\\n        <div class=\\\"pro\\\">\\r\\n          <span>\\r\\n            1、拖动2个点以标记一个距离。\\r\\n          </span>\\r\\n          <span class=\\\"key_value\\\">\\r\\n            2、确定两点间的距离。\\r\\n            <input type=\\\"number\\\" onfocus=\\\"this.select()\\\" [(ngModel)]=\\\"ImgDistance.distance\\\">\\r\\n          </span>\\r\\n          <span>\\r\\n            3、<input type=\\\"checkbox\\\" [(ngModel)]=\\\"isOrthogonal\\\">尾部正交\\r\\n          </span>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"bottom\\\">\\r\\n        <button type=\\\"button\\\" class=\\\"btn btn-done\\\" (click)='setDistanceEvent($event)'>导入</button>\\r\\n        <button type=\\\"button\\\" class=\\\"btn btn-default\\\" (click)=\\\"btnClose($event)\\\">取消</button>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\"","module.exports = \"<div *ngIf=\\\"inputBox != null\\\">\\r\\n  <div class=\\\"inputContainer\\\" *ngFor=\\\"let list of inputBox\\\" [ngStyle]=\\\"{\\r\\n    'top.px':list.position.y - list.css.height / 2,\\r\\n    'left.px':list.position.x - list.css.width / 2,\\r\\n    'width.px':list.css.width,\\r\\n    'height.px':list.css.height,\\r\\n    'z-index': list.index ? list.index : 0\\r\\n  }\\\">\\r\\n    <input type=\\\"number\\\" tabindex=\\\"-1\\\" #box [attr.min]=\\\"list.min\\\" [attr.max]=\\\"list.max\\\" [(ngModel)]='list.value' (keyup)=\\\"getSureValue($event,box)\\\" (keyup.enter)=\\\"list.newFunc(box,list.value)\\\" onfocus=\\\"this.select()\\\" class='input_test'>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<!-- (keyup.tab)=\\\"list.newFunc(box,list.value)\\\"  -->\"","module.exports = \"\\r\\n<div class=\\\"full_screen\\\" *ngIf=\\\"loading ==true\\\">\\r\\n  <div class=\\\"spinner spinnerOne\\\"></div>\\r\\n</div> \"","module.exports = \"<div *ngIf=\\\"messages != null\\\">\\r\\n  <div class=\\\"popMessage\\\" [ngStyle] = \\\"messages.style\\\">\\r\\n    <span class=\\\"text_message\\\" *ngIf = \\\"messages.text != null\\\">{{messages.text}}</span>\\r\\n    <div class=\\\"img_message\\\" *ngIf=\\\"messages.img != null\\\">\\r\\n      <img [attr.src]=\\\"messages.img\\\" alt=\\\"\\\">\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n<!-- <div [rightDiv] = \\\"popDiv\\\"></div> -->\"","module.exports = \"<div class=\\\"bottom_container\\\">\\r\\n  <ng-container *ngFor=\\\"let btn of getArr(panelBottom)\\\">\\r\\n    <div class=\\\"list_bottom\\\" #backColor [ngStyle]=\\\"{'background-color':btn.isDown != undefined && btn.isDown == true?'#4b9bd6':'transparent'}\\\" (click)=\\\"btn.func(backColor,btn.cameraImg)\\\" triggers=\\\"mouseenter:mouseleave\\\" ngbPopover=\\\"{{btn.name}}\\\">\\r\\n      <svg class=\\\"barIcon\\\" aria-hidden=\\\"true\\\">\\r\\n        <use [attr.xlink:href]= \\\"btn.icon\\\"></use>\\r\\n      </svg>\\r\\n    </div>\\r\\n  </ng-container>\\r\\n</div>\\r\\n\"","module.exports = \"\\r\\n<div class=\\\"left_container\\\" *ngIf=\\\"imgList == null\\\" [ngStyle] = \\\"leftDiv\\\" (mouseleave)=\\\"panelLeft.global.mouseleave($event)\\\">\\r\\n  <div class=\\\"toggle_bar\\\" (click) = \\\"toggleContainer($event)\\\">\\r\\n    <!-- 展开收缩按钮 -->\\r\\n    <div class=\\\"expland\\\">\\r\\n      <svg class=\\\"explandIcon\\\" aria-hidden=\\\"true\\\">\\r\\n        <use xlink:href= \\\"#icon-expland\\\"></use>\\r\\n      </svg>\\r\\n    </div>\\r\\n  </div>\\r\\n  <!-- 左侧导航按钮 -->\\r\\n  <div class=\\\"bar\\\" *ngIf=\\\"panelLeft != null\\\">\\r\\n    <div class=\\\"vertecial_bar\\\">\\r\\n      <div class=\\\"splider_bar\\\" *ngFor = \\\"let bar of panelLeft.data\\\">\\r\\n        <div class=\\\"blindEvent\\\" (mousedown)=\\\"bar.sendToNext($event,bar)\\\">\\r\\n          <div class=\\\"bar_list\\\" (mouseenter)=\\\"listMouseEnter($event)\\\" (mouseleave)=\\\"listMouseLeave($event)\\\" (click)=\\\"toggleSlider($event)\\\" [ngStyle] = \\\"{'background-color':bar.isWasSelect === true? '#3e82f7':'none'}\\\">\\r\\n            <svg class=\\\"barIcon\\\" aria-hidden=\\\"true\\\" [ngStyle] = \\\"{'fill':bar.isWasSelect === true? '#ffffff':'#323232'}\\\">\\r\\n              <use [attr.xlink:href]= \\\"bar.icon\\\"></use>\\r\\n            </svg>\\r\\n          </div>\\r\\n          <span class=\\\"name\\\">{{bar.name}}</span>\\r\\n        </div>\\r\\n        <div class=\\\"drop_list\\\" *ngIf=\\\"bar.dropList != undefined\\\">\\r\\n          <div class=\\\"list_name\\\" *ngFor=\\\"let list of bar.dropList\\\"  (mouseenter)=\\\"list.mouseHover($event,list)\\\" (mouseleave)=\\\"list.mouseLeave($event,list)\\\">\\r\\n            <span (click)=\\\"list.getData($event,list)\\\">{{list.name}}</span>\\r\\n            <!-- hover悬浮框 -->\\r\\n          <div *ngIf = \\\"listData != null && list.isShow == true\\\" class=\\\"hoverable\\\" [typeList]=\\\"listData\\\"></div>\\r\\n          </div>\\r\\n        </div>\\r\\n        \\r\\n      </div>\\r\\n    </div>\\r\\n    \\r\\n    <!-- 右侧产品列表 -->\\r\\n    <div class=\\\"list_bar\\\">\\r\\n      <div [productList] = \\\"productData\\\"></div>\\r\\n    </div>\\r\\n  </div>\\r\\n  \\r\\n</div>\\r\\n<div *ngIf=\\\"imgList != null\\\" [imgList]=\\\"imgList\\\"></div>\\r\\n\\r\\n<div id=\\\"img\\\" class=\\\"direction\\\" [ngStyle]=\\\"imgStyle\\\">\\r\\n  <img src=\\\"./assets/img/freeicon/direction.png\\\" alt=\\\"\\\">\\r\\n</div>\\r\\n\\r\\n\"","module.exports = \"<div class=\\\"content\\\" (mouseleave)=\\\"drawRoom.mouseleave($event)\\\">\\r\\n  <div class=\\\"title\\\">{{drawRoom.title}}</div>\\r\\n  <div class=\\\"back\\\">\\r\\n    <input id=\\\"load\\\" type=\\\"file\\\" (change)=\\\"drawRoom.importBack.newFunc($event)\\\">\\r\\n    <label for=\\\"load\\\"  class=\\\"btn\\\">\\r\\n      <div class=\\\"imgCon\\\"> \\r\\n       <img [attr.src]=\\\"drawRoom.importBack.icon\\\" alt=\\\"\\\">\\r\\n      </div>\\r\\n       <div class=\\\"backName\\\">{{drawRoom.importBack.name}}</div> \\r\\n    </label>\\r\\n  </div>\\r\\n  <div class=\\\"drawTool\\\">\\r\\n    <div *ngFor=\\\"let list of drawRoom.drawData\\\" class=\\\"listcontainer\\\">\\r\\n      <span>{{list.title}}</span>\\r\\n      <div *ngFor=\\\"let ele of list.data\\\" (click)=\\\"ele.newFunc?ele.newFunc($event,ele,list.data):ele.func($event,ele,list.data)\\\" class=\\\"icon-container\\\">\\r\\n        <svg *ngIf=\\\"ele.icon.indexOf('#') != -1\\\" class=\\\"icon2\\\" aria-hidden=\\\"true\\\" [ngClass]=\\\"{'border_out':ele.borderClass === true,'border_null':ele.borderClass === false || ele.borderClass === undefined}\\\">\\r\\n          <use [attr.xlink:href] = \\\"ele.icon\\\"></use>\\r\\n        </svg>\\r\\n        <img *ngIf=\\\"ele.icon.indexOf('#') == -1\\\" class= \\\"icon2\\\" [attr.src]=\\\"ele.icon\\\" alt=\\\"\\\" [ngClass]=\\\"{'border_out':ele.borderClass === true,'border_null':ele.borderClass === false || ele.borderClass === undefined}\\\">\\r\\n        <span>{{ele.name}}</span>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\"","module.exports = \"<p>\\r\\n  敬请期待！！\\r\\n</p>\\r\\n\"","module.exports = \"<ng-container *ngIf=\\\"productList != null\\\">\\r\\n  <ng-container *ngIf = \\\"productList.type == 'room'\\\">\\r\\n    <div class=\\\"putModel\\\" [drawRoom] = \\\"productList\\\"></div>\\r\\n  </ng-container>\\r\\n  <ng-container *ngIf = \\\"productList.type == 'matter'\\\">\\r\\n    <div class=\\\"putModel\\\" [putModel] = \\\"productList\\\"></div>\\r\\n  </ng-container>\\r\\n  <ng-container *ngIf = \\\"productList.type == 'mine'\\\">\\r\\n    <div [mine] = \\\"productList\\\"></div>\\r\\n  </ng-container>\\r\\n</ng-container>\"","module.exports = \"<div class=\\\"put_content\\\">\\r\\n  <div class=\\\"bread\\\">\\r\\n    <div class=\\\"hidde_icon\\\">\\r\\n      <div class=\\\"names\\\" *ngFor=\\\"let bread of putModel.bread\\\">\\r\\n        > <span>{{bread}}</span>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"search_content\\\">\\r\\n    <input type=\\\"text\\\" class=\\\"search_for\\\" placeholder=\\\"当前目录搜索\\\">\\r\\n  </div>\\r\\n  <div class=\\\"type_content\\\">\\r\\n  </div>\\r\\n  <div class=\\\"main_content\\\">\\r\\n    <div class=\\\"img_content\\\" *ngFor=\\\"let img of putModel.imgData\\\" (click)=\\\"img.func($event)\\\">\\r\\n      <svg aria-hidden=\\\"true\\\" class=\\\"xinxi_icon\\\" (mouseenter)=\\\"showInfo($event,img)\\\" (mouseleave)=\\\"hiddeInfo()\\\">\\r\\n          <use xlink:href=\\\"#icon-xinxi\\\"></use>\\r\\n      </svg>\\r\\n      <img [attr.src]=\\\"img.imgUrl\\\" alt=\\\"图片加载失败\\\">\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"detail_container\\\" *ngIf = \\\"imgInfo != null\\\">\\r\\n      <img [attr.src]=\\\"imgInfo.imgUrl\\\" alt=\\\"图片加载失败\\\">\\r\\n      <div class=\\\"text_info\\\">\\r\\n        <span>{{imgInfo.id}}</span>\\r\\n      </div>\\r\\n    </div>\\r\\n</div>\"","module.exports = \"<div #greet class=\\\"hover_panel\\\" *ngIf=\\\"typeList != null\\\">\\r\\n  <div class=\\\"type_panel\\\" *ngFor=\\\"let type of typeList.data\\\">\\r\\n    <span class=\\\"title_name\\\" (click)=\\\"type.getData($event,type)\\\">{{type.name}}</span>\\r\\n    <div class=\\\"name_list\\\" *ngIf=\\\"type.typeList.length != 0\\\">\\r\\n      <span *ngFor=\\\"let nam of type.typeList\\\" (click)=\\\"nam.func($event,nam)\\\">{{nam.name}}</span>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\"","module.exports = \"<div *ngFor = \\\"let check of checkSlider\\\">\\r\\n  <div class=\\\"check_box\\\">\\r\\n    <div class=\\\"title_box\\\">\\r\\n      <input type=\\\"checkBox\\\" [checked]=\\\"check.isCheck\\\" (change)=\\\"check.newFunc(check.isCheck)\\\"><span>{{check.name}}</span>\\r\\n    </div>\\r\\n    <div *ngIf=\\\"check.isCheck&&check.haveSlider != null\\\"  [sliderBox] = \\\"check.haveSlider\\\"></div>\\r\\n  </div>\\r\\n</div>\\r\\n\"","module.exports = \"<div class=\\\"imgDiv\\\">\\r\\n  <div class=\\\"imageDiv\\\">\\r\\n    <img [attr.src]=\\\"imgDetail.img\\\" alt=\\\"\\\">\\r\\n  </div>\\r\\n  <span>{{imgDetail.detail}}</span>\\r\\n</div>\"","module.exports = \"<div class=\\\"img_panel\\\" *ngIf=\\\"imgList != null\\\">\\r\\n  <div class=\\\"img_title\\\">\\r\\n    <span class=\\\"name\\\">{{imgList.name}}</span>\\r\\n    <span class=\\\"close\\\" (click)=\\\"close($event)\\\">\\r\\n      <svg aria-hidden=\\\"true\\\" class=\\\"close_icon\\\">\\r\\n        <use xlink:href=\\\"#icon-guanbi\\\"></use>\\r\\n      </svg>\\r\\n    </span>\\r\\n  </div>\\r\\n  <div class=\\\"img_container\\\">\\r\\n    <div class=\\\"imgDiv\\\" *ngFor=\\\"let img of imgList.img\\\" [ngStyle] = \\\"{'border':img.borderClass === true? '2px solid lightBlue':'none'}\\\">\\r\\n      <svg aria-hidden=\\\"true\\\" class=\\\"xinxi_icon\\\" (mouseenter)=\\\"showInfo($event,img)\\\" (mouseleave)=\\\"hiddeInfo()\\\">\\r\\n          <use xlink:href=\\\"#icon-xinxi\\\"></use>\\r\\n      </svg>\\r\\n      <div class=\\\"border_div\\\" (click)=\\\"img.func($event,img,imgList)\\\">\\r\\n        <img [attr.src]=\\\"img.path\\\" alt=\\\"图片加载失败\\\">\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"detail_container\\\" *ngIf = \\\"imgInfo != null\\\">\\r\\n    <img [attr.src]=\\\"imgInfo.path\\\" alt=\\\"图片加载失败\\\">\\r\\n    <div class=\\\"text_info\\\">\\r\\n      <span>详细信息</span>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\"","module.exports = \"<div class=\\\"txtContainer\\\">\\r\\n  <p class=\\\"name\\\">{{inlineText.name}}:</p>\\r\\n  <input type=\\\"text\\\" [value]=\\\"inlineText.value\\\" [disabled]=\\\"inlineText.isEditable\\\">\\r\\n</div>\"","module.exports = \"\\r\\n<div class=\\\"rightProperty\\\" *ngIf=\\\"panelPropety != null && panelPropety.length != 0\\\">\\r\\n  <div class=\\\"property\\\" *ngFor=\\\"let right of panelPropety\\\">\\r\\n      <div *ngIf=\\\"right.type == 'input'\\\" [textBox]=\\\"right.data\\\"></div>\\r\\n    <div *ngIf=\\\"right.type == 'slider'\\\" [sliderBox]=\\\"right.data\\\"></div>\\r\\n    <div *ngIf=\\\"right.type == 'check'\\\" [checkSlider]=\\\"right.data\\\"></div>\\r\\n    <div *ngIf=\\\"right.type == 'select'\\\" [selectBox]=\\\"right.data\\\"></div>\\r\\n    <div *ngIf=\\\"right.type == 'inline'\\\" [inlineText]=\\\"right.data\\\"></div>\\r\\n    <div *ngIf = \\\"right.type == 'img'\\\" [imgDetail] = \\\"right.data\\\"></div>\\r\\n  </div>\\r\\n</div>\"","module.exports = \"<div class=\\\"select_box\\\">\\r\\n  <span class=\\\"title\\\">{{selectBox.name}}</span>\\r\\n  <div class=\\\"ulcontainer\\\">\\r\\n    <button type=\\\"button\\\" (click)=\\\"showUl($event,selectBox)\\\">\\r\\n      <img *ngIf=\\\"selectBox.chance.length != 0 && selectBox.chance[selectBox.currentData]['icon'] != undefined\\\" [attr.src]=\\\"selectBox.chance[selectBox.currentData].icon\\\" alt=\\\"\\\">\\r\\n      <span class=\\\"text\\\">{{selectBox.chance[selectBox.currentData].name}}</span>\\r\\n      <div class=\\\"caretcontainer\\\">\\r\\n        <span class=\\\"caret\\\"></span>\\r\\n      </div>\\r\\n    </button>\\r\\n    <ul class=\\\"dropDownUl\\\" *ngIf=\\\"selectBox.isShow == true\\\">\\r\\n      <li class=\\\"dropdownLi\\\" *ngFor=\\\"let op of selectBox.chance\\\" (click)=\\\"op.func($event,op,selectBox)\\\">\\r\\n        <img *ngIf=\\\"op.icon != undefined\\\" [attr.src]=\\\"op.icon\\\" alt=\\\"\\\">\\r\\n        <span class=\\\"text\\\">{{op.name}}</span>\\r\\n      </li>\\r\\n    </ul>\\r\\n  </div>\\r\\n  <ng-container *ngIf=\\\"selectBox.isHaveInput != undefined\\\">\\r\\n    <input  class=\\\"roomName\\\" type=\\\"text\\\" [(ngModel)]=\\\"selectBox.isHaveInput.value\\\" onfocus=\\\"this.select()\\\" (change)=\\\"selectBox.isHaveInput.func($event,selectBox.isHaveInput)\\\">\\r\\n  </ng-container>\\r\\n  \\r\\n</div>\\r\\n\"","module.exports = \"<ng-container *ngIf=\\\"sliderBox != null\\\">\\r\\n  <div *ngFor=\\\"let slider of sliderBox\\\" class=\\\"img-type\\\">\\r\\n    <span>{{slider.name}}</span>\\r\\n    <div  class=\\\"imgContainer\\\" (click)=\\\"sendMaterial($event,slider)\\\">\\r\\n      <img [attr.src]=\\\"slider.FloorImg\\\" alt=\\\"\\\">\\r\\n    </div>\\r\\n  </div>\\r\\n</ng-container>\\r\\n\"","module.exports = \"<ng-container *ngFor=\\\"let txt of textBox\\\">\\r\\n  <div class=\\\"inputContainer\\\">\\r\\n    <input type=\\\"text\\\" [(ngModel)]=\\\"txt.value\\\" [disabled]=\\\"txt.isEditable\\\" onfocus=\\\"this.select()\\\" (keyup.enter)=\\\"txt.func($event,txt)\\\">\\r\\n    <!-- <input type=\\\"text\\\" [disabled]=\\\"true\\\"> -->\\r\\n    <span class=\\\"danwei\\\">mm</span>\\r\\n    <p class=\\\"name\\\">{{txt.name}}</p>\\r\\n  </div>\\r\\n</ng-container>\\r\\n\"","module.exports = \"\\r\\n<div class=\\\"topDiv\\\">\\r\\n  <div class=\\\"topBar\\\" *ngIf=\\\"panelTop!=null\\\">\\r\\n    <div class=\\\"d-inline-block\\\" *ngFor=\\\"let top of panelTop\\\">\\r\\n      <div ngbDropdown  *ngIf=\\\"top.dropList!=null\\\">\\r\\n        <button class=\\\"btn\\\" id=\\\"dropdownBasic1\\\"  ngbDropdownToggle aria-expanded=\\\"false\\\" aria-haspopup=\\\"true\\\">\\r\\n          <div class=\\\"iconbox\\\">\\r\\n            <svg class=\\\"icon\\\" aria-hidden=\\\"true\\\">\\r\\n              <use [attr.xlink:href]=\\\"top.icon\\\"></use>\\r\\n            </svg>\\r\\n            <b class=\\\"caret-bottom-r\\\"></b>\\r\\n          </div>{{top.text}}\\r\\n        </button>\\r\\n        <div ngbDropdownMenu open=\\\"true\\\" aria-labelledby=\\\"dropdownBasic1\\\">\\r\\n          <button class=\\\"dropdown-item\\\" *ngFor=\\\"let list of top.dropList\\\">\\r\\n              <div class=\\\"itemSel\\\" *ngIf=\\\"list.load == undefined && list.list == undefined\\\" (click)=\\\"list.func($event,list)\\\">\\r\\n                <input *ngIf=\\\"list.isSelect != undefined\\\" type=\\\"checkbox\\\" [checked]=\\\"list.isSelect\\\">\\r\\n                <span>{{list.name}}</span>\\r\\n              </div>\\r\\n              <div class=\\\"itemSel\\\" id=\\\"item\\\" *ngIf=\\\"list.list != undefined\\\">\\r\\n                <span>{{list.name}}></span>\\r\\n                <div class=\\\"radioBox\\\">\\r\\n                  <div class=\\\"radioIndex\\\" *ngFor=\\\"let size of list.list;let i=index\\\" (click)=\\\"size.func($event,size,list.list)\\\">\\r\\n                    <input type=\\\"radio\\\" [checked]=\\\"size.isSelect\\\" [value]=\\\"i\\\" [attr.name]=\\\"list.name\\\">{{size.name}}\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n              <ng-container *ngIf=\\\"list.load == true\\\">\\r\\n                  <input id=\\\"loadjson\\\" type=\\\"file\\\" (change)=\\\"list.func($event)\\\">\\r\\n                  <label for=\\\"loadjson\\\" id=\\\"loadFile\\\" container=\\\"body\\\">\\r\\n                  {{list.name}}\\r\\n                  </label>\\r\\n              </ng-container>\\r\\n              <ng-container *ngIf =\\\"list.load == false\\\">\\r\\n                <a class=\\\"saveFile\\\" [attr.href]=\\\"list.href\\\" [attr.download]=\\\"list.textName\\\" (click)=\\\"list.func($event,list)\\\">{{list.name}}</a>\\r\\n              </ng-container>\\r\\n          </button>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"dropdown\\\" *ngIf=\\\"top.dropList == null\\\">\\r\\n        <div *ngIf=\\\"top.type == undefined || top.type =='button'\\\" (click)=\\\"top.func($event)\\\">\\r\\n          <button [disabled]=\\\"top.isBack() == top.result\\\"   type=\\\"button\\\" class=\\\"btn\\\" container=\\\"body\\\" data-html=\\\"true\\\" triggers=\\\"mouseenter:mouseleave\\\" ngbPopover=\\\"{{top.text + top.hot}}\\\" #p=\\\"ngbPopover\\\" (click)=\\\"p.close()\\\"  placement=\\\"bottom\\\" >\\r\\n            <div class=\\\"iconbox\\\">\\r\\n              <svg class=\\\"icon\\\" aria-hidden=\\\"true\\\">\\r\\n                <use [attr.xlink:href]=\\\"top.icon\\\"></use>\\r\\n              </svg>\\r\\n            </div>{{top.text}}\\r\\n          </button>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\"","module.exports = \"<div *ngIf=\\\"rightDiv!=null\\\">\\r\\n  <div class=\\\"popDiv\\\" [ngStyle]=\\\"popStyle\\\">\\r\\n    <div class=\\\"inputContainer\\\" *ngIf=\\\"rightDiv.input\\\">\\r\\n      <div class=\\\"card\\\">\\r\\n        <div class=\\\"wall\\\">\\r\\n          <span>{{rightDiv.input.text}}</span>\\r\\n          \\r\\n          <!-- <select name=\\\"wallSelect\\\" id=\\\"greet\\\" (change)='rightDiv.input.func($event)'>\\r\\n            <option [attr.value]='inputValue' *ngFor='let inputValue of rightDiv.input.valueArr' [selected]='inputValue==rightDiv.input.choose'>{{inputValue}}</option>\\r\\n          </select> -->\\r\\n          <input type=\\\"text\\\" [value]=\\\"rightDiv.input.valueArr\\\" onfocus=\\\"this.select()\\\" (change)=\\\"rightDiv.input.func($event)\\\">\\r\\n          <!-- <div class=\\\"drop-icon\\\"></div> -->\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n    <ng-container *ngFor=\\\"let pop of rightDiv.body\\\">\\r\\n      <div class=\\\"popContent\\\" *ngIf=\\\"!pop.isHidde\\\">\\r\\n        <!-- <div> -->\\r\\n        <ng-container *ngIf=\\\"pop.type == 'file'\\\">\\r\\n          <svg class=\\\"icon\\\" aria-hidden=\\\"true\\\">\\r\\n            <use [attr.xlink:href]=\\\"pop.icon\\\"></use>\\r\\n          </svg>\\r\\n          <input type=\\\"file\\\" id=\\\"file\\\" (change)=\\\"pop.newFunc($event)\\\">\\r\\n          <label for=\\\"file\\\">\\r\\n            {{pop.text}}\\r\\n          </label>\\r\\n        </ng-container>\\r\\n        <ng-container *ngIf=\\\"pop.type == undefined\\\">\\r\\n          <div class=\\\"else\\\" (mousedown)=\\\"pop.newFunc()\\\">\\r\\n            <svg class=\\\"icon\\\" aria-hidden=\\\"true\\\">\\r\\n              <use [attr.xlink:href]=\\\"pop.icon\\\"></use>\\r\\n            </svg>\\r\\n            <div>{{pop.text}}\\r\\n              <span *ngIf=\\\"pop.hot\\\">{{pop.hot}}</span>\\r\\n            </div>\\r\\n          </div>\\r\\n        </ng-container>\\r\\n        <!-- </div> -->\\r\\n      </div>\\r\\n    </ng-container>\\r\\n  </div>\\r\\n</div>\"","module.exports = \"<div class=\\\"test_box\\\" [ngStyle]=\\\"style\\\">\\r\\n  <div *ngFor=\\\"let bt of test.data\\\">\\r\\n    <span>{{bt.text}}</span>\\r\\n    <input type=\\\"text\\\" #val [(ngModel)]=\\\"bt.value\\\" (keyup.enter)=\\\"bt.func($event,val.value)\\\">\\r\\n    <!-- <div class=\\\"button\\\" (click)=\\\"bt.func($event,val.value)\\\">click</div> -->\\r\\n  </div>\\r\\n</div>\\r\\n\"","module.exports = \"<div class=\\\"three_tools\\\">\\r\\n  <div class=\\\"item-tool\\\" *ngFor=\\\"let ico of threeTools\\\" (click)=\\\"ico.func($event)\\\">\\r\\n    <button type=\\\"button\\\" class=\\\"btn\\\" container=\\\"body\\\" ngbPopover=\\\"{{ico.hover}}\\\" triggers=\\\"mouseenter:mouseleave\\\" placement=\\\"bottom\\\">\\r\\n      <svg class=\\\"icon\\\" aria-hidden=\\\"true\\\">\\r\\n        <use [attr.xlink:href]=\\\"ico.icon\\\"></use>\\r\\n      </svg>\\r\\n    </button>\\r\\n    <span class=\\\"name\\\" *ngIf=\\\"ico.name != undefined\\\">{{ico.name}}</span>\\r\\n  </div>\\r\\n</div>\\r\\n\"","module.exports = \"<div class=\\\"D2_3D_container\\\" [ngStyle]=\\\"domStyle\\\">\\r\\n  <div class=\\\"toggle_window\\\">\\r\\n    <button type=\\\"button\\\" class=\\\"btn toggle\\\" container=\\\"body\\\" ngbPopover=\\\"\\\" triggers=\\\"mouseenter:mouseleave\\\" placement=\\\"bottom\\\" (click)=\\\"toggleView($event)\\\">\\r\\n      <div class=\\\"iconbox\\\">\\r\\n        <svg class=\\\"icon\\\" aria-hidden=\\\"true\\\">\\r\\n          <use xlink:href=\\\"#icon-zuidahua\\\"></use>\\r\\n        </svg>\\r\\n      </div>\\r\\n    </button>\\r\\n    <!-- <button type=\\\"button\\\" class=\\\"btn enlarge\\\" container=\\\"body\\\" ngbPopover=\\\"\\\" triggers=\\\"mouseenter:mouseleave\\\" placement=\\\"bottom\\\">\\r\\n      <div class=\\\"iconbox\\\">\\r\\n        <svg class=\\\"icon\\\" aria-hidden=\\\"true\\\">\\r\\n          <use xlink:href=\\\"#icon-fangda\\\"></use>\\r\\n        </svg>\\r\\n      </div>\\r\\n    </button>\\r\\n    <button type=\\\"button\\\" class=\\\"btn reduce\\\" container=\\\"body\\\" ngbPopover=\\\"\\\" triggers=\\\"mouseenter:mouseleave\\\" placement=\\\"bottom\\\">\\r\\n      <div class=\\\"iconbox\\\">\\r\\n        <svg class=\\\"icon\\\" aria-hidden=\\\"true\\\">\\r\\n          <use xlink:href=\\\"#icon-suoxiao\\\"></use>\\r\\n        </svg>\\r\\n      </div>\\r\\n    </button> -->\\r\\n  </div>\\r\\n  <button type=\\\"button\\\" class=\\\"btn resize\\\" container=\\\"body\\\" ngbPopover=\\\"\\\" triggers=\\\"mouseenter:mouseleave\\\" placement=\\\"bottom\\\"  (mousedown)=\\\"resizeStartView($event)\\\" >\\r\\n    <div class=\\\"iconbox\\\">\\r\\n      <svg class=\\\"icon icon_resize\\\" aria-hidden=\\\"true\\\">\\r\\n        <use xlink:href=\\\"#icon-resize\\\"></use>\\r\\n      </svg>\\r\\n    </div>\\r\\n  </button>\\r\\n</div>\\r\\n\"","module.exports = \"<svg class='back_svg'>\\r\\n\\r\\n    <!-- 背景色 -->\\r\\n    <svg:rect class='back_color' x=\\\"0\\\" y=\\\"0\\\" [attr.width]=\\\"back?back.size.width:0\\\" [attr.height]=\\\"back?back.size.height:0\\\" />\\r\\n\\r\\n    <!-- 背景图框 -->\\r\\n    <svg:rect *ngIf='dataService.cache.floorplan.display.grid' fill=\\\"url(#svg_back)\\\" x=\\\"0\\\" y=\\\"0\\\" [attr.width]=\\\"back?back.size.width:0\\\"\\r\\n        [attr.height]=\\\"back?back.size.height:0\\\" />\\r\\n\\r\\n    <!-- 背景图 -->\\r\\n    <ng-container *ngIf=\\\"dataService.cache.floorplan.display.roomImg && dataService.floorplan && dataService.floorplan.backImg!=null\\\">\\r\\n        <svg:image [attr.xlink:href]='dataService.floorplan.backImg.url' [attr.x]='dataService.floorplan.backImg.left'\\r\\n            [attr.y]='dataService.floorplan.backImg.top' [attr.width]='dataService.floorplan.backImg.width'\\r\\n            [attr.height]='dataService.floorplan.backImg.height'></svg:image>\\r\\n    </ng-container>\\r\\n\\r\\n\\r\\n    <!-- 保护挡板 -->\\r\\n    <svg:rect x=\\\"0\\\" y=\\\"0\\\" [attr.width]=\\\"back?back.size.width:0\\\" [attr.height]=\\\"back?back.size.height:0\\\" class='rect_protect'></svg:rect>\\r\\n\\r\\n    <!-- 需要合成的小图 -->\\r\\n    <svg:defs>\\r\\n        <svg:pattern id=\\\"svg_back\\\" patternUnits=\\\"userSpaceOnUse\\\" [attr.width]='back?back.pattern.width:0' [attr.height]='back?back.pattern.width:0'>\\r\\n            <svg:path class='path_small' [attr.d]=getSmallPathD() [ngStyle]='{\\\"stroke-width\\\":1*dataService.cache.floorplan.multiple}' />\\r\\n            <svg:path class=\\\"path_big\\\" [attr.d]=getBigPathD() [ngStyle]='{\\\"stroke-width\\\":2*dataService.cache.floorplan.multiple}' />\\r\\n        </svg:pattern>\\r\\n    </svg:defs>\\r\\n\\r\\n</svg>\"","module.exports = \"<div class='div_block' [ngStyle]=\\\"{\\r\\n    'width':dataService.cmd&&dataService.cache.common.blockON?'100%':'0%',\\r\\n    'height':dataService.cmd&&dataService.cache.common.blockON?'100%':'0%'\\r\\n}\\\">\\r\\n    <svg class='svg_block' [ngStyle]=\\\"{\\r\\n        'top.px':dataService.cmd&&dataService.cache.common.blockON?dataService.cmd.floorplan.top:0,\\r\\n\\r\\n        'left.px':dataService.cmd&&dataService.cache.common.blockON?dataService.cmd.floorplan.left:0,\\r\\n\\r\\n        'width.px':dataService.cmd&&dataService.cache.common.blockON?dataService.cmd.back.size.width:0,\\r\\n\\r\\n        'height.px':dataService.cmd&&dataService.cache.common.blockON?dataService.cmd.back.size.height:0,\\r\\n        \\r\\n        'transform':dataService.cmd&&dataService.cache.common.blockON?'scale(' + dataService.cmd.floorplan.zoom + ',' + dataService.cmd.floorplan.zoom + ')':'scale(1,1)'\\r\\n    }\\\"></svg>\\r\\n</div>\"","module.exports = \"<ng-container *ngIf='dataService.camera!=null'>\\r\\n  <!-- 容器 -->\\r\\n\\r\\n  <svg:g [attr.id]=\\\"dataService.camera.id\\\" [attr.transform]='getTransform()'>\\r\\n    <!-- 头 -->\\r\\n    <svg:image [attr.xlink:href]='dataService.cmd.camera.headImg.url' [attr.x]='dataService.cmd.camera.offset.x' [attr.y]='dataService.cmd.camera.offset.y'\\r\\n      [attr.width]='dataService.cmd.camera.headImg.size.width' [attr.height]='dataService.cmd.camera.headImg.size.height' (mousedown)='setMode(\\\"move\\\")'></svg:image>\\r\\n\\r\\n    <!-- 旋转 -->\\r\\n    <!-- <svg:image [attr.xlink:href]='dataService.cmd.camera.rotateImg.url' [attr.x]='dataService.cmd.camera.offset.x' [attr.y]='dataService.cmd.camera.offset.y'\\r\\n      [attr.width]='dataService.cmd.camera.rotateImg.size.width' [attr.height]='dataService.cmd.camera.rotateImg.size.height'\\r\\n      (mousedown)='setMode(\\\"rotate\\\")'></svg:image> -->\\r\\n    <svg:rect [attr.x]='dataService.cmd.camera.offset.x' [attr.y]='dataService.cmd.camera.offset.y' [attr.width]='dataService.cmd.camera.rotateImg.size.width'\\r\\n      [attr.height]='dataService.cmd.camera.rotateImg.size.height' (mousedown)='setMode(\\\"rotate\\\")' class='camera_rotate'></svg:rect>\\r\\n  </svg:g>\\r\\n  <!-- 图像 -->\\r\\n  <!-- <svg:rect [attr.width]='dataService.cmd.camera.headImg.size.width' [attr.height]='dataService.cmd.camera.headImg.size.height'\\r\\n    [attr.x]='0' [attr.y]='0' [attr.transform]='getTransform()' [attr.fill]='getFill()'></svg:rect> -->\\r\\n  <!-- 原始坐标 -->\\r\\n  <svg:circle r='30' [attr.cx]='dataService.camera.pos.x' [attr.cy]='dataService.camera.pos.y' fill='#ff0000'></svg:circle>\\r\\n\\r\\n</ng-container>\"","module.exports = \"<ng-container *ngIf=\\\"absorbLine.data!=null && absorbLine.data!=[]\\\">\\r\\n  <ng-container *ngFor=\\\"let line of absorbLine.data\\\">\\r\\n    <ng-container [ngSwitch]=\\\"line.mode\\\">\\r\\n      <svg:path *ngSwitchCase=\\\"'line'\\\" class='line_path line_width' [attr.d]='getPath(line)' />\\r\\n      <svg:circle *ngSwitchCase=\\\"'point'\\\" [attr.cx]='line.pos.x' [attr.cy]='line.pos.y' [attr.r]='line.radius?line.radius:8' class='point_circle circle_width'></svg:circle>\\r\\n      <svg:path *ngSwitchDefault class='line_path line_width' [attr.d]='getPath(line)' />\\r\\n    </ng-container>\\r\\n  </ng-container>\\r\\n</ng-container>\"","module.exports = \"<ng-container *ngIf='labelCircle!=null'>\\r\\n  <svg:g [attr.transform]=\\\"labelCircle.transform?labelCircle.transform:'matrix(1,0,0,1,0,0)'\\\">\\r\\n    <svg:g [attr.transform]=\\\"labelCircle.otherTransform?labelCircle.otherTransform:'matrix(1,0,0,1,0,0)'\\\">\\r\\n      <ng-container *ngFor='let circle of labelCircle.data'>\\r\\n        <svg:circle [attr.r]='labelCircle.r' [attr.cx]='circle.pos.x ' [attr.cy]='circle.pos.y ' class='circle_width label_circle'>\\r\\n        </svg:circle>\\r\\n      </ng-container>\\r\\n    </svg:g>\\r\\n  </svg:g>\\r\\n</ng-container>\"","module.exports = \"<ng-container *ngIf='labelLines!=null'>\\r\\n  <!-- <svg x='0' y='0' [attr.transform]='labelLines.transform?labelLines.transform:null'> -->\\r\\n  <svg:g class='move' [attr.transform]=\\\"moveTransfrom\\\">\\r\\n    <svg:g class='rotate' [attr.transform]=\\\"rotateTransform\\\">\\r\\n      <ng-container *ngFor='let data of domDatas'>\\r\\n        <ng-container *ngIf='data'>\\r\\n          <!-- 是否隐藏线 -->\\r\\n          <ng-container *ngIf='!labelLines.isRemoveStyle'>\\r\\n            <!-- 直线 -->\\r\\n            <svg:path class='label_line line_width' [attr.d]=\\\"data.path\\\" />\\r\\n            <!-- 辅助线 -->\\r\\n            <svg:path class='label_line line_width' [attr.stroke-dasharray]='data.dasharray' *ngFor='let line of data.auxiliaryLines'\\r\\n              [attr.d]='line' />\\r\\n            <!-- 头尾是否隐藏 -->\\r\\n            <ng-container *ngIf='labelLines.img'>\\r\\n              <!-- 头x -->\\r\\n              <svg:image class='label_img' [attr.xlink:href]='labelLines.img' [attr.width]='labelLines.imgWidth'\\r\\n                [attr.height]='labelLines.imgHeight' [attr.x]=\\\"-labelLines.imgWidth/2\\\" [attr.y]=\\\"-labelLines.imgHeight/2\\\"\\r\\n                [attr.transform]='data.transformStart' />\\r\\n              <!-- 尾x -->\\r\\n              <svg:image class='label_img' [attr.xlink:href]='labelLines.img' [attr.width]='labelLines.imgWidth'\\r\\n                [attr.height]='labelLines.imgHeight' [attr.x]=\\\"-labelLines.imgWidth/2\\\" [attr.y]=\\\"-labelLines.imgHeight/2\\\"\\r\\n                [attr.transform]='data.transformEnd' />\\r\\n            </ng-container>\\r\\n          </ng-container>\\r\\n          <!-- 文字 -->\\r\\n          <svg:text *ngIf='data.textTransform' [attr.class]='getTextClass()' [ngStyle]=\\\"getTextStyle()\\\"\\r\\n            [attr.transform]='data.textTransform'>{{data.text}}</svg:text>\\r\\n        </ng-container>\\r\\n\\r\\n      </ng-container>\\r\\n      <!-- </svg> -->\\r\\n    </svg:g>\\r\\n  </svg:g>\\r\\n\\r\\n\\r\\n\\r\\n</ng-container>\"","module.exports = \"<ng-container *ngFor='let pathData of repeatPathDatas'>\\n  <!-- 矩阵 -->\\n  <svg:g [attr.transform]=\\\"pathData.transform?pathData.transform:'matrix(1,0,0,1,0,0)'\\\">\\n    <!-- 线段 -->\\n    <ng-container *ngIf=\\\"pathData.paths\\\">\\n      <ng-container *ngFor=\\\"let path of pathData.paths\\\">\\n        <path [attr.d]='path' class='lu_path' [attr.fill]='getColor()'></path>\\n      </ng-container>\\n    </ng-container>\\n    <!-- 子对象 -->\\n    <ng-container *ngIf=\\\"pathData.children\\\">\\n      <svg:g [repeatPathDatas]='pathData.children'></svg:g>\\n    </ng-container>\\n  </svg:g>\\n</ng-container>\"","module.exports = \"<ng-container *ngIf=\\\"testSvgData.data!=null && testSvgData.data!=[]\\\">\\r\\n  <ng-container *ngFor='let data of testSvgData.data'>\\r\\n    <ng-container [ngSwitch]=\\\"data.mode\\\">\\r\\n      <svg:circle *ngSwitchCase=\\\"'circle'\\\" [attr.cx]='data.pos.x' [attr.cy]='data.pos.y' [attr.r]='data.radius?data.radius:8' class='point_circle circle_width'></svg:circle>\\r\\n    </ng-container>\\r\\n  </ng-container>\\r\\n</ng-container>\"","module.exports = \"<ng-container *ngIf='path!=\\\"\\\" && transform'>\\r\\n    <!-- 窗主体 -->\\r\\n    <svg:path [attr.d]='path' [attr.transform]='transform' class='line_width CW_path' (mousedown)='setActive($event)'\\r\\n        (mouseover)='setMsg($event)'></svg:path>\\r\\n    <!-- 选中 -->\\r\\n    <ng-container *ngIf=\\\"isChoose()\\\">\\r\\n        <svg:path [attr.d]='path' [attr.transform]='transform' class='choose'></svg:path>\\r\\n    </ng-container>\\r\\n    <!-- 操作======================== -->\\r\\n    <svg:path [attr.d]='path' [attr.transform]='transform' (mousedown)='setActive($event)' (mouseover)='setMsg($event)'\\r\\n        class='action'></svg:path>\\r\\n    <!-- 窗的上边  -->\\r\\n    <svg:path [attr.d]='getUPath()' [attr.transform]='transform' class='up_path'></svg:path>\\r\\n\\r\\n    <!-- 窗的左边============== -->\\r\\n    <!-- 刷墙 -->\\r\\n    <ng-container *ngIf='cornerWin.outWallThickness!=0'>\\r\\n        <svg:path [attr.d]='getLPath(true)' class='line_width wall_path' [attr.transform]='transform'></svg:path>\\r\\n    </ng-container>\\r\\n    <!-- 刷框 -->\\r\\n    <ng-container *ngIf='cornerWin.outWallThickness==0'>\\r\\n        <svg:path [attr.d]='getLPath(false)' class='line_width wall_path' [attr.transform]='transform'></svg:path>\\r\\n    </ng-container>\\r\\n    <!-- 窗的下边================ -->\\r\\n    <!-- 刷墙 -->\\r\\n    <ng-container *ngIf='cornerWin.outWallThickness!=0'>\\r\\n        <svg:path [attr.d]='getDPath(true)' class='line_width wall_path' [attr.transform]='transform'></svg:path>\\r\\n    </ng-container>\\r\\n    <!-- 刷框 -->\\r\\n    <ng-container *ngIf='cornerWin.outWallThickness==0'>\\r\\n        <svg:path [attr.d]='getDPath(false)' class='line_width wall_path' [attr.transform]='transform'></svg:path>\\r\\n    </ng-container>\\r\\n    <!-- 点分布 -->\\r\\n    <ng-container *ngIf='!dataService.cache.cornerWin.hideAllCircle && dataService.cache.common.choose!=null && dataService.cache.common.choose.id==cornerWin.id'>\\r\\n        <svg [labelCircle]='getALLCircleData(transform?transform:null)'></svg>\\r\\n    </ng-container>\\r\\n    <svg [labelLines]='getLabelLines()'></svg>\\r\\n</ng-container>\"","module.exports = \"<ng-container *ngFor='let newCornerWin of dataService.doCornerWins().arr()'>\\r\\n  <svg>\\r\\n    <g [cornerWin]='newCornerWin' />\\r\\n  </svg>\\r\\n</ng-container>\"","module.exports = \"<ng-container *ngIf=\\\"isShow()\\\">\\r\\n  <svg [labelLines]='getLabelData()'></svg>\\r\\n</ng-container>\"","module.exports = \"<ng-container *ngIf=' isShow() && inLine && labelData'>\\r\\n    <!-- <svg:path class='label_path' [attr.d]=\\\"getPath()\\\" style=\\\"stroke:rgb(99,99,99);stroke-width:2\\\" />\\r\\n    <svg:image class='label_img' [attr.xlink:href]='getImgUrl()' [attr.width]='getImgWdith()' [attr.height]='getImgHeight()'\\r\\n        [attr.x]=\\\"-getImgWdith()/2\\\" [attr.y]=\\\"-getImgHeight()/2\\\" [attr.transform]='getTransformStart()' />\\r\\n    <svg:image class='label_img' [attr.xlink:href]='getImgUrl()' [attr.width]='getImgWdith()' [attr.height]='getImgHeight()'\\r\\n        [attr.x]=\\\"-getImgWdith()/2\\\" [attr.y]=\\\"-getImgHeight()/2\\\" [attr.x]=\\\"-getImgWdith()/2\\\" [attr.y]=\\\"-getImgHeight()/2\\\" [attr.transform]='getTransformEnd()'\\r\\n    />\\r\\n    <svg:text class='label_text' [attr.id]='cowall.id' [attr.transform]='getTextTransform()'>{{getText()}}</svg:text> -->\\r\\n    <svg (mouseenter)=\\\"mouseOver($event)\\\">\\r\\n        <svg [attr.id]='cowall.id' [labelLines]='labelData' (labelData)='setInput($event)'></svg>\\r\\n    </svg>\\r\\n</ng-container>\"","module.exports = \"<!-- 标签 -->\\r\\n<ng-container *ngIf='dataService.cache.floorplan.display.inLabel && !dataService.cmd.cowall.strongHide && !dataService.cmd.cowall.hide'>\\r\\n  <ng-container *ngFor='let newCowall of getCowallArr()'>\\r\\n    <svg>\\r\\n      <g [cowall]='newCowall' />\\r\\n    </svg>\\r\\n  </ng-container>\\r\\n</ng-container>\\r\\n<!-- 外标签 -->\\r\\n<ng-container *ngIf='isDisplayOutLine() && !dataService.cmd.cowall.strongHide && !dataService.cmd.cowall.hide'>\\r\\n  <svg>\\r\\n    <g outLabel></g>\\r\\n  </svg>\\r\\n</ng-container>\\r\\n<!-- 影子标签 -->\\r\\n<svg>\\r\\n  <g cowall-shadow />\\r\\n</svg>\"","module.exports = \"<!-- <ng-container *ngFor='let point of testPosArr'>\\r\\n  <svg:circle [attr.cx]='point.x' [attr.cy]='point.y' r=50 fill='red'></svg:circle>\\r\\n</ng-container> -->\\r\\n<svg [labelLines]='labelData'></svg>\"","module.exports = \"<!-- 门框 -->\\r\\n<svg:path [attr.d]='getPath()' [attr.id]='door.id' class='line_width door_path' [attr.transform]='transformString'\\r\\n    (mousedown)=\\\"mouseDown($event)\\\" (mouseenter)=\\\"mouseOver($event)\\\" />\\r\\n<!-- 门板 -->\\r\\n<ng-container *ngIf=\\\"door.svgImg\\\">\\r\\n    <svg:g [attr.transform]='transformString'>\\r\\n        <!-- 普通门板 -->\\r\\n        <svg:image *ngIf=\\\"door.plankType=='normal'\\\" preserveAspectRatio='none meet' [attr.width]='pixSize.width'\\r\\n            [attr.height]='pixSize.height' [attr.x]='originPos.x' [attr.y]='originPos.y-pixSize.height*(door.out?1:0)'\\r\\n            [attr.xlink:href]='door.svgImg' [ngClass]=\\\"{ 'door_mirror':door.mirror&&door.out,'door_in':!door.mirror&&!door.out,'door_mirror_in':door.mirror&&!door.out}\\\"\\r\\n            [ngStyle]=\\\"{'transform-origin':(originPos.x+(pixSize.width/2))+'px '+(originPos.y-pixSize.height*(door.out?1:0)+(pixSize.height/2))+'px'}\\\"\\r\\n            (mousedown)=\\\"mouseDown($event)\\\" (mouseenter)=\\\"mouseOver($event)\\\">\\r\\n        </svg:image>\\r\\n        <!-- 双门板 -->\\r\\n        <svg:image *ngIf=\\\"door.plankType=='twoDoor'\\\" preserveAspectRatio='none meet' [attr.width]='pixSize.width'\\r\\n            [attr.height]='pixSize.height' [attr.x]='originPos.x' [attr.y]='originPos.y-pixSize.height*(door.out?1:0)'\\r\\n            [attr.xlink:href]='door.svgImg' [ngClass]=\\\"{ 'door_mirror':door.mirror&&door.out,'door_in':!door.mirror&&!door.out,'door_mirror_in':door.mirror&&!door.out}\\\"\\r\\n            [ngStyle]=\\\"{'transform-origin':(originPos.x+(pixSize.width/2))+'px '+(originPos.y-pixSize.height*(door.out?1:0)+(pixSize.height/2))+'px'}\\\"\\r\\n            (mousedown)=\\\"mouseDown($event)\\\" (mouseenter)=\\\"mouseOver($event)\\\">\\r\\n        </svg:image>\\r\\n        <!-- 移门 -->\\r\\n        <svg:image *ngIf=\\\"door.plankType=='pullDoor'\\\" preserveAspectRatio='none meet' [attr.width]='pixSize.width'\\r\\n            [attr.height]='pixSize.height' [attr.x]='originPos.x' [attr.y]='originPos.y' [attr.xlink:href]='door.svgImg'\\r\\n            [ngClass]=\\\"{ 'door_mirror':door.mirror&&door.out,'door_in':!door.mirror&&!door.out,'door_mirror_in':door.mirror&&!door.out}\\\"\\r\\n            (mousedown)=\\\"mouseDown($event)\\\" (mouseenter)=\\\"mouseOver($event)\\\">\\r\\n        </svg:image>\\r\\n        <!-- <svg:circle [attr.cx]='door.getOriginPos().x' [attr.cy]='door.getOriginPos().y' r='50' fill='#ff0000'></svg:circle> -->\\r\\n    </svg:g>\\r\\n</ng-container>\\r\\n<!-- 标签 -->\\r\\n<ng-container *ngIf='showLabel()'>\\r\\n\\r\\n    <svg [labelLines]='getLabelDatas()'></svg>\\r\\n</ng-container>\\r\\n\\r\\n<!-- 双点 -->\\r\\n<ng-container *ngIf='dataService.cache.common.choose!=null && dataService.cache.common.choose.id==door.id'>\\r\\n    <svg [labelCircle]='getALLPointData(transformString?transformString:null)'></svg>\\r\\n</ng-container>\"","module.exports = \"<ng-container *ngFor='let newDoor of dataService.doDoors().arr()'>\\r\\n  <svg>\\r\\n    <g [door]='newDoor' />\\r\\n  </svg>\\r\\n</ng-container>\"","module.exports = \"<!-- 用来框住家具的,网络加载时图片有延时 -->\\n<svg:path [attr.d]='getPath()' [attr.id]='geometry.id' class='geometry_path line_width' #boxPath [attr.transform]='getTransform()'\\n  #geometryPath />\\n<!-- 物体图片 -->\\n<svg:image [attr.xlink:href]='geometry.url2D' preserveAspectRatio='none meet' [attr.width]='pixSize.width'\\n  [attr.height]='pixSize.height' [attr.x]='-pixSize.width/2' [attr.y]='-pixSize.height/2' [attr.transform]='boxPath.attributes[\\\"transform\\\"].textContent'\\n  (mousedown)='mouseDown($event,\\\"move\\\")'></svg:image>\\n<!-- 圆,旋转用的 -->\\n<ng-container *ngIf=\\\"dataService.cache.common.choose!=null &&\\ndataService.cache.common.choose.id==geometry.id\\\">\\n  <!-- 样式圆,摆式用的,基本没卵用,仅好看 -->\\n  <svg:circle [attr.cx]='geometry.pos.x' [attr.cy]='geometry.pos.y' [attr.r]=\\\"dataService.cmd.furniture.radius\\\" class='line_width circle_line'\\n    fill='none'></svg:circle>\\n  <!-- 旋转按钮 -->\\n  <svg:image [attr.xlink:href]='dataService.cmd.furniture.rotateIco' [attr.width]='dataService.cmd.furniture.icoSize.width'\\n    [attr.height]='dataService.cmd.furniture.icoSize.width' [attr.x]='-dataService.cmd.furniture.icoSize.width/2'\\n    [attr.y]='-dataService.cmd.furniture.icoSize.height/2' [attr.transform]='getRotateTransform()' (mousedown)='mouseDown($event,\\\"rotate\\\")'></svg:image>\\n</ng-container>\"","module.exports = \"<ng-container *ngFor='let geometry of getData()'>\\n  <svg>\\n    <g [geometry]='geometry' />\\n  </svg>\\n</ng-container>\"","module.exports = \"<!-- 初版 -->\\r\\n<!-- <svg:path [attr.d]='pathD' class='lu_path' (mousedown)=\\\"mouseDown($event)\\\"></svg:path> -->\\r\\n<!-- 参数化版 -->\\r\\n<ng-container *ngIf='pathDatas'>\\r\\n    <svg [repeatPathDatas]='pathDatas' (mousedown)=\\\"mouseDown($event)\\\"></svg>\\r\\n</ng-container>\\r\\n\\r\\n<!-- 点分布 -->\\r\\n<ng-container *ngIf='isShowCircles()'>\\r\\n    <svg [labelCircle]='getCircles(LUWin)'></svg>\\r\\n</ng-container>\"","module.exports = \"<ng-container *ngFor='let newWin of getData()'>\\n  <svg>\\n    <g [LUWin]='newWin' />\\n  </svg>\\n</ng-container>\"","module.exports = \"<!-- 初版 -->\\n<!-- <svg:path [attr.d]='pathD' class='lu_path' (mousedown)=\\\"mouseDown($event)\\\"></svg:path> -->\\n<!-- 参数化版 -->\\n<ng-container *ngIf='pathDatas'>\\n  <svg [repeatPathDatas]='pathDatas' (mousedown)='mouseDown($event)'></svg>\\n</ng-container>\\n\\n<!-- 标签 -->\\n<svg [labelLines]='labelData'></svg>\\n\\n<!-- 点分布 -->\\n<svg [labelCircle]='circleData'></svg>\"","module.exports = \"<ng-container *ngFor='let paramsObj of dataService.doParamsModels().arr()'>\\n  <svg>\\n    <g [paramsModel]='paramsObj' />\\n  </svg>\\n</ng-container>\"","module.exports = \"<ng-container *ngIf='point'>\\r\\n    <svg:circle class='svg_circle' [attr.id]='point.id' [attr.cx]=\\\"testPos.x\\\" [attr.cy]=\\\"testPos.y\\\" r=\\\"40\\\" (mouseenter)=\\\"mouseOver($event)\\\" />\\r\\n    <ng-container *ngIf='isOver'>\\r\\n        <svg:circle class='svg_circle_shadow' [attr.id]='point.id' [attr.cx]=\\\"testPos.x\\\" [attr.cy]=\\\"testPos.y\\\" r=\\\"70\\\"\\r\\n            (mousedown)=\\\"mouseDown($event)\\\" (mouseleave)=\\\"mouseLeave($event)\\\" />\\r\\n    </ng-container>\\r\\n</ng-container>\"","module.exports = \"<ng-template ngFor let-newPoint [ngForOf]=\\\"getPointArr()\\\">\\r\\n  <svg>\\r\\n    <g [point]='newPoint' />\\r\\n  </svg>\\r\\n</ng-template>\"","module.exports = \"<ng-container *ngIf=\\\"floor.imgUrl!=null && floor.size!=null && dataService.cache.floorplan.display.floor\\\">\\r\\n  <svg:pattern [attr.id]='floor.id' x=\\\"0\\\" y=\\\"0\\\" [attr.width]='floor.size.width' [attr.height]='floor.size.height'\\r\\n    patternUnits=\\\"userSpaceOnUse\\\">\\r\\n    <svg:image [attr.xlink:href]='floor.imgUrl' preserveAspectRatio='none meet' [attr.width]='floor.size.width'\\r\\n      [attr.height]='floor.size.height'></svg:image>\\r\\n  </svg:pattern>\\r\\n</ng-container>\"","module.exports = \"<ng-container *ngIf='isShow()'>\\r\\n    <!-- 边框 -->\\r\\n    <svg:path class=\\\"room_shadow_path\\\" [attr.d]='getPath()' [ngStyle]=\\\"{ 'stroke-width':getThickness()}\\\" />\\r\\n    <ng-container *ngIf='isLabel()'>\\r\\n        <!-- 标注 -->\\r\\n        <svg [labelLines]='getLabelData(centerPos,size)'></svg>\\r\\n        <!-- 面积 -->\\r\\n        <svg:text class='room_shadow_area font_size' [attr.transform]='getTextTransform(centerPos)'>{{getArea(size)}}</svg:text>\\r\\n    </ng-container>\\r\\n</ng-container>\"","module.exports = \"<svg:defs [floor]=\\\"room.getFloor()\\\"></svg:defs>\\r\\n<!-- 地板 -->\\r\\n<!-- <svg:path [attr.d]=\\\"getPath()\\\" /> -->\\r\\n\\r\\n<!-- 空间 -->\\r\\n<!-- <ng-container *ngIf='transform!=null'> -->\\r\\n<svg:path [attr.d]='path' class='test_room'></svg:path>\\r\\n<!-- 地板 -->\\r\\n<svg:path [attr.d]=\\\"path\\\" [attr.fill]=\\\"fillString\\\" />\\r\\n\\r\\n<ng-container *ngIf=\\\"dataService.cache.common.choose!=null && dataService.cache.common.choose.id==room.id\\\">\\r\\n    <!-- 点击选中 -->\\r\\n    <svg:path [attr.d]=\\\"path\\\" class='room_click' />\\r\\n</ng-container>\\r\\n<!-- 用来空地板测试 -->\\r\\n<svg:path [attr.d]=\\\"path\\\" class='shadow_room' [attr.id]='room.id' (mouseenter)='mouseOver($event)' (mousedown)='mouseDown($event)' />\\r\\n<!-- 文字部分 -->\\r\\n<svg (mousedown)='textDown($event)'>\\r\\n    <!-- 空间类型 -->\\r\\n    <!-- <svg:text *ngIf='dataService.cache.floorplan.display.roomType' class='room_area font_size' y='-150'\\r\\n            [attr.transform]='transform'>{{room.roomName}}</svg:text> -->\\r\\n    <!-- 空间面积 -->\\r\\n    <!-- <svg:text *ngIf='dataService.cache.floorplan.display.area' class='room_area font_size' y='150' [attr.transform]='transform'>{{area}}</svg:text> -->\\r\\n</svg>\\r\\n<!-- </ng-container> -->\"","module.exports = \"<ng-container *ngFor='let room of getRoomArr()'>\\n  <svg (mousedown)='mouseDown($event,room)'>\\n    <!-- 空间类型 -->\\n    <svg:text *ngIf='dataService.cache.floorplan.display.roomType' [attr.class]='getClassName(room)' y='-150'\\n      [attr.transform]='getTransform(room)'>{{room.roomName}}</svg:text>\\n    <!-- 空间面积 -->\\n    <svg:text *ngIf='dataService.cache.floorplan.display.area' [attr.class]='getClassName(room)' y='150'\\n      [attr.transform]='getTransform(room)'>{{getArea(room)}}</svg:text>\\n  </svg>\\n</ng-container>\"","module.exports = \"<ng-container *ngFor='let newRoom of getRoomArr()'>\\r\\n  <svg>\\r\\n    <g [room]='newRoom'></g>\\r\\n  </svg>\\r\\n</ng-container>\\r\\n<svg>\\r\\n  <g roomsText></g>\\r\\n</svg>>\"","module.exports = \"<ng-container *ngIf=\\\"isShow()\\\">\\r\\n\\r\\n  <svg:path [attr.d]=\\\"getPath()\\\" class=\\\"wall_shadow_path\\\" />\\r\\n  <ng-container *ngIf='setCircle()!=null'>\\r\\n    <svg:circle [attr.cx]='circlePos.x' [attr.cy]='circlePos.y' [attr.r]='dataService.cache.floorplan.multiple *4' class='wall_circle'></svg:circle>\\r\\n  </ng-container>\\r\\n\\r\\n\\r\\n</ng-container>\"","module.exports = \"<ng-container *ngIf=\\\"isShow() && path\\\">\\r\\n    <!-- 墙类型 -->\\r\\n    <svg:defs>\\r\\n        <svg:pattern [attr.id]=\\\"patternName\\\" [attr.x]=\\\"0\\\" [attr.y]=\\\"-this.wall.thickness/2\\\" [attr.width]=\\\"this.wall.thickness\\\"\\r\\n            [attr.height]=\\\"this.wall.thickness\\\" patternUnits=\\\"userSpaceOnUse\\\" [attr.patternTransform]=\\\"'rotate('+wallRotate+')'\\\">\\r\\n            <svg:image [attr.width]=\\\"this.wall.thickness\\\" [attr.height]=\\\"this.wall.thickness\\\" [attr.xlink:href]='typeSrc'\\r\\n                preserveAspectRatio='none meet' />\\r\\n            </pattern>\\r\\n    </svg:defs>\\r\\n    <svg:path [attr.d]=\\\"path\\\" class=\\\"wall_path\\\" />\\r\\n    <ng-container *ngIf='wall.wallType!=0'>\\r\\n        <svg:path [attr.d]='path' [attr.fill]=\\\"fillName\\\" />\\r\\n    </ng-container>\\r\\n    <ng-container *ngIf='wall.wallType==0'>\\r\\n        <svg:path [attr.d]='path' class='wall_stroke_color' />\\r\\n    </ng-container>\\r\\n    <!-- 轮廓线 -->\\r\\n    <!-- <ng-container *ngIf='!wall.isVeryShort && linePaths'>\\r\\n        <ng-container *ngFor='let line of linePaths'>\\r\\n            <svg:path [attr.d]='line' class='line_width wall_path wall_line' />\\r\\n        </ng-container>\\r\\n    </ng-container> -->\\r\\n    <!-- 调试版轮廓线 -->\\r\\n    <svg:path [attr.d]='path' class='line_width wall_path wall_line' />\\r\\n    <!-- 选择 -->\\r\\n    <ng-container *ngIf='isChoose()'>\\r\\n        <svg:path [attr.d]=\\\"path\\\" class='choose' />\\r\\n    </ng-container>\\r\\n    <!-- 操作 -->\\r\\n    <svg (mousedown)=\\\"mouseDown($event)\\\" (mouseenter)=\\\"mouseOver($event)\\\">\\r\\n        <ng-container *ngIf=\\\"isVertical(); else elseTemplate\\\">\\r\\n            <svg:path [attr.d]=\\\"path\\\" [attr.id]='wall.id' class='action left_right'></svg:path>\\r\\n        </ng-container>\\r\\n        <ng-template #elseTemplate>\\r\\n            <svg:path [attr.d]=\\\"path\\\" [attr.id]='wall.id' class='action top_bottom'></svg:path>\\r\\n        </ng-template>\\r\\n    </svg>\\r\\n    <!-- 墙本身标签 -->\\r\\n    <ng-container *ngIf='dataService.cmd.wall.displayName && centertransform!=null'>\\r\\n        <svg:text class='wall_label' [attr.transform]='centertransform'>{{wall.id}}</svg:text>\\r\\n    </ng-container>\\r\\n\\r\\n    <!-- 测试 -->\\r\\n    <!-- 测试点分布 -->\\r\\n    <!-- <ng-container *ngIf='wall.outLine!=null'>\\r\\n        <svg:circle [attr.cx]='wall.outLine[0][0].x' [attr.cy]='wall.outLine[0][0].y' r='80' fill=\\\"red\\\" />\\r\\n        <svg:circle [attr.cx]='wall.outLine[0][1].x' [attr.cy]='wall.outLine[0][1].y' r='80' fill=\\\"green\\\" />\\r\\n        <svg:circle [attr.cx]='wall.outLine[1][0].x' [attr.cy]='wall.outLine[1][0].y' r='80' fill=\\\"blue\\\" />\\r\\n        <svg:circle [attr.cx]='wall.outLine[1][1].x' [attr.cy]='wall.outLine[1][1].y' r='80' fill=\\\"black\\\" />\\r\\n    </ng-container> -->\\r\\n\\r\\n    <!-- <svg:line class='line_width test_center_line' [attr.x1]='centerLine[0].x' [attr.y1]='centerLine[0].y' [attr.x2]='centerLine[1].x'\\r\\n        [attr.y2]='centerLine[1].y'></svg:line>\\r\\n    <svg:line class='line_width test_out_line' [attr.x1]='outLine[0].x' [attr.y1]='outLine[0].y' [attr.x2]='outLine[1].x' [attr.y2]='outLine[1].y'></svg:line>\\r\\n    <svg:line class='line_width test_in_line' [attr.x1]='inLine[0].x' [attr.y1]='inLine[0].y' [attr.x2]='inLine[1].x' [attr.y2]='inLine[1].y'></svg:line> -->\\r\\n</ng-container>\"","module.exports = \"<ng-container *ngFor='let newWall of getWallArr()'>\\r\\n  <svg>\\r\\n    <g [wall]='newWall' />\\r\\n  </svg>\\r\\n</ng-container>\"","module.exports = \"<!-- 飘窗窗框 -->\\r\\n<ng-container *ngIf='win.outThickness!=0'>\\r\\n    <svg:path [attr.d]='getBayBlockPath()' [attr.transform]='transformString' class='bayWin_path' (mousedown)=\\\"mouseDown($event)\\\"\\r\\n        (mouseenter)=\\\"mouseOver($event)\\\" />\\r\\n</ng-container>\\r\\n<!-- 窗主体 -->\\r\\n<svg:path [attr.d]='getPath()' [attr.id]='win.id' class='line_width win_path' [attr.transform]='transformString'\\r\\n    (mousedown)=\\\"mouseDown($event)\\\" (mouseenter)=\\\"mouseOver($event)\\\" />\\r\\n<!-- 窗板 -->\\r\\n<svg:image *ngIf=\\\"win.plankType=='normal'\\\" preserveAspectRatio='none meet' [attr.width]='win.size.width' [attr.height]='win.size.height'\\r\\n    [attr.x]='-win.size.width/2' [attr.y]='-win.size.height/2' [attr.xlink:href]='win.svgImg' [attr.transform]='transformString'\\r\\n    (mousedown)=\\\"mouseDown($event)\\\" (mouseenter)=\\\"mouseOver($event)\\\">\\r\\n</svg:image>\\r\\n<!-- 标签 -->\\r\\n<ng-container *ngIf='showLabel()'>\\r\\n    <svg [labelLines]='getLabelDatas()'></svg>\\r\\n</ng-container>\\r\\n\\r\\n<!-- 双点 -->\\r\\n<ng-container *ngIf='dataService.cache.common.choose!=null && dataService.cache.common.choose.id==win.id'>\\r\\n    <svg [labelCircle]='getALLPointData(transformString?transformString:null)'></svg>\\r\\n</ng-container>\"","module.exports = \"<ng-container *ngFor='let newWin of dataService.doWins().arr()'>\\r\\n  <svg>\\r\\n    <g [win]='newWin' />\\r\\n  </svg>\\r\\n</ng-container>\"","module.exports = \"<div class='viewContainer' [appViewContainer]=\\\"dataService.cache.thumbnail.svg\\\">\\r\\n  <div class='svg_div'>\\r\\n    <svg class='main_svg' [ngStyle]=\\\"{\\r\\n          'top.px':cmd?cmd.floorplan.top!=null?cmd.floorplan.top:0:0,\\r\\n          'left.px':cmd?cmd.floorplan.left!=null?cmd.floorplan.left:0:0,\\r\\n          'width.px':cmd?cmd.back.size.width:0,\\r\\n          'height.px':cmd?cmd.back.size.height:0,\\r\\n          'fill-opacity':cmd && (floorplan.backImg && dataService.cache.floorplan.display.roomImg) ?cmd.floorplan.opacity:1,\\r\\n          'transform':cmd?'scale(' + cmd.floorplan.zoom + ',' + cmd.floorplan.zoom + ')':'scale(1,1)'\\r\\n        }\\\">\\r\\n      <ng-container *ngIf='cmd!=null'>\\r\\n        <g [back]='backData'></g>\\r\\n        <svg [ngStyle]=\\\"{'display':dataService.cache.floorplan.display.roomSvg==true?'block':'none'}\\\">\\r\\n          <g rooms></g>\\r\\n          <g walls></g>\\r\\n          <g points></g>\\r\\n          <g cowalls></g>\\r\\n          <g cornerWins></g>\\r\\n          <g doors></g>\\r\\n          <g wins></g>\\r\\n          <g LUWins></g>\\r\\n          <g paramsModels></g>\\r\\n          <g geometrys></g>\\r\\n          <g svgCamera *ngIf='cameraOn'></g>\\r\\n          <g wall-shadow></g>\\r\\n          <g room-shadow></g>\\r\\n        </svg>>\\r\\n        <g absorbLines (ABEvent)='setAbsorbLineEvent($event)'></g>\\r\\n        <g testSvg (TSEvent)='setTestSvgEvent($event)'></g>\\r\\n      </ng-container>\\r\\n    </svg>\\r\\n  </div>\\r\\n  <ng-container *ngIf='cmd!=null'>\\r\\n    <app-block [block]='blockData'></app-block>\\r\\n  </ng-container>\\r\\n</div>\\r\\n\\r\\n<!-- 记得关闭自动loading加载器 -->\\r\\n\\r\\n<div threeCanvas class='threeView' *ngIf='threeOn==1' [appViewContainer]=\\\"dataService.cache.thumbnail.three\\\">\\r\\n\\r\\n</div>\\r\\n<!-- <div class='svg_div'></div> -->\"","module.exports = \"<canvas id=\\\"mainCanvas\\\"></canvas>\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FwcC5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, ElementRef } from '@angular/core';\r\nimport { JdesignUtil2dService } from './services/jdesign-util2d.service';\r\n\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.scss']\r\n})\r\nexport class AppComponent {\r\n  title = 'app';\r\n  designPopOn: boolean = true\r\n  constructor(private el: ElementRef, private DUService: JdesignUtil2dService) {\r\n    let doc = this.el.nativeElement\r\n    doc.setAttribute('oncontextmenu', \"return false;\")\r\n    doc.setAttribute('ondragstart', \"return false;\")\r\n    doc.setAttribute('onselectstart', \"return false\")\r\n  }\r\n\r\n  ngOnInit() {\r\n    let a = this.DUService.obj.getQueryStringSuper('isSimplify')\r\n    a == 1 ? this.designPopOn = false : true\r\n  }\r\n\r\n}\r\n","import { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { HttpClientModule } from '@angular/common/http'\r\n\r\n\r\nimport { AppComponent } from './app.component';\r\nimport { JdesignDataService } from './services/jdesign-data.service';\r\nimport { Data3dService } from './services/data3d.service';\r\nimport { JdesignUtil2dService } from './services/jdesign-util2d.service';\r\nimport { MessageService } from './services/message.service';\r\nimport { SvgModule } from './svg/svg.module';\r\nimport { DomUpdateService } from './services/dom-update.service';\r\nimport { CalculatorsService } from './services/calculators.service';\r\nimport { DesignPopModule } from './design-pop/design-pop.module';\r\nimport { PopDivService } from './services/pop-div.service';\r\n\r\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\r\nimport { SaveDataService } from './services/save-data.service';\r\nimport { HotKeyService } from './services/hot-key.service';\r\nimport { HttpService } from './services/http.service';\r\nimport { RightMenuService } from './services/right-menu.service';\r\n\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    FormsModule,\r\n    SvgModule,\r\n    DesignPopModule,\r\n    HttpClientModule,\r\n    DesignPopModule,\r\n    NgbModule,\r\n  ],\r\n  providers: [\r\n    JdesignDataService,\r\n    Data3dService,\r\n    JdesignUtil2dService,\r\n    MessageService,\r\n    DomUpdateService,\r\n    CalculatorsService,\r\n    PopDivService,\r\n    SaveDataService,\r\n    HotKeyService,\r\n    HttpService,\r\n    RightMenuService\r\n  ],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n","import { JFloorplan3D } from \"../three/jDesign3D/JFloorplan3D\";\r\nimport { JBack } from \"../svg/common/jdesign/JBack\";\r\nimport { JPoint3D } from \"../three/jDesign3D/JPoint3D\";\r\nimport { JCowall3D } from \"../three/jDesign3D/JCowall3D\";\r\nimport { JWall3D } from \"../three/jDesign3D/JWall3D\";\r\nimport { JRoom3D } from \"../three/jDesign3D/JRoom3D\";\r\nimport { JCmd } from \"../svg/common/jdesign/JCmd\";\r\nimport { JCache } from \"../svg/common/jdesign/JCache\";\r\nimport { JFloor3D } from \"../three/jDesign3D/JFloor3D\";\r\nimport { JDoor3D } from \"../three/jDesign3D/JDoor3D\";\r\nimport { JFurniture } from \"../svg/common/jdesign/JFurniture\";\r\nimport { JWin3D } from \"../three/jDesign3D/JWin3D\";\r\nimport { JFurniture3D } from \"../three/jDesign3D/JFurniture3D\";\r\nimport { JCornerWin3D } from \"../three/jDesign3D/JCornerWin3D\";\r\nimport { JCamera3D } from \"../three/jDesign3D/JCamera3D\";\r\nimport { JBayWin3D } from \"../three/jDesign3D/JBayWin3D\";\r\nimport { JBuild3D } from \"../three/jDesign3D/JBuild3D\";\r\nimport { JLWin3D } from \"../three/jDesign3D/JLWin3D\";\r\nimport { JUWin3D } from \"../three/jDesign3D/JUWin3D\";\r\nimport { JParamsModel3D } from \"../three/jDesign3D/JParamsModel3D\";\r\n\r\nexport let points: JPoint3D[] = []\r\nexport let cowalls: JCowall3D[] = []\r\nexport let walls: JWall3D[] = []\r\nexport let rooms: JRoom3D[] = []\r\nexport let floors: JFloor3D[] = []\r\nexport let roofs: any = []\r\nexport let doors: JDoor3D[] = []\r\nexport let wins: (JWin3D | JBayWin3D)[] = []\r\nexport let cameras: JCamera3D[] = []\r\nexport let furnitures: JFurniture3D[] = []\r\nexport let builds: JBuild3D[] = []\r\nexport let cornerWins: JCornerWin3D[] = []\r\nexport let LWins: JLWin3D[] = []\r\nexport let UWins: JUWin3D[] = []\r\nexport let paramsModels:JParamsModel3D[]=[]\r\nexport let cache: JCache = new JCache()\r\n","export let popRightData = {\r\n    \"闭合\": {\r\n        \"ico\": \"#icon-bihe\"\r\n    },\r\n    \"退出\": {\r\n        \"ico\": \"#icon-tuichu\"\r\n    },\r\n    \"取消\": {\r\n        \"ico\": \"#icon-quxiao\"\r\n    },\r\n    \"拆分墙\": {\r\n        \"ico\": \"#icon-chaifen\"\r\n    },\r\n    \"转弧墙\": {\r\n        \"ico\": \"#icon-huxing\"\r\n    },\r\n    \"背景图修改\": {\r\n        \"ico\": \"#icon-tubiao3\"\r\n    },\r\n    \"删除背景图\": {\r\n        \"ico\": \"#icon-shanchu\"\r\n    },\r\n    \"连接墙体\": {\r\n        \"ico\": \"#icon-ljie\"\r\n    },\r\n    \"变成阳台\": {\r\n        \"ico\": \"#icon-yangtai\"\r\n    },\r\n    \"变成正常\": {\r\n        \"ico\": \"#icon-zhengchang\"\r\n    },\r\n    \"地板测试\": {\r\n        \"ico\": \"#icon-diban\"\r\n    }\r\n}\r\n\r\nexport let panelTopData = {\r\n    \"文件\": {\r\n        \"icon\": \"#icon-wenjian2\"\r\n    },\r\n    \"保存\": {\r\n        \"icon\": \"#icon-baocun2\"\r\n    },\r\n    \"编辑\": {\r\n        \"icon\": \"#icon-bianji\"\r\n    },\r\n    \"画墙\": {\r\n        \"icon\": \"#icon-shezhi\"\r\n    },\r\n    \"画空间\": {\r\n        \"icon\": \"#icon-shezhi\"\r\n    }\r\n}\r\n\r\nexport let PanelTopFuncData: {\r\n    name: string,\r\n    type?: string,\r\n    func: (e?: any) => void\r\n}[] = []","import { PosUtil } from \"../svg/common/Util/PosUtil\";\r\nimport { CommonUtil } from \"../svg/common/Util/CommonUtil\";\r\nimport { CalUtil } from \"../svg/common/Util/CalUtil\";\r\nimport { SvgUtil } from \"../svg/common/Util/SvgUtil\";\r\nimport { ConsoleUtil } from \"../svg/common/Util/consoleUtil\";\r\nimport { ObjUtil } from \"../svg/common/Util/ObjUtil\";\r\nimport { AbsorbUtil } from \"../svg/common/Util/AbsorbUtil\";\r\nimport { ParseJ2D } from \"../svg/common/Util/parseJ2D\";\r\nimport { JParseJ2D } from \"../svg/common/Util/JParseJ2D\";\r\n\r\nexport let newPosUtil = new PosUtil()\r\nexport let newCommonUtil = new CommonUtil()\r\nexport let newCalUtil = new CalUtil()\r\nexport let newSvgUtil = new SvgUtil()\r\nexport let newConsoleUtil = new ConsoleUtil()\r\nexport let newObjUtil = new ObjUtil()\r\nexport let newAbsorbUtil = new AbsorbUtil(newPosUtil)\r\nexport let newParseJ2D = new JParseJ2D()","module.exports = \".icon {\\r\\n    width: 24px;\\r\\n    height: 24px;\\r\\n    vertical-align: -0.15em;\\r\\n    fill: #808080;\\r\\n    margin: 0 auto;\\r\\n}\\r\\n.btn {\\r\\n    background: transparent;\\r\\n    font-size: .7rem;\\r\\n    line-height: 12px;\\r\\n    color: #696969;\\r\\n    padding: 0;\\r\\n}\\r\\n.btn:hover .icon{\\r\\n    fill:lightblue;\\r\\n}\\r\\n.iconbox {\\r\\n    padding: 0;\\r\\n    width: 34px;\\r\\n    margin: 0 auto;\\r\\n    height: 32px;\\r\\n    border-radius: 4px;\\r\\n    border: 1px solid transparent;\\r\\n    padding-top: 3px;\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZGVzaWduLXBvcC9jb250YWluZXIvYnV0dG9uLWxpc3QvYnV0dG9uLWxpc3QuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLFdBQVc7SUFDWCxZQUFZO0lBQ1osdUJBQXVCO0lBQ3ZCLGFBQWE7SUFDYixjQUFjO0FBQ2xCO0FBQ0E7SUFDSSx1QkFBdUI7SUFDdkIsZ0JBQWdCO0lBQ2hCLGlCQUFpQjtJQUNqQixjQUFjO0lBQ2QsVUFBVTtBQUNkO0FBQ0E7SUFDSSxjQUFjO0FBQ2xCO0FBQ0E7SUFDSSxVQUFVO0lBQ1YsV0FBVztJQUNYLGNBQWM7SUFDZCxZQUFZO0lBQ1osa0JBQWtCO0lBQ2xCLDZCQUE2QjtJQUM3QixnQkFBZ0I7QUFDcEIiLCJmaWxlIjoic3JjL2FwcC9kZXNpZ24tcG9wL2NvbnRhaW5lci9idXR0b24tbGlzdC9idXR0b24tbGlzdC5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmljb24ge1xyXG4gICAgd2lkdGg6IDI0cHg7XHJcbiAgICBoZWlnaHQ6IDI0cHg7XHJcbiAgICB2ZXJ0aWNhbC1hbGlnbjogLTAuMTVlbTtcclxuICAgIGZpbGw6ICM4MDgwODA7XHJcbiAgICBtYXJnaW46IDAgYXV0bztcclxufVxyXG4uYnRuIHtcclxuICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xyXG4gICAgZm9udC1zaXplOiAuN3JlbTtcclxuICAgIGxpbmUtaGVpZ2h0OiAxMnB4O1xyXG4gICAgY29sb3I6ICM2OTY5Njk7XHJcbiAgICBwYWRkaW5nOiAwO1xyXG59XHJcbi5idG46aG92ZXIgLmljb257XHJcbiAgICBmaWxsOmxpZ2h0Ymx1ZTtcclxufVxyXG4uaWNvbmJveCB7XHJcbiAgICBwYWRkaW5nOiAwO1xyXG4gICAgd2lkdGg6IDM0cHg7XHJcbiAgICBtYXJnaW46IDAgYXV0bztcclxuICAgIGhlaWdodDogMzJweDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDRweDtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkIHRyYW5zcGFyZW50O1xyXG4gICAgcGFkZGluZy10b3A6IDNweDtcclxufSJdfQ== */\"","import { Component, OnInit,Input } from '@angular/core';\r\n\r\n@Component({\r\n  selector: '[buttonList]',\r\n  templateUrl: './button-list.component.html',\r\n  styleUrls: ['./button-list.component.css']\r\n})\r\nexport class ButtonListComponent implements OnInit {\r\n  private _button\r\n  @Input() set buttonList(data){\r\n    this._button = data;\r\n    // console.log(data)\r\n  }\r\n  get buttonList(){return this._button}\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ButtonListComponent } from './button-list.component';\r\nimport {NgbModule} from '@ng-bootstrap/ng-bootstrap'\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    NgbModule\r\n  ],\r\n  declarations: [ButtonListComponent],\r\n  exports:[ButtonListComponent]\r\n})\r\nexport class ButtonListModule { }\r\n","module.exports = \".out_div{\\r\\n   max-width: 135px;\\r\\n    background: #fafafa;\\r\\n    border: 1px solid #d6d6d6;\\r\\n    box-shadow: 0 2px 7px 0.16px rgba(52,58,64,.25);\\r\\n    border-radius: 4px;\\r\\n    color: #444b52;\\r\\n    font-size: 12px;\\r\\n    padding: 3px 0;\\r\\n    display: block;\\r\\n    position: absolute;\\r\\n    z-index:1;\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZGVzaWduLXBvcC9jb250YWluZXIvY29udGFpbmVyLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7R0FDRyxnQkFBZ0I7SUFDZixtQkFBbUI7SUFDbkIseUJBQXlCO0lBQ3pCLCtDQUErQztJQUMvQyxrQkFBa0I7SUFDbEIsY0FBYztJQUNkLGVBQWU7SUFDZixjQUFjO0lBQ2QsY0FBYztJQUNkLGtCQUFrQjtJQUNsQixTQUFTO0FBQ2IiLCJmaWxlIjoic3JjL2FwcC9kZXNpZ24tcG9wL2NvbnRhaW5lci9jb250YWluZXIuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5vdXRfZGl2e1xyXG4gICBtYXgtd2lkdGg6IDEzNXB4O1xyXG4gICAgYmFja2dyb3VuZDogI2ZhZmFmYTtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkICNkNmQ2ZDY7XHJcbiAgICBib3gtc2hhZG93OiAwIDJweCA3cHggMC4xNnB4IHJnYmEoNTIsNTgsNjQsLjI1KTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDRweDtcclxuICAgIGNvbG9yOiAjNDQ0YjUyO1xyXG4gICAgZm9udC1zaXplOiAxMnB4O1xyXG4gICAgcGFkZGluZzogM3B4IDA7XHJcbiAgICBkaXNwbGF5OiBibG9jaztcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHotaW5kZXg6MTtcclxufSJdfQ== */\"","import { Component, OnInit, Input } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-container',\r\n  templateUrl: './container.component.html',\r\n  styleUrls: ['./container.component.css']\r\n})\r\nexport class ContainerComponent implements OnInit {\r\n  private _container;\r\n  @Input() set container(data) {\r\n    if (data != null) {\r\n      data.outArea.style = {\r\n        \"top\": data.outArea.position.y - (34 * data.content.length + 8) / 2 + 'px',\r\n        \"left\": data.outArea.position.x - 19 + 'px',\r\n        \"transform\": 'rotate(' + data.outArea.rotate + 'deg)',\r\n        \"z-index\":\"index\" in data.outArea == true ? data.outArea.index : 0\r\n      }\r\n    }\r\n    this._container = data;\r\n\r\n\r\n  }\r\n\r\n  get container() {\r\n    return this._container;\r\n  }\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ContainerComponent } from './container.component';\r\nimport { ButtonListModule } from './button-list/button-list.module';\r\n\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    ButtonListModule\r\n  ],\r\n  declarations: [ContainerComponent],\r\n  exports:[ContainerComponent]\r\n})\r\nexport class ContainerModule { }\r\n","module.exports = \".cue-info{\\r\\n    height: 50px;\\r\\n    display: flex;\\r\\n    text-align: center;\\r\\n    flex-wrap: wrap;\\r\\n    justify-content: center;\\r\\n    z-index: 1;\\r\\n}\\r\\n.cue-info .center-text{\\r\\n    position: absolute;\\r\\n    top: 55px;\\r\\n    display: flex;\\r\\n    background: white;\\r\\n    border: 1px solid #e5e5e5;\\r\\n    height: 30px;\\r\\n    flex-wrap: wrap;\\r\\n    justify-content: center;\\r\\n    -moz-box-pack: center;\\r\\n    -webkit-moz-box-pack: center;\\r\\n    -webkit-box-pack: center;\\r\\n    padding-left: 0;\\r\\n    margin-bottom: 0;\\r\\n    list-style: none;\\r\\n    float: left;\\r\\n    border-top: 0;\\r\\n    z-index: 50;\\r\\n    border-radius: 3px;\\r\\n}\\r\\n.cue-text,.cue-time,.cue-button{\\r\\n    padding: 5px 8px;\\r\\n    height: 100%;\\r\\n    color: color;\\r\\n}\\r\\n.cue-button{\\r\\n    color: #3182f7;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZGVzaWduLXBvcC9jdWUtaW5mby9jdWUtaW5mby5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksWUFBWTtJQUNaLGFBQWE7SUFDYixrQkFBa0I7SUFDbEIsZUFBZTtJQUNmLHVCQUF1QjtJQUN2QixVQUFVO0FBQ2Q7QUFDQTtJQUNJLGtCQUFrQjtJQUNsQixTQUFTO0lBQ1QsYUFBYTtJQUNiLGlCQUFpQjtJQUNqQix5QkFBeUI7SUFDekIsWUFBWTtJQUVaLGVBQWU7SUFFZix1QkFBdUI7SUFDdkIscUJBQXFCO0lBQ3JCLDRCQUE0QjtJQUM1Qix3QkFBd0I7SUFDeEIsZUFBZTtJQUNmLGdCQUFnQjtJQUNoQixnQkFBZ0I7SUFDaEIsV0FBVztJQUNYLGFBQWE7SUFDYixXQUFXO0lBQ1gsa0JBQWtCO0FBQ3RCO0FBQ0E7SUFDSSxnQkFBZ0I7SUFDaEIsWUFBWTtJQUNaLFlBQVk7QUFDaEI7QUFDQTtJQUNJLGNBQWM7QUFDbEIiLCJmaWxlIjoic3JjL2FwcC9kZXNpZ24tcG9wL2N1ZS1pbmZvL2N1ZS1pbmZvLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY3VlLWluZm97XHJcbiAgICBoZWlnaHQ6IDUwcHg7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgZmxleC13cmFwOiB3cmFwO1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICB6LWluZGV4OiAxO1xyXG59XHJcbi5jdWUtaW5mbyAuY2VudGVyLXRleHR7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICB0b3A6IDU1cHg7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgYmFja2dyb3VuZDogd2hpdGU7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjZTVlNWU1O1xyXG4gICAgaGVpZ2h0OiAzMHB4O1xyXG4gICAgLW1zLWZsZXgtd3JhcDogd3JhcDtcclxuICAgIGZsZXgtd3JhcDogd3JhcDtcclxuICAgIC1tcy1mbGV4LXBhY2s6IGNlbnRlcjtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgLW1vei1ib3gtcGFjazogY2VudGVyO1xyXG4gICAgLXdlYmtpdC1tb3otYm94LXBhY2s6IGNlbnRlcjtcclxuICAgIC13ZWJraXQtYm94LXBhY2s6IGNlbnRlcjtcclxuICAgIHBhZGRpbmctbGVmdDogMDtcclxuICAgIG1hcmdpbi1ib3R0b206IDA7XHJcbiAgICBsaXN0LXN0eWxlOiBub25lO1xyXG4gICAgZmxvYXQ6IGxlZnQ7XHJcbiAgICBib3JkZXItdG9wOiAwO1xyXG4gICAgei1pbmRleDogNTA7XHJcbiAgICBib3JkZXItcmFkaXVzOiAzcHg7XHJcbn1cclxuLmN1ZS10ZXh0LC5jdWUtdGltZSwuY3VlLWJ1dHRvbntcclxuICAgIHBhZGRpbmc6IDVweCA4cHg7XHJcbiAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICBjb2xvcjogY29sb3I7XHJcbn1cclxuLmN1ZS1idXR0b257XHJcbiAgICBjb2xvcjogIzMxODJmNztcclxufVxyXG4iXX0= */\"","import { Component, OnInit,Input } from '@angular/core';\r\n\r\n@Component({\r\n  selector: '[cueInfo]',\r\n  templateUrl: './cue-info.component.html',\r\n  styleUrls: ['./cue-info.component.css']\r\n})\r\nexport class CueInfoComponent implements OnInit {\r\n  private _cueInfo;\r\n  timer;\r\n  @Input() set cueInfo(data){\r\n    if(data != null){\r\n      this._cueInfo = data;\r\n      clearInterval(this.timer);\r\n      if(this._cueInfo != undefined){\r\n        this.timer = setInterval(() => {\r\n          this.setMessage(this._cueInfo)\r\n        }, 1000);\r\n      }\r\n    } \r\n  }\r\n  get cueInfo(){return this._cueInfo}\r\n  constructor() { \r\n    \r\n    \r\n  }\r\n\r\n  ngOnInit() {\r\n    // console.log(this._cueInfo)\r\n    \r\n  }\r\n\r\n  setMessage(obj){\r\n    obj.time -= 1;\r\n    if (this._cueInfo.time == 0) {\r\n      clearInterval(this.timer);\r\n    }\r\n  }\r\n  hidde(){\r\n    this._cueInfo.time = 0;\r\n    clearInterval(this.timer);\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { CueInfoComponent } from './cue-info.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  declarations: [CueInfoComponent],\r\n  exports:[CueInfoComponent]\r\n})\r\nexport class CueInfoModule { }\r\n","module.exports = \".viewContainer {\\n  display: block;\\n  width: 220px;\\n  height: 200px;\\n  background-color: #ddd;\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZGVzaWduLXBvcC9EOlxca25vd2xlZGdlXFxoZ1xcb2xkXFxvbGRSb29tL3NyY1xcYXBwXFxkZXNpZ24tcG9wXFxkZXNpZ24tcG9wLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9kZXNpZ24tcG9wL2Rlc2lnbi1wb3AuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxjQUFBO0VBQ0EsWUFBQTtFQUNBLGFBQUE7RUFDQSxzQkFBQTtFQUNBLGtCQUFBO0VBQ0EsTUFBQTtFQUNBLE9BQUE7QUNDSiIsImZpbGUiOiJzcmMvYXBwL2Rlc2lnbi1wb3AvZGVzaWduLXBvcC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi52aWV3Q29udGFpbmVye1xyXG4gICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICB3aWR0aDogMjIwcHg7XHJcbiAgICBoZWlnaHQ6IDIwMHB4O1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2RkZDtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHRvcDogMDtcclxuICAgIGxlZnQ6IDA7XHJcbn0iLCIudmlld0NvbnRhaW5lciB7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICB3aWR0aDogMjIwcHg7XG4gIGhlaWdodDogMjAwcHg7XG4gIGJhY2tncm91bmQtY29sb3I6ICNkZGQ7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAwO1xuICBsZWZ0OiAwO1xufSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\r\nimport { PopDivService } from '../services/pop-div.service';\r\nimport { JdesignDataService } from '../services/jdesign-data.service';\r\nimport { hotKey } from './hotkey/hotkey.class';\r\nimport { NewHotKey } from './hotkey/newHotKey.class'\r\nimport { NewNewHotKey } from './hotkey/newNewHotKey.class';\r\nimport { HotKeyData } from '../designStyleData/hotKey.config.ts/hotKey.data';\r\n\r\n@Component({\r\n  selector: 'app-design-pop',\r\n  templateUrl: './design-pop.component.html',\r\n  styleUrls: ['./design-pop.component.scss']\r\n})\r\nexport class DesignPopComponent implements OnInit {\r\n\r\n  private _rigthClickMenu: any = null\r\n  get rigthClickMenu() {\r\n    // console.log(this._rigthClickMenu)\r\n    return this._rigthClickMenu\r\n  }\r\n  set rigthClickMenu(data) {\r\n    this._rigthClickMenu = data\r\n  }\r\n  hotKey: any = [];\r\n  condtion: true;\r\n  // 顶部操作按钮数据\r\n  panelTop: any;\r\n  // 切换视图数据\r\n  toggleData: any = null\r\n\r\n  /* 加载开关 */\r\n  // loadingOn = true;\r\n  // 左侧按钮数据\r\n  panelLeft: any = null\r\n  // 类型选择页面数据\r\n  productMenu = null\r\n  /* 沙发 */\r\n  safaData = null\r\n  // 产品页面数据\r\n  datailMenu: any = null\r\n  // 左侧类型列表\r\n  listData = null\r\n\r\n  // 右侧属性面板数据\r\n  panelRight: any = null;\r\n  panelBottom: any = null;\r\n  // 输入框数据\r\n  inputBox: any = null;\r\n  // 弹出信息数据\r\n  popMessage: any = null;\r\n  // 按钮数据\r\n  button: any = null\r\n  // 提示信息显示\r\n  cueInfo: any = null\r\n  testData: any = {\r\n    pos: {\r\n      x: 100,\r\n      y: 100\r\n    },\r\n    data: [\r\n      {\r\n        text: \"value\",\r\n        func: (e, value) => {\r\n          console.log(value)\r\n        }\r\n      }\r\n    ]\r\n  }\r\n  /* 背景图 */\r\n  // imgDistance: any = {\r\n  //   url: './assets/img/1.jpg',\r\n  //   width: 322,\r\n  //   height: 240\r\n  // }\r\n  imgDistance: any = null;\r\n\r\n\r\n  constructor(\r\n    private popService: PopDivService,\r\n    private dataService: JdesignDataService,\r\n  ) {\r\n    this.popService.rightClick.subscribe((data) => {\r\n      this.rigthClickMenu = data\r\n    })\r\n    this.popService.panelTop.subscribe((data) => {\r\n      this.panelTop = data\r\n    })\r\n    this.popService.inputBoxs.subscribe((data) => {\r\n      this.inputBox = data\r\n    })\r\n\r\n    this.popService.message.subscribe((data) => {\r\n      // console.log(data)\r\n      this.popMessage = data\r\n    })\r\n\r\n    this.popService.backImg.subscribe((data) => {\r\n      // console.log(data)\r\n      this.imgDistance = data\r\n    })\r\n\r\n    this.popService.buttons.subscribe((data) => {\r\n      this.button = data\r\n    })\r\n\r\n    this.popService.thumbnail.subscribe((data) => {\r\n      this.toggleData = data\r\n    })\r\n\r\n    this.popService.panelRightData.subscribe((data) => {\r\n      // console.log(data)\r\n      this.popService.getMaterial.emit(null);\r\n      this.panelRight = data\r\n      // console.log(data)\r\n    })\r\n    this.popService.panelBottom.subscribe((data) => {\r\n      this.panelBottom = data;\r\n    })\r\n\r\n    // this.popService.loadingPage.subscribe((data) => {\r\n    //   this.loadingOn = data.loadingOn\r\n    // })\r\n\r\n    this.popService.testInputBtn.subscribe((data) => {\r\n      this.testData = data\r\n    })\r\n\r\n\r\n    /* 左边=========================== */\r\n    // this.popService.leftBtn.subscribe((data) => {\r\n    //   this.panelLeft = data\r\n    // })\r\n\r\n    this.popService.leftProduct.subscribe((data) => {\r\n      this.datailMenu = data\r\n    })\r\n\r\n    this.popService.leftMenuList.subscribe((data) => {\r\n      this.listData = data\r\n    })\r\n\r\n    this.popService.leftMenuType.subscribe((data) => {\r\n      this.productMenu = data\r\n    })\r\n\r\n    this.popService.sendLeftData.subscribe((data) => {\r\n      // console.log(data);\r\n      this.panelLeft = data\r\n    })\r\n    this.popService.cueInfo.subscribe((data) => {\r\n      this.cueInfo = data;\r\n    })\r\n\r\n    // this.popService.panelLeftDraw.subscribe((data) => {\r\n    //   this.panelLeft = data\r\n    // })\r\n\r\n    // this.popService.panelLeftSofaData.subscribe((data) => {\r\n    //   this.safaData = data\r\n    // })\r\n    /* 所有东西加载完才设置热键 */\r\n    this.dataService.cache.common.allInit.subscribe(() => {\r\n      // console.log('ssssss')\r\n      // let key = new hotKey(document, this.dataService.cache.hotKeys)\r\n      let hotKeyData = new HotKeyData(this.dataService)\r\n      let newKey = new NewNewHotKey(hotKeyData.shortKeyData)\r\n      // console.log(this.dataService.cache.shortFuncs)\r\n      this.dataService.cache.common.chooseUpdate.subscribe((data) => {\r\n        newKey.designObj = data\r\n      })\r\n    })\r\n  }\r\n\r\n  ngOnInit() {\r\n\r\n  }\r\n\r\n\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { DesignPopComponent } from './design-pop.component';\r\nimport { PopDivModule } from './pop-div/pop-div.module';\r\nimport { PanelModule } from './panel/panel.module';\r\nimport { InputDivModule } from './input-div/input-div.module';\r\nimport { PanelTopModule } from './panel/panel-top/panel-top.module';\r\nimport { MessagesModule } from './panel/messages/messages.module';\r\nimport { ContainerModule } from './container/container.module';\r\nimport { ImgDistanceModule } from './img-distance/img-distance.module';\r\nimport { ToggleWindowModule } from './toggle-window/toggle-window.module';\r\nimport { ViewContainerDirective } from './toggle-window/view-container.directive';\r\nimport { LoadingModule } from './loading/loading.module';\r\nimport { PanelLeftModule } from './panel/panel-left/panel-left.module';\r\nimport { TestModule } from './test/test.module';\r\nimport { ThreeToolsModule } from './three-tools/three-tools.module';\r\nimport { PanelBottomModule } from './panel/panel-bottom/panel-bottom.module';\r\nimport { PanelPropetyModule } from './panel/panel-propety/panel-propety.module';\r\nimport { CueInfoModule } from './cue-info/cue-info.module';\r\n\r\n// import { PanelTopModule} from './panel/panel-top/panel-top.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    PopDivModule,\r\n    PanelModule,\r\n    InputDivModule,\r\n    PanelTopModule,\r\n    PanelPropetyModule,\r\n    PanelLeftModule,\r\n    PanelBottomModule,\r\n    MessagesModule,\r\n    ImgDistanceModule,\r\n    ContainerModule,\r\n    ToggleWindowModule,\r\n    LoadingModule,\r\n    TestModule,\r\n    ThreeToolsModule,\r\n    CueInfoModule\r\n    // HotkeyModule\r\n    // ViewContainerDirective\r\n  ],\r\n  declarations: [DesignPopComponent],\r\n  exports: [DesignPopComponent]\r\n})\r\nexport class DesignPopModule { }\r\n","export class NewNewHotKey {\r\n    /** 存放按键 */\r\n    private _saveKeysData: boolean[] = []\r\n    /** 当前按键个数 */\r\n    private _currentDownKeyNum: number = 0\r\n    /* 已经触发方法标记 */\r\n    private _isDoneArr: boolean[] = []\r\n    /* 操作对象 */\r\n    designObj: any\r\n    /* 排除对象 */\r\n    exkeys = []\r\n    constructor(\r\n        private shortKeys: ShortKey[]\r\n    ) {\r\n        document.addEventListener(\"keydown\", (e) => {\r\n            let key = this.getTransKey(e)\r\n            this.addDownKey(key)\r\n            let isDo = this.setDownKeys(this.shortKeys);\r\n            if (isDo) {\r\n                e.preventDefault();\r\n                return false;\r\n            }\r\n\r\n        })\r\n\r\n        document.addEventListener(\"keyup\", (e) => {\r\n            this.setUpKeys(this.shortKeys)\r\n            let key = this.getTransKey(e)\r\n            this.removeUpKey(key)\r\n            e.preventDefault();\r\n            return false;\r\n        })\r\n    }\r\n\r\n    /* 转键 */\r\n    getTransKey(e) {\r\n        // 将大写按键转换为小写\r\n        if (e.keyCode >= 65 && e.keyCode <= 90) {\r\n            return e.key.toLowerCase();\r\n        }\r\n        else {\r\n            return e.key;\r\n        }\r\n        // return e.key.toLowerCase()\r\n    }\r\n\r\n    /* 判断按键 */\r\n    checkKeys(keys: string[]) {\r\n        if (this._currentDownKeyNum >= keys.length) {\r\n            let same = true\r\n            for (let i = 0; i < keys.length; i++) {\r\n                if (!this._saveKeysData[keys[i]]) {\r\n                    same = false\r\n                    break\r\n                }\r\n            }\r\n            return same\r\n        }\r\n        return false\r\n    }\r\n\r\n    /** 检测状态 */\r\n    checkStatus(status?: () => boolean | (() => boolean)[]) {\r\n        /* 空值返回true */\r\n        if (!status)\r\n            return true\r\n        /* 如果是数组(只要有一个为true,则true) */\r\n        if (status instanceof Array) {\r\n            for (let i = 0; i < status.length; i++) {\r\n                if (status[i]())\r\n                    return true\r\n            }\r\n            return false\r\n        }\r\n        /* 如果不是数组 */\r\n        return status()\r\n    }\r\n\r\n    /* 检测对象 */\r\n    checkIsObj(isObj: (obj: any) => boolean) {\r\n        /* 空值返回true */\r\n        if (!isObj)\r\n            return true\r\n        return (this.designObj != undefined && isObj(this.designObj))\r\n    }\r\n\r\n    /* 添加按键 */\r\n    addDownKey(key: string) {\r\n        if (!this._saveKeysData[key])\r\n            this._currentDownKeyNum++\r\n        this._saveKeysData[key] = true;\r\n    }\r\n\r\n    /* 放开按键 */\r\n    removeUpKey(key: string) {\r\n        this._currentDownKeyNum--\r\n        this._saveKeysData[key] = false;\r\n    }\r\n\r\n    /* 所有触发按下去的方法 */\r\n    setDownKeys(shortKeys: ShortKey[]) {\r\n        let isDo = false\r\n        for (let i = 0; i < shortKeys.length; i++) {\r\n            let a = this.setDownkey(shortKeys[i], i)\r\n            if (a)\r\n                isDo = true\r\n        }\r\n        return isDo\r\n    }\r\n\r\n    /* 所有触发放开的方法 */\r\n    setUpKeys(shortKeys: ShortKey[]) {\r\n        for (let i = 0; i < shortKeys.length; i++) {\r\n            this.setUpKey(shortKeys[i], i)\r\n        }\r\n    }\r\n\r\n    /* 触发按下去的方法 */\r\n    setDownkey(shortKey: ShortKey, index: number) {\r\n        if (shortKey.getObj) {\r\n            this.designObj = (typeof shortKey.getObj) == \"function\" ? shortKey.getObj() : shortKey.getObj\r\n        }\r\n        if (\r\n            shortKey.downFunc &&\r\n            this.checkKeys(shortKey.keys) &&\r\n            this.checkIsObj(shortKey.isObj) &&\r\n            this.checkStatus(shortKey.status)\r\n        ) {\r\n            /* 是否已经执行过了 */\r\n            if (!this._isDoneArr[index]) {\r\n                if (!shortKey.isObj) {\r\n                    shortKey.downFunc()\r\n                }\r\n                else {\r\n                    shortKey.downFunc(this.designObj)\r\n                }\r\n                this._isDoneArr[index] = true\r\n            }\r\n            return true\r\n        }\r\n        return false\r\n    }\r\n\r\n    /* 触发按上去的方法 */\r\n    setUpKey(shortKey: ShortKey, index: number) {\r\n        if (shortKey.getObj) {\r\n            this.designObj = (typeof shortKey.getObj) == \"function\" ? shortKey.getObj() : shortKey.getObj\r\n        }\r\n        /* 提前判断是为了将按下方法是否执行改为false */\r\n        if (this.checkKeys(shortKey.keys)) {\r\n            this._isDoneArr[index] = false\r\n            if (\r\n                shortKey.upFunc &&\r\n                this.checkIsObj(shortKey.isObj) &&\r\n                this.checkStatus(shortKey.status)\r\n            ) {\r\n                if (!shortKey.isObj)\r\n                    shortKey.upFunc()\r\n                else\r\n                    shortKey.upFunc(this.designObj)\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport class ShortKey {\r\n    keys: string[];\r\n    isObj?: (obj: any) => boolean;\r\n    status?: () => boolean | (() => boolean)[];\r\n    downFunc?: (obj?: any) => void;\r\n    upFunc?: (obj?: any) => void;\r\n    getObj?: any;\r\n}","module.exports = \".zhezhao {\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    position: absolute;\\r\\n    top: 0;\\r\\n    left: 0;\\r\\n    background-color: rgba(0, 0, 0, 0.2);\\r\\n    z-index: 101;\\r\\n}\\r\\n\\r\\n.pop {\\r\\n    width: 700px;\\r\\n    height: 530px;\\r\\n    border-radius: 4px;\\r\\n    position: absolute;\\r\\n    top: calc(50% - 265px);\\r\\n    left: calc(50% - 350px);\\r\\n    background-color: #f7f7f7;\\r\\n}\\r\\n\\r\\n.pop>.title {\\r\\n    width: 100%;\\r\\n    height: 50px;\\r\\n    position: relative;\\r\\n    border-top-left-radius: 4px;\\r\\n    border-top-right-radius: 4px;\\r\\n    background-color: white;\\r\\n    border-bottom: 1px solid #e3e3e3\\r\\n}\\r\\n\\r\\n.title .name {\\r\\n    font-family: '微软雅黑';\\r\\n    font-size: 20px;\\r\\n    text-align: center;\\r\\n    line-height: 50px;\\r\\n    display: block;\\r\\n    width: 100%;\\r\\n    height: 50px;\\r\\n}\\r\\n\\r\\n.title .btnclose {\\r\\n    overflow: hidden;\\r\\n    width: 52px;\\r\\n    height: 30px;\\r\\n    border-left: 1px solid #e3e3e3;\\r\\n    line-height: 30px;\\r\\n    text-align: center;\\r\\n    position: absolute;\\r\\n    top: 50%;\\r\\n    -webkit-transform: translateY(-50%);\\r\\n            transform: translateY(-50%);\\r\\n    right: 4px;\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n.middle {\\r\\n    width: 600px;\\r\\n    height: 400px;\\r\\n    padding-top: 15px;\\r\\n    margin: 0 auto;\\r\\n}\\r\\n\\r\\n.distance {\\r\\n    display: table-cell;\\r\\n    text-align: center;\\r\\n    vertical-align: middle;\\r\\n    border: 1px solid #ddd;\\r\\n    background-color: white;\\r\\n}\\r\\n\\r\\n.distance svg {\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n}\\r\\n\\r\\n/* .distance .radiu{\\r\\n    width: 10px;\\r\\n    height: 10px;\\r\\n    border-radius: 100%;\\r\\n    background-color: #4d9bd6\\r\\n}\\r\\n.distance img {\\r\\n    vertical-align: middle;\\r\\n} */\\r\\n\\r\\n.pro {\\r\\n    width: 100%;\\r\\n    height: 50px;\\r\\n    padding-top: 10px;\\r\\n}\\r\\n\\r\\n.pro span {\\r\\n    display: block;\\r\\n}\\r\\n\\r\\n.key_value input[type=number] {\\r\\n    width: 80px;\\r\\n    text-align: center;\\r\\n}\\r\\n\\r\\n.bottom {\\r\\n    width: 100%;\\r\\n    /* height: 40px; */\\r\\n    padding-top: 20px;\\r\\n    text-align: right;\\r\\n    padding-right: 29px;\\r\\n}\\r\\n\\r\\n.bottom .btn {\\r\\n    width: 108px;\\r\\n    height: 38px;\\r\\n    font-size: 18px;\\r\\n    margin-right: 20px;\\r\\n    line-height: 38px;\\r\\n    padding: 0 10px;\\r\\n}\\r\\n\\r\\n.bottom .btn-done {\\r\\n    border: 1px solid #3085c4;\\r\\n    background-color: #4d9bd6;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.bottom .btn-default {\\r\\n    border: 1px solid #d9dbdf;\\r\\n    color: gray;\\r\\n    border-radius: 2px;\\r\\n    background: #fff;\\r\\n}\\r\\n\\r\\n.svg_circle {\\r\\n    cursor: move;\\r\\n}\\r\\n\\r\\n.big {}\\r\\n\\r\\n.small {\\r\\n    fill: #f30a0a;\\r\\n}\\r\\n\\r\\n.svg_img {\\r\\n    cursor: move;\\r\\n}\\r\\n\\r\\n.svg_path {\\r\\n    stroke: #3085c4;\\r\\n    stroke-opacity: 0.5;\\r\\n    stroke-width: 1;\\r\\n}\\r\\n\\r\\n.pointStart {\\r\\n    stroke: red;\\r\\n    stroke-width: 1;\\r\\n}\\r\\n\\r\\n.pointEnd {\\r\\n    stroke: blue;\\r\\n    stroke-width: 1;\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZGVzaWduLXBvcC9pbWctZGlzdGFuY2UvaW1nLWRpc3RhbmNlLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxXQUFXO0lBQ1gsWUFBWTtJQUNaLGtCQUFrQjtJQUNsQixNQUFNO0lBQ04sT0FBTztJQUNQLG9DQUFvQztJQUNwQyxZQUFZO0FBQ2hCOztBQUVBO0lBQ0ksWUFBWTtJQUNaLGFBQWE7SUFDYixrQkFBa0I7SUFDbEIsa0JBQWtCO0lBQ2xCLHNCQUFzQjtJQUN0Qix1QkFBdUI7SUFDdkIseUJBQXlCO0FBQzdCOztBQUVBO0lBQ0ksV0FBVztJQUNYLFlBQVk7SUFDWixrQkFBa0I7SUFDbEIsMkJBQTJCO0lBQzNCLDRCQUE0QjtJQUM1Qix1QkFBdUI7SUFDdkI7QUFDSjs7QUFFQTtJQUNJLG1CQUFtQjtJQUNuQixlQUFlO0lBQ2Ysa0JBQWtCO0lBQ2xCLGlCQUFpQjtJQUNqQixjQUFjO0lBQ2QsV0FBVztJQUNYLFlBQVk7QUFDaEI7O0FBRUE7SUFDSSxnQkFBZ0I7SUFDaEIsV0FBVztJQUNYLFlBQVk7SUFDWiw4QkFBOEI7SUFDOUIsaUJBQWlCO0lBQ2pCLGtCQUFrQjtJQUNsQixrQkFBa0I7SUFDbEIsUUFBUTtJQUNSLG1DQUEyQjtZQUEzQiwyQkFBMkI7SUFDM0IsVUFBVTtJQUNWLGVBQWU7QUFDbkI7O0FBRUE7SUFDSSxZQUFZO0lBQ1osYUFBYTtJQUNiLGlCQUFpQjtJQUNqQixjQUFjO0FBQ2xCOztBQUVBO0lBQ0ksbUJBQW1CO0lBQ25CLGtCQUFrQjtJQUNsQixzQkFBc0I7SUFDdEIsc0JBQXNCO0lBQ3RCLHVCQUF1QjtBQUMzQjs7QUFFQTtJQUNJLFdBQVc7SUFDWCxZQUFZO0FBQ2hCOztBQUVBOzs7Ozs7OztHQVFHOztBQUVIO0lBQ0ksV0FBVztJQUNYLFlBQVk7SUFDWixpQkFBaUI7QUFDckI7O0FBRUE7SUFDSSxjQUFjO0FBQ2xCOztBQUVBO0lBQ0ksV0FBVztJQUNYLGtCQUFrQjtBQUN0Qjs7QUFFQTtJQUNJLFdBQVc7SUFDWCxrQkFBa0I7SUFDbEIsaUJBQWlCO0lBQ2pCLGlCQUFpQjtJQUNqQixtQkFBbUI7QUFDdkI7O0FBRUE7SUFDSSxZQUFZO0lBQ1osWUFBWTtJQUNaLGVBQWU7SUFDZixrQkFBa0I7SUFDbEIsaUJBQWlCO0lBQ2pCLGVBQWU7QUFDbkI7O0FBRUE7SUFDSSx5QkFBeUI7SUFDekIseUJBQXlCO0lBQ3pCLFdBQVc7QUFDZjs7QUFFQTtJQUNJLHlCQUF5QjtJQUN6QixXQUFXO0lBQ1gsa0JBQWtCO0lBQ2xCLGdCQUFnQjtBQUNwQjs7QUFFQTtJQUNJLFlBQVk7QUFDaEI7O0FBRUEsTUFBTTs7QUFFTjtJQUNJLGFBQWE7QUFDakI7O0FBRUE7SUFDSSxZQUFZO0FBQ2hCOztBQUVBO0lBQ0ksZUFBZTtJQUNmLG1CQUFtQjtJQUNuQixlQUFlO0FBQ25COztBQUVBO0lBQ0ksV0FBVztJQUNYLGVBQWU7QUFDbkI7O0FBRUE7SUFDSSxZQUFZO0lBQ1osZUFBZTtBQUNuQiIsImZpbGUiOiJzcmMvYXBwL2Rlc2lnbi1wb3AvaW1nLWRpc3RhbmNlL2ltZy1kaXN0YW5jZS5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnpoZXpoYW8ge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICB0b3A6IDA7XHJcbiAgICBsZWZ0OiAwO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjIpO1xyXG4gICAgei1pbmRleDogMTAxO1xyXG59XHJcblxyXG4ucG9wIHtcclxuICAgIHdpZHRoOiA3MDBweDtcclxuICAgIGhlaWdodDogNTMwcHg7XHJcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICB0b3A6IGNhbGMoNTAlIC0gMjY1cHgpO1xyXG4gICAgbGVmdDogY2FsYyg1MCUgLSAzNTBweCk7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjdmN2Y3O1xyXG59XHJcblxyXG4ucG9wPi50aXRsZSB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGhlaWdodDogNTBweDtcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgIGJvcmRlci10b3AtbGVmdC1yYWRpdXM6IDRweDtcclxuICAgIGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiA0cHg7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcclxuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZTNlM2UzXHJcbn1cclxuXHJcbi50aXRsZSAubmFtZSB7XHJcbiAgICBmb250LWZhbWlseTogJ+W+rui9r+mbhem7kSc7XHJcbiAgICBmb250LXNpemU6IDIwcHg7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBsaW5lLWhlaWdodDogNTBweDtcclxuICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBoZWlnaHQ6IDUwcHg7XHJcbn1cclxuXHJcbi50aXRsZSAuYnRuY2xvc2Uge1xyXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgIHdpZHRoOiA1MnB4O1xyXG4gICAgaGVpZ2h0OiAzMHB4O1xyXG4gICAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCAjZTNlM2UzO1xyXG4gICAgbGluZS1oZWlnaHQ6IDMwcHg7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICB0b3A6IDUwJTtcclxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlKTtcclxuICAgIHJpZ2h0OiA0cHg7XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbn1cclxuXHJcbi5taWRkbGUge1xyXG4gICAgd2lkdGg6IDYwMHB4O1xyXG4gICAgaGVpZ2h0OiA0MDBweDtcclxuICAgIHBhZGRpbmctdG9wOiAxNXB4O1xyXG4gICAgbWFyZ2luOiAwIGF1dG87XHJcbn1cclxuXHJcbi5kaXN0YW5jZSB7XHJcbiAgICBkaXNwbGF5OiB0YWJsZS1jZWxsO1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcclxufVxyXG5cclxuLmRpc3RhbmNlIHN2ZyB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGhlaWdodDogMTAwJTtcclxufVxyXG5cclxuLyogLmRpc3RhbmNlIC5yYWRpdXtcclxuICAgIHdpZHRoOiAxMHB4O1xyXG4gICAgaGVpZ2h0OiAxMHB4O1xyXG4gICAgYm9yZGVyLXJhZGl1czogMTAwJTtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICM0ZDliZDZcclxufVxyXG4uZGlzdGFuY2UgaW1nIHtcclxuICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XHJcbn0gKi9cclxuXHJcbi5wcm8ge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBoZWlnaHQ6IDUwcHg7XHJcbiAgICBwYWRkaW5nLXRvcDogMTBweDtcclxufVxyXG5cclxuLnBybyBzcGFuIHtcclxuICAgIGRpc3BsYXk6IGJsb2NrO1xyXG59XHJcblxyXG4ua2V5X3ZhbHVlIGlucHV0W3R5cGU9bnVtYmVyXSB7XHJcbiAgICB3aWR0aDogODBweDtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxufVxyXG5cclxuLmJvdHRvbSB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIC8qIGhlaWdodDogNDBweDsgKi9cclxuICAgIHBhZGRpbmctdG9wOiAyMHB4O1xyXG4gICAgdGV4dC1hbGlnbjogcmlnaHQ7XHJcbiAgICBwYWRkaW5nLXJpZ2h0OiAyOXB4O1xyXG59XHJcblxyXG4uYm90dG9tIC5idG4ge1xyXG4gICAgd2lkdGg6IDEwOHB4O1xyXG4gICAgaGVpZ2h0OiAzOHB4O1xyXG4gICAgZm9udC1zaXplOiAxOHB4O1xyXG4gICAgbWFyZ2luLXJpZ2h0OiAyMHB4O1xyXG4gICAgbGluZS1oZWlnaHQ6IDM4cHg7XHJcbiAgICBwYWRkaW5nOiAwIDEwcHg7XHJcbn1cclxuXHJcbi5ib3R0b20gLmJ0bi1kb25lIHtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkICMzMDg1YzQ7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNGQ5YmQ2O1xyXG4gICAgY29sb3I6ICNmZmY7XHJcbn1cclxuXHJcbi5ib3R0b20gLmJ0bi1kZWZhdWx0IHtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkICNkOWRiZGY7XHJcbiAgICBjb2xvcjogZ3JheTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDJweDtcclxuICAgIGJhY2tncm91bmQ6ICNmZmY7XHJcbn1cclxuXHJcbi5zdmdfY2lyY2xlIHtcclxuICAgIGN1cnNvcjogbW92ZTtcclxufVxyXG5cclxuLmJpZyB7fVxyXG5cclxuLnNtYWxsIHtcclxuICAgIGZpbGw6ICNmMzBhMGE7XHJcbn1cclxuXHJcbi5zdmdfaW1nIHtcclxuICAgIGN1cnNvcjogbW92ZTtcclxufVxyXG5cclxuLnN2Z19wYXRoIHtcclxuICAgIHN0cm9rZTogIzMwODVjNDtcclxuICAgIHN0cm9rZS1vcGFjaXR5OiAwLjU7XHJcbiAgICBzdHJva2Utd2lkdGg6IDE7XHJcbn1cclxuXHJcbi5wb2ludFN0YXJ0IHtcclxuICAgIHN0cm9rZTogcmVkO1xyXG4gICAgc3Ryb2tlLXdpZHRoOiAxO1xyXG59XHJcblxyXG4ucG9pbnRFbmQge1xyXG4gICAgc3Ryb2tlOiBibHVlO1xyXG4gICAgc3Ryb2tlLXdpZHRoOiAxO1xyXG59Il19 */\"","import { Component, OnInit, Input, ElementRef } from '@angular/core';\r\n\r\n@Component({\r\n  selector: '[ImgDistance]',\r\n  templateUrl: './img-distance.component.html',\r\n  styleUrls: ['./img-distance.component.css']\r\n})\r\nexport class ImgDistanceComponent implements OnInit {\r\n  private _distance: DistanceType;\r\n  private _firstPos: JPos = null\r\n  private _moveAct: string = null\r\n  isOrthogonal: boolean = true\r\n  absCircleBigRadius = 30\r\n  circleBigRadius = this.absCircleBigRadius\r\n  circleSmallRadius = 1\r\n  divSize = {\r\n    width: 600,\r\n    height: 320\r\n  }\r\n  svgProper: SvgProper = null\r\n  @Input() set ImgDistance(data) {\r\n\r\n    this._distance = data\r\n    if (data != null) {\r\n      this.svgInit()\r\n    }\r\n    else {\r\n      this.svgProper = null\r\n    }\r\n\r\n  }\r\n  get ImgDistance() { return this._distance }\r\n  constructor(private el: ElementRef) {\r\n\r\n    // this.setEvent()\r\n  }\r\n\r\n  ngOnInit() {\r\n\r\n  }\r\n\r\n  /* 事件=========================================== */\r\n  /* 鼠标按下 */\r\n  mouseDownEvent(e: MouseEvent) {\r\n    this._firstPos = { x: e.clientX, y: e.clientY }\r\n  }\r\n\r\n  /* 鼠标移动 */\r\n  mouseMoveEvent(e: MouseEvent) {\r\n    let newPos = { x: e.clientX, y: e.clientY }\r\n    if (this._firstPos != null) {\r\n      switch (this._moveAct) {\r\n        case 'img':\r\n          this.moveImg(this._firstPos, newPos)\r\n          break;\r\n        case 'pointStart':\r\n          this.movePoint(this._firstPos, newPos, this.svgProper.pointS)\r\n          break;\r\n        case 'pointEnd':\r\n          if (this.isOrthogonal)\r\n            this.verticalMovePoint(this.svgProper.pointS, this._firstPos, newPos, this.svgProper.pointE)\r\n          else\r\n            this.movePoint(this._firstPos, newPos, this.svgProper.pointE)\r\n          break;\r\n      }\r\n      this._firstPos = newPos\r\n    }\r\n  }\r\n\r\n  /* 鼠标放开事件 */\r\n  mouseUpEvent(e: MouseEvent) {\r\n    this._firstPos = null\r\n    this._moveAct = null\r\n  }\r\n\r\n  /* 鼠标滚轴事件 */\r\n  mouseWheelEvent(e: WheelEvent) {\r\n    let distance = 0.2\r\n    if (e.deltaX > 0) {\r\n      this.svgProper.zoom = Math.max(this.svgProper.minZoom, Math.min(this.svgProper.maxZoom, this.svgProper.zoom + distance))\r\n    }\r\n    else {\r\n      this.svgProper.zoom = Math.max(this.svgProper.minZoom, Math.min(this.svgProper.maxZoom, this.svgProper.zoom - distance))\r\n    }\r\n    this.circleBigRadius = this.absCircleBigRadius / this.svgProper.zoom\r\n  }\r\n\r\n\r\n  btnClose(e) {\r\n    this._distance = null;\r\n  }\r\n\r\n  /* 初始化svg */\r\n  svgInit() {\r\n    let svgRatio = this.divSize.width / this.divSize.height\r\n    let imgRatio = this.ImgDistance.width / this.ImgDistance.height\r\n    let imgWidth = 0\r\n    let imgHeight = 0\r\n    let imgTop = 0\r\n    let imgLeft = 0\r\n    if (svgRatio > imgRatio) {\r\n      imgHeight = this.divSize.height\r\n      imgWidth = imgHeight * imgRatio\r\n    }\r\n    else {\r\n      imgWidth = this.divSize.width\r\n      imgHeight = imgWidth / imgRatio\r\n    }\r\n    imgTop = (this.divSize.height - imgHeight) / 2\r\n    imgLeft = (this.divSize.width - imgWidth) / 2\r\n    this.svgProper = {\r\n      width: this.divSize.width,\r\n      height: this.divSize.height,\r\n      maxZoom: 3,\r\n      minZoom: 1,\r\n      pointE: { x: this.divSize.width * 0.65, y: this.divSize.height * 0.3 },\r\n      pointS: { x: this.divSize.width * 0.35, y: this.divSize.height * 0.3 },\r\n      zoom: 1,\r\n      img: {\r\n        width: imgWidth,\r\n        height: imgHeight,\r\n        top: imgTop,\r\n        left: imgLeft\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  setMoveAct(mode: string) {\r\n    this._moveAct = mode\r\n  }\r\n\r\n  /* 移动图片 */\r\n  moveImg(posStart: JPos, posEnd: JPos) {\r\n    this.svgProper.img.left += (posEnd.x - posStart.x) / this.svgProper.zoom\r\n    this.svgProper.img.top += (posEnd.y - posStart.y) / this.svgProper.zoom\r\n    this.movePoint(posStart, posEnd, this.svgProper.pointS)\r\n    this.movePoint(posStart, posEnd, this.svgProper.pointE)\r\n  }\r\n\r\n  /* 移动点 */\r\n  movePoint(posStart: JPos, posEnd: JPos, movePos: JPos) {\r\n    movePos.x += (posEnd.x - posStart.x) / this.svgProper.zoom\r\n    movePos.y += (posEnd.y - posStart.y) / this.svgProper.zoom\r\n  }\r\n\r\n  /* 垂直移动点 */\r\n  verticalMovePoint(targetPos: JPos, posStart: JPos, posEnd: JPos, movePos: JPos) {\r\n    this.movePoint(posStart, posEnd, movePos)\r\n    let distanceX = Math.abs(targetPos.x - (posEnd.x / this.svgProper.zoom))\r\n    let distanceY = Math.abs(targetPos.y - (posEnd.y / this.svgProper.zoom))\r\n    if (distanceX > distanceY) {\r\n      movePos.y = targetPos.y\r\n    }\r\n    else {\r\n      movePos.x = targetPos.x\r\n    }\r\n  }\r\n\r\n  /* 获取线 */\r\n  getPath() {\r\n    let path = `M${this.svgProper.pointS.x} ${this.svgProper.pointS.y},L${this.svgProper.pointE.x} ${this.svgProper.pointE.y}`\r\n    return path\r\n  }\r\n\r\n  /* 测距离 */\r\n  getDistance() {\r\n    let distance = Math.sqrt(Math.pow(this.svgProper.pointE.x - this.svgProper.pointS.x, 2) + Math.pow(this.svgProper.pointE.y - this.svgProper.pointS.y, 2))\r\n    return distance\r\n  }\r\n\r\n  /* 距离事件 */\r\n  setDistanceEvent(e: MouseEvent) {\r\n    let distance = this.getDistance()\r\n    let radtio = this.ImgDistance.distance / distance\r\n    this.ImgDistance.func(e, {\r\n      url: this.ImgDistance.url,\r\n      width: this.svgProper.img.width,\r\n      height: this.svgProper.img.height\r\n    }, radtio)\r\n    this.btnClose(e)\r\n  }\r\n\r\n}\r\n\r\nclass DistanceType {\r\n  url: string;\r\n  width: number;\r\n  height: number;\r\n  distance: number;\r\n  func: (e: MouseEvent, img: {\r\n    url: string;\r\n    width: number;\r\n    height: number;\r\n  },\r\n    radtio: number) => void\r\n}\r\n\r\nclass SvgProper {\r\n  width: number;\r\n  height: number;\r\n  zoom: number\r\n  maxZoom: number;\r\n  minZoom: number;\r\n  pointS: JPos;\r\n  pointE: JPos;\r\n  img: {\r\n    width: number;\r\n    height: number;\r\n    top: number;\r\n    left: number;\r\n  }\r\n}\r\n\r\nclass JPos {\r\n  x: number; y: number\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { FormsModule} from '@angular/forms'\r\nimport { CommonModule } from '@angular/common';\r\nimport { ImgDistanceComponent } from './img-distance.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule\r\n  ],\r\n  declarations: [ImgDistanceComponent],\r\n  exports:[ImgDistanceComponent]\r\n})\r\nexport class ImgDistanceModule { }\r\n","module.exports = \".inputContainer{\\r\\n    position: absolute;\\r\\n    z-index: 3;\\r\\n}\\r\\n.inputContainer input {\\r\\n    width: 30px;\\r\\n    height: 18px;\\r\\n    text-align: center;\\r\\n    font-size: 12px;\\r\\n    outline: none;\\r\\n    /* border-radius: 5px; */\\r\\n    border: 1px solid lightskyblue;\\r\\n    color: #5f5f5f;\\r\\n    cursor: text;\\r\\n}\\r\\ninput::-webkit-outer-spin-button,\\r\\n    input::-webkit-inner-spin-button {\\r\\n        -webkit-appearance: none;\\r\\n    }\\r\\ninput[type=\\\"number\\\"]{\\r\\n        -moz-appearance: textfield;\\r\\n    } \\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZGVzaWduLXBvcC9pbnB1dC1kaXYvaW5wdXQtYm94L2lucHV0LWJveC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksa0JBQWtCO0lBQ2xCLFVBQVU7QUFDZDtBQUNBO0lBQ0ksV0FBVztJQUNYLFlBQVk7SUFDWixrQkFBa0I7SUFDbEIsZUFBZTtJQUNmLGFBQWE7SUFDYix3QkFBd0I7SUFDeEIsOEJBQThCO0lBQzlCLGNBQWM7SUFDZCxZQUFZO0FBQ2hCO0FBQ0E7O1FBRVEsd0JBQXdCO0lBQzVCO0FBQ0E7UUFDSSwwQkFBMEI7SUFDOUIiLCJmaWxlIjoic3JjL2FwcC9kZXNpZ24tcG9wL2lucHV0LWRpdi9pbnB1dC1ib3gvaW5wdXQtYm94LmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuaW5wdXRDb250YWluZXJ7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICB6LWluZGV4OiAzO1xyXG59XHJcbi5pbnB1dENvbnRhaW5lciBpbnB1dCB7XHJcbiAgICB3aWR0aDogMzBweDtcclxuICAgIGhlaWdodDogMThweDtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIGZvbnQtc2l6ZTogMTJweDtcclxuICAgIG91dGxpbmU6IG5vbmU7XHJcbiAgICAvKiBib3JkZXItcmFkaXVzOiA1cHg7ICovXHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCBsaWdodHNreWJsdWU7XHJcbiAgICBjb2xvcjogIzVmNWY1ZjtcclxuICAgIGN1cnNvcjogdGV4dDtcclxufVxyXG5pbnB1dDo6LXdlYmtpdC1vdXRlci1zcGluLWJ1dHRvbixcclxuICAgIGlucHV0Ojotd2Via2l0LWlubmVyLXNwaW4tYnV0dG9uIHtcclxuICAgICAgICAtd2Via2l0LWFwcGVhcmFuY2U6IG5vbmU7XHJcbiAgICB9XHJcbiAgICBpbnB1dFt0eXBlPVwibnVtYmVyXCJde1xyXG4gICAgICAgIC1tb3otYXBwZWFyYW5jZTogdGV4dGZpZWxkO1xyXG4gICAgfSAiXX0= */\"","import { Component, OnInit, ViewChild, Input, ElementRef, Renderer } from '@angular/core';\r\n\r\n@Component({\r\n  selector: '[inputBox]',\r\n  templateUrl: './input-box.component.html',\r\n  styleUrls: ['./input-box.component.css']\r\n})\r\nexport class InputBoxComponent implements OnInit {\r\n  private _inputData;\r\n  @ViewChild('box', { static: false })\r\n  boxDiv: ElementRef;\r\n  @Input() set inputBox(array) {\r\n    let int = null\r\n    if (array != null) {\r\n      this._inputData = array;\r\n      for (let i = 0; i < array.length; i++) {\r\n        if (array[i].isAutoFocus == true)\r\n          int = i\r\n        this._inputData[i].min = 0;\r\n        this._inputData[i].max = 99999;\r\n        this._inputData[i].newFunc = (box, value) => {\r\n          if (box.style.borderColor == 'lightskyblue' || box.style.borderColor == '') {\r\n            this._inputData[i].func(Number(value))\r\n          }\r\n        }\r\n      }\r\n    }\r\n    setTimeout(() => {\r\n      let inputs = this.el.nativeElement.getElementsByClassName('input_test')\r\n      if (int != null && inputs[int] != undefined) {\r\n        inputs[int].select()\r\n      }\r\n    }, 300);\r\n  }\r\n  get inputBox() { return this._inputData }\r\n  constructor(private el: ElementRef, private renderer: Renderer) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n\r\n  getSureValue(e, box) {\r\n    if (parseFloat(box.value).toString() == 'NaN') {\r\n      this.renderer.setElementStyle(this.boxDiv.nativeElement, 'border-color', 'red');\r\n    }\r\n    else {\r\n      if (box.value > box.max || box.value < box.min) {\r\n        this.renderer.setElementStyle(this.boxDiv.nativeElement, 'border-color', 'red');\r\n      }\r\n      else {\r\n        this.renderer.setElementStyle(this.boxDiv.nativeElement, 'border-color', 'lightskyblue');\r\n      }\r\n    }\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule} from '@angular/forms'\r\nimport { InputBoxComponent } from './input-box/input-box.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule\r\n  ],\r\n  declarations: [InputBoxComponent],\r\n  exports:[InputBoxComponent]\r\n})\r\nexport class InputDivModule { }\r\n","module.exports = \".full_screen{\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    position: absolute;\\r\\n    top: 0;\\r\\n    left: 0;\\r\\n    background-color: #f5f5f5;\\r\\n    z-index: 6;\\r\\n}\\r\\n.spinner {\\r\\n    border-radius: 50%;\\r\\n    /* margin: 20px; */\\r\\n    position: absolute;\\r\\n    top: calc(50% - 60px);\\r\\n    left: calc(50% - 60px);\\r\\n    display: inline-block;\\r\\n    position: relative;\\r\\n    height: 120px;\\r\\n    width: 120px;\\r\\n    background-color: #e0e0eb;\\r\\n  }\\r\\n.spinnerOne::after {\\r\\n    content: \\\"\\\";\\r\\n    position: absolute;\\r\\n    border-radius: 50%;\\r\\n    height: 120px;\\r\\n    width: 120px;\\r\\n    border: 5px solid transparent;\\r\\n    border-top-color: #7389AE;\\r\\n    -webkit-animation: spinneroneani 1.5s linear infinite;\\r\\n            animation: spinneroneani 1.5s linear infinite;\\r\\n  }\\r\\n@-webkit-keyframes spinneroneani {\\r\\n    25% {\\r\\n      border-top-color: transparent;\\r\\n      border-right-color: transparent;\\r\\n      border-bottom-color: transparent;\\r\\n      border-left-color: #05A8AA;\\r\\n    }\\r\\n    50% {\\r\\n      border-top-color: transparent;\\r\\n      border-right-color: transparent;\\r\\n      border-bottom-color: #416788;\\r\\n      border-left-color: transparent;\\r\\n      -webkit-transform: rotate(180deg) scale(1.2);\\r\\n              transform: rotate(180deg) scale(1.2);\\r\\n    }\\r\\n    75% {\\r\\n      border-top-color: transparent;\\r\\n      border-right-color: #2F6690;\\r\\n      border-bottom-color: transparent;\\r\\n      border-left-color: transparent;\\r\\n    }\\r\\n    100% {\\r\\n      border-top-color: #7389AE;\\r\\n      border-right-color: transparent;\\r\\n      border-bottom-color: transparent;\\r\\n      border-left-color: transparent;\\r\\n      -webkit-transform: rotate(360deg) scale(1);\\r\\n              transform: rotate(360deg) scale(1);\\r\\n    }\\r\\n  }\\r\\n@keyframes spinneroneani {\\r\\n    25% {\\r\\n      border-top-color: transparent;\\r\\n      border-right-color: transparent;\\r\\n      border-bottom-color: transparent;\\r\\n      border-left-color: #05A8AA;\\r\\n    }\\r\\n    50% {\\r\\n      border-top-color: transparent;\\r\\n      border-right-color: transparent;\\r\\n      border-bottom-color: #416788;\\r\\n      border-left-color: transparent;\\r\\n      -webkit-transform: rotate(180deg) scale(1.2);\\r\\n              transform: rotate(180deg) scale(1.2);\\r\\n    }\\r\\n    75% {\\r\\n      border-top-color: transparent;\\r\\n      border-right-color: #2F6690;\\r\\n      border-bottom-color: transparent;\\r\\n      border-left-color: transparent;\\r\\n    }\\r\\n    100% {\\r\\n      border-top-color: #7389AE;\\r\\n      border-right-color: transparent;\\r\\n      border-bottom-color: transparent;\\r\\n      border-left-color: transparent;\\r\\n      -webkit-transform: rotate(360deg) scale(1);\\r\\n              transform: rotate(360deg) scale(1);\\r\\n    }\\r\\n  }\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZGVzaWduLXBvcC9sb2FkaW5nL2xvYWRpbmcuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLFdBQVc7SUFDWCxZQUFZO0lBQ1osa0JBQWtCO0lBQ2xCLE1BQU07SUFDTixPQUFPO0lBQ1AseUJBQXlCO0lBQ3pCLFVBQVU7QUFDZDtBQUNBO0lBQ0ksa0JBQWtCO0lBQ2xCLGtCQUFrQjtJQUNsQixrQkFBa0I7SUFDbEIscUJBQXFCO0lBQ3JCLHNCQUFzQjtJQUN0QixxQkFBcUI7SUFDckIsa0JBQWtCO0lBQ2xCLGFBQWE7SUFDYixZQUFZO0lBQ1oseUJBQXlCO0VBQzNCO0FBRUE7SUFDRSxXQUFXO0lBQ1gsa0JBQWtCO0lBQ2xCLGtCQUFrQjtJQUNsQixhQUFhO0lBQ2IsWUFBWTtJQUNaLDZCQUE2QjtJQUM3Qix5QkFBeUI7SUFDekIscURBQTZDO1lBQTdDLDZDQUE2QztFQUMvQztBQUVBO0lBQ0U7TUFDRSw2QkFBNkI7TUFDN0IsK0JBQStCO01BQy9CLGdDQUFnQztNQUNoQywwQkFBMEI7SUFDNUI7SUFDQTtNQUNFLDZCQUE2QjtNQUM3QiwrQkFBK0I7TUFDL0IsNEJBQTRCO01BQzVCLDhCQUE4QjtNQUM5Qiw0Q0FBb0M7Y0FBcEMsb0NBQW9DO0lBQ3RDO0lBQ0E7TUFDRSw2QkFBNkI7TUFDN0IsMkJBQTJCO01BQzNCLGdDQUFnQztNQUNoQyw4QkFBOEI7SUFDaEM7SUFDQTtNQUNFLHlCQUF5QjtNQUN6QiwrQkFBK0I7TUFDL0IsZ0NBQWdDO01BQ2hDLDhCQUE4QjtNQUM5QiwwQ0FBa0M7Y0FBbEMsa0NBQWtDO0lBQ3BDO0VBQ0Y7QUEzQkE7SUFDRTtNQUNFLDZCQUE2QjtNQUM3QiwrQkFBK0I7TUFDL0IsZ0NBQWdDO01BQ2hDLDBCQUEwQjtJQUM1QjtJQUNBO01BQ0UsNkJBQTZCO01BQzdCLCtCQUErQjtNQUMvQiw0QkFBNEI7TUFDNUIsOEJBQThCO01BQzlCLDRDQUFvQztjQUFwQyxvQ0FBb0M7SUFDdEM7SUFDQTtNQUNFLDZCQUE2QjtNQUM3QiwyQkFBMkI7TUFDM0IsZ0NBQWdDO01BQ2hDLDhCQUE4QjtJQUNoQztJQUNBO01BQ0UseUJBQXlCO01BQ3pCLCtCQUErQjtNQUMvQixnQ0FBZ0M7TUFDaEMsOEJBQThCO01BQzlCLDBDQUFrQztjQUFsQyxrQ0FBa0M7SUFDcEM7RUFDRiIsImZpbGUiOiJzcmMvYXBwL2Rlc2lnbi1wb3AvbG9hZGluZy9sb2FkaW5nLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuZnVsbF9zY3JlZW57XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGhlaWdodDogMTAwJTtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHRvcDogMDtcclxuICAgIGxlZnQ6IDA7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjVmNWY1O1xyXG4gICAgei1pbmRleDogNjtcclxufVxyXG4uc3Bpbm5lciB7XHJcbiAgICBib3JkZXItcmFkaXVzOiA1MCU7XHJcbiAgICAvKiBtYXJnaW46IDIwcHg7ICovXHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICB0b3A6IGNhbGMoNTAlIC0gNjBweCk7XHJcbiAgICBsZWZ0OiBjYWxjKDUwJSAtIDYwcHgpO1xyXG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgaGVpZ2h0OiAxMjBweDtcclxuICAgIHdpZHRoOiAxMjBweDtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNlMGUwZWI7XHJcbiAgfVxyXG4gIFxyXG4gIC5zcGlubmVyT25lOjphZnRlciB7XHJcbiAgICBjb250ZW50OiBcIlwiO1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgYm9yZGVyLXJhZGl1czogNTAlO1xyXG4gICAgaGVpZ2h0OiAxMjBweDtcclxuICAgIHdpZHRoOiAxMjBweDtcclxuICAgIGJvcmRlcjogNXB4IHNvbGlkIHRyYW5zcGFyZW50O1xyXG4gICAgYm9yZGVyLXRvcC1jb2xvcjogIzczODlBRTtcclxuICAgIGFuaW1hdGlvbjogc3Bpbm5lcm9uZWFuaSAxLjVzIGxpbmVhciBpbmZpbml0ZTtcclxuICB9XHJcbiAgXHJcbiAgQGtleWZyYW1lcyBzcGlubmVyb25lYW5pIHtcclxuICAgIDI1JSB7XHJcbiAgICAgIGJvcmRlci10b3AtY29sb3I6IHRyYW5zcGFyZW50O1xyXG4gICAgICBib3JkZXItcmlnaHQtY29sb3I6IHRyYW5zcGFyZW50O1xyXG4gICAgICBib3JkZXItYm90dG9tLWNvbG9yOiB0cmFuc3BhcmVudDtcclxuICAgICAgYm9yZGVyLWxlZnQtY29sb3I6ICMwNUE4QUE7XHJcbiAgICB9XHJcbiAgICA1MCUge1xyXG4gICAgICBib3JkZXItdG9wLWNvbG9yOiB0cmFuc3BhcmVudDtcclxuICAgICAgYm9yZGVyLXJpZ2h0LWNvbG9yOiB0cmFuc3BhcmVudDtcclxuICAgICAgYm9yZGVyLWJvdHRvbS1jb2xvcjogIzQxNjc4ODtcclxuICAgICAgYm9yZGVyLWxlZnQtY29sb3I6IHRyYW5zcGFyZW50O1xyXG4gICAgICB0cmFuc2Zvcm06IHJvdGF0ZSgxODBkZWcpIHNjYWxlKDEuMik7XHJcbiAgICB9XHJcbiAgICA3NSUge1xyXG4gICAgICBib3JkZXItdG9wLWNvbG9yOiB0cmFuc3BhcmVudDtcclxuICAgICAgYm9yZGVyLXJpZ2h0LWNvbG9yOiAjMkY2NjkwO1xyXG4gICAgICBib3JkZXItYm90dG9tLWNvbG9yOiB0cmFuc3BhcmVudDtcclxuICAgICAgYm9yZGVyLWxlZnQtY29sb3I6IHRyYW5zcGFyZW50O1xyXG4gICAgfVxyXG4gICAgMTAwJSB7XHJcbiAgICAgIGJvcmRlci10b3AtY29sb3I6ICM3Mzg5QUU7XHJcbiAgICAgIGJvcmRlci1yaWdodC1jb2xvcjogdHJhbnNwYXJlbnQ7XHJcbiAgICAgIGJvcmRlci1ib3R0b20tY29sb3I6IHRyYW5zcGFyZW50O1xyXG4gICAgICBib3JkZXItbGVmdC1jb2xvcjogdHJhbnNwYXJlbnQ7XHJcbiAgICAgIHRyYW5zZm9ybTogcm90YXRlKDM2MGRlZykgc2NhbGUoMSk7XHJcbiAgICB9XHJcbiAgfSJdfQ== */\"","import { Component, OnInit,Input } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-loading',\r\n  templateUrl: './loading.component.html',\r\n  styleUrls: ['./loading.component.css']\r\n})\r\nexport class LoadingComponent implements OnInit {\r\n  @Input() loading:boolean\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { LoadingComponent } from './loading.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  declarations: [LoadingComponent],\r\n  exports:[LoadingComponent]\r\n})\r\nexport class LoadingModule { }\r\n","module.exports = \".popMessage {\\n  width: 135px;\\n  background: #fafafa;\\n  border: 1px solid #d6d6d6;\\n  box-shadow: 0 2px 7px 0.16px rgba(52, 58, 64, 0.25);\\n  border-radius: 4px;\\n  color: #444b52;\\n  font-size: 12px;\\n  padding: 3px;\\n  display: block;\\n  position: absolute;\\n  z-index: 99;\\n}\\n\\n.popMessage span {\\n  text-indent: 2em;\\n  word-wrap: break-word;\\n}\\n\\n.popMessage .img_message {\\n  width: 100%;\\n  height: 135px;\\n}\\n\\n.img_message img {\\n  height: 80%;\\n  width: 80%;\\n  margin: 10%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZGVzaWduLXBvcC9wYW5lbC9tZXNzYWdlcy9EOlxca25vd2xlZGdlXFxoZ1xcb2xkXFxvbGRSb29tL3NyY1xcYXBwXFxkZXNpZ24tcG9wXFxwYW5lbFxcbWVzc2FnZXNcXG1lc3NhZ2VzLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9kZXNpZ24tcG9wL3BhbmVsL21lc3NhZ2VzL21lc3NhZ2VzLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksWUFBQTtFQUNBLG1CQUFBO0VBQ0EseUJBQUE7RUFDQSxtREFBQTtFQUNBLGtCQUFBO0VBQ0EsY0FBQTtFQUNBLGVBQUE7RUFDQSxZQUFBO0VBQ0EsY0FBQTtFQUNBLGtCQUFBO0VBQ0EsV0FBQTtBQ0NKOztBRENBO0VBQ0ksZ0JBQUE7RUFDQSxxQkFBQTtBQ0VKOztBREFBO0VBQ0ksV0FBQTtFQUNBLGFBQUE7QUNHSjs7QURBQTtFQUNJLFdBQUE7RUFDQSxVQUFBO0VBQ0EsV0FBQTtBQ0dKIiwiZmlsZSI6InNyYy9hcHAvZGVzaWduLXBvcC9wYW5lbC9tZXNzYWdlcy9tZXNzYWdlcy5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5wb3BNZXNzYWdle1xyXG4gICAgd2lkdGg6IDEzNXB4O1xyXG4gICAgYmFja2dyb3VuZDogI2ZhZmFmYTtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkICNkNmQ2ZDY7XHJcbiAgICBib3gtc2hhZG93OiAwIDJweCA3cHggMC4xNnB4IHJnYmEoNTIsNTgsNjQsLjI1KTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDRweDtcclxuICAgIGNvbG9yOiAjNDQ0YjUyO1xyXG4gICAgZm9udC1zaXplOiAxMnB4O1xyXG4gICAgcGFkZGluZzogM3B4O1xyXG4gICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICB6LWluZGV4OiA5OTtcclxufVxyXG4ucG9wTWVzc2FnZSBzcGFuIHtcclxuICAgIHRleHQtaW5kZW50OiAyZW07XHJcbiAgICB3b3JkLXdyYXA6YnJlYWstd29yZDtcclxufVxyXG4ucG9wTWVzc2FnZSAuaW1nX21lc3NhZ2Uge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBoZWlnaHQ6IDEzNXB4O1xyXG5cclxufVxyXG4uaW1nX21lc3NhZ2UgaW1ne1xyXG4gICAgaGVpZ2h0OiA4MCU7XHJcbiAgICB3aWR0aDogODAlO1xyXG4gICAgbWFyZ2luOiAxMCU7XHJcbn0iLCIucG9wTWVzc2FnZSB7XG4gIHdpZHRoOiAxMzVweDtcbiAgYmFja2dyb3VuZDogI2ZhZmFmYTtcbiAgYm9yZGVyOiAxcHggc29saWQgI2Q2ZDZkNjtcbiAgYm94LXNoYWRvdzogMCAycHggN3B4IDAuMTZweCByZ2JhKDUyLCA1OCwgNjQsIDAuMjUpO1xuICBib3JkZXItcmFkaXVzOiA0cHg7XG4gIGNvbG9yOiAjNDQ0YjUyO1xuICBmb250LXNpemU6IDEycHg7XG4gIHBhZGRpbmc6IDNweDtcbiAgZGlzcGxheTogYmxvY2s7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgei1pbmRleDogOTk7XG59XG5cbi5wb3BNZXNzYWdlIHNwYW4ge1xuICB0ZXh0LWluZGVudDogMmVtO1xuICB3b3JkLXdyYXA6IGJyZWFrLXdvcmQ7XG59XG5cbi5wb3BNZXNzYWdlIC5pbWdfbWVzc2FnZSB7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEzNXB4O1xufVxuXG4uaW1nX21lc3NhZ2UgaW1nIHtcbiAgaGVpZ2h0OiA4MCU7XG4gIHdpZHRoOiA4MCU7XG4gIG1hcmdpbjogMTAlO1xufSJdfQ== */\"","import { Component, OnInit, Input } from '@angular/core';\r\n\r\n@Component({\r\n  selector: '[messages]',\r\n  templateUrl: './messages.component.html',\r\n  styleUrls: ['./messages.component.scss']\r\n})\r\nexport class MessagesComponent implements OnInit {\r\n  private _messageData;\r\n  @Input() set messages(data) {\r\n    if (data == null) {\r\n      this._messageData = null\r\n    }\r\n    else {\r\n      let newData = {\r\n        text: data.text,\r\n        style: {\r\n          \"top\": data.position.y + 'px',\r\n          \"left\": window.innerWidth - data.position.x < 140 ? (window.innerWidth - data.position.x) + 'px' : data.position.x + 'px',\r\n          \"width\": data.width\r\n        },\r\n        img: data.img\r\n      }\r\n      this._messageData = newData;\r\n    }\r\n  }\r\n  get messages() { return this._messageData; }\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n\r\n  }\r\n\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { MessagesComponent } from './messages.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  declarations: [MessagesComponent],\r\n  exports:[MessagesComponent]\r\n})\r\nexport class MessagesModule { }\r\n","module.exports = \".bottom_container{\\r\\n    width: 100%;\\r\\n    height: 35px;\\r\\n    border-top: 1px solid #ddd;\\r\\n    position: absolute;\\r\\n    bottom: 0;\\r\\n    left: 0;\\r\\n    background-color: #f5f5f5;\\r\\n    z-index: 50;\\r\\n    padding-right: 15px;\\r\\n}\\r\\n.list_bottom{\\r\\n    width: 34px;\\r\\n    height: 100%;\\r\\n    margin-right: 8px;\\r\\n    padding: 5px;\\r\\n    float: right;\\r\\n}\\r\\n.bottom_color{\\r\\n    background-color:#4b9bd6; \\r\\n}\\r\\n.list_bottom .barIcon{\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZGVzaWduLXBvcC9wYW5lbC9wYW5lbC1ib3R0b20vcGFuZWwtYm90dG9tLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxXQUFXO0lBQ1gsWUFBWTtJQUNaLDBCQUEwQjtJQUMxQixrQkFBa0I7SUFDbEIsU0FBUztJQUNULE9BQU87SUFDUCx5QkFBeUI7SUFDekIsV0FBVztJQUNYLG1CQUFtQjtBQUN2QjtBQUNBO0lBQ0ksV0FBVztJQUNYLFlBQVk7SUFDWixpQkFBaUI7SUFDakIsWUFBWTtJQUNaLFlBQVk7QUFDaEI7QUFDQTtJQUNJLHdCQUF3QjtBQUM1QjtBQUNBO0lBQ0ksV0FBVztJQUNYLFlBQVk7QUFDaEIiLCJmaWxlIjoic3JjL2FwcC9kZXNpZ24tcG9wL3BhbmVsL3BhbmVsLWJvdHRvbS9wYW5lbC1ib3R0b20uY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5ib3R0b21fY29udGFpbmVye1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBoZWlnaHQ6IDM1cHg7XHJcbiAgICBib3JkZXItdG9wOiAxcHggc29saWQgI2RkZDtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIGJvdHRvbTogMDtcclxuICAgIGxlZnQ6IDA7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjVmNWY1O1xyXG4gICAgei1pbmRleDogNTA7XHJcbiAgICBwYWRkaW5nLXJpZ2h0OiAxNXB4O1xyXG59XHJcbi5saXN0X2JvdHRvbXtcclxuICAgIHdpZHRoOiAzNHB4O1xyXG4gICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgbWFyZ2luLXJpZ2h0OiA4cHg7XHJcbiAgICBwYWRkaW5nOiA1cHg7XHJcbiAgICBmbG9hdDogcmlnaHQ7XHJcbn1cclxuLmJvdHRvbV9jb2xvcntcclxuICAgIGJhY2tncm91bmQtY29sb3I6IzRiOWJkNjsgXHJcbn1cclxuLmxpc3RfYm90dG9tIC5iYXJJY29ue1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBoZWlnaHQ6IDEwMCU7XHJcbn0iXX0= */\"","import { Component, OnInit, Input } from '@angular/core';\r\nimport { PopDivService } from '../../../services/pop-div.service';\r\n\r\n@Component({\r\n  selector: '[panelBottom]',\r\n  templateUrl: './panel-bottom.component.html',\r\n  styleUrls: ['./panel-bottom.component.css']\r\n})\r\nexport class PanelBottomComponent implements OnInit {\r\n\r\n  private _panelBottom;\r\n  @Input() set panelBottom(data) {\r\n    // this._panelBottom = data;\r\n    this._panelBottom = data\r\n  }\r\n  get panelBottom() { return this._panelBottom }\r\n  constructor(\r\n    private popService: PopDivService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  getArr(data) {\r\n    let arr = []\r\n    for (let key in data) {\r\n      arr.push(data[key])\r\n    }\r\n    return arr\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\r\nimport { PanelBottomComponent } from './panel-bottom.component';\r\n\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    NgbModule\r\n    // PopDivModule\r\n  ],\r\n  declarations: [PanelBottomComponent],\r\n  exports: [PanelBottomComponent]\r\n})\r\nexport class PanelBottomModule { }\r\n","module.exports = \"\\r\\n\\r\\n /* 左侧容器 */\\r\\n.left_container{\\r\\n    position: absolute;\\r\\n    top: 0;\\r\\n    left: 0;\\r\\n    height: calc(100% - 35px);\\r\\n    z-index: 50;\\r\\n}\\r\\n.drawBlind{\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    position: absolute;\\r\\n    top: 0;\\r\\n    left: 0;\\r\\n}\\r\\n.bar{\\r\\n    height: 100%;\\r\\n    box-sizing: border-box;\\r\\n    box-shadow: 0 0 4px 0 rgba(62,129,247,.1), 0 0 6px 0 hsla(0,0%,87%,.5);\\r\\n}\\r\\n.vertecial_bar{\\r\\n    float: left;\\r\\n    height: 100%;\\r\\n    width: 70px;\\r\\n    box-sizing: border-box;\\r\\n    background: #f5f5f5;\\r\\n    border-right: 1px solid #ddd;\\r\\n}\\r\\n.hoverable{\\r\\n    position: absolute;\\r\\n}\\r\\n.list_bar{\\r\\n    float: left;\\r\\n    position: relative;\\r\\n    height: 100%;\\r\\n    width: 266px;\\r\\n    box-sizing: border-box;\\r\\n    background: #f5f5f5; \\r\\n}\\r\\n.list_bar div{\\r\\n    height: 100%;   \\r\\n}\\r\\n/* 收起展开按钮 */\\r\\n.toggle_bar{\\r\\n    position: absolute;\\r\\n    top: 50%;\\r\\n    margin-top: -29px;\\r\\n    right: -18px;\\r\\n    width: 20px;\\r\\n    height: 58px;\\r\\n    background: transparent;\\r\\n}\\r\\n.expland{\\r\\n    position: absolute;\\r\\n    left: 0;\\r\\n    top: 9px;\\r\\n    box-sizing: border-box;\\r\\n    width: 20px;\\r\\n    height: 40px;\\r\\n    padding: 11px 2px;\\r\\n    background: #f5f5f5;\\r\\n    border-top-right-radius: 4px;\\r\\n    border-bottom-right-radius: 4px;\\r\\n    box-shadow: 0 0 4px 0 rgba(62,129,247,.1), 0 0 6px 0 hsla(0,0%,87%,.5);\\r\\n}\\r\\n.expland::before{\\r\\n    content: \\\"\\\";\\r\\n    display: block;\\r\\n    position: absolute;\\r\\n    top: -9px;\\r\\n    border-right: 19px solid transparent;\\r\\n    border-bottom: 10px solid #f5f5f5;\\r\\n}\\r\\n.expland::after{\\r\\n    content: \\\"\\\";\\r\\n    display: block;\\r\\n    position: absolute;\\r\\n    bottom: -9px;\\r\\n    border-right: 19px solid transparent;\\r\\n    border-top: 10px solid #f5f5f5;\\r\\n}\\r\\n.explandIcon{\\r\\n    vertical-align: -0.15em;\\r\\n    margin: 0 auto;\\r\\n    width: 16px;\\r\\n    height: 16px;\\r\\n    color: #323232;\\r\\n    /* vertical-align: -.15em; */\\r\\n    fill: currentColor;\\r\\n    -webkit-transform: rotate(180deg);\\r\\n            transform: rotate(180deg);\\r\\n    overflow: hidden;\\r\\n}\\r\\n/* 左侧导航栏 */\\r\\n.splider_bar{\\r\\n    position: relative;\\r\\n    font-size: 14px;\\r\\n    line-height: 22px;\\r\\n    text-align: center;\\r\\n    margin-bottom: 10px;\\r\\n    border-bottom: 1px solid #ddd\\r\\n}\\r\\n.blindEvent{   \\r\\n    margin: 12px;\\r\\n    width: 48px;\\r\\n    height: 36px;\\r\\n}\\r\\n.bar_list{\\r\\n    position: relative;\\r\\n    /* /* margin: 12px; */\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    /* fill: white; */\\r\\n    border-radius: 4px;\\r\\n    line-height: 36px;\\r\\n    text-align: center;\\r\\n    cursor: pointer;\\r\\n    /* border: 1px solid #ddd; */\\r\\n}\\r\\n.bar_list:hover{\\r\\n    background-color: lightgrey\\r\\n}\\r\\n/* 鼠标悬停出现的状态 */\\r\\n.name {\\r\\n    display: none;\\r\\n    z-index: 2;\\r\\n    font-size: 12px;\\r\\n    background-color: #3e82f7;\\r\\n    color: white;\\r\\n    white-space:nowrap;\\r\\n    height: 36px;\\r\\n    line-height: 36px;\\r\\n    min-width: 30px;\\r\\n    position: absolute;\\r\\n    left: 56px;\\r\\n    top: 0px;\\r\\n    padding: 0px 10px;\\r\\n    border-top-right-radius: 4px;\\r\\n    border-bottom-right-radius: 4px;\\r\\n}\\r\\n.barIcon{\\r\\n    position: relative;\\r\\n    top: 2px;\\r\\n    width: 18px;\\r\\n    height: 18px;\\r\\n    fill: #323232;\\r\\n}\\r\\n/* 家具名称列表 */\\r\\n.drop_list{\\r\\n    display: none;\\r\\n    background-color: #ddd;\\r\\n    border-top: 1px solid #ddd;\\r\\n    border-radius: 4px;\\r\\n    padding: 10px 0;\\r\\n}\\r\\n.drop_list::before{\\r\\n    content: '';\\r\\n    display: block;\\r\\n    position: absolute;\\r\\n    z-index: 2;\\r\\n    top: 41px;\\r\\n    left: 50%;\\r\\n    width: 7px;\\r\\n    height: 7px;\\r\\n    -webkit-transform: translate(-50%,50%) rotate(-45deg);\\r\\n    transform: translate(-50%,50%) rotate(-45deg);\\r\\n    background: #ddd;\\r\\n    border: 1px solid #ddd;\\r\\n    border-left: none;\\r\\n    border-bottom: none;\\r\\n}\\r\\n.list_name{\\r\\n    margin: 10px 0;\\r\\n    padding: 0;\\r\\n    font-size: 12px;\\r\\n    font-weight: 600;\\r\\n    color: #666;\\r\\n    cursor: pointer;\\r\\n}\\r\\n.list_name:hover {\\r\\n    color:#3e82f7;\\r\\n}\\r\\n.direction{\\r\\n    width: 60px;\\r\\n    height: 60px;\\r\\n    border-radius: 50%;\\r\\n    position: absolute;\\r\\n    top: 50px;\\r\\n    overflow: hidden;\\r\\n    z-index: 50\\r\\n}\\r\\n.direction img {\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZGVzaWduLXBvcC9wYW5lbC9wYW5lbC1sZWZ0L3BhbmVsLWxlZnQuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztDQUVDLFNBQVM7QUFDVjtJQUNJLGtCQUFrQjtJQUNsQixNQUFNO0lBQ04sT0FBTztJQUNQLHlCQUF5QjtJQUN6QixXQUFXO0FBQ2Y7QUFDQTtJQUNJLFdBQVc7SUFDWCxZQUFZO0lBQ1osa0JBQWtCO0lBQ2xCLE1BQU07SUFDTixPQUFPO0FBQ1g7QUFDQTtJQUNJLFlBQVk7SUFDWixzQkFBc0I7SUFDdEIsc0VBQXNFO0FBQzFFO0FBQ0E7SUFDSSxXQUFXO0lBQ1gsWUFBWTtJQUNaLFdBQVc7SUFDWCxzQkFBc0I7SUFDdEIsbUJBQW1CO0lBQ25CLDRCQUE0QjtBQUNoQztBQUNBO0lBQ0ksa0JBQWtCO0FBQ3RCO0FBQ0E7SUFDSSxXQUFXO0lBQ1gsa0JBQWtCO0lBQ2xCLFlBQVk7SUFDWixZQUFZO0lBQ1osc0JBQXNCO0lBQ3RCLG1CQUFtQjtBQUN2QjtBQUNBO0lBQ0ksWUFBWTtBQUNoQjtBQUVBLFdBQVc7QUFDWDtJQUNJLGtCQUFrQjtJQUNsQixRQUFRO0lBQ1IsaUJBQWlCO0lBQ2pCLFlBQVk7SUFDWixXQUFXO0lBQ1gsWUFBWTtJQUNaLHVCQUF1QjtBQUMzQjtBQUNBO0lBQ0ksa0JBQWtCO0lBQ2xCLE9BQU87SUFDUCxRQUFRO0lBQ1Isc0JBQXNCO0lBQ3RCLFdBQVc7SUFDWCxZQUFZO0lBQ1osaUJBQWlCO0lBQ2pCLG1CQUFtQjtJQUNuQiw0QkFBNEI7SUFDNUIsK0JBQStCO0lBQy9CLHNFQUFzRTtBQUMxRTtBQUNBO0lBQ0ksV0FBVztJQUNYLGNBQWM7SUFDZCxrQkFBa0I7SUFDbEIsU0FBUztJQUNULG9DQUFvQztJQUNwQyxpQ0FBaUM7QUFDckM7QUFDQTtJQUNJLFdBQVc7SUFDWCxjQUFjO0lBQ2Qsa0JBQWtCO0lBQ2xCLFlBQVk7SUFDWixvQ0FBb0M7SUFDcEMsOEJBQThCO0FBQ2xDO0FBQ0E7SUFDSSx1QkFBdUI7SUFDdkIsY0FBYztJQUNkLFdBQVc7SUFDWCxZQUFZO0lBQ1osY0FBYztJQUNkLDRCQUE0QjtJQUM1QixrQkFBa0I7SUFDbEIsaUNBQXlCO1lBQXpCLHlCQUF5QjtJQUN6QixnQkFBZ0I7QUFDcEI7QUFDQSxVQUFVO0FBQ1Y7SUFDSSxrQkFBa0I7SUFDbEIsZUFBZTtJQUNmLGlCQUFpQjtJQUNqQixrQkFBa0I7SUFDbEIsbUJBQW1CO0lBQ25CO0FBQ0o7QUFDQTtJQUNJLFlBQVk7SUFDWixXQUFXO0lBQ1gsWUFBWTtBQUNoQjtBQUNBO0lBQ0ksa0JBQWtCO0lBQ2xCLHFCQUFxQjtJQUNyQixXQUFXO0lBQ1gsWUFBWTtJQUNaLGlCQUFpQjtJQUNqQixrQkFBa0I7SUFDbEIsaUJBQWlCO0lBQ2pCLGtCQUFrQjtJQUNsQixlQUFlO0lBQ2YsNEJBQTRCO0FBQ2hDO0FBQ0E7SUFDSTtBQUNKO0FBQ0EsY0FBYztBQUNkO0lBQ0ksYUFBYTtJQUNiLFVBQVU7SUFDVixlQUFlO0lBQ2YseUJBQXlCO0lBQ3pCLFlBQVk7SUFDWixrQkFBa0I7SUFDbEIsWUFBWTtJQUNaLGlCQUFpQjtJQUNqQixlQUFlO0lBQ2Ysa0JBQWtCO0lBQ2xCLFVBQVU7SUFDVixRQUFRO0lBQ1IsaUJBQWlCO0lBQ2pCLDRCQUE0QjtJQUM1QiwrQkFBK0I7QUFDbkM7QUFDQTtJQUNJLGtCQUFrQjtJQUNsQixRQUFRO0lBQ1IsV0FBVztJQUNYLFlBQVk7SUFDWixhQUFhO0FBQ2pCO0FBQ0EsV0FBVztBQUNYO0lBQ0ksYUFBYTtJQUNiLHNCQUFzQjtJQUN0QiwwQkFBMEI7SUFDMUIsa0JBQWtCO0lBQ2xCLGVBQWU7QUFDbkI7QUFDQTtJQUNJLFdBQVc7SUFDWCxjQUFjO0lBQ2Qsa0JBQWtCO0lBQ2xCLFVBQVU7SUFDVixTQUFTO0lBQ1QsU0FBUztJQUNULFVBQVU7SUFDVixXQUFXO0lBQ1gscURBQXFEO0lBRXJELDZDQUE2QztJQUM3QyxnQkFBZ0I7SUFDaEIsc0JBQXNCO0lBQ3RCLGlCQUFpQjtJQUNqQixtQkFBbUI7QUFDdkI7QUFDQTtJQUNJLGNBQWM7SUFDZCxVQUFVO0lBQ1YsZUFBZTtJQUNmLGdCQUFnQjtJQUNoQixXQUFXO0lBQ1gsZUFBZTtBQUNuQjtBQUNBO0lBQ0ksYUFBYTtBQUNqQjtBQUVBO0lBQ0ksV0FBVztJQUNYLFlBQVk7SUFDWixrQkFBa0I7SUFDbEIsa0JBQWtCO0lBQ2xCLFNBQVM7SUFDVCxnQkFBZ0I7SUFDaEI7QUFDSjtBQUNBO0lBQ0ksV0FBVztJQUNYLFlBQVk7QUFDaEIiLCJmaWxlIjoic3JjL2FwcC9kZXNpZ24tcG9wL3BhbmVsL3BhbmVsLWxlZnQvcGFuZWwtbGVmdC5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiXHJcblxyXG4gLyog5bem5L6n5a655ZmoICovXHJcbi5sZWZ0X2NvbnRhaW5lcntcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHRvcDogMDtcclxuICAgIGxlZnQ6IDA7XHJcbiAgICBoZWlnaHQ6IGNhbGMoMTAwJSAtIDM1cHgpO1xyXG4gICAgei1pbmRleDogNTA7XHJcbn1cclxuLmRyYXdCbGluZHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgdG9wOiAwO1xyXG4gICAgbGVmdDogMDtcclxufVxyXG4uYmFye1xyXG4gICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcclxuICAgIGJveC1zaGFkb3c6IDAgMCA0cHggMCByZ2JhKDYyLDEyOSwyNDcsLjEpLCAwIDAgNnB4IDAgaHNsYSgwLDAlLDg3JSwuNSk7XHJcbn1cclxuLnZlcnRlY2lhbF9iYXJ7XHJcbiAgICBmbG9hdDogbGVmdDtcclxuICAgIGhlaWdodDogMTAwJTtcclxuICAgIHdpZHRoOiA3MHB4O1xyXG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcclxuICAgIGJhY2tncm91bmQ6ICNmNWY1ZjU7XHJcbiAgICBib3JkZXItcmlnaHQ6IDFweCBzb2xpZCAjZGRkO1xyXG59XHJcbi5ob3ZlcmFibGV7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbn1cclxuLmxpc3RfYmFye1xyXG4gICAgZmxvYXQ6IGxlZnQ7XHJcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICB3aWR0aDogMjY2cHg7XHJcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG4gICAgYmFja2dyb3VuZDogI2Y1ZjVmNTsgXHJcbn1cclxuLmxpc3RfYmFyIGRpdntcclxuICAgIGhlaWdodDogMTAwJTsgICBcclxufVxyXG5cclxuLyog5pS26LW35bGV5byA5oyJ6ZKuICovXHJcbi50b2dnbGVfYmFye1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgdG9wOiA1MCU7XHJcbiAgICBtYXJnaW4tdG9wOiAtMjlweDtcclxuICAgIHJpZ2h0OiAtMThweDtcclxuICAgIHdpZHRoOiAyMHB4O1xyXG4gICAgaGVpZ2h0OiA1OHB4O1xyXG4gICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XHJcbn1cclxuLmV4cGxhbmR7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICBsZWZ0OiAwO1xyXG4gICAgdG9wOiA5cHg7XHJcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG4gICAgd2lkdGg6IDIwcHg7XHJcbiAgICBoZWlnaHQ6IDQwcHg7XHJcbiAgICBwYWRkaW5nOiAxMXB4IDJweDtcclxuICAgIGJhY2tncm91bmQ6ICNmNWY1ZjU7XHJcbiAgICBib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogNHB4O1xyXG4gICAgYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IDRweDtcclxuICAgIGJveC1zaGFkb3c6IDAgMCA0cHggMCByZ2JhKDYyLDEyOSwyNDcsLjEpLCAwIDAgNnB4IDAgaHNsYSgwLDAlLDg3JSwuNSk7XHJcbn1cclxuLmV4cGxhbmQ6OmJlZm9yZXtcclxuICAgIGNvbnRlbnQ6IFwiXCI7XHJcbiAgICBkaXNwbGF5OiBibG9jaztcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHRvcDogLTlweDtcclxuICAgIGJvcmRlci1yaWdodDogMTlweCBzb2xpZCB0cmFuc3BhcmVudDtcclxuICAgIGJvcmRlci1ib3R0b206IDEwcHggc29saWQgI2Y1ZjVmNTtcclxufVxyXG4uZXhwbGFuZDo6YWZ0ZXJ7XHJcbiAgICBjb250ZW50OiBcIlwiO1xyXG4gICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICBib3R0b206IC05cHg7XHJcbiAgICBib3JkZXItcmlnaHQ6IDE5cHggc29saWQgdHJhbnNwYXJlbnQ7XHJcbiAgICBib3JkZXItdG9wOiAxMHB4IHNvbGlkICNmNWY1ZjU7XHJcbn1cclxuLmV4cGxhbmRJY29ue1xyXG4gICAgdmVydGljYWwtYWxpZ246IC0wLjE1ZW07XHJcbiAgICBtYXJnaW46IDAgYXV0bztcclxuICAgIHdpZHRoOiAxNnB4O1xyXG4gICAgaGVpZ2h0OiAxNnB4O1xyXG4gICAgY29sb3I6ICMzMjMyMzI7XHJcbiAgICAvKiB2ZXJ0aWNhbC1hbGlnbjogLS4xNWVtOyAqL1xyXG4gICAgZmlsbDogY3VycmVudENvbG9yO1xyXG4gICAgdHJhbnNmb3JtOiByb3RhdGUoMTgwZGVnKTtcclxuICAgIG92ZXJmbG93OiBoaWRkZW47XHJcbn1cclxuLyog5bem5L6n5a+86Iiq5qCPICovXHJcbi5zcGxpZGVyX2JhcntcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgIGZvbnQtc2l6ZTogMTRweDtcclxuICAgIGxpbmUtaGVpZ2h0OiAyMnB4O1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMTBweDtcclxuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZGRkXHJcbn1cclxuLmJsaW5kRXZlbnR7ICAgXHJcbiAgICBtYXJnaW46IDEycHg7XHJcbiAgICB3aWR0aDogNDhweDtcclxuICAgIGhlaWdodDogMzZweDtcclxufVxyXG4uYmFyX2xpc3R7XHJcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICAvKiAvKiBtYXJnaW46IDEycHg7ICovXHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGhlaWdodDogMTAwJTtcclxuICAgIC8qIGZpbGw6IHdoaXRlOyAqL1xyXG4gICAgYm9yZGVyLXJhZGl1czogNHB4O1xyXG4gICAgbGluZS1oZWlnaHQ6IDM2cHg7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICAvKiBib3JkZXI6IDFweCBzb2xpZCAjZGRkOyAqL1xyXG59XHJcbi5iYXJfbGlzdDpob3ZlcntcclxuICAgIGJhY2tncm91bmQtY29sb3I6IGxpZ2h0Z3JleVxyXG59XHJcbi8qIOm8oOagh+aCrOWBnOWHuueOsOeahOeKtuaAgSAqL1xyXG4ubmFtZSB7XHJcbiAgICBkaXNwbGF5OiBub25lO1xyXG4gICAgei1pbmRleDogMjtcclxuICAgIGZvbnQtc2l6ZTogMTJweDtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICMzZTgyZjc7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICB3aGl0ZS1zcGFjZTpub3dyYXA7XHJcbiAgICBoZWlnaHQ6IDM2cHg7XHJcbiAgICBsaW5lLWhlaWdodDogMzZweDtcclxuICAgIG1pbi13aWR0aDogMzBweDtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIGxlZnQ6IDU2cHg7XHJcbiAgICB0b3A6IDBweDtcclxuICAgIHBhZGRpbmc6IDBweCAxMHB4O1xyXG4gICAgYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6IDRweDtcclxuICAgIGJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiA0cHg7XHJcbn1cclxuLmJhckljb257XHJcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICB0b3A6IDJweDtcclxuICAgIHdpZHRoOiAxOHB4O1xyXG4gICAgaGVpZ2h0OiAxOHB4O1xyXG4gICAgZmlsbDogIzMyMzIzMjtcclxufVxyXG4vKiDlrrblhbflkI3np7DliJfooaggKi9cclxuLmRyb3BfbGlzdHtcclxuICAgIGRpc3BsYXk6IG5vbmU7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZGRkO1xyXG4gICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNkZGQ7XHJcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XHJcbiAgICBwYWRkaW5nOiAxMHB4IDA7XHJcbn1cclxuLmRyb3BfbGlzdDo6YmVmb3Jle1xyXG4gICAgY29udGVudDogJyc7XHJcbiAgICBkaXNwbGF5OiBibG9jaztcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHotaW5kZXg6IDI7XHJcbiAgICB0b3A6IDQxcHg7XHJcbiAgICBsZWZ0OiA1MCU7XHJcbiAgICB3aWR0aDogN3B4O1xyXG4gICAgaGVpZ2h0OiA3cHg7XHJcbiAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsNTAlKSByb3RhdGUoLTQ1ZGVnKTtcclxuICAgIC1tcy10cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLDUwJSkgcm90YXRlKC00NWRlZyk7XHJcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLDUwJSkgcm90YXRlKC00NWRlZyk7XHJcbiAgICBiYWNrZ3JvdW5kOiAjZGRkO1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgI2RkZDtcclxuICAgIGJvcmRlci1sZWZ0OiBub25lO1xyXG4gICAgYm9yZGVyLWJvdHRvbTogbm9uZTtcclxufVxyXG4ubGlzdF9uYW1le1xyXG4gICAgbWFyZ2luOiAxMHB4IDA7XHJcbiAgICBwYWRkaW5nOiAwO1xyXG4gICAgZm9udC1zaXplOiAxMnB4O1xyXG4gICAgZm9udC13ZWlnaHQ6IDYwMDtcclxuICAgIGNvbG9yOiAjNjY2O1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG59XHJcbi5saXN0X25hbWU6aG92ZXIge1xyXG4gICAgY29sb3I6IzNlODJmNztcclxufVxyXG5cclxuLmRpcmVjdGlvbntcclxuICAgIHdpZHRoOiA2MHB4O1xyXG4gICAgaGVpZ2h0OiA2MHB4O1xyXG4gICAgYm9yZGVyLXJhZGl1czogNTAlO1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgdG9wOiA1MHB4O1xyXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgIHotaW5kZXg6IDUwXHJcbn1cclxuLmRpcmVjdGlvbiBpbWcge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBoZWlnaHQ6IDEwMCU7XHJcbn1cclxuIl19 */\"","import { Component, OnInit,Input } from '@angular/core';\r\nimport { PopDivService } from '../../../services/pop-div.service';\r\nimport { JdesignDataService } from '../../../services/jdesign-data.service';\r\n\r\n@Component({\r\n  selector: '[panelLeft]',\r\n  templateUrl: './panel-left.component.html',\r\n  styleUrls: ['./panel-left.component.css']\r\n})\r\nexport class PanelLeftComponent implements OnInit {\r\n  private _panelLeft;\r\n  svgIcon:any;\r\n  leftDiv:any;\r\n  listData:any = null\r\n  productData:any;\r\n  imgList:any = null\r\n  imgStyle:any = {\r\n    \"left\":\"340px\"\r\n  };\r\n  angle = 0;\r\n  moveAngle:number = 0;\r\n  endAngle:number = 0;\r\n  pointPosition = {\r\n    x:370,\r\n    y:80\r\n  }\r\n  startEvent;\r\n  moveEvent\r\n  imgStartX;\r\n  imgStartY;\r\n  imgEndX;\r\n  imgEndY;\r\n  @Input() set panelLeft(data){\r\n    this._panelLeft = data;\r\n  }\r\n  get panelLeft(){return this._panelLeft}\r\n  constructor(\r\n    private popService: PopDivService,\r\n    private dataService:JdesignDataService\r\n  ) {\r\n    \r\n    \r\n    this.popService.clickLeftData.subscribe((data) => {\r\n      this.productData = data;\r\n    })\r\n    this.popService.hoverLeftData.subscribe((data) => {\r\n      this.listData = data;\r\n    })\r\n    this.popService.getMaterial.subscribe((data) => {\r\n      this.imgList = data\r\n    })\r\n   }\r\n\r\n  ngDoCheck(){\r\n    if(this.dataService.cmd != undefined){\r\n      if(this.moveAngle != this.dataService.cmd.floorplan.compass){\r\n        this.moveAngle = this.dataService.cmd.floorplan.compass;\r\n        this.imgStyle.transform = 'rotate('+this.dataService.cmd.floorplan.compass +'deg)';\r\n      }\r\n    }\r\n    \r\n  }\r\n  ngOnInit() {\r\n    let img = document.getElementById('img');\r\n    let angle = 0\r\n    img.addEventListener('mousedown',this.startEvent = (e)=>{\r\n      // console.log(this.pointPosition)\r\n      this.imgStartX = e.clientX;\r\n      this.imgStartY = e.clientY;\r\n      let anglePre=this.countDeg(this.pointPosition.x,this.pointPosition.y,this.imgStartX,this.imgStartY)\r\n      img.addEventListener('mousemove',this.moveEvent = (e) => {\r\n        this.imgEndX = e.clientX;\r\n        this.imgEndY = e.clientY;\r\n        let angleNext=this.countDeg(this.pointPosition.x,this.pointPosition.y,this.imgEndX,this.imgEndY)\r\n        \r\n        angle += angleNext - anglePre\r\n        this.moveAngle = this.dataService.cmd.floorplan.compass = angle\r\n        anglePre=angleNext\r\n        this.imgStyle.transform = 'rotate('+angle+'deg)'\r\n      })\r\n    })\r\n    img.addEventListener('mouseup',(_) => {\r\n      img.removeEventListener('mousemove',this.moveEvent)\r\n    })\r\n    img.addEventListener('mouseleave',(e)=> {\r\n      img.removeEventListener('mousemove',this.moveEvent)\r\n    })\r\n    \r\n  }\r\n\r\n  // 鼠标悬停出现弹出框\r\n  listMouseEnter(e){\r\n      if(e.target.nextElementSibling.className == 'name'){\r\n        e.target.nextElementSibling.style.cssText = `display:block`\r\n      }\r\n  }\r\n  listMouseLeave(e){\r\n    let name:any = document.querySelectorAll('.blindEvent .name');\r\n    for(let i=0;i<name.length;i++){\r\n      name[i].style.cssText =  `display:none`\r\n    }\r\n  }\r\n\r\n  // 左侧面板的展开收起\r\n  toggleContainer(e:any){\r\n    // e.stopPropagation();\r\n    let bar_con =  this.getMode(e.target,'toggle_bar')\r\n    let container = document.getElementsByClassName('left_container')[0];\r\n    let expland:any = document.getElementsByClassName('explandIcon')[0];\r\n    if(bar_con.className == 'toggle_bar toggle_hidde'){\r\n      expland.style.cssText = `transform: rotate(-180deg);`\r\n      bar_con.className = 'toggle_bar toggle_show';\r\n      this.leftDiv={\r\n        \"left\":\"0px\",\r\n        \"transition\":\"left 1s ease\"\r\n      }\r\n      this.imgStyle[\"left\"] = \"340px\"\r\n        // :,\r\n        // \"transition\":\"left 1s ease\",\r\n        // \"transform\":'rotate('+this.moveAngle+'deg)'\r\n      \r\n      this.pointPosition={\r\n        x:370,\r\n        y:80\r\n      }\r\n    }\r\n    else{\r\n      expland.style.cssText = `transform: rotate(0deg);`\r\n      bar_con.className = 'toggle_bar toggle_hidde';\r\n      this.leftDiv={\r\n        \"left\":-container.clientWidth + \"px\",\r\n        \"transition\":\"left 1s ease\"\r\n      }\r\n      // this.imgStyle = {\r\n      //   \"left\":\"5px\",\r\n      //   \"transition\":\"left 1s ease\",\r\n      //   \"transform\":'rotate('+this.moveAngle+'deg)'\r\n      // }\r\n      this.imgStyle[\"left\"] = \"5px\"\r\n      this.pointPosition={\r\n        x:35,\r\n        y:80\r\n      }\r\n      } \r\n  }\r\n  toggleSlider(e){\r\n    e.stopPropagation();\r\n    // 点击把所有的按钮背景色去掉\r\n    let bar_List = this.getMode(e.target,'bar_list')\r\n    // 将目标按钮背景色变为蓝色\r\n    if(bar_List && 'className' in bar_List == true && bar_List.className == 'bar_list'){\r\n      let hiddeAllColor:any = document.querySelectorAll('.blindEvent .bar_list')\r\n      for(let j = 0;j<hiddeAllColor.length;j++){\r\n        hiddeAllColor[j].style.cssText = `background-color:none`\r\n      }\r\n      bar_List.style.cssText = `background-color:#3e82f7`;\r\n      // svg图标变色\r\n      let barIcon:any = document.querySelectorAll('.bar_list .barIcon')\r\n      for(let j = 0;j<barIcon.length;j++){\r\n        barIcon[j].style.cssText = `fill:#323232`\r\n      }\r\n      let svgIcon = bar_List.children[0]\r\n      svgIcon.style.cssText = `fill:#ffffff`;\r\n    }\r\n    // 产品类型列表出现隐藏\r\n    let newLast = this.getMode(e.target,'splider_bar').children;\r\n    \r\n    for(let i=0;i<newLast.length;i++){\r\n      if(newLast[i].className == 'drop_list'){\r\n        newLast[i].style.cssText = `display:block`\r\n      }\r\n      else{\r\n        let drop:any = document.querySelectorAll('.splider_bar .drop_list');\r\n        for(let j = 0;j<drop.length;j++){\r\n          drop[j].style.cssText = `display:none`\r\n        }\r\n      }\r\n    }\r\n  }\r\n  getMode(startMode,name){\r\n    if(this._getClass(startMode.className) == 'String'){\r\n      if(startMode.className.indexOf(name) >= 0){\r\n        return startMode\r\n      }\r\n      else if(startMode.className != name){\r\n        let newMode = startMode.parentElement;\r\n        return this.getMode(newMode,name);\r\n      }\r\n    }\r\n    else{\r\n      if(startMode.className == name ){\r\n        return startMode\r\n      }\r\n      else if(startMode.className != name){\r\n        let newMode = startMode.parentElement;\r\n        return this.getMode(newMode,name);\r\n      }\r\n    }\r\n  }\r\n\r\n  _getClass(object){\r\n    return Object.prototype.toString.call(object).match(/^\\[object\\s(.*)\\]$/)[1];\r\n  };\r\n\r\n  //返回角度\r\n  _GetSlideAngle(dx, dy) {\r\n    return Math.atan2(dx,dy) * 180 / Math.PI;\r\n  }\r\n  countDeg(cx,cy,pointer_x,pointer_y){\r\n    let ox=pointer_x-cx;\r\n    let oy=pointer_y-cy;\r\n    let to=Math.abs(ox/oy);\r\n    let angle = Math.atan( to )/( 2 * Math.PI ) * 360;//鼠标相对于旋转中心的角度\r\n    if( ox < 0 && oy < 0)//相对在左上角，第四象限，js中坐标系是从左上角开始的，这里的象限是正常坐标系  \r\n        {  \r\n            angle = -angle;  \r\n        }else if( ox < 0 && oy > 0)//左下角,3象限  \r\n        {  \r\n            angle = -( 180 - angle )  \r\n        }else if( ox > 0 && oy < 0)//右上角，1象限  \r\n        {  \r\n            angle = angle;  \r\n        }else if( ox > 0 && oy > 0)//右下角，2象限  \r\n        {  \r\n            angle = 180 - angle;  \r\n        }\r\n\r\n    return angle;\r\n} \r\n \r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule} from '@angular/forms';\r\nimport { PanelLeftComponent } from './panel-left.component';\r\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\r\nimport { ProductListModule } from './product-list/product-list.module';\r\nimport { TypeListModule } from './type-list/type-list.module';\r\nimport { ImgListModule } from '../panel-propety/img-list/img-list.module'\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    NgbModule,\r\n    FormsModule,\r\n    ProductListModule,\r\n    TypeListModule,\r\n    ImgListModule\r\n  ],\r\n  declarations: [PanelLeftComponent],\r\n  exports:[PanelLeftComponent]\r\n})\r\nexport class PanelLeftModule { }\r\n","module.exports = \".content{\\r\\n    width: 100%;\\r\\n    height: 100%\\r\\n}\\r\\n.title{\\r\\n    padding: 9px 10px;\\r\\n    border-bottom: 1px solid #e8e8e8;\\r\\n    font-weight: 600;\\r\\n    color: #323232;\\r\\n    font-size: 14px;\\r\\n    line-height: 22px;\\r\\n}\\r\\n.back{\\r\\n    padding: 9px 10px;\\r\\n    border-bottom: 1px solid #e8e8e8;\\r\\n    font-weight: 600;\\r\\n    color: #323232;\\r\\n    font-size: 14px;\\r\\n    line-height: 22px;\\r\\n}\\r\\n#load{\\r\\n    display: none;\\r\\n}\\r\\n.btn .imgCon{\\r\\n    width: 25px;\\r\\n    height: 30px;\\r\\n    display: inline-block;\\r\\n    background-color: #fff;\\r\\n    float: left;\\r\\n    background-color: #3e82f7;\\r\\n    position: relative;\\r\\n    border-bottom: 1px solid #3e82f7;\\r\\n    border-top: 1px solid #3e82f7;\\r\\n    border-left: 1px solid #3e82f7;\\r\\n    border-top-left-radius: 4px;\\r\\n    border-bottom-left-radius: 4px;\\r\\n    overflow: hidden;\\r\\n}\\r\\n.imgCon img{\\r\\n    width: 34px;\\r\\n    height: 34px;\\r\\n    position: absolute;\\r\\n    top: -2px;\\r\\n    right: -6px;\\r\\n    \\r\\n}\\r\\n.backName{\\r\\n    height: 30px;\\r\\n    line-height: 30px;\\r\\n    border-top-right-radius: 4px;\\r\\n    border-bottom-right-radius: 4px;\\r\\n    display: inline-block;\\r\\n    background-color: #3e82f7;\\r\\n    color: #fff;\\r\\n    float: left;\\r\\n    position: relative;\\r\\n    padding: 0 10px;\\r\\n}\\r\\n.drawTool{\\r\\n    width: 100%;\\r\\n    height: calc(100% - 121px);\\r\\n    overflow-y: scroll;\\r\\n}\\r\\n.drawTool::-webkit-scrollbar {/*滚动条整体样式*/\\r\\n    width: 4px;     /*高宽分别对应横竖滚动条的尺寸*/\\r\\n    /* height: 4px; */\\r\\n}\\r\\n.drawTool::-webkit-scrollbar-thumb {/*滚动条里面小方块*/\\r\\n    border-radius: 5px;\\r\\n    -webkit-box-shadow: inset 0 0 5px rgba(0,0,0,0.2);\\r\\n    background: rgba(232,232,232,0.2);\\r\\n}\\r\\n.drawTool::-webkit-scrollbar-track {/*滚动条里面轨道*/\\r\\n    -webkit-box-shadow: inset 0 0 5px rgba(0,0,0,0.2);\\r\\n    border-radius: 0;\\r\\n    background: rgba(102,102,102,0.1);\\r\\n}\\r\\n.listcontainer{\\r\\n    width: 100%;\\r\\n    padding: 0 5px;\\r\\n    border-bottom: 1px solid #e5e5e5;\\r\\n}\\r\\n.listcontainer>span{\\r\\n    display: block;\\r\\n    width: 100%;\\r\\n    height: 20px;\\r\\n    padding-left:6px; \\r\\n    border-left: 5px solid #3e82f7;\\r\\n    line-height: 20px;\\r\\n    text-align: left;\\r\\n    font-family: '微软雅黑'\\r\\n}\\r\\n.icon-container{\\r\\n    display: inline-block;\\r\\n    width: calc(33% - 10px);\\r\\n    /* height: calc(33% + 10px); */\\r\\n    margin: 5px;\\r\\n    \\r\\n    /* float: left; */\\r\\n}\\r\\n.icon-container>span{\\r\\n    display: block;\\r\\n    width: 100%;\\r\\n    height: 20px;\\r\\n    text-align: center;\\r\\n    line-height: 20px;\\r\\n    font-family: '微软雅黑'\\r\\n}\\r\\n.icon2{\\r\\n    margin: 0 auto;\\r\\n    border: 1px solid #e5e5e5;\\r\\n    width: 100%;\\r\\n    height:75px;\\r\\n}\\r\\n.icon2:hover{\\r\\n    border: 2px solid lightblue;\\r\\n    cursor: pointer;\\r\\n    background-color: white;\\r\\n}\\r\\n/* 选中图片时样式 */\\r\\n.border_out{\\r\\n    border: 2px solid lightblue;\\r\\n    background-color: white;\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZGVzaWduLXBvcC9wYW5lbC9wYW5lbC1sZWZ0L3Byb2R1Y3QtbGlzdC9kcmF3LXJvb20vZHJhdy1yb29tLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxXQUFXO0lBQ1g7QUFDSjtBQUNBO0lBQ0ksaUJBQWlCO0lBQ2pCLGdDQUFnQztJQUNoQyxnQkFBZ0I7SUFDaEIsY0FBYztJQUNkLGVBQWU7SUFDZixpQkFBaUI7QUFDckI7QUFDQTtJQUNJLGlCQUFpQjtJQUNqQixnQ0FBZ0M7SUFDaEMsZ0JBQWdCO0lBQ2hCLGNBQWM7SUFDZCxlQUFlO0lBQ2YsaUJBQWlCO0FBQ3JCO0FBQ0E7SUFDSSxhQUFhO0FBQ2pCO0FBQ0E7SUFDSSxXQUFXO0lBQ1gsWUFBWTtJQUNaLHFCQUFxQjtJQUNyQixzQkFBc0I7SUFDdEIsV0FBVztJQUNYLHlCQUF5QjtJQUN6QixrQkFBa0I7SUFDbEIsZ0NBQWdDO0lBQ2hDLDZCQUE2QjtJQUM3Qiw4QkFBOEI7SUFDOUIsMkJBQTJCO0lBQzNCLDhCQUE4QjtJQUM5QixnQkFBZ0I7QUFDcEI7QUFDQTtJQUNJLFdBQVc7SUFDWCxZQUFZO0lBQ1osa0JBQWtCO0lBQ2xCLFNBQVM7SUFDVCxXQUFXOztBQUVmO0FBQ0E7SUFDSSxZQUFZO0lBQ1osaUJBQWlCO0lBQ2pCLDRCQUE0QjtJQUM1QiwrQkFBK0I7SUFDL0IscUJBQXFCO0lBQ3JCLHlCQUF5QjtJQUN6QixXQUFXO0lBQ1gsV0FBVztJQUNYLGtCQUFrQjtJQUNsQixlQUFlO0FBQ25CO0FBQ0E7SUFDSSxXQUFXO0lBQ1gsMEJBQTBCO0lBQzFCLGtCQUFrQjtBQUN0QjtBQUNBLDhCQUE4QixVQUFVO0lBQ3BDLFVBQVUsTUFBTSxpQkFBaUI7SUFDakMsaUJBQWlCO0FBQ3JCO0FBQ0Esb0NBQW9DLFdBQVc7SUFDM0Msa0JBQWtCO0lBQ2xCLGlEQUFpRDtJQUNqRCxpQ0FBaUM7QUFDckM7QUFDQSxvQ0FBb0MsVUFBVTtJQUMxQyxpREFBaUQ7SUFDakQsZ0JBQWdCO0lBQ2hCLGlDQUFpQztBQUNyQztBQUNBO0lBQ0ksV0FBVztJQUNYLGNBQWM7SUFDZCxnQ0FBZ0M7QUFDcEM7QUFFQTtJQUNJLGNBQWM7SUFDZCxXQUFXO0lBQ1gsWUFBWTtJQUNaLGdCQUFnQjtJQUNoQiw4QkFBOEI7SUFDOUIsaUJBQWlCO0lBQ2pCLGdCQUFnQjtJQUNoQjtBQUNKO0FBQ0E7SUFDSSxxQkFBcUI7SUFDckIsdUJBQXVCO0lBQ3ZCLDhCQUE4QjtJQUM5QixXQUFXOztJQUVYLGlCQUFpQjtBQUNyQjtBQUNBO0lBQ0ksY0FBYztJQUNkLFdBQVc7SUFDWCxZQUFZO0lBQ1osa0JBQWtCO0lBQ2xCLGlCQUFpQjtJQUNqQjtBQUNKO0FBQ0E7SUFDSSxjQUFjO0lBQ2QseUJBQXlCO0lBQ3pCLFdBQVc7SUFDWCxXQUFXO0FBQ2Y7QUFDQTtJQUNJLDJCQUEyQjtJQUMzQixlQUFlO0lBQ2YsdUJBQXVCO0FBQzNCO0FBQ0EsWUFBWTtBQUNaO0lBQ0ksMkJBQTJCO0lBQzNCLHVCQUF1QjtBQUMzQiIsImZpbGUiOiJzcmMvYXBwL2Rlc2lnbi1wb3AvcGFuZWwvcGFuZWwtbGVmdC9wcm9kdWN0LWxpc3QvZHJhdy1yb29tL2RyYXctcm9vbS5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmNvbnRlbnR7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGhlaWdodDogMTAwJVxyXG59XHJcbi50aXRsZXtcclxuICAgIHBhZGRpbmc6IDlweCAxMHB4O1xyXG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNlOGU4ZTg7XHJcbiAgICBmb250LXdlaWdodDogNjAwO1xyXG4gICAgY29sb3I6ICMzMjMyMzI7XHJcbiAgICBmb250LXNpemU6IDE0cHg7XHJcbiAgICBsaW5lLWhlaWdodDogMjJweDtcclxufVxyXG4uYmFja3tcclxuICAgIHBhZGRpbmc6IDlweCAxMHB4O1xyXG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNlOGU4ZTg7XHJcbiAgICBmb250LXdlaWdodDogNjAwO1xyXG4gICAgY29sb3I6ICMzMjMyMzI7XHJcbiAgICBmb250LXNpemU6IDE0cHg7XHJcbiAgICBsaW5lLWhlaWdodDogMjJweDtcclxufVxyXG4jbG9hZHtcclxuICAgIGRpc3BsYXk6IG5vbmU7XHJcbn1cclxuLmJ0biAuaW1nQ29ue1xyXG4gICAgd2lkdGg6IDI1cHg7XHJcbiAgICBoZWlnaHQ6IDMwcHg7XHJcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xyXG4gICAgZmxvYXQ6IGxlZnQ7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjM2U4MmY3O1xyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICMzZTgyZjc7XHJcbiAgICBib3JkZXItdG9wOiAxcHggc29saWQgIzNlODJmNztcclxuICAgIGJvcmRlci1sZWZ0OiAxcHggc29saWQgIzNlODJmNztcclxuICAgIGJvcmRlci10b3AtbGVmdC1yYWRpdXM6IDRweDtcclxuICAgIGJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6IDRweDtcclxuICAgIG92ZXJmbG93OiBoaWRkZW47XHJcbn1cclxuLmltZ0NvbiBpbWd7XHJcbiAgICB3aWR0aDogMzRweDtcclxuICAgIGhlaWdodDogMzRweDtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHRvcDogLTJweDtcclxuICAgIHJpZ2h0OiAtNnB4O1xyXG4gICAgXHJcbn1cclxuLmJhY2tOYW1le1xyXG4gICAgaGVpZ2h0OiAzMHB4O1xyXG4gICAgbGluZS1oZWlnaHQ6IDMwcHg7XHJcbiAgICBib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogNHB4O1xyXG4gICAgYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IDRweDtcclxuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICMzZTgyZjc7XHJcbiAgICBjb2xvcjogI2ZmZjtcclxuICAgIGZsb2F0OiBsZWZ0O1xyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgcGFkZGluZzogMCAxMHB4O1xyXG59XHJcbi5kcmF3VG9vbHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgaGVpZ2h0OiBjYWxjKDEwMCUgLSAxMjFweCk7XHJcbiAgICBvdmVyZmxvdy15OiBzY3JvbGw7XHJcbn1cclxuLmRyYXdUb29sOjotd2Via2l0LXNjcm9sbGJhciB7Lyrmu5rliqjmnaHmlbTkvZPmoLflvI8qL1xyXG4gICAgd2lkdGg6IDRweDsgICAgIC8q6auY5a695YiG5Yir5a+55bqU5qiq56uW5rua5Yqo5p2h55qE5bC65a+4Ki9cclxuICAgIC8qIGhlaWdodDogNHB4OyAqL1xyXG59XHJcbi5kcmF3VG9vbDo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIgey8q5rua5Yqo5p2h6YeM6Z2i5bCP5pa55Z2XKi9cclxuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICAgIC13ZWJraXQtYm94LXNoYWRvdzogaW5zZXQgMCAwIDVweCByZ2JhKDAsMCwwLDAuMik7XHJcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDIzMiwyMzIsMjMyLDAuMik7XHJcbn1cclxuLmRyYXdUb29sOjotd2Via2l0LXNjcm9sbGJhci10cmFjayB7Lyrmu5rliqjmnaHph4zpnaLovajpgZMqL1xyXG4gICAgLXdlYmtpdC1ib3gtc2hhZG93OiBpbnNldCAwIDAgNXB4IHJnYmEoMCwwLDAsMC4yKTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDA7XHJcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDEwMiwxMDIsMTAyLDAuMSk7XHJcbn1cclxuLmxpc3Rjb250YWluZXJ7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIHBhZGRpbmc6IDAgNXB4O1xyXG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNlNWU1ZTU7XHJcbn1cclxuXHJcbi5saXN0Y29udGFpbmVyPnNwYW57XHJcbiAgICBkaXNwbGF5OiBibG9jaztcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgaGVpZ2h0OiAyMHB4O1xyXG4gICAgcGFkZGluZy1sZWZ0OjZweDsgXHJcbiAgICBib3JkZXItbGVmdDogNXB4IHNvbGlkICMzZTgyZjc7XHJcbiAgICBsaW5lLWhlaWdodDogMjBweDtcclxuICAgIHRleHQtYWxpZ246IGxlZnQ7XHJcbiAgICBmb250LWZhbWlseTogJ+W+rui9r+mbhem7kSdcclxufVxyXG4uaWNvbi1jb250YWluZXJ7XHJcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgICB3aWR0aDogY2FsYygzMyUgLSAxMHB4KTtcclxuICAgIC8qIGhlaWdodDogY2FsYygzMyUgKyAxMHB4KTsgKi9cclxuICAgIG1hcmdpbjogNXB4O1xyXG4gICAgXHJcbiAgICAvKiBmbG9hdDogbGVmdDsgKi9cclxufVxyXG4uaWNvbi1jb250YWluZXI+c3BhbntcclxuICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBoZWlnaHQ6IDIwcHg7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBsaW5lLWhlaWdodDogMjBweDtcclxuICAgIGZvbnQtZmFtaWx5OiAn5b6u6L2v6ZuF6buRJ1xyXG59XHJcbi5pY29uMntcclxuICAgIG1hcmdpbjogMCBhdXRvO1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgI2U1ZTVlNTtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgaGVpZ2h0Ojc1cHg7XHJcbn1cclxuLmljb24yOmhvdmVye1xyXG4gICAgYm9yZGVyOiAycHggc29saWQgbGlnaHRibHVlO1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XHJcbn1cclxuLyog6YCJ5Lit5Zu+54mH5pe25qC35byPICovXHJcbi5ib3JkZXJfb3V0e1xyXG4gICAgYm9yZGVyOiAycHggc29saWQgbGlnaHRibHVlO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XHJcbn0iXX0= */\"","import { Component, OnInit,Input } from '@angular/core';\r\n\r\n@Component({\r\n  selector: '[drawRoom]',\r\n  templateUrl: './draw-room.component.html',\r\n  styleUrls: ['./draw-room.component.css']\r\n})\r\nexport class DrawRoomComponent implements OnInit {\r\n\r\n  private _roomData;\r\n  @Input() set drawRoom(data) {\r\n    // this._roomData = data;\r\n    // console.log(data)\r\n    this._roomData = data\r\n  }\r\n  get drawRoom(){return this._roomData}\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { DrawRoomComponent } from './draw-room.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  declarations: [DrawRoomComponent],\r\n  exports:[DrawRoomComponent]\r\n})\r\nexport class DrawRoomModule { }\r\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Rlc2lnbi1wb3AvcGFuZWwvcGFuZWwtbGVmdC9wcm9kdWN0LWxpc3QvbWluZS9taW5lLmNvbXBvbmVudC5jc3MifQ== */\"","import { Component, OnInit,Input } from '@angular/core';\r\n\r\n@Component({\r\n  selector: '[mine]',\r\n  templateUrl: './mine.component.html',\r\n  styleUrls: ['./mine.component.css']\r\n})\r\nexport class MineComponent implements OnInit {\r\n  private _mine\r\n  @Input() set mine(data){\r\n    this._mine = data;\r\n  }\r\n  get mine(){return this._mine}\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { MineComponent } from './mine.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  declarations: [MineComponent],\r\n  exports:[MineComponent]\r\n})\r\nexport class MineModule { }\r\n","module.exports = \".putModel{\\r\\n    height: 100%\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZGVzaWduLXBvcC9wYW5lbC9wYW5lbC1sZWZ0L3Byb2R1Y3QtbGlzdC9wcm9kdWN0LWxpc3QuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJO0FBQ0oiLCJmaWxlIjoic3JjL2FwcC9kZXNpZ24tcG9wL3BhbmVsL3BhbmVsLWxlZnQvcHJvZHVjdC1saXN0L3Byb2R1Y3QtbGlzdC5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnB1dE1vZGVse1xyXG4gICAgaGVpZ2h0OiAxMDAlXHJcbn0iXX0= */\"","import { Component, OnInit,Input } from '@angular/core';\r\n\r\n@Component({\r\n  selector: '[productList]',\r\n  templateUrl: './product-list.component.html',\r\n  styleUrls: ['./product-list.component.css']\r\n})\r\nexport class ProductListComponent implements OnInit {\r\n  private _productList;\r\n  @Input() set productList(data) {\r\n    this._productList = data;\r\n  }\r\n  get productList() {return this._productList}\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ProductListComponent } from './product-list.component';\r\nimport { DrawRoomModule } from './draw-room/draw-room.module';\r\nimport { PutModelModule } from \"./put-model/put-model.module\";\r\nimport { MineModule } from './mine/mine.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    DrawRoomModule,\r\n    PutModelModule,\r\n    MineModule\r\n  ],\r\n  declarations: [ProductListComponent],\r\n  exports:[ProductListComponent]\r\n})\r\nexport class ProductListModule { }\r\n","module.exports = \"\\r\\n.put_content{\\r\\n    height: 100%;\\r\\n}\\r\\n.bread{\\r\\n    padding: 9px 10px;\\r\\n    border-bottom: 1px solid #e8e8e8;\\r\\n    font-weight: 600;\\r\\n    color: #323232;\\r\\n    font-size: 14px;\\r\\n    line-height: 22px;\\r\\n    overflow: hidden;\\r\\n    /* position: relative; */\\r\\n}\\r\\n.hidde_icon{\\r\\n    margin-left: -18px;\\r\\n}\\r\\n.names{\\r\\n    display: inline-block;\\r\\n    /* position: absolute; */\\r\\n    /* margin-left: -18px; */\\r\\n}\\r\\n.names span {\\r\\n    font-size: 13px;\\r\\n    color: #323232;\\r\\n    border-bottom: 1px solid lightblue;\\r\\n}\\r\\n.search_content{\\r\\n    margin: 5px 5px 5px 0;\\r\\n    height: 34px;\\r\\n    padding-left: 10px;\\r\\n    width: 100%;\\r\\n}\\r\\n.search_for{\\r\\n    padding:9px 8px;\\r\\n    height: 32px;\\r\\n    line-height: 32px;\\r\\n    font-size: 14px;\\r\\n    border-color: transparent;\\r\\n    /* width: 100%; */\\r\\n}\\r\\n.main_content{\\r\\n    width: 100%;\\r\\n    margin-top: 5px;\\r\\n    padding-left: 10px;\\r\\n    height: calc(100% - 80px);\\r\\n    overflow-y: scroll;\\r\\n}\\r\\n.main_content::-webkit-scrollbar {/*滚动条整体样式*/\\r\\n    width: 4px;     /*高宽分别对应横竖滚动条的尺寸*/\\r\\n    /* height: 4px; */\\r\\n}\\r\\n.main_content::-webkit-scrollbar-thumb {/*滚动条里面小方块*/\\r\\n    border-radius: 5px;\\r\\n    -webkit-box-shadow: inset 0 0 5px rgba(0,0,0,0.2);\\r\\n    background: rgba(232,232,232,0.2);\\r\\n}\\r\\n.main_content::-webkit-scrollbar-track {/*滚动条里面轨道*/\\r\\n    -webkit-box-shadow: inset 0 0 5px rgba(0,0,0,0.2);\\r\\n    border-radius: 0;\\r\\n    background: rgba(102,102,102,0.1);\\r\\n}\\r\\n.img_content{\\r\\n    display: inline-block;\\r\\n    box-sizing: border-box;\\r\\n    width: calc(50% - 3px);\\r\\n    max-width: 120px;\\r\\n    height: 120px;\\r\\n    margin: 0 3px 3px 0;\\r\\n    border:1px solid #ddd;\\r\\n    border-radius: 2px;\\r\\n    position: relative;\\r\\n}\\r\\n.img_content:hover{\\r\\n    border: 1px solid lightblue;\\r\\n}\\r\\n.img_content img {\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n}\\r\\n.img_content:hover .xinxi_icon{\\r\\n    display: block;\\r\\n}\\r\\n.xinxi_icon{\\r\\n    position: absolute;\\r\\n    top: 0;\\r\\n    right: 0;\\r\\n    width: 20px;\\r\\n    height: 20px;\\r\\n    fill: white;\\r\\n    display: none;\\r\\n}\\r\\n.detail_container{\\r\\n    width: 350px;\\r\\n    position: absolute;\\r\\n    left: 266px;\\r\\n    top: 50px;\\r\\n    background-color: #fff;\\r\\n    border-radius: 5px;\\r\\n    overflow: hidden;\\r\\n}\\r\\n.detail_container img{\\r\\n    width: 100%;\\r\\n    height: 350px;\\r\\n}\\r\\n.text_info{\\r\\n    width: 100%;\\r\\n    padding: 5px 15px;\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZGVzaWduLXBvcC9wYW5lbC9wYW5lbC1sZWZ0L3Byb2R1Y3QtbGlzdC9wdXQtbW9kZWwvcHV0LW1vZGVsLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUNBO0lBQ0ksWUFBWTtBQUNoQjtBQUNBO0lBQ0ksaUJBQWlCO0lBQ2pCLGdDQUFnQztJQUNoQyxnQkFBZ0I7SUFDaEIsY0FBYztJQUNkLGVBQWU7SUFDZixpQkFBaUI7SUFDakIsZ0JBQWdCO0lBQ2hCLHdCQUF3QjtBQUM1QjtBQUNBO0lBQ0ksa0JBQWtCO0FBQ3RCO0FBQ0E7SUFDSSxxQkFBcUI7SUFDckIsd0JBQXdCO0lBQ3hCLHdCQUF3QjtBQUM1QjtBQUNBO0lBQ0ksZUFBZTtJQUNmLGNBQWM7SUFDZCxrQ0FBa0M7QUFDdEM7QUFDQTtJQUNJLHFCQUFxQjtJQUNyQixZQUFZO0lBQ1osa0JBQWtCO0lBQ2xCLFdBQVc7QUFDZjtBQUNBO0lBQ0ksZUFBZTtJQUNmLFlBQVk7SUFDWixpQkFBaUI7SUFDakIsZUFBZTtJQUNmLHlCQUF5QjtJQUN6QixpQkFBaUI7QUFDckI7QUFDQTtJQUNJLFdBQVc7SUFDWCxlQUFlO0lBQ2Ysa0JBQWtCO0lBQ2xCLHlCQUF5QjtJQUN6QixrQkFBa0I7QUFDdEI7QUFDQSxrQ0FBa0MsVUFBVTtJQUN4QyxVQUFVLE1BQU0saUJBQWlCO0lBQ2pDLGlCQUFpQjtBQUNyQjtBQUNBLHdDQUF3QyxXQUFXO0lBQy9DLGtCQUFrQjtJQUNsQixpREFBaUQ7SUFDakQsaUNBQWlDO0FBQ3JDO0FBQ0Esd0NBQXdDLFVBQVU7SUFDOUMsaURBQWlEO0lBQ2pELGdCQUFnQjtJQUNoQixpQ0FBaUM7QUFDckM7QUFDQTtJQUNJLHFCQUFxQjtJQUNyQixzQkFBc0I7SUFDdEIsc0JBQXNCO0lBQ3RCLGdCQUFnQjtJQUNoQixhQUFhO0lBQ2IsbUJBQW1CO0lBQ25CLHFCQUFxQjtJQUNyQixrQkFBa0I7SUFDbEIsa0JBQWtCO0FBQ3RCO0FBQ0E7SUFDSSwyQkFBMkI7QUFDL0I7QUFDQTtJQUNJLFdBQVc7SUFDWCxZQUFZO0FBQ2hCO0FBQ0E7SUFDSSxjQUFjO0FBQ2xCO0FBQ0E7SUFDSSxrQkFBa0I7SUFDbEIsTUFBTTtJQUNOLFFBQVE7SUFDUixXQUFXO0lBQ1gsWUFBWTtJQUNaLFdBQVc7SUFDWCxhQUFhO0FBQ2pCO0FBQ0E7SUFDSSxZQUFZO0lBQ1osa0JBQWtCO0lBQ2xCLFdBQVc7SUFDWCxTQUFTO0lBQ1Qsc0JBQXNCO0lBQ3RCLGtCQUFrQjtJQUNsQixnQkFBZ0I7QUFDcEI7QUFDQTtJQUNJLFdBQVc7SUFDWCxhQUFhO0FBQ2pCO0FBQ0E7SUFDSSxXQUFXO0lBQ1gsaUJBQWlCO0FBQ3JCIiwiZmlsZSI6InNyYy9hcHAvZGVzaWduLXBvcC9wYW5lbC9wYW5lbC1sZWZ0L3Byb2R1Y3QtbGlzdC9wdXQtbW9kZWwvcHV0LW1vZGVsLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuLnB1dF9jb250ZW50e1xyXG4gICAgaGVpZ2h0OiAxMDAlO1xyXG59XHJcbi5icmVhZHtcclxuICAgIHBhZGRpbmc6IDlweCAxMHB4O1xyXG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNlOGU4ZTg7XHJcbiAgICBmb250LXdlaWdodDogNjAwO1xyXG4gICAgY29sb3I6ICMzMjMyMzI7XHJcbiAgICBmb250LXNpemU6IDE0cHg7XHJcbiAgICBsaW5lLWhlaWdodDogMjJweDtcclxuICAgIG92ZXJmbG93OiBoaWRkZW47XHJcbiAgICAvKiBwb3NpdGlvbjogcmVsYXRpdmU7ICovXHJcbn1cclxuLmhpZGRlX2ljb257XHJcbiAgICBtYXJnaW4tbGVmdDogLTE4cHg7XHJcbn1cclxuLm5hbWVze1xyXG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gICAgLyogcG9zaXRpb246IGFic29sdXRlOyAqL1xyXG4gICAgLyogbWFyZ2luLWxlZnQ6IC0xOHB4OyAqL1xyXG59XHJcbi5uYW1lcyBzcGFuIHtcclxuICAgIGZvbnQtc2l6ZTogMTNweDtcclxuICAgIGNvbG9yOiAjMzIzMjMyO1xyXG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIGxpZ2h0Ymx1ZTtcclxufVxyXG4uc2VhcmNoX2NvbnRlbnR7XHJcbiAgICBtYXJnaW46IDVweCA1cHggNXB4IDA7XHJcbiAgICBoZWlnaHQ6IDM0cHg7XHJcbiAgICBwYWRkaW5nLWxlZnQ6IDEwcHg7XHJcbiAgICB3aWR0aDogMTAwJTtcclxufVxyXG4uc2VhcmNoX2ZvcntcclxuICAgIHBhZGRpbmc6OXB4IDhweDtcclxuICAgIGhlaWdodDogMzJweDtcclxuICAgIGxpbmUtaGVpZ2h0OiAzMnB4O1xyXG4gICAgZm9udC1zaXplOiAxNHB4O1xyXG4gICAgYm9yZGVyLWNvbG9yOiB0cmFuc3BhcmVudDtcclxuICAgIC8qIHdpZHRoOiAxMDAlOyAqL1xyXG59XHJcbi5tYWluX2NvbnRlbnR7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIG1hcmdpbi10b3A6IDVweDtcclxuICAgIHBhZGRpbmctbGVmdDogMTBweDtcclxuICAgIGhlaWdodDogY2FsYygxMDAlIC0gODBweCk7XHJcbiAgICBvdmVyZmxvdy15OiBzY3JvbGw7XHJcbn1cclxuLm1haW5fY29udGVudDo6LXdlYmtpdC1zY3JvbGxiYXIgey8q5rua5Yqo5p2h5pW05L2T5qC35byPKi9cclxuICAgIHdpZHRoOiA0cHg7ICAgICAvKumrmOWuveWIhuWIq+WvueW6lOaoquerlua7muWKqOadoeeahOWwuuWvuCovXHJcbiAgICAvKiBoZWlnaHQ6IDRweDsgKi9cclxufVxyXG4ubWFpbl9jb250ZW50Ojotd2Via2l0LXNjcm9sbGJhci10aHVtYiB7Lyrmu5rliqjmnaHph4zpnaLlsI/mlrnlnZcqL1xyXG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gICAgLXdlYmtpdC1ib3gtc2hhZG93OiBpbnNldCAwIDAgNXB4IHJnYmEoMCwwLDAsMC4yKTtcclxuICAgIGJhY2tncm91bmQ6IHJnYmEoMjMyLDIzMiwyMzIsMC4yKTtcclxufVxyXG4ubWFpbl9jb250ZW50Ojotd2Via2l0LXNjcm9sbGJhci10cmFjayB7Lyrmu5rliqjmnaHph4zpnaLovajpgZMqL1xyXG4gICAgLXdlYmtpdC1ib3gtc2hhZG93OiBpbnNldCAwIDAgNXB4IHJnYmEoMCwwLDAsMC4yKTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDA7XHJcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDEwMiwxMDIsMTAyLDAuMSk7XHJcbn1cclxuLmltZ19jb250ZW50e1xyXG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcclxuICAgIHdpZHRoOiBjYWxjKDUwJSAtIDNweCk7XHJcbiAgICBtYXgtd2lkdGg6IDEyMHB4O1xyXG4gICAgaGVpZ2h0OiAxMjBweDtcclxuICAgIG1hcmdpbjogMCAzcHggM3B4IDA7XHJcbiAgICBib3JkZXI6MXB4IHNvbGlkICNkZGQ7XHJcbiAgICBib3JkZXItcmFkaXVzOiAycHg7XHJcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbn1cclxuLmltZ19jb250ZW50OmhvdmVye1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgbGlnaHRibHVlO1xyXG59XHJcbi5pbWdfY29udGVudCBpbWcge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBoZWlnaHQ6IDEwMCU7XHJcbn1cclxuLmltZ19jb250ZW50OmhvdmVyIC54aW54aV9pY29ue1xyXG4gICAgZGlzcGxheTogYmxvY2s7XHJcbn1cclxuLnhpbnhpX2ljb257XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICB0b3A6IDA7XHJcbiAgICByaWdodDogMDtcclxuICAgIHdpZHRoOiAyMHB4O1xyXG4gICAgaGVpZ2h0OiAyMHB4O1xyXG4gICAgZmlsbDogd2hpdGU7XHJcbiAgICBkaXNwbGF5OiBub25lO1xyXG59XHJcbi5kZXRhaWxfY29udGFpbmVye1xyXG4gICAgd2lkdGg6IDM1MHB4O1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgbGVmdDogMjY2cHg7XHJcbiAgICB0b3A6IDUwcHg7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xyXG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxufVxyXG4uZGV0YWlsX2NvbnRhaW5lciBpbWd7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGhlaWdodDogMzUwcHg7XHJcbn1cclxuLnRleHRfaW5mb3tcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgcGFkZGluZzogNXB4IDE1cHg7XHJcbn0iXX0= */\"","import { Component, OnInit,Input} from '@angular/core';\r\n\r\n@Component({\r\n  selector: '[putModel]',\r\n  templateUrl: './put-model.component.html',\r\n  styleUrls: ['./put-model.component.css']\r\n})\r\nexport class PutModelComponent implements OnInit {\r\n  private _model;\r\n  imgInfo:any = null;\r\n  @Input() set putModel(data){\r\n    // console.log(data);\r\n    this._model = data;\r\n  }\r\n  get putModel(){return this._model}\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n  showInfo(e,img){\r\n    // console.log(img)\r\n    this.imgInfo = img\r\n  }\r\n  hiddeInfo(){\r\n    this.imgInfo = null\r\n  }\r\n\r\n}\r\n","\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { PutModelComponent } from './put-model.component';\r\n@NgModule({\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  declarations: [PutModelComponent],\r\n  exports: [PutModelComponent]\r\n})\r\nexport class PutModelModule {\r\n}","module.exports = \".hover_panel{\\r\\n    /* display: none; */\\r\\n    position: absolute;\\r\\n    left: 60px;\\r\\n    z-index: 2;\\r\\n    background-color: #fff;\\r\\n    border: 1px solid #ddd;\\r\\n    border-radius: 5px;\\r\\n    min-width: 350px;\\r\\n    padding: 20px;\\r\\n    -webkit-transform-origin: left bottom;\\r\\n            transform-origin: left bottom;\\r\\n    /* max-height: 100%; */\\r\\n}\\r\\n.type_panel{\\r\\n    max-width: 330px;\\r\\n    /* height: 20px; */\\r\\n    /* border-left: 5px solid #3e82f7; */\\r\\n}\\r\\n.type_panel>span{\\r\\n    display: block;\\r\\n    width: 100%;\\r\\n    height: 20px;\\r\\n    line-height: 20px;\\r\\n    font-weight: 700;\\r\\n    font-size: 13px;\\r\\n    padding-left: 8px;\\r\\n    color: black;\\r\\n    text-align: left;\\r\\n    border-left: 5px solid #3e82f7;\\r\\n}\\r\\n.name_list{\\r\\n    min-width: 200px;\\r\\n    padding: 5px;\\r\\n    text-align: left;\\r\\n}\\r\\n.name_list span{\\r\\n    display: inline-block;\\r\\n    /* height: 20px; */\\r\\n    line-height: 20px;\\r\\n    margin: 5px 10px;\\r\\n    color:#666\\r\\n}\\r\\n.name_list span:hover{\\r\\n    color:#3e82f7\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZGVzaWduLXBvcC9wYW5lbC9wYW5lbC1sZWZ0L3R5cGUtbGlzdC90eXBlLWxpc3QuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLG1CQUFtQjtJQUNuQixrQkFBa0I7SUFDbEIsVUFBVTtJQUNWLFVBQVU7SUFDVixzQkFBc0I7SUFDdEIsc0JBQXNCO0lBQ3RCLGtCQUFrQjtJQUNsQixnQkFBZ0I7SUFDaEIsYUFBYTtJQUNiLHFDQUE2QjtZQUE3Qiw2QkFBNkI7SUFDN0Isc0JBQXNCO0FBQzFCO0FBQ0E7SUFDSSxnQkFBZ0I7SUFDaEIsa0JBQWtCO0lBQ2xCLG9DQUFvQztBQUN4QztBQUNBO0lBQ0ksY0FBYztJQUNkLFdBQVc7SUFDWCxZQUFZO0lBQ1osaUJBQWlCO0lBQ2pCLGdCQUFnQjtJQUNoQixlQUFlO0lBQ2YsaUJBQWlCO0lBQ2pCLFlBQVk7SUFDWixnQkFBZ0I7SUFDaEIsOEJBQThCO0FBQ2xDO0FBQ0E7SUFDSSxnQkFBZ0I7SUFDaEIsWUFBWTtJQUNaLGdCQUFnQjtBQUNwQjtBQUNBO0lBQ0kscUJBQXFCO0lBQ3JCLGtCQUFrQjtJQUNsQixpQkFBaUI7SUFDakIsZ0JBQWdCO0lBQ2hCO0FBQ0o7QUFDQTtJQUNJO0FBQ0oiLCJmaWxlIjoic3JjL2FwcC9kZXNpZ24tcG9wL3BhbmVsL3BhbmVsLWxlZnQvdHlwZS1saXN0L3R5cGUtbGlzdC5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmhvdmVyX3BhbmVse1xyXG4gICAgLyogZGlzcGxheTogbm9uZTsgKi9cclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIGxlZnQ6IDYwcHg7XHJcbiAgICB6LWluZGV4OiAyO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7XHJcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbiAgICBtaW4td2lkdGg6IDM1MHB4O1xyXG4gICAgcGFkZGluZzogMjBweDtcclxuICAgIHRyYW5zZm9ybS1vcmlnaW46IGxlZnQgYm90dG9tO1xyXG4gICAgLyogbWF4LWhlaWdodDogMTAwJTsgKi9cclxufVxyXG4udHlwZV9wYW5lbHtcclxuICAgIG1heC13aWR0aDogMzMwcHg7XHJcbiAgICAvKiBoZWlnaHQ6IDIwcHg7ICovXHJcbiAgICAvKiBib3JkZXItbGVmdDogNXB4IHNvbGlkICMzZTgyZjc7ICovXHJcbn1cclxuLnR5cGVfcGFuZWw+c3BhbntcclxuICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBoZWlnaHQ6IDIwcHg7XHJcbiAgICBsaW5lLWhlaWdodDogMjBweDtcclxuICAgIGZvbnQtd2VpZ2h0OiA3MDA7XHJcbiAgICBmb250LXNpemU6IDEzcHg7XHJcbiAgICBwYWRkaW5nLWxlZnQ6IDhweDtcclxuICAgIGNvbG9yOiBibGFjaztcclxuICAgIHRleHQtYWxpZ246IGxlZnQ7XHJcbiAgICBib3JkZXItbGVmdDogNXB4IHNvbGlkICMzZTgyZjc7XHJcbn1cclxuLm5hbWVfbGlzdHtcclxuICAgIG1pbi13aWR0aDogMjAwcHg7XHJcbiAgICBwYWRkaW5nOiA1cHg7XHJcbiAgICB0ZXh0LWFsaWduOiBsZWZ0O1xyXG59XHJcbi5uYW1lX2xpc3Qgc3BhbntcclxuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICAgIC8qIGhlaWdodDogMjBweDsgKi9cclxuICAgIGxpbmUtaGVpZ2h0OiAyMHB4O1xyXG4gICAgbWFyZ2luOiA1cHggMTBweDtcclxuICAgIGNvbG9yOiM2NjZcclxufVxyXG4ubmFtZV9saXN0IHNwYW46aG92ZXJ7XHJcbiAgICBjb2xvcjojM2U4MmY3XHJcbn0iXX0= */\"","import { Component, OnInit,Input,ElementRef, ViewChild, AfterViewInit, Renderer} from '@angular/core';\r\n\r\n@Component({\r\n  selector: '[typeList]',\r\n  templateUrl: './type-list.component.html',\r\n  styleUrls: ['./type-list.component.css']\r\n})\r\nexport class TypeListComponent implements OnInit{\r\n  private _typeData;\r\n  @ViewChild('greet',{\"static\":true})\r\n  greetDiv: ElementRef;\r\n  @Input() set typeList(data) {\r\n    this._typeData = data;  \r\n  }\r\n  get typeList(){return this._typeData}\r\n  \r\n\r\n  constructor(private elementRef: ElementRef, private renderer: Renderer) { }\r\n\r\n  ngAfterViewInit() {\r\n    let hover_panel = this.elementRef.nativeElement.querySelector('.hover_panel')\r\n    let con_height = hover_panel.clientHeight;\r\n    if(this._typeData.pos.y < con_height/2){\r\n      con_height = 0\r\n    }\r\n    else if (this._typeData.pos.y + con_height/2 > window.innerHeight){\r\n      con_height = window.innerHeight - con_height\r\n    }\r\n    else{\r\n      con_height =  -con_height/2\r\n    }\r\n    this.renderer.setElementStyle(this.greetDiv.nativeElement, 'top', con_height+'px');\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { TypeListComponent } from './type-list.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  declarations: [TypeListComponent],\r\n  exports:[TypeListComponent]\r\n})\r\nexport class TypeListModule { }\r\n","module.exports = \".check_box{\\r\\n    width: 100%;\\r\\n    /* height: 19px; */\\r\\n    /* display: flex; */\\r\\n    /* justify-content: center; */\\r\\n    vertical-align: middle;\\r\\n    \\r\\n    box-shadow: inset 0 0 1px 0 rgba(52,58,64,.14);\\r\\n}\\r\\n.check_box .title_box {\\r\\n    width: 100%;\\r\\n    height: 25px;\\r\\n    background-color: #e9e9e9;\\r\\n    box-shadow: inset 0 0 1px 0 rgba(52,58,64,.14);\\r\\n    /* margin-top: 3px; */\\r\\n}\\r\\n.title_box input {\\r\\n    width:12px;\\r\\n    height: 12px;\\r\\n    margin: 6px 10px;\\r\\n    float: left;\\r\\n}\\r\\n.title_box span {\\r\\n    /* display: inline-block; */\\r\\n    /* width: 100%; */\\r\\n    display: inline-block;\\r\\n    height: 100%;\\r\\n    font-family: '微软雅黑',Arial,Helvetica,sans-serif;\\r\\n    /* line-height: 25px; */\\r\\n    font-size: 12px;\\r\\n    float: left;\\r\\n    color: black;\\r\\n    /* vertical-align: middle; */\\r\\n    line-height: 25px;\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZGVzaWduLXBvcC9wYW5lbC9wYW5lbC1wcm9wZXR5L2NoZWNrLXNsaWRlci9jaGVjay1zbGlkZXIuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLFdBQVc7SUFDWCxrQkFBa0I7SUFDbEIsbUJBQW1CO0lBQ25CLDZCQUE2QjtJQUM3QixzQkFBc0I7O0lBRXRCLDhDQUE4QztBQUNsRDtBQUNBO0lBQ0ksV0FBVztJQUNYLFlBQVk7SUFDWix5QkFBeUI7SUFDekIsOENBQThDO0lBQzlDLHFCQUFxQjtBQUN6QjtBQUNBO0lBQ0ksVUFBVTtJQUNWLFlBQVk7SUFDWixnQkFBZ0I7SUFDaEIsV0FBVztBQUNmO0FBQ0E7SUFDSSwyQkFBMkI7SUFDM0IsaUJBQWlCO0lBQ2pCLHFCQUFxQjtJQUNyQixZQUFZO0lBQ1osOENBQThDO0lBQzlDLHVCQUF1QjtJQUN2QixlQUFlO0lBQ2YsV0FBVztJQUNYLFlBQVk7SUFDWiw0QkFBNEI7SUFDNUIsaUJBQWlCO0FBQ3JCIiwiZmlsZSI6InNyYy9hcHAvZGVzaWduLXBvcC9wYW5lbC9wYW5lbC1wcm9wZXR5L2NoZWNrLXNsaWRlci9jaGVjay1zbGlkZXIuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jaGVja19ib3h7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIC8qIGhlaWdodDogMTlweDsgKi9cclxuICAgIC8qIGRpc3BsYXk6IGZsZXg7ICovXHJcbiAgICAvKiBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsgKi9cclxuICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XHJcbiAgICBcclxuICAgIGJveC1zaGFkb3c6IGluc2V0IDAgMCAxcHggMCByZ2JhKDUyLDU4LDY0LC4xNCk7XHJcbn1cclxuLmNoZWNrX2JveCAudGl0bGVfYm94IHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgaGVpZ2h0OiAyNXB4O1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2U5ZTllOTtcclxuICAgIGJveC1zaGFkb3c6IGluc2V0IDAgMCAxcHggMCByZ2JhKDUyLDU4LDY0LC4xNCk7XHJcbiAgICAvKiBtYXJnaW4tdG9wOiAzcHg7ICovXHJcbn1cclxuLnRpdGxlX2JveCBpbnB1dCB7XHJcbiAgICB3aWR0aDoxMnB4O1xyXG4gICAgaGVpZ2h0OiAxMnB4O1xyXG4gICAgbWFyZ2luOiA2cHggMTBweDtcclxuICAgIGZsb2F0OiBsZWZ0O1xyXG59XHJcbi50aXRsZV9ib3ggc3BhbiB7XHJcbiAgICAvKiBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7ICovXHJcbiAgICAvKiB3aWR0aDogMTAwJTsgKi9cclxuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICAgIGhlaWdodDogMTAwJTtcclxuICAgIGZvbnQtZmFtaWx5OiAn5b6u6L2v6ZuF6buRJyxBcmlhbCxIZWx2ZXRpY2Esc2Fucy1zZXJpZjtcclxuICAgIC8qIGxpbmUtaGVpZ2h0OiAyNXB4OyAqL1xyXG4gICAgZm9udC1zaXplOiAxMnB4O1xyXG4gICAgZmxvYXQ6IGxlZnQ7XHJcbiAgICBjb2xvcjogYmxhY2s7XHJcbiAgICAvKiB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOyAqL1xyXG4gICAgbGluZS1oZWlnaHQ6IDI1cHg7XHJcbn0iXX0= */\"","import { Component, OnInit,Input } from '@angular/core';\r\n\r\n@Component({\r\n  selector: '[checkSlider]',\r\n  templateUrl: './check-slider.component.html',\r\n  styleUrls: ['./check-slider.component.css']\r\n})\r\nexport class CheckSliderComponent implements OnInit {\r\n  private _checkData;\r\n  private newData\r\n  @Input() set checkSlider(data) {\r\n    this._checkData = data;\r\n  }\r\n  get checkSlider() {\r\n    for(let i=0;i<this._checkData.length;i++){\r\n      this._checkData[i].newFunc = (params) => {\r\n      \r\n        this._checkData[i].isCheck == true?this._checkData[i].isCheck = false:this._checkData[i].isCheck = true;\r\n        this._checkData[i].func(this._checkData[i].isCheck);\r\n        // console.log(this.newData)\r\n      }\r\n    }\r\n    \r\n    return this._checkData;\r\n  }\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { CheckSliderComponent } from './check-slider.component';\r\nimport { SliderBoxModule } from '../slider-box/slider-box.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,SliderBoxModule\r\n  ],\r\n  declarations: [CheckSliderComponent],\r\n  exports:[CheckSliderComponent]\r\n})\r\nexport class CheckSliderModule { }\r\n","module.exports = \".imgDiv{\\r\\n    padding: 5px 10px;\\r\\n}\\r\\n.imageDiv{\\r\\n    width: 100%;\\r\\n    height: 100px;\\r\\n}\\r\\n.imageDiv img{\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZGVzaWduLXBvcC9wYW5lbC9wYW5lbC1wcm9wZXR5L2ltZy1kZXRhaWwvaW1nLWRldGFpbC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksaUJBQWlCO0FBQ3JCO0FBQ0E7SUFDSSxXQUFXO0lBQ1gsYUFBYTtBQUNqQjtBQUNBO0lBQ0ksV0FBVztJQUNYLFlBQVk7QUFDaEIiLCJmaWxlIjoic3JjL2FwcC9kZXNpZ24tcG9wL3BhbmVsL3BhbmVsLXByb3BldHkvaW1nLWRldGFpbC9pbWctZGV0YWlsLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuaW1nRGl2e1xyXG4gICAgcGFkZGluZzogNXB4IDEwcHg7XHJcbn1cclxuLmltYWdlRGl2e1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBoZWlnaHQ6IDEwMHB4O1xyXG59XHJcbi5pbWFnZURpdiBpbWd7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGhlaWdodDogMTAwJTtcclxufSJdfQ== */\"","import { Component, OnInit, Input } from '@angular/core';\r\n\r\n@Component({\r\n  selector: '[imgDetail]',\r\n  templateUrl: './img-detail.component.html',\r\n  styleUrls: ['./img-detail.component.css']\r\n})\r\nexport class ImgDetailComponent implements OnInit {\r\n  private _imgData\r\n  @Input() set imgDetail(data) {\r\n    this._imgData = data\r\n  }\r\n  get imgDetail(){return this._imgData}\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ImgDetailComponent } from './img-detail.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  declarations: [ImgDetailComponent],\r\n  exports:[ImgDetailComponent]\r\n})\r\nexport class ImgDetailModule { }\r\n","module.exports = \".img_panel{\\r\\n    width: 336px;\\r\\n    height: 100%;\\r\\n    position: absolute;\\r\\n    /* left: -336px; */\\r\\n    top: 0;\\r\\n    background-color: #fff;\\r\\n    border-right: 1px solid #ddd;\\r\\n    z-index: 20;\\r\\n    -webkit-animation: show .5s;\\r\\n            animation: show .5s\\r\\n}\\r\\n@-webkit-keyframes show{\\r\\n    from{\\r\\n        left: -336px;\\r\\n    }\\r\\n    to{\\r\\n        left: 0px;\\r\\n    }\\r\\n}\\r\\n@keyframes show{\\r\\n    from{\\r\\n        left: -336px;\\r\\n    }\\r\\n    to{\\r\\n        left: 0px;\\r\\n    }\\r\\n}\\r\\n.img_title{\\r\\n    position: absolute;\\r\\n    left: 0;\\r\\n    top: 0;\\r\\n    width: 100%;\\r\\n    box-sizing: border-box;\\r\\n    padding: 15px 20px;\\r\\n    height: 50px;\\r\\n    line-height: 20px;\\r\\n    border-bottom: 1px solid #ddd;\\r\\n\\r\\n}\\r\\n.img_title .name{\\r\\n    color: #323232;\\r\\n    font-size: 18px;\\r\\n}\\r\\n.img_title .close{\\r\\n    position: absolute;\\r\\n    right: 0;\\r\\n    top: 0;\\r\\n    width: 50px;\\r\\n    height: 50px;\\r\\n    padding: 10px;\\r\\n}\\r\\n.close_icon{\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n}\\r\\n.img_container{\\r\\n    width: 100%;\\r\\n    height: calc(100% - 50px);\\r\\n    overflow-y: scroll;\\r\\n    position: absolute;\\r\\n    top: 50px;\\r\\n    left: 0;\\r\\n    padding-left: 5px;\\r\\n}\\r\\n.img_container::-webkit-scrollbar {/*滚动条整体样式*/\\r\\n    width: 4px;     /*高宽分别对应横竖滚动条的尺寸*/\\r\\n    /* height: 4px; */\\r\\n}\\r\\n.img_container::-webkit-scrollbar-thumb {/*滚动条里面小方块*/\\r\\n    border-radius: 5px;\\r\\n    -webkit-box-shadow: inset 0 0 5px rgba(0,0,0,0.2);\\r\\n    background: rgba(232,232,232,0.2);\\r\\n}\\r\\n.img_container::-webkit-scrollbar-track {/*滚动条里面轨道*/\\r\\n    -webkit-box-shadow: inset 0 0 5px rgba(0,0,0,0.2);\\r\\n    border-radius: 0;\\r\\n    background: rgba(102,102,102,0.1);\\r\\n}\\r\\n.img_container .imgDiv{\\r\\n    display: inline-block;\\r\\n    position: relative;\\r\\n    box-sizing: border-box;\\r\\n    /* width: calc(50% - 6px / 2); */\\r\\n    height: 144px;\\r\\n    width: 144px;\\r\\n    margin: 0 0px 10px 10px;\\r\\n}\\r\\n.imgDiv:hover .border_div{\\r\\n    border: 1px solid #3e82f7;\\r\\n}\\r\\n.imgDiv:hover .xinxi_icon{\\r\\n    display: block;\\r\\n}\\r\\n.imgDiv .border_div{\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    border: 1px solid transparent;\\r\\n}\\r\\n.border_div img{\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n}\\r\\n.imgDiv .xinxi_icon{\\r\\n    position: absolute;\\r\\n    top: 0;\\r\\n    right: 0;\\r\\n    width: 20px;\\r\\n    height: 20px;\\r\\n    fill: white;\\r\\n    display: none;\\r\\n}\\r\\n.xinxi_icon:hover{\\r\\n    fill: none\\r\\n}\\r\\n.detail_container{\\r\\n    width: 350px;\\r\\n    position: absolute;\\r\\n    left: 336px;\\r\\n    top: 50px;\\r\\n    background-color: #fff;\\r\\n    border-radius: 5px;\\r\\n    overflow: hidden;\\r\\n}\\r\\n.detail_container img{\\r\\n    width: 100%;\\r\\n    height: 350px;\\r\\n}\\r\\n.text_info{\\r\\n    width: 100%;\\r\\n    padding: 5px 15px;\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZGVzaWduLXBvcC9wYW5lbC9wYW5lbC1wcm9wZXR5L2ltZy1saXN0L2ltZy1saXN0LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxZQUFZO0lBQ1osWUFBWTtJQUNaLGtCQUFrQjtJQUNsQixrQkFBa0I7SUFDbEIsTUFBTTtJQUNOLHNCQUFzQjtJQUN0Qiw0QkFBNEI7SUFDNUIsV0FBVztJQUNYLDJCQUFrQjtZQUFsQjtBQUNKO0FBQ0E7SUFDSTtRQUNJLFlBQVk7SUFDaEI7SUFDQTtRQUNJLFNBQVM7SUFDYjtBQUNKO0FBUEE7SUFDSTtRQUNJLFlBQVk7SUFDaEI7SUFDQTtRQUNJLFNBQVM7SUFDYjtBQUNKO0FBQ0E7SUFDSSxrQkFBa0I7SUFDbEIsT0FBTztJQUNQLE1BQU07SUFDTixXQUFXO0lBQ1gsc0JBQXNCO0lBQ3RCLGtCQUFrQjtJQUNsQixZQUFZO0lBQ1osaUJBQWlCO0lBQ2pCLDZCQUE2Qjs7QUFFakM7QUFDQTtJQUNJLGNBQWM7SUFDZCxlQUFlO0FBQ25CO0FBQ0E7SUFDSSxrQkFBa0I7SUFDbEIsUUFBUTtJQUNSLE1BQU07SUFDTixXQUFXO0lBQ1gsWUFBWTtJQUNaLGFBQWE7QUFDakI7QUFDQTtJQUNJLFdBQVc7SUFDWCxZQUFZO0FBQ2hCO0FBQ0E7SUFDSSxXQUFXO0lBQ1gseUJBQXlCO0lBQ3pCLGtCQUFrQjtJQUNsQixrQkFBa0I7SUFDbEIsU0FBUztJQUNULE9BQU87SUFDUCxpQkFBaUI7QUFDckI7QUFDQSxtQ0FBbUMsVUFBVTtJQUN6QyxVQUFVLE1BQU0saUJBQWlCO0lBQ2pDLGlCQUFpQjtBQUNyQjtBQUNBLHlDQUF5QyxXQUFXO0lBQ2hELGtCQUFrQjtJQUNsQixpREFBaUQ7SUFDakQsaUNBQWlDO0FBQ3JDO0FBQ0EseUNBQXlDLFVBQVU7SUFDL0MsaURBQWlEO0lBQ2pELGdCQUFnQjtJQUNoQixpQ0FBaUM7QUFDckM7QUFDQTtJQUNJLHFCQUFxQjtJQUNyQixrQkFBa0I7SUFDbEIsc0JBQXNCO0lBQ3RCLGdDQUFnQztJQUNoQyxhQUFhO0lBQ2IsWUFBWTtJQUNaLHVCQUF1QjtBQUMzQjtBQUNBO0lBQ0kseUJBQXlCO0FBQzdCO0FBQ0E7SUFDSSxjQUFjO0FBQ2xCO0FBQ0E7SUFDSSxXQUFXO0lBQ1gsWUFBWTtJQUNaLDZCQUE2QjtBQUNqQztBQUNBO0lBQ0ksV0FBVztJQUNYLFlBQVk7QUFDaEI7QUFDQTtJQUNJLGtCQUFrQjtJQUNsQixNQUFNO0lBQ04sUUFBUTtJQUNSLFdBQVc7SUFDWCxZQUFZO0lBQ1osV0FBVztJQUNYLGFBQWE7QUFDakI7QUFDQTtJQUNJO0FBQ0o7QUFDQTtJQUNJLFlBQVk7SUFDWixrQkFBa0I7SUFDbEIsV0FBVztJQUNYLFNBQVM7SUFDVCxzQkFBc0I7SUFDdEIsa0JBQWtCO0lBQ2xCLGdCQUFnQjtBQUNwQjtBQUNBO0lBQ0ksV0FBVztJQUNYLGFBQWE7QUFDakI7QUFDQTtJQUNJLFdBQVc7SUFDWCxpQkFBaUI7QUFDckIiLCJmaWxlIjoic3JjL2FwcC9kZXNpZ24tcG9wL3BhbmVsL3BhbmVsLXByb3BldHkvaW1nLWxpc3QvaW1nLWxpc3QuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5pbWdfcGFuZWx7XHJcbiAgICB3aWR0aDogMzM2cHg7XHJcbiAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAvKiBsZWZ0OiAtMzM2cHg7ICovXHJcbiAgICB0b3A6IDA7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xyXG4gICAgYm9yZGVyLXJpZ2h0OiAxcHggc29saWQgI2RkZDtcclxuICAgIHotaW5kZXg6IDIwO1xyXG4gICAgYW5pbWF0aW9uOiBzaG93IC41c1xyXG59XHJcbkBrZXlmcmFtZXMgc2hvd3tcclxuICAgIGZyb217XHJcbiAgICAgICAgbGVmdDogLTMzNnB4O1xyXG4gICAgfVxyXG4gICAgdG97XHJcbiAgICAgICAgbGVmdDogMHB4O1xyXG4gICAgfVxyXG59XHJcbi5pbWdfdGl0bGV7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICBsZWZ0OiAwO1xyXG4gICAgdG9wOiAwO1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG4gICAgcGFkZGluZzogMTVweCAyMHB4O1xyXG4gICAgaGVpZ2h0OiA1MHB4O1xyXG4gICAgbGluZS1oZWlnaHQ6IDIwcHg7XHJcbiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2RkZDtcclxuXHJcbn1cclxuLmltZ190aXRsZSAubmFtZXtcclxuICAgIGNvbG9yOiAjMzIzMjMyO1xyXG4gICAgZm9udC1zaXplOiAxOHB4O1xyXG59XHJcbi5pbWdfdGl0bGUgLmNsb3Nle1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgcmlnaHQ6IDA7XHJcbiAgICB0b3A6IDA7XHJcbiAgICB3aWR0aDogNTBweDtcclxuICAgIGhlaWdodDogNTBweDtcclxuICAgIHBhZGRpbmc6IDEwcHg7XHJcbn1cclxuLmNsb3NlX2ljb257XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGhlaWdodDogMTAwJTtcclxufVxyXG4uaW1nX2NvbnRhaW5lcntcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgaGVpZ2h0OiBjYWxjKDEwMCUgLSA1MHB4KTtcclxuICAgIG92ZXJmbG93LXk6IHNjcm9sbDtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHRvcDogNTBweDtcclxuICAgIGxlZnQ6IDA7XHJcbiAgICBwYWRkaW5nLWxlZnQ6IDVweDtcclxufVxyXG4uaW1nX2NvbnRhaW5lcjo6LXdlYmtpdC1zY3JvbGxiYXIgey8q5rua5Yqo5p2h5pW05L2T5qC35byPKi9cclxuICAgIHdpZHRoOiA0cHg7ICAgICAvKumrmOWuveWIhuWIq+WvueW6lOaoquerlua7muWKqOadoeeahOWwuuWvuCovXHJcbiAgICAvKiBoZWlnaHQ6IDRweDsgKi9cclxufVxyXG4uaW1nX2NvbnRhaW5lcjo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIgey8q5rua5Yqo5p2h6YeM6Z2i5bCP5pa55Z2XKi9cclxuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICAgIC13ZWJraXQtYm94LXNoYWRvdzogaW5zZXQgMCAwIDVweCByZ2JhKDAsMCwwLDAuMik7XHJcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDIzMiwyMzIsMjMyLDAuMik7XHJcbn1cclxuLmltZ19jb250YWluZXI6Oi13ZWJraXQtc2Nyb2xsYmFyLXRyYWNrIHsvKua7muWKqOadoemHjOmdoui9qOmBkyovXHJcbiAgICAtd2Via2l0LWJveC1zaGFkb3c6IGluc2V0IDAgMCA1cHggcmdiYSgwLDAsMCwwLjIpO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMDtcclxuICAgIGJhY2tncm91bmQ6IHJnYmEoMTAyLDEwMiwxMDIsMC4xKTtcclxufVxyXG4uaW1nX2NvbnRhaW5lciAuaW1nRGl2e1xyXG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcclxuICAgIC8qIHdpZHRoOiBjYWxjKDUwJSAtIDZweCAvIDIpOyAqL1xyXG4gICAgaGVpZ2h0OiAxNDRweDtcclxuICAgIHdpZHRoOiAxNDRweDtcclxuICAgIG1hcmdpbjogMCAwcHggMTBweCAxMHB4O1xyXG59XHJcbi5pbWdEaXY6aG92ZXIgLmJvcmRlcl9kaXZ7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjM2U4MmY3O1xyXG59XHJcbi5pbWdEaXY6aG92ZXIgLnhpbnhpX2ljb257XHJcbiAgICBkaXNwbGF5OiBibG9jaztcclxufVxyXG4uaW1nRGl2IC5ib3JkZXJfZGl2e1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCB0cmFuc3BhcmVudDtcclxufVxyXG4uYm9yZGVyX2RpdiBpbWd7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGhlaWdodDogMTAwJTtcclxufVxyXG4uaW1nRGl2IC54aW54aV9pY29ue1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgdG9wOiAwO1xyXG4gICAgcmlnaHQ6IDA7XHJcbiAgICB3aWR0aDogMjBweDtcclxuICAgIGhlaWdodDogMjBweDtcclxuICAgIGZpbGw6IHdoaXRlO1xyXG4gICAgZGlzcGxheTogbm9uZTtcclxufVxyXG4ueGlueGlfaWNvbjpob3ZlcntcclxuICAgIGZpbGw6IG5vbmVcclxufVxyXG4uZGV0YWlsX2NvbnRhaW5lcntcclxuICAgIHdpZHRoOiAzNTBweDtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIGxlZnQ6IDMzNnB4O1xyXG4gICAgdG9wOiA1MHB4O1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcclxuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICAgIG92ZXJmbG93OiBoaWRkZW47XHJcbn1cclxuLmRldGFpbF9jb250YWluZXIgaW1ne1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBoZWlnaHQ6IDM1MHB4O1xyXG59XHJcbi50ZXh0X2luZm97XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIHBhZGRpbmc6IDVweCAxNXB4O1xyXG59Il19 */\"","import { Component, OnInit,Input } from '@angular/core';\r\nimport { PopDivService } from '../../../../services/pop-div.service';\r\n\r\n@Component({\r\n  selector: '[imgList]',\r\n  templateUrl: './img-list.component.html',\r\n  styleUrls: ['./img-list.component.css']\r\n})\r\nexport class ImgListComponent implements OnInit {\r\n  private _imgData\r\n  imgInfo:any = null\r\n  @Input() set imgList(data){\r\n    this._imgData = data\r\n  }\r\n  get imgList(){return this._imgData}\r\n  constructor(\r\n    private popService:PopDivService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  close(e){\r\n    this.popService.getMaterial.emit(null)\r\n  }\r\n  showInfo(e,img){\r\n    // console.log(img)\r\n    this.imgInfo = img\r\n  }\r\n  hiddeInfo(){\r\n    this.imgInfo = null\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ImgListComponent } from './img-list.component';\r\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    NgbModule\r\n  ],\r\n  declarations: [ImgListComponent],\r\n  exports:[ImgListComponent]\r\n})\r\nexport class ImgListModule { }\r\n","module.exports = \".txtContainer{\\r\\n    position: relative;\\r\\n    height: 45px;\\r\\n    display: inline-block;\\r\\n    margin-bottom: 3px;\\r\\n    margin-left: 6px;\\r\\n    overflow: hidden;\\r\\n}\\r\\n.txtContainer .name{\\r\\n    color: #808080;\\r\\n    font-size: 12px;\\r\\n    line-height: 11px;\\r\\n    font-weight: normal;\\r\\n    margin-top: 2px;\\r\\n    margin-bottom: 2px;\\r\\n    display: inline-block;\\r\\n    padding: .2em .6em .3em;\\r\\n    text-align: center;\\r\\n    white-space: nowrap;\\r\\n    vertical-align: baseline;\\r\\n    border-radius: .25em;\\r\\n}\\r\\n.txtContainer input{\\r\\n    width: 70px;\\r\\n    height: 25px;\\r\\n    background: #fafafa;\\r\\n    border: 1px solid #c3c3c3;\\r\\n    border-radius: 2px;\\r\\n    color: #343a40;\\r\\n    display: inline-block;\\r\\n    text-indent: 4px;\\r\\n    padding: 1px 0;\\r\\n    font-size: 11px;\\r\\n    margin-top: 10px;\\r\\n}\\r\\ninput[type=text]:disabled{\\r\\n    background-color: rgb(235,235,235)\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZGVzaWduLXBvcC9wYW5lbC9wYW5lbC1wcm9wZXR5L2lubGluZS10ZXh0L2lubGluZS10ZXh0LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxrQkFBa0I7SUFDbEIsWUFBWTtJQUNaLHFCQUFxQjtJQUNyQixrQkFBa0I7SUFDbEIsZ0JBQWdCO0lBQ2hCLGdCQUFnQjtBQUNwQjtBQUNBO0lBQ0ksY0FBYztJQUNkLGVBQWU7SUFDZixpQkFBaUI7SUFDakIsbUJBQW1CO0lBQ25CLGVBQWU7SUFDZixrQkFBa0I7SUFDbEIscUJBQXFCO0lBQ3JCLHVCQUF1QjtJQUN2QixrQkFBa0I7SUFDbEIsbUJBQW1CO0lBQ25CLHdCQUF3QjtJQUN4QixvQkFBb0I7QUFDeEI7QUFDQTtJQUNJLFdBQVc7SUFDWCxZQUFZO0lBQ1osbUJBQW1CO0lBQ25CLHlCQUF5QjtJQUN6QixrQkFBa0I7SUFDbEIsY0FBYztJQUNkLHFCQUFxQjtJQUNyQixnQkFBZ0I7SUFDaEIsY0FBYztJQUNkLGVBQWU7SUFDZixnQkFBZ0I7QUFDcEI7QUFDQTtJQUNJO0FBQ0oiLCJmaWxlIjoic3JjL2FwcC9kZXNpZ24tcG9wL3BhbmVsL3BhbmVsLXByb3BldHkvaW5saW5lLXRleHQvaW5saW5lLXRleHQuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi50eHRDb250YWluZXJ7XHJcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICBoZWlnaHQ6IDQ1cHg7XHJcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAzcHg7XHJcbiAgICBtYXJnaW4tbGVmdDogNnB4O1xyXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxufVxyXG4udHh0Q29udGFpbmVyIC5uYW1le1xyXG4gICAgY29sb3I6ICM4MDgwODA7XHJcbiAgICBmb250LXNpemU6IDEycHg7XHJcbiAgICBsaW5lLWhlaWdodDogMTFweDtcclxuICAgIGZvbnQtd2VpZ2h0OiBub3JtYWw7XHJcbiAgICBtYXJnaW4tdG9wOiAycHg7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAycHg7XHJcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgICBwYWRkaW5nOiAuMmVtIC42ZW0gLjNlbTtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XHJcbiAgICB2ZXJ0aWNhbC1hbGlnbjogYmFzZWxpbmU7XHJcbiAgICBib3JkZXItcmFkaXVzOiAuMjVlbTtcclxufVxyXG4udHh0Q29udGFpbmVyIGlucHV0e1xyXG4gICAgd2lkdGg6IDcwcHg7XHJcbiAgICBoZWlnaHQ6IDI1cHg7XHJcbiAgICBiYWNrZ3JvdW5kOiAjZmFmYWZhO1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgI2MzYzNjMztcclxuICAgIGJvcmRlci1yYWRpdXM6IDJweDtcclxuICAgIGNvbG9yOiAjMzQzYTQwO1xyXG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gICAgdGV4dC1pbmRlbnQ6IDRweDtcclxuICAgIHBhZGRpbmc6IDFweCAwO1xyXG4gICAgZm9udC1zaXplOiAxMXB4O1xyXG4gICAgbWFyZ2luLXRvcDogMTBweDtcclxufVxyXG5pbnB1dFt0eXBlPXRleHRdOmRpc2FibGVke1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDIzNSwyMzUsMjM1KVxyXG59Il19 */\"","import { Component, OnInit,Input } from '@angular/core';\r\n\r\n@Component({\r\n  selector: '[inlineText]',\r\n  templateUrl: './inline-text.component.html',\r\n  styleUrls: ['./inline-text.component.css']\r\n})\r\nexport class InlineTextComponent implements OnInit {\r\n  private _inlineText;\r\n  @Input() set inlineText(data) {\r\n    // console.log(data)\r\n    this._inlineText = data;\r\n  }\r\n  get inlineText(){return this._inlineText}\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { InlineTextComponent } from './inline-text.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  declarations: [InlineTextComponent],\r\n  exports:[InlineTextComponent]\r\n})\r\nexport class InlineTextModule { }\r\n","module.exports = \".mianCotainer{\\r\\n    position: absolute;\\r\\n}\\r\\n.rightProperty{\\r\\n    width: 230px;\\r\\n    height: calc(100% - 245px);\\r\\n    background: rgba(250, 250, 250, 0.7);\\r\\n    /* border: 1px solid #d6d6d6; */\\r\\n    border-top: 0;\\r\\n    padding-top: 10px;\\r\\n    position: absolute;\\r\\n    top:210px;\\r\\n    right: 0;\\r\\n    z-index: 50;\\r\\n    border-radius: 2px 0 2px 2px;\\r\\n    overflow-x:hidden;\\r\\n    overflow-y:scroll;  \\r\\n}\\r\\n.rightProperty::-webkit-scrollbar {\\r\\n    /* width: 8px;\\r\\n    border-radius: 3px;\\r\\n    background-color: #aaaaaa */\\r\\n    display: none;\\r\\n}\\r\\n.property{\\r\\n    width: 100%;\\r\\n    /* max-height: 150px; */\\r\\n    /* margin-bottom: 10px; */\\r\\n    /* border: 1px solid #d6d6d6;  */\\r\\n     \\r\\n}\\r\\n.superA{\\r\\n    border: 1px solid #ddd;\\r\\n    font-size: 16px;\\r\\n    text-align: center;\\r\\n    margin-bottom: 5px;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZGVzaWduLXBvcC9wYW5lbC9wYW5lbC1wcm9wZXR5L3BhbmVsLXByb3BldHkuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGtCQUFrQjtBQUN0QjtBQUNBO0lBQ0ksWUFBWTtJQUNaLDBCQUEwQjtJQUMxQixvQ0FBb0M7SUFDcEMsK0JBQStCO0lBQy9CLGFBQWE7SUFDYixpQkFBaUI7SUFDakIsa0JBQWtCO0lBQ2xCLFNBQVM7SUFDVCxRQUFRO0lBQ1IsV0FBVztJQUNYLDRCQUE0QjtJQUM1QixpQkFBaUI7SUFDakIsaUJBQWlCO0FBQ3JCO0FBQ0E7SUFDSTs7K0JBRTJCO0lBQzNCLGFBQWE7QUFDakI7QUFDQTtJQUNJLFdBQVc7SUFDWCx1QkFBdUI7SUFDdkIseUJBQXlCO0lBQ3pCLGdDQUFnQzs7QUFFcEM7QUFDQTtJQUNJLHNCQUFzQjtJQUN0QixlQUFlO0lBQ2Ysa0JBQWtCO0lBQ2xCLGtCQUFrQjtBQUN0QiIsImZpbGUiOiJzcmMvYXBwL2Rlc2lnbi1wb3AvcGFuZWwvcGFuZWwtcHJvcGV0eS9wYW5lbC1wcm9wZXR5LmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubWlhbkNvdGFpbmVye1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG59XHJcbi5yaWdodFByb3BlcnR5e1xyXG4gICAgd2lkdGg6IDIzMHB4O1xyXG4gICAgaGVpZ2h0OiBjYWxjKDEwMCUgLSAyNDVweCk7XHJcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDI1MCwgMjUwLCAyNTAsIDAuNyk7XHJcbiAgICAvKiBib3JkZXI6IDFweCBzb2xpZCAjZDZkNmQ2OyAqL1xyXG4gICAgYm9yZGVyLXRvcDogMDtcclxuICAgIHBhZGRpbmctdG9wOiAxMHB4O1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgdG9wOjIxMHB4O1xyXG4gICAgcmlnaHQ6IDA7XHJcbiAgICB6LWluZGV4OiA1MDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDJweCAwIDJweCAycHg7XHJcbiAgICBvdmVyZmxvdy14OmhpZGRlbjtcclxuICAgIG92ZXJmbG93LXk6c2Nyb2xsOyAgXHJcbn1cclxuLnJpZ2h0UHJvcGVydHk6Oi13ZWJraXQtc2Nyb2xsYmFyIHtcclxuICAgIC8qIHdpZHRoOiA4cHg7XHJcbiAgICBib3JkZXItcmFkaXVzOiAzcHg7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjYWFhYWFhICovXHJcbiAgICBkaXNwbGF5OiBub25lO1xyXG59XHJcbi5wcm9wZXJ0eXtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgLyogbWF4LWhlaWdodDogMTUwcHg7ICovXHJcbiAgICAvKiBtYXJnaW4tYm90dG9tOiAxMHB4OyAqL1xyXG4gICAgLyogYm9yZGVyOiAxcHggc29saWQgI2Q2ZDZkNjsgICovXHJcbiAgICAgXHJcbn1cclxuLnN1cGVyQXtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7XHJcbiAgICBmb250LXNpemU6IDE2cHg7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBtYXJnaW4tYm90dG9tOiA1cHg7XHJcbn1cclxuIl19 */\"","import { Component, OnInit,Input } from '@angular/core';\r\n\r\n@Component({\r\n  selector: '[panelPropety]',\r\n  templateUrl: './panel-propety.component.html',\r\n  styleUrls: ['./panel-propety.component.css']\r\n})\r\nexport class PanelPropetyComponent implements OnInit {\r\n  private _panelPropety\r\n  @Input() set panelPropety(data){\r\n    this._panelPropety = data\r\n  }\r\n  get panelPropety(){return this._panelPropety}\r\n  constructor(\r\n    \r\n  ) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { PanelPropetyComponent } from './panel-propety.component';\r\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\r\nimport { SliderBoxModule } from './slider-box/slider-box.module';\r\nimport { TextBoxModule } from './text-box/text-box.module';\r\nimport { CheckSliderModule } from './check-slider/check-slider.module';\r\nimport { SelectBoxModule } from './select-box/select-box.module';\r\nimport { InlineTextModule } from './inline-text/inline-text.module';\r\nimport { ImgDetailModule } from './img-detail/img-detail.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    NgbModule,\r\n    SliderBoxModule,\r\n    TextBoxModule,\r\n    CheckSliderModule,\r\n    SelectBoxModule,\r\n    InlineTextModule,\r\n    ImgDetailModule\r\n  ],\r\n  declarations: [PanelPropetyComponent],\r\n  exports:[PanelPropetyComponent]\r\n})\r\nexport class PanelPropetyModule { }\r\n","module.exports = \".select_box{\\r\\n    line-height: 22px;\\r\\n    font-size: 12px;\\r\\n    color: #808080;\\r\\n    width: auto;\\r\\n    margin-top: 8px;\\r\\n}\\r\\n.title{\\r\\n    font-size: 12px;\\r\\n    margin-right: 5px;\\r\\n    vertical-align: top;\\r\\n}\\r\\n.ulcontainer{\\r\\n    display: inline-block;\\r\\n    position: relative;\\r\\n}\\r\\n.ulcontainer button{\\r\\n    height: 22px;\\r\\n    width: 110px;\\r\\n    font-size: 12px;\\r\\n    text-align: left;\\r\\n    padding: 0 0;\\r\\n    outline: none;\\r\\n    background-color: #fafafa;\\r\\n    border: solid 1px #ccc;\\r\\n    padding-right: 0px;\\r\\n    border-radius: 2px;\\r\\n}\\r\\n.ulcontainer button img {\\r\\n    margin: 3px 0 0 4px;\\r\\n    width: 30px;\\r\\n    height: 15px;\\r\\n    float: left;\\r\\n}\\r\\n.ulcontainer button .text {\\r\\n    /* margin-left: -5px; */\\r\\n    line-height: 22px;\\r\\n    height: 22px;\\r\\n    width: 60px;\\r\\n    text-align: center;\\r\\n    overflow: hidden;\\r\\n    display: inline-block;\\r\\n}\\r\\n.caretcontainer{\\r\\n    display: inline-block;\\r\\n    width: 10px;\\r\\n    float: right;\\r\\n    background-color: #e4e4e4;\\r\\n    height: 20px;\\r\\n}\\r\\n.caret{\\r\\n    float: right;\\r\\n    margin: 9px 2px 0 0;\\r\\n    border-top: 3px dashed;\\r\\n    border-right: 3px solid transparent;\\r\\n    border-left: 3px solid transparent;\\r\\n    display: inline-block;\\r\\n    width: 0;\\r\\n    height: 0;\\r\\n    vertical-align: middle;\\r\\n}\\r\\n.dropDownUl{\\r\\n    display: block;\\r\\n    position: absolute;\\r\\n    top: 0px;\\r\\n    min-width: 127px;\\r\\n    max-width: 160px;\\r\\n    width: -webkit-max-content;\\r\\n    width: -moz-max-content;\\r\\n    width: max-content;\\r\\n    padding: 0px 0;\\r\\n    border: 1px solid #ccc;\\r\\n    border-radius: 2px;\\r\\n    text-align: left;\\r\\n    box-shadow: 0 1px 8px rgba(0,0,0,0.2);\\r\\n    background-color: #fafafa;\\r\\n    z-index: 1000;\\r\\n    max-height: 136px;\\r\\n    overflow: auto;\\r\\n    padding: 5px;\\r\\n    padding-top: 2px;\\r\\n    padding-bottom: 2px;\\r\\n    overflow-x: hidden;\\r\\n}\\r\\n.dropdownLi{\\r\\n    height: 22px;\\r\\n    max-width: 100%;\\r\\n    float: left;\\r\\n    margin: 0 8px;\\r\\n    overflow: hidden;\\r\\n    line-height: 22px;\\r\\n    font-size: 12px;\\r\\n    cursor: pointer;\\r\\n    position: relative;\\r\\n    list-style: none;\\r\\n}\\r\\n.dropdownLi:hover {\\r\\n    background-color: lightblue;\\r\\n}\\r\\n.dropdownLi img{\\r\\n    margin: 3px 0 0 4px;\\r\\n    width: 40px;\\r\\n    height: 15px;\\r\\n    float: left;\\r\\n}\\r\\n.roomName{\\r\\n    display: inline-block;\\r\\n    width: 50px;\\r\\n    border: 1px solid #ddd;\\r\\n    height: 22px;\\r\\n    position: absolute;\\r\\n    margin-left: 3px;\\r\\n    padding-left: 4px;\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZGVzaWduLXBvcC9wYW5lbC9wYW5lbC1wcm9wZXR5L3NlbGVjdC1ib3gvc2VsZWN0LWJveC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksaUJBQWlCO0lBQ2pCLGVBQWU7SUFDZixjQUFjO0lBQ2QsV0FBVztJQUNYLGVBQWU7QUFDbkI7QUFDQTtJQUNJLGVBQWU7SUFDZixpQkFBaUI7SUFDakIsbUJBQW1CO0FBQ3ZCO0FBQ0E7SUFDSSxxQkFBcUI7SUFDckIsa0JBQWtCO0FBQ3RCO0FBQ0E7SUFDSSxZQUFZO0lBQ1osWUFBWTtJQUNaLGVBQWU7SUFDZixnQkFBZ0I7SUFDaEIsWUFBWTtJQUNaLGFBQWE7SUFDYix5QkFBeUI7SUFDekIsc0JBQXNCO0lBQ3RCLGtCQUFrQjtJQUNsQixrQkFBa0I7QUFDdEI7QUFDQTtJQUNJLG1CQUFtQjtJQUNuQixXQUFXO0lBQ1gsWUFBWTtJQUNaLFdBQVc7QUFDZjtBQUNBO0lBQ0ksdUJBQXVCO0lBQ3ZCLGlCQUFpQjtJQUNqQixZQUFZO0lBQ1osV0FBVztJQUNYLGtCQUFrQjtJQUNsQixnQkFBZ0I7SUFDaEIscUJBQXFCO0FBQ3pCO0FBQ0E7SUFDSSxxQkFBcUI7SUFDckIsV0FBVztJQUNYLFlBQVk7SUFDWix5QkFBeUI7SUFDekIsWUFBWTtBQUNoQjtBQUNBO0lBQ0ksWUFBWTtJQUNaLG1CQUFtQjtJQUNuQixzQkFBc0I7SUFDdEIsbUNBQW1DO0lBQ25DLGtDQUFrQztJQUNsQyxxQkFBcUI7SUFDckIsUUFBUTtJQUNSLFNBQVM7SUFDVCxzQkFBc0I7QUFDMUI7QUFDQTtJQUNJLGNBQWM7SUFDZCxrQkFBa0I7SUFDbEIsUUFBUTtJQUNSLGdCQUFnQjtJQUNoQixnQkFBZ0I7SUFDaEIsMEJBQWtCO0lBQWxCLHVCQUFrQjtJQUFsQixrQkFBa0I7SUFDbEIsY0FBYztJQUNkLHNCQUFzQjtJQUN0QixrQkFBa0I7SUFDbEIsZ0JBQWdCO0lBQ2hCLHFDQUFxQztJQUNyQyx5QkFBeUI7SUFDekIsYUFBYTtJQUNiLGlCQUFpQjtJQUNqQixjQUFjO0lBQ2QsWUFBWTtJQUNaLGdCQUFnQjtJQUNoQixtQkFBbUI7SUFDbkIsa0JBQWtCO0FBQ3RCO0FBQ0E7SUFDSSxZQUFZO0lBQ1osZUFBZTtJQUNmLFdBQVc7SUFDWCxhQUFhO0lBQ2IsZ0JBQWdCO0lBQ2hCLGlCQUFpQjtJQUNqQixlQUFlO0lBQ2YsZUFBZTtJQUNmLGtCQUFrQjtJQUNsQixnQkFBZ0I7QUFDcEI7QUFDQTtJQUNJLDJCQUEyQjtBQUMvQjtBQUNBO0lBQ0ksbUJBQW1CO0lBQ25CLFdBQVc7SUFDWCxZQUFZO0lBQ1osV0FBVztBQUNmO0FBQ0E7SUFDSSxxQkFBcUI7SUFDckIsV0FBVztJQUNYLHNCQUFzQjtJQUN0QixZQUFZO0lBQ1osa0JBQWtCO0lBQ2xCLGdCQUFnQjtJQUNoQixpQkFBaUI7QUFDckIiLCJmaWxlIjoic3JjL2FwcC9kZXNpZ24tcG9wL3BhbmVsL3BhbmVsLXByb3BldHkvc2VsZWN0LWJveC9zZWxlY3QtYm94LmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuc2VsZWN0X2JveHtcclxuICAgIGxpbmUtaGVpZ2h0OiAyMnB4O1xyXG4gICAgZm9udC1zaXplOiAxMnB4O1xyXG4gICAgY29sb3I6ICM4MDgwODA7XHJcbiAgICB3aWR0aDogYXV0bztcclxuICAgIG1hcmdpbi10b3A6IDhweDtcclxufVxyXG4udGl0bGV7XHJcbiAgICBmb250LXNpemU6IDEycHg7XHJcbiAgICBtYXJnaW4tcmlnaHQ6IDVweDtcclxuICAgIHZlcnRpY2FsLWFsaWduOiB0b3A7XHJcbn1cclxuLnVsY29udGFpbmVye1xyXG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG59XHJcbi51bGNvbnRhaW5lciBidXR0b257XHJcbiAgICBoZWlnaHQ6IDIycHg7XHJcbiAgICB3aWR0aDogMTEwcHg7XHJcbiAgICBmb250LXNpemU6IDEycHg7XHJcbiAgICB0ZXh0LWFsaWduOiBsZWZ0O1xyXG4gICAgcGFkZGluZzogMCAwO1xyXG4gICAgb3V0bGluZTogbm9uZTtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNmYWZhZmE7XHJcbiAgICBib3JkZXI6IHNvbGlkIDFweCAjY2NjO1xyXG4gICAgcGFkZGluZy1yaWdodDogMHB4O1xyXG4gICAgYm9yZGVyLXJhZGl1czogMnB4O1xyXG59XHJcbi51bGNvbnRhaW5lciBidXR0b24gaW1nIHtcclxuICAgIG1hcmdpbjogM3B4IDAgMCA0cHg7XHJcbiAgICB3aWR0aDogMzBweDtcclxuICAgIGhlaWdodDogMTVweDtcclxuICAgIGZsb2F0OiBsZWZ0O1xyXG59XHJcbi51bGNvbnRhaW5lciBidXR0b24gLnRleHQge1xyXG4gICAgLyogbWFyZ2luLWxlZnQ6IC01cHg7ICovXHJcbiAgICBsaW5lLWhlaWdodDogMjJweDtcclxuICAgIGhlaWdodDogMjJweDtcclxuICAgIHdpZHRoOiA2MHB4O1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxufVxyXG4uY2FyZXRjb250YWluZXJ7XHJcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgICB3aWR0aDogMTBweDtcclxuICAgIGZsb2F0OiByaWdodDtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNlNGU0ZTQ7XHJcbiAgICBoZWlnaHQ6IDIwcHg7XHJcbn1cclxuLmNhcmV0e1xyXG4gICAgZmxvYXQ6IHJpZ2h0O1xyXG4gICAgbWFyZ2luOiA5cHggMnB4IDAgMDtcclxuICAgIGJvcmRlci10b3A6IDNweCBkYXNoZWQ7XHJcbiAgICBib3JkZXItcmlnaHQ6IDNweCBzb2xpZCB0cmFuc3BhcmVudDtcclxuICAgIGJvcmRlci1sZWZ0OiAzcHggc29saWQgdHJhbnNwYXJlbnQ7XHJcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgICB3aWR0aDogMDtcclxuICAgIGhlaWdodDogMDtcclxuICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XHJcbn1cclxuLmRyb3BEb3duVWx7XHJcbiAgICBkaXNwbGF5OiBibG9jaztcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHRvcDogMHB4O1xyXG4gICAgbWluLXdpZHRoOiAxMjdweDtcclxuICAgIG1heC13aWR0aDogMTYwcHg7XHJcbiAgICB3aWR0aDogbWF4LWNvbnRlbnQ7XHJcbiAgICBwYWRkaW5nOiAwcHggMDtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XHJcbiAgICBib3JkZXItcmFkaXVzOiAycHg7XHJcbiAgICB0ZXh0LWFsaWduOiBsZWZ0O1xyXG4gICAgYm94LXNoYWRvdzogMCAxcHggOHB4IHJnYmEoMCwwLDAsMC4yKTtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNmYWZhZmE7XHJcbiAgICB6LWluZGV4OiAxMDAwO1xyXG4gICAgbWF4LWhlaWdodDogMTM2cHg7XHJcbiAgICBvdmVyZmxvdzogYXV0bztcclxuICAgIHBhZGRpbmc6IDVweDtcclxuICAgIHBhZGRpbmctdG9wOiAycHg7XHJcbiAgICBwYWRkaW5nLWJvdHRvbTogMnB4O1xyXG4gICAgb3ZlcmZsb3cteDogaGlkZGVuO1xyXG59XHJcbi5kcm9wZG93bkxpe1xyXG4gICAgaGVpZ2h0OiAyMnB4O1xyXG4gICAgbWF4LXdpZHRoOiAxMDAlO1xyXG4gICAgZmxvYXQ6IGxlZnQ7XHJcbiAgICBtYXJnaW46IDAgOHB4O1xyXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgIGxpbmUtaGVpZ2h0OiAyMnB4O1xyXG4gICAgZm9udC1zaXplOiAxMnB4O1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgbGlzdC1zdHlsZTogbm9uZTtcclxufVxyXG4uZHJvcGRvd25MaTpob3ZlciB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBsaWdodGJsdWU7XHJcbn1cclxuLmRyb3Bkb3duTGkgaW1ne1xyXG4gICAgbWFyZ2luOiAzcHggMCAwIDRweDtcclxuICAgIHdpZHRoOiA0MHB4O1xyXG4gICAgaGVpZ2h0OiAxNXB4O1xyXG4gICAgZmxvYXQ6IGxlZnQ7XHJcbn1cclxuLnJvb21OYW1le1xyXG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gICAgd2lkdGg6IDUwcHg7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjZGRkO1xyXG4gICAgaGVpZ2h0OiAyMnB4O1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgbWFyZ2luLWxlZnQ6IDNweDtcclxuICAgIHBhZGRpbmctbGVmdDogNHB4O1xyXG59Il19 */\"","import { Component, OnInit,Input } from '@angular/core';\r\n\r\n@Component({\r\n  selector: '[selectBox]',\r\n  templateUrl: './select-box.component.html',\r\n  styleUrls: ['./select-box.component.css']\r\n})\r\nexport class SelectBoxComponent implements OnInit {\r\n  private _selectData;\r\n  private clickEvent:any = null\r\n  @Input() set selectBox(data) {\r\n    this._selectData = data\r\n  }\r\n  get selectBox(){return this._selectData}\r\n  constructor() { \r\n    if(this.clickEvent != null){\r\n      document.removeEventListener('click',this.clickEvent)\r\n    }\r\n    document.addEventListener('click',this.clickEvent = (e)=> {\r\n      e.stopPropagation();\r\n      this._selectData.isShow = false;\r\n    })\r\n  }\r\n\r\n  ngOnInit() {\r\n    \r\n  }\r\n\r\n  showUl(e,slider) {\r\n    e.stopPropagation();\r\n    slider.isShow = true;\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { SelectBoxComponent } from './select-box.component';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule\r\n  ],\r\n  declarations: [SelectBoxComponent],\r\n  exports:[SelectBoxComponent]\r\n})\r\nexport class SelectBoxModule { }\r\n","module.exports = \".img-type{\\r\\n    position: relative;\\r\\n    /* height: 45px; */\\r\\n    display: inline-block;\\r\\n    width: calc(50% - 10px);\\r\\n    overflow: hidden;\\r\\n    margin: 0px 5px;\\r\\n}\\r\\n.img-type span {\\r\\n    /* height: 45px; */\\r\\n    display: inline-block;\\r\\n    line-height: 45px;\\r\\n    min-width: 55px;\\r\\n\\r\\n}\\r\\n/* .imgScroll{\\r\\n    width: 100%;\\r\\n    max-height: 120px;\\r\\n    overflow-x:hidden;\\r\\n    overflow-y:scroll; \\r\\n}\\r\\n.imgScroll::-webkit-scrollbar {\\r\\n    display: none;\\r\\n} */\\r\\n.imgContainer{\\r\\n    position: relative;\\r\\n    margin: auto;\\r\\n    width: 35px;\\r\\n    height: 35px;\\r\\n    border: #c3c3c3 solid 1px;\\r\\n    display: inline-block;\\r\\n    cursor: pointer;\\r\\n    border-radius: 2px;\\r\\n}\\r\\n.imgContainer:hover{\\r\\n    border-color: #55acee\\r\\n}\\r\\n.imgContainer img {\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n}\\r\\n/*\\r\\n.border_out{\\r\\n    border: 1px solid orangered\\r\\n} */\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZGVzaWduLXBvcC9wYW5lbC9wYW5lbC1wcm9wZXR5L3NsaWRlci1ib3gvc2xpZGVyLWJveC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksa0JBQWtCO0lBQ2xCLGtCQUFrQjtJQUNsQixxQkFBcUI7SUFDckIsdUJBQXVCO0lBQ3ZCLGdCQUFnQjtJQUNoQixlQUFlO0FBQ25CO0FBQ0E7SUFDSSxrQkFBa0I7SUFDbEIscUJBQXFCO0lBQ3JCLGlCQUFpQjtJQUNqQixlQUFlOztBQUVuQjtBQUNBOzs7Ozs7OztHQVFHO0FBQ0g7SUFDSSxrQkFBa0I7SUFDbEIsWUFBWTtJQUNaLFdBQVc7SUFDWCxZQUFZO0lBQ1oseUJBQXlCO0lBQ3pCLHFCQUFxQjtJQUNyQixlQUFlO0lBQ2Ysa0JBQWtCO0FBQ3RCO0FBQ0E7SUFDSTtBQUNKO0FBQ0E7SUFDSSxXQUFXO0lBQ1gsWUFBWTtBQUNoQjtBQUNBOzs7R0FHRyIsImZpbGUiOiJzcmMvYXBwL2Rlc2lnbi1wb3AvcGFuZWwvcGFuZWwtcHJvcGV0eS9zbGlkZXItYm94L3NsaWRlci1ib3guY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5pbWctdHlwZXtcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgIC8qIGhlaWdodDogNDVweDsgKi9cclxuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICAgIHdpZHRoOiBjYWxjKDUwJSAtIDEwcHgpO1xyXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgIG1hcmdpbjogMHB4IDVweDtcclxufVxyXG4uaW1nLXR5cGUgc3BhbiB7XHJcbiAgICAvKiBoZWlnaHQ6IDQ1cHg7ICovXHJcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgICBsaW5lLWhlaWdodDogNDVweDtcclxuICAgIG1pbi13aWR0aDogNTVweDtcclxuXHJcbn1cclxuLyogLmltZ1Njcm9sbHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgbWF4LWhlaWdodDogMTIwcHg7XHJcbiAgICBvdmVyZmxvdy14OmhpZGRlbjtcclxuICAgIG92ZXJmbG93LXk6c2Nyb2xsOyBcclxufVxyXG4uaW1nU2Nyb2xsOjotd2Via2l0LXNjcm9sbGJhciB7XHJcbiAgICBkaXNwbGF5OiBub25lO1xyXG59ICovXHJcbi5pbWdDb250YWluZXJ7XHJcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICBtYXJnaW46IGF1dG87XHJcbiAgICB3aWR0aDogMzVweDtcclxuICAgIGhlaWdodDogMzVweDtcclxuICAgIGJvcmRlcjogI2MzYzNjMyBzb2xpZCAxcHg7XHJcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICBib3JkZXItcmFkaXVzOiAycHg7XHJcbn1cclxuLmltZ0NvbnRhaW5lcjpob3ZlcntcclxuICAgIGJvcmRlci1jb2xvcjogIzU1YWNlZVxyXG59XHJcbi5pbWdDb250YWluZXIgaW1nIHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgaGVpZ2h0OiAxMDAlO1xyXG59XHJcbi8qXHJcbi5ib3JkZXJfb3V0e1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgb3JhbmdlcmVkXHJcbn0gKi8iXX0= */\"","import { Component, OnInit, Input } from '@angular/core';\r\nimport { PopDivService } from '../../../../services/pop-div.service';\r\n\r\n@Component({\r\n  selector: '[sliderBox]',\r\n  templateUrl: './slider-box.component.html',\r\n  styleUrls: ['./slider-box.component.css']\r\n})\r\nexport class SliderBoxComponent implements OnInit {\r\n  private _sliderData;\r\n  @Input() set sliderBox(data) {\r\n    // console.log(data)\r\n    for (let i = 0; i < data.length; i++) {\r\n      for (let j = 0; j < data[i].img.length; j++) {\r\n        data[i].img[j].newFunc = (e, params, list) => {\r\n          for (let i = 0; i < list.img.length; i++) {\r\n            list.img[i].borderClass = false;\r\n          }\r\n          params.borderClass = true;\r\n          list.FloorImg = params.path;\r\n          data[i].img[j].func(e, params, list)\r\n        }\r\n      }\r\n    }\r\n    this._sliderData = data;\r\n    // console.log(data)\r\n  }\r\n  get sliderBox() { return this._sliderData; }\r\n  constructor(\r\n    private popService: PopDivService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n  sendMaterial(e, img) {\r\n    this.popService.getMaterial.emit(img)\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { SliderBoxComponent } from './slider-box.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    \r\n  ],\r\n  declarations: [SliderBoxComponent],\r\n  exports:[SliderBoxComponent]\r\n})\r\nexport class SliderBoxModule { }\r\n","module.exports = \".inputContainer{\\r\\n    position: relative;\\r\\n    height: 45px;\\r\\n    display: inline-block;\\r\\n    margin-bottom: 3px;\\r\\n    margin-left: 6px;\\r\\n    overflow: hidden;\\r\\n}\\r\\n.inputContainer .name{\\r\\n    position: absolute;\\r\\n    color: #808080;\\r\\n    font-size: 11px;\\r\\n    line-height: 11px;\\r\\n    left: 0;\\r\\n    right: 0;\\r\\n    font-weight: normal;\\r\\n    margin-top: 2px;\\r\\n    margin-bottom: 2px;\\r\\n    display: inline;\\r\\n    padding: .2em .6em .3em;\\r\\n    text-align: center;\\r\\n    white-space: nowrap;\\r\\n    vertical-align: baseline;\\r\\n    border-radius: .25em;\\r\\n}\\r\\n.danwei{\\r\\n    position: absolute;\\r\\n    /* margin-top: 4px; */\\r\\n    margin-right: 2px;\\r\\n    top: 2px;\\r\\n    right: 1px;\\r\\n    font-size: 11px;\\r\\n}\\r\\n.inputContainer input{\\r\\n    width: 58px;\\r\\n    height: 22px;\\r\\n    background: #fafafa;\\r\\n    border: 1px solid #c3c3c3;\\r\\n    border-radius: 2px;\\r\\n    color: #343a40;\\r\\n    display: block;\\r\\n    text-indent: 4px;\\r\\n    padding: 1px 0;\\r\\n    font-size: 11px;\\r\\n}\\r\\ninput[type=text]:disabled{\\r\\n    background-color: rgb(235,235,235)\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZGVzaWduLXBvcC9wYW5lbC9wYW5lbC1wcm9wZXR5L3RleHQtYm94L3RleHQtYm94LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxrQkFBa0I7SUFDbEIsWUFBWTtJQUNaLHFCQUFxQjtJQUNyQixrQkFBa0I7SUFDbEIsZ0JBQWdCO0lBQ2hCLGdCQUFnQjtBQUNwQjtBQUNBO0lBQ0ksa0JBQWtCO0lBQ2xCLGNBQWM7SUFDZCxlQUFlO0lBQ2YsaUJBQWlCO0lBQ2pCLE9BQU87SUFDUCxRQUFRO0lBQ1IsbUJBQW1CO0lBQ25CLGVBQWU7SUFDZixrQkFBa0I7SUFDbEIsZUFBZTtJQUNmLHVCQUF1QjtJQUN2QixrQkFBa0I7SUFDbEIsbUJBQW1CO0lBQ25CLHdCQUF3QjtJQUN4QixvQkFBb0I7QUFDeEI7QUFDQTtJQUNJLGtCQUFrQjtJQUNsQixxQkFBcUI7SUFDckIsaUJBQWlCO0lBQ2pCLFFBQVE7SUFDUixVQUFVO0lBQ1YsZUFBZTtBQUNuQjtBQUNBO0lBQ0ksV0FBVztJQUNYLFlBQVk7SUFDWixtQkFBbUI7SUFDbkIseUJBQXlCO0lBQ3pCLGtCQUFrQjtJQUNsQixjQUFjO0lBQ2QsY0FBYztJQUNkLGdCQUFnQjtJQUNoQixjQUFjO0lBQ2QsZUFBZTtBQUNuQjtBQUNBO0lBQ0k7QUFDSiIsImZpbGUiOiJzcmMvYXBwL2Rlc2lnbi1wb3AvcGFuZWwvcGFuZWwtcHJvcGV0eS90ZXh0LWJveC90ZXh0LWJveC5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmlucHV0Q29udGFpbmVye1xyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgaGVpZ2h0OiA0NXB4O1xyXG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gICAgbWFyZ2luLWJvdHRvbTogM3B4O1xyXG4gICAgbWFyZ2luLWxlZnQ6IDZweDtcclxuICAgIG92ZXJmbG93OiBoaWRkZW47XHJcbn1cclxuLmlucHV0Q29udGFpbmVyIC5uYW1le1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgY29sb3I6ICM4MDgwODA7XHJcbiAgICBmb250LXNpemU6IDExcHg7XHJcbiAgICBsaW5lLWhlaWdodDogMTFweDtcclxuICAgIGxlZnQ6IDA7XHJcbiAgICByaWdodDogMDtcclxuICAgIGZvbnQtd2VpZ2h0OiBub3JtYWw7XHJcbiAgICBtYXJnaW4tdG9wOiAycHg7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAycHg7XHJcbiAgICBkaXNwbGF5OiBpbmxpbmU7XHJcbiAgICBwYWRkaW5nOiAuMmVtIC42ZW0gLjNlbTtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XHJcbiAgICB2ZXJ0aWNhbC1hbGlnbjogYmFzZWxpbmU7XHJcbiAgICBib3JkZXItcmFkaXVzOiAuMjVlbTtcclxufVxyXG4uZGFud2Vpe1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgLyogbWFyZ2luLXRvcDogNHB4OyAqL1xyXG4gICAgbWFyZ2luLXJpZ2h0OiAycHg7XHJcbiAgICB0b3A6IDJweDtcclxuICAgIHJpZ2h0OiAxcHg7XHJcbiAgICBmb250LXNpemU6IDExcHg7XHJcbn1cclxuLmlucHV0Q29udGFpbmVyIGlucHV0e1xyXG4gICAgd2lkdGg6IDU4cHg7XHJcbiAgICBoZWlnaHQ6IDIycHg7XHJcbiAgICBiYWNrZ3JvdW5kOiAjZmFmYWZhO1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgI2MzYzNjMztcclxuICAgIGJvcmRlci1yYWRpdXM6IDJweDtcclxuICAgIGNvbG9yOiAjMzQzYTQwO1xyXG4gICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICB0ZXh0LWluZGVudDogNHB4O1xyXG4gICAgcGFkZGluZzogMXB4IDA7XHJcbiAgICBmb250LXNpemU6IDExcHg7XHJcbn1cclxuaW5wdXRbdHlwZT10ZXh0XTpkaXNhYmxlZHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYigyMzUsMjM1LDIzNSlcclxufSJdfQ== */\"","import { Component, OnInit,Input } from '@angular/core';\r\n\r\n@Component({\r\n  selector: '[textBox]',\r\n  templateUrl: './text-box.component.html',\r\n  styleUrls: ['./text-box.component.css']\r\n})\r\nexport class TextBoxComponent implements OnInit {\r\n  private _textData;\r\n  @Input() set textBox(data) {\r\n    this._textData = data;\r\n  }\r\n  get textBox() {return this._textData;}\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule} from '@angular/forms'\r\nimport { TextBoxComponent } from './text-box.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule\r\n  ],\r\n  declarations: [TextBoxComponent],\r\n  exports:[TextBoxComponent]\r\n})\r\nexport class TextBoxModule { }\r\n","module.exports = \".topDiv{\\r\\n    height: 50px;\\r\\n    text-align: center;\\r\\n    display:flex; \\r\\n    justify-content:center;\\r\\n    /* display: inline-flex; */\\r\\n    /* position: absolute; */\\r\\n    /* margin: 10px auto; */\\r\\n    flex-wrap: wrap;\\r\\n    justify-content: center;\\r\\n    -moz-box-pack: center;\\r\\n    -webkit-moz-box-pack: center;\\r\\n    -webkit-box-pack: center;\\r\\n    z-index: 1;\\r\\n    /* background: #f5f5f5; */\\r\\n}\\r\\n\\r\\n.topBar {\\r\\n    position: absolute;\\r\\n    top: 0;\\r\\n    display:flex; \\r\\n    background: #f5f5f5;\\r\\n    border: 1px solid #e5e5e5;\\r\\n    /* width: 100%; */\\r\\n    height: 50px;\\r\\n    flex-wrap: wrap;\\r\\n    justify-content: center;\\r\\n    -moz-box-pack: center;\\r\\n    -webkit-moz-box-pack: center;\\r\\n    -webkit-box-pack: center;\\r\\n    padding-left: 0;\\r\\n    margin-bottom: 0;\\r\\n    list-style: none;\\r\\n    float: left;\\r\\n    border-top: 0;\\r\\n    z-index: 50;\\r\\n    border-radius: 0 0 4px 4px;\\r\\n}\\r\\n\\r\\n.icon {\\r\\n    width: 24px;\\r\\n    height: 24px;\\r\\n    vertical-align: -0.15em;\\r\\n    fill: #808080;\\r\\n    margin: 0 auto;\\r\\n}\\r\\n\\r\\n.icon1{\\r\\n    width: 15px;\\r\\n    height: 15px;\\r\\n    vertical-align: -0.15em;\\r\\n    fill: #808080;\\r\\n    margin: 0 10px 0 auto;\\r\\n}\\r\\n\\r\\n.btn {\\r\\n    background: transparent;\\r\\n    font-size: .7rem;\\r\\n    line-height: 12px;\\r\\n    color: #696969;\\r\\n    padding: 0;\\r\\n}\\r\\n\\r\\n.dropdown {\\r\\n    min-width: 40px;\\r\\n    padding: 0 5px;\\r\\n    margin: 0px 0 4px;\\r\\n}\\r\\n\\r\\n.dropdown-menu {\\r\\n    min-width: 8rem;\\r\\n    padding: 2px 0;\\r\\n    left: 5px;\\r\\n}\\r\\n\\r\\n.dropdown-item {\\r\\n    padding: .1rem .5rem;\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n.itemSel{\\r\\n    width: 100%;\\r\\n    height: 24px;\\r\\n    font-size: .7rem;\\r\\n    position: relative;\\r\\n    /* background-color: red; */\\r\\n}\\r\\n\\r\\n.radioBox{\\r\\n    width: 150px;\\r\\n    position: absolute;\\r\\n    left: 100%;\\r\\n    padding: 5px;\\r\\n    display: none;\\r\\n    background-color: white;\\r\\n}\\r\\n\\r\\n#item:hover .radioBox{\\r\\n    display: block;\\r\\n}\\r\\n\\r\\n.radioIndex{\\r\\n    width: 100%;\\r\\n    height: 25px;\\r\\n    line-height: 25px;\\r\\n}\\r\\n\\r\\n.radioIndex:hover{\\r\\n    background-color:rgba(100, 202, 250, 0.8);\\r\\n    outline: none;\\r\\n}\\r\\n\\r\\n.dropdown-divider {\\r\\n    margin: .2rem 0;\\r\\n}\\r\\n\\r\\n.dropdown-menu.show {\\r\\n    display: none;\\r\\n}\\r\\n\\r\\n.dropdown:hover .dropdown-menu {\\r\\n    display: block;\\r\\n}\\r\\n\\r\\n.dropdown-toggle::after {\\r\\n    display: none;\\r\\n}\\r\\n\\r\\n.dropdown-item span{\\r\\n    display: block;\\r\\n    float: left;\\r\\n    height: 100%;\\r\\n    line-height: 24px;\\r\\n    font-size: 12px;\\r\\n    padding-left: 5px;\\r\\n    /* background-color: black; */\\r\\n}\\r\\n\\r\\n.dropdown-item input{\\r\\n    float: left;\\r\\n    margin-top: 6px;\\r\\n}\\r\\n\\r\\n.dropdown-item.img {\\r\\n    width: 33%;\\r\\n    float: left;\\r\\n    clear: none;\\r\\n}\\r\\n\\r\\n.dropdown-item img {\\r\\n    max-width: 100%;\\r\\n}\\r\\n\\r\\n.dropdown-item:hover,\\r\\n.dropdown-item:focus {\\r\\n    background-color: rgba(100, 202, 250, 0.8);\\r\\n    outline: none;\\r\\n}\\r\\n\\r\\n.dropdown-item.active,\\r\\n.dropdown-item:active {\\r\\n    /* background-color: #3e82f7; */\\r\\n    color: black;\\r\\n}\\r\\n\\r\\n.dropdown-item.disabled,\\r\\n.dropdown-item:disabled {\\r\\n    cursor: auto;\\r\\n    background: transparent;\\r\\n}\\r\\n\\r\\n.iconbox {\\r\\n    padding: 0;\\r\\n    width: 34px;\\r\\n    margin: 0 auto;\\r\\n    height: 32px;\\r\\n    border-radius: 4px;\\r\\n    border: 1px solid transparent;\\r\\n    padding-top: 3px;\\r\\n}\\r\\n\\r\\n.caret-bottom-r {\\r\\n    width: 0;\\r\\n    height: 0;\\r\\n    display: inline-block;\\r\\n    vertical-align: top;\\r\\n    margin-top: 20px;\\r\\n    margin-left: -2px;\\r\\n    margin-right: -2px;\\r\\n    border-bottom: 4px solid #808080;\\r\\n    border-left: 4px solid transparent;\\r\\n}\\r\\n\\r\\n.btn:hover .iconbox {\\r\\n    background: rgba(0, 206, 198, 0.08);\\r\\n    border: 1px solid rgb(0, 206, 198);\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n.btn.disabled:hover .iconbox,\\r\\n.btn:disabled:hover .iconbox {\\r\\n    background: transparent;\\r\\n    border: 1px solid transparent;\\r\\n}\\r\\n\\r\\n#loadjson{\\r\\n    display: none;\\r\\n}\\r\\n\\r\\nlabel{\\r\\n    margin-bottom: 0;\\r\\n}\\r\\n\\r\\n#loadFile{\\r\\n    width: 100%;\\r\\n    height: 24px;\\r\\n    display: block;\\r\\n    font-size: .7rem;\\r\\n    padding: .1rem .5rem;\\r\\n}\\r\\n\\r\\n.saveFile{\\r\\n    width: 100%;\\r\\n    height: 24px;\\r\\n    display: block;\\r\\n    font-size: .7rem;\\r\\n    padding: .1rem .5rem; \\r\\n}\\r\\n\\r\\n.saveFile:hover{\\r\\n    text-decoration: none;\\r\\n    color:black;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZGVzaWduLXBvcC9wYW5lbC9wYW5lbC10b3AvcGFuZWwtdG9wLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxZQUFZO0lBQ1osa0JBQWtCO0lBQ2xCLFlBQVk7SUFDWixzQkFBc0I7SUFDdEIsMEJBQTBCO0lBQzFCLHdCQUF3QjtJQUN4Qix1QkFBdUI7SUFDdkIsZUFBZTtJQUVmLHVCQUF1QjtJQUN2QixxQkFBcUI7SUFDckIsNEJBQTRCO0lBQzVCLHdCQUF3QjtJQUN4QixVQUFVO0lBQ1YseUJBQXlCO0FBQzdCOztBQUVBO0lBQ0ksa0JBQWtCO0lBQ2xCLE1BQU07SUFDTixZQUFZO0lBQ1osbUJBQW1CO0lBQ25CLHlCQUF5QjtJQUN6QixpQkFBaUI7SUFDakIsWUFBWTtJQUNaLGVBQWU7SUFFZix1QkFBdUI7SUFDdkIscUJBQXFCO0lBQ3JCLDRCQUE0QjtJQUM1Qix3QkFBd0I7SUFDeEIsZUFBZTtJQUNmLGdCQUFnQjtJQUNoQixnQkFBZ0I7SUFDaEIsV0FBVztJQUNYLGFBQWE7SUFDYixXQUFXO0lBQ1gsMEJBQTBCO0FBQzlCOztBQUNBO0lBQ0ksV0FBVztJQUNYLFlBQVk7SUFDWix1QkFBdUI7SUFDdkIsYUFBYTtJQUNiLGNBQWM7QUFDbEI7O0FBQ0E7SUFDSSxXQUFXO0lBQ1gsWUFBWTtJQUNaLHVCQUF1QjtJQUN2QixhQUFhO0lBQ2IscUJBQXFCO0FBQ3pCOztBQUVBO0lBQ0ksdUJBQXVCO0lBQ3ZCLGdCQUFnQjtJQUNoQixpQkFBaUI7SUFDakIsY0FBYztJQUNkLFVBQVU7QUFDZDs7QUFFQTtJQUNJLGVBQWU7SUFDZixjQUFjO0lBQ2QsaUJBQWlCO0FBQ3JCOztBQUVBO0lBQ0ksZUFBZTtJQUNmLGNBQWM7SUFDZCxTQUFTO0FBQ2I7O0FBRUE7SUFDSSxvQkFBb0I7SUFDcEIsZUFBZTtBQUNuQjs7QUFDQTtJQUNJLFdBQVc7SUFDWCxZQUFZO0lBQ1osZ0JBQWdCO0lBQ2hCLGtCQUFrQjtJQUNsQiwyQkFBMkI7QUFDL0I7O0FBRUE7SUFDSSxZQUFZO0lBQ1osa0JBQWtCO0lBQ2xCLFVBQVU7SUFDVixZQUFZO0lBQ1osYUFBYTtJQUNiLHVCQUF1QjtBQUMzQjs7QUFDQTtJQUNJLGNBQWM7QUFDbEI7O0FBQ0E7SUFDSSxXQUFXO0lBQ1gsWUFBWTtJQUNaLGlCQUFpQjtBQUNyQjs7QUFDQTtJQUNJLHlDQUF5QztJQUN6QyxhQUFhO0FBQ2pCOztBQUVBO0lBQ0ksZUFBZTtBQUNuQjs7QUFFQTtJQUNJLGFBQWE7QUFDakI7O0FBRUE7SUFDSSxjQUFjO0FBQ2xCOztBQUVBO0lBQ0ksYUFBYTtBQUNqQjs7QUFDQTtJQUNJLGNBQWM7SUFDZCxXQUFXO0lBQ1gsWUFBWTtJQUNaLGlCQUFpQjtJQUNqQixlQUFlO0lBQ2YsaUJBQWlCO0lBQ2pCLDZCQUE2QjtBQUNqQzs7QUFDQTtJQUNJLFdBQVc7SUFDWCxlQUFlO0FBQ25COztBQUVBO0lBQ0ksVUFBVTtJQUNWLFdBQVc7SUFDWCxXQUFXO0FBQ2Y7O0FBRUE7SUFDSSxlQUFlO0FBQ25COztBQUVBOztJQUVJLDBDQUEwQztJQUMxQyxhQUFhO0FBQ2pCOztBQUVBOztJQUVJLCtCQUErQjtJQUMvQixZQUFZO0FBQ2hCOztBQUVBOztJQUVJLFlBQVk7SUFDWix1QkFBdUI7QUFDM0I7O0FBRUE7SUFDSSxVQUFVO0lBQ1YsV0FBVztJQUNYLGNBQWM7SUFDZCxZQUFZO0lBQ1osa0JBQWtCO0lBQ2xCLDZCQUE2QjtJQUM3QixnQkFBZ0I7QUFDcEI7O0FBRUE7SUFDSSxRQUFRO0lBQ1IsU0FBUztJQUNULHFCQUFxQjtJQUNyQixtQkFBbUI7SUFDbkIsZ0JBQWdCO0lBQ2hCLGlCQUFpQjtJQUNqQixrQkFBa0I7SUFDbEIsZ0NBQWdDO0lBQ2hDLGtDQUFrQztBQUN0Qzs7QUFFQTtJQUNJLG1DQUFtQztJQUNuQyxrQ0FBa0M7SUFDbEMsZUFBZTtBQUNuQjs7QUFFQTs7SUFFSSx1QkFBdUI7SUFDdkIsNkJBQTZCO0FBQ2pDOztBQUVBO0lBQ0ksYUFBYTtBQUNqQjs7QUFDQTtJQUNJLGdCQUFnQjtBQUNwQjs7QUFDQTtJQUNJLFdBQVc7SUFDWCxZQUFZO0lBQ1osY0FBYztJQUNkLGdCQUFnQjtJQUNoQixvQkFBb0I7QUFDeEI7O0FBQ0E7SUFDSSxXQUFXO0lBQ1gsWUFBWTtJQUNaLGNBQWM7SUFDZCxnQkFBZ0I7SUFDaEIsb0JBQW9CO0FBQ3hCOztBQUNBO0lBQ0kscUJBQXFCO0lBQ3JCLFdBQVc7QUFDZiIsImZpbGUiOiJzcmMvYXBwL2Rlc2lnbi1wb3AvcGFuZWwvcGFuZWwtdG9wL3BhbmVsLXRvcC5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnRvcERpdntcclxuICAgIGhlaWdodDogNTBweDtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIGRpc3BsYXk6ZmxleDsgXHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO1xyXG4gICAgLyogZGlzcGxheTogaW5saW5lLWZsZXg7ICovXHJcbiAgICAvKiBwb3NpdGlvbjogYWJzb2x1dGU7ICovXHJcbiAgICAvKiBtYXJnaW46IDEwcHggYXV0bzsgKi9cclxuICAgIGZsZXgtd3JhcDogd3JhcDtcclxuICAgIC1tcy1mbGV4LXBhY2s6IGNlbnRlcjtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgLW1vei1ib3gtcGFjazogY2VudGVyO1xyXG4gICAgLXdlYmtpdC1tb3otYm94LXBhY2s6IGNlbnRlcjtcclxuICAgIC13ZWJraXQtYm94LXBhY2s6IGNlbnRlcjtcclxuICAgIHotaW5kZXg6IDE7XHJcbiAgICAvKiBiYWNrZ3JvdW5kOiAjZjVmNWY1OyAqL1xyXG59XHJcblxyXG4udG9wQmFyIHtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHRvcDogMDtcclxuICAgIGRpc3BsYXk6ZmxleDsgXHJcbiAgICBiYWNrZ3JvdW5kOiAjZjVmNWY1O1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgI2U1ZTVlNTtcclxuICAgIC8qIHdpZHRoOiAxMDAlOyAqL1xyXG4gICAgaGVpZ2h0OiA1MHB4O1xyXG4gICAgZmxleC13cmFwOiB3cmFwO1xyXG4gICAgLW1zLWZsZXgtcGFjazogY2VudGVyO1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICAtbW96LWJveC1wYWNrOiBjZW50ZXI7XHJcbiAgICAtd2Via2l0LW1vei1ib3gtcGFjazogY2VudGVyO1xyXG4gICAgLXdlYmtpdC1ib3gtcGFjazogY2VudGVyO1xyXG4gICAgcGFkZGluZy1sZWZ0OiAwO1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMDtcclxuICAgIGxpc3Qtc3R5bGU6IG5vbmU7XHJcbiAgICBmbG9hdDogbGVmdDtcclxuICAgIGJvcmRlci10b3A6IDA7XHJcbiAgICB6LWluZGV4OiA1MDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDAgMCA0cHggNHB4O1xyXG59XHJcbi5pY29uIHtcclxuICAgIHdpZHRoOiAyNHB4O1xyXG4gICAgaGVpZ2h0OiAyNHB4O1xyXG4gICAgdmVydGljYWwtYWxpZ246IC0wLjE1ZW07XHJcbiAgICBmaWxsOiAjODA4MDgwO1xyXG4gICAgbWFyZ2luOiAwIGF1dG87XHJcbn1cclxuLmljb24xe1xyXG4gICAgd2lkdGg6IDE1cHg7XHJcbiAgICBoZWlnaHQ6IDE1cHg7XHJcbiAgICB2ZXJ0aWNhbC1hbGlnbjogLTAuMTVlbTtcclxuICAgIGZpbGw6ICM4MDgwODA7XHJcbiAgICBtYXJnaW46IDAgMTBweCAwIGF1dG87XHJcbn1cclxuXHJcbi5idG4ge1xyXG4gICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XHJcbiAgICBmb250LXNpemU6IC43cmVtO1xyXG4gICAgbGluZS1oZWlnaHQ6IDEycHg7XHJcbiAgICBjb2xvcjogIzY5Njk2OTtcclxuICAgIHBhZGRpbmc6IDA7XHJcbn1cclxuXHJcbi5kcm9wZG93biB7XHJcbiAgICBtaW4td2lkdGg6IDQwcHg7XHJcbiAgICBwYWRkaW5nOiAwIDVweDtcclxuICAgIG1hcmdpbjogMHB4IDAgNHB4O1xyXG59XHJcblxyXG4uZHJvcGRvd24tbWVudSB7XHJcbiAgICBtaW4td2lkdGg6IDhyZW07XHJcbiAgICBwYWRkaW5nOiAycHggMDtcclxuICAgIGxlZnQ6IDVweDtcclxufVxyXG5cclxuLmRyb3Bkb3duLWl0ZW0ge1xyXG4gICAgcGFkZGluZzogLjFyZW0gLjVyZW07XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbn1cclxuLml0ZW1TZWx7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGhlaWdodDogMjRweDtcclxuICAgIGZvbnQtc2l6ZTogLjdyZW07XHJcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICAvKiBiYWNrZ3JvdW5kLWNvbG9yOiByZWQ7ICovXHJcbn1cclxuXHJcbi5yYWRpb0JveHtcclxuICAgIHdpZHRoOiAxNTBweDtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIGxlZnQ6IDEwMCU7XHJcbiAgICBwYWRkaW5nOiA1cHg7XHJcbiAgICBkaXNwbGF5OiBub25lO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XHJcbn1cclxuI2l0ZW06aG92ZXIgLnJhZGlvQm94e1xyXG4gICAgZGlzcGxheTogYmxvY2s7XHJcbn1cclxuLnJhZGlvSW5kZXh7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGhlaWdodDogMjVweDtcclxuICAgIGxpbmUtaGVpZ2h0OiAyNXB4O1xyXG59XHJcbi5yYWRpb0luZGV4OmhvdmVye1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjpyZ2JhKDEwMCwgMjAyLCAyNTAsIDAuOCk7XHJcbiAgICBvdXRsaW5lOiBub25lO1xyXG59XHJcblxyXG4uZHJvcGRvd24tZGl2aWRlciB7XHJcbiAgICBtYXJnaW46IC4ycmVtIDA7XHJcbn1cclxuXHJcbi5kcm9wZG93bi1tZW51LnNob3cge1xyXG4gICAgZGlzcGxheTogbm9uZTtcclxufVxyXG5cclxuLmRyb3Bkb3duOmhvdmVyIC5kcm9wZG93bi1tZW51IHtcclxuICAgIGRpc3BsYXk6IGJsb2NrO1xyXG59XHJcblxyXG4uZHJvcGRvd24tdG9nZ2xlOjphZnRlciB7XHJcbiAgICBkaXNwbGF5OiBub25lO1xyXG59XHJcbi5kcm9wZG93bi1pdGVtIHNwYW57XHJcbiAgICBkaXNwbGF5OiBibG9jaztcclxuICAgIGZsb2F0OiBsZWZ0O1xyXG4gICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgbGluZS1oZWlnaHQ6IDI0cHg7XHJcbiAgICBmb250LXNpemU6IDEycHg7XHJcbiAgICBwYWRkaW5nLWxlZnQ6IDVweDtcclxuICAgIC8qIGJhY2tncm91bmQtY29sb3I6IGJsYWNrOyAqL1xyXG59XHJcbi5kcm9wZG93bi1pdGVtIGlucHV0e1xyXG4gICAgZmxvYXQ6IGxlZnQ7XHJcbiAgICBtYXJnaW4tdG9wOiA2cHg7XHJcbn1cclxuXHJcbi5kcm9wZG93bi1pdGVtLmltZyB7XHJcbiAgICB3aWR0aDogMzMlO1xyXG4gICAgZmxvYXQ6IGxlZnQ7XHJcbiAgICBjbGVhcjogbm9uZTtcclxufVxyXG5cclxuLmRyb3Bkb3duLWl0ZW0gaW1nIHtcclxuICAgIG1heC13aWR0aDogMTAwJTtcclxufVxyXG5cclxuLmRyb3Bkb3duLWl0ZW06aG92ZXIsXHJcbi5kcm9wZG93bi1pdGVtOmZvY3VzIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMTAwLCAyMDIsIDI1MCwgMC44KTtcclxuICAgIG91dGxpbmU6IG5vbmU7XHJcbn1cclxuXHJcbi5kcm9wZG93bi1pdGVtLmFjdGl2ZSxcclxuLmRyb3Bkb3duLWl0ZW06YWN0aXZlIHtcclxuICAgIC8qIGJhY2tncm91bmQtY29sb3I6ICMzZTgyZjc7ICovXHJcbiAgICBjb2xvcjogYmxhY2s7XHJcbn1cclxuXHJcbi5kcm9wZG93bi1pdGVtLmRpc2FibGVkLFxyXG4uZHJvcGRvd24taXRlbTpkaXNhYmxlZCB7XHJcbiAgICBjdXJzb3I6IGF1dG87XHJcbiAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcclxufVxyXG5cclxuLmljb25ib3gge1xyXG4gICAgcGFkZGluZzogMDtcclxuICAgIHdpZHRoOiAzNHB4O1xyXG4gICAgbWFyZ2luOiAwIGF1dG87XHJcbiAgICBoZWlnaHQ6IDMycHg7XHJcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCB0cmFuc3BhcmVudDtcclxuICAgIHBhZGRpbmctdG9wOiAzcHg7XHJcbn1cclxuXHJcbi5jYXJldC1ib3R0b20tciB7XHJcbiAgICB3aWR0aDogMDtcclxuICAgIGhlaWdodDogMDtcclxuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICAgIHZlcnRpY2FsLWFsaWduOiB0b3A7XHJcbiAgICBtYXJnaW4tdG9wOiAyMHB4O1xyXG4gICAgbWFyZ2luLWxlZnQ6IC0ycHg7XHJcbiAgICBtYXJnaW4tcmlnaHQ6IC0ycHg7XHJcbiAgICBib3JkZXItYm90dG9tOiA0cHggc29saWQgIzgwODA4MDtcclxuICAgIGJvcmRlci1sZWZ0OiA0cHggc29saWQgdHJhbnNwYXJlbnQ7XHJcbn1cclxuXHJcbi5idG46aG92ZXIgLmljb25ib3gge1xyXG4gICAgYmFja2dyb3VuZDogcmdiYSgwLCAyMDYsIDE5OCwgMC4wOCk7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCByZ2IoMCwgMjA2LCAxOTgpO1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG59XHJcblxyXG4uYnRuLmRpc2FibGVkOmhvdmVyIC5pY29uYm94LFxyXG4uYnRuOmRpc2FibGVkOmhvdmVyIC5pY29uYm94IHtcclxuICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgdHJhbnNwYXJlbnQ7XHJcbn1cclxuXHJcbiNsb2FkanNvbntcclxuICAgIGRpc3BsYXk6IG5vbmU7XHJcbn1cclxubGFiZWx7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAwO1xyXG59XHJcbiNsb2FkRmlsZXtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgaGVpZ2h0OiAyNHB4O1xyXG4gICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICBmb250LXNpemU6IC43cmVtO1xyXG4gICAgcGFkZGluZzogLjFyZW0gLjVyZW07XHJcbn1cclxuLnNhdmVGaWxle1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBoZWlnaHQ6IDI0cHg7XHJcbiAgICBkaXNwbGF5OiBibG9jaztcclxuICAgIGZvbnQtc2l6ZTogLjdyZW07XHJcbiAgICBwYWRkaW5nOiAuMXJlbSAuNXJlbTsgXHJcbn1cclxuLnNhdmVGaWxlOmhvdmVye1xyXG4gICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xyXG4gICAgY29sb3I6YmxhY2s7XHJcbn1cclxuIl19 */\"","import { Component, OnInit, Input } from '@angular/core';\r\n\r\n@Component({\r\n  selector: '[panelTop]',\r\n  templateUrl: './panel-top.component.html',\r\n  styleUrls: ['./panel-top.component.css']\r\n})\r\nexport class PanelTopComponent implements OnInit {\r\n  private _panelTop;\r\n  @Input() set panelTop(data) {\r\n    // console.log(data)\r\n    this._panelTop = data;\r\n  }\r\n\r\n  get panelTop() { return this._panelTop }\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { PanelTopComponent } from './panel-top.component';\r\n\r\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\r\n\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    NgbModule\r\n    // PopDivModule\r\n  ],\r\n  declarations: [PanelTopComponent],\r\n  exports: [PanelTopComponent]\r\n})\r\nexport class PanelTopModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n// import { MessagesComponent } from './messages/messages.component';\r\nimport { PanelTopModule } from './panel-top/panel-top.module';\r\nimport { PanelLeftComponent } from './panel-left/panel-left.component';\r\n// import { PanelBottomComponent } from './panel-bottom/panel-bottom.component';\r\n// import { PopDivModule } from '../pop-div/pop-div.module';\r\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\r\n\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    // PanelTopModule,\r\n    // PanelRightModule,\r\n    NgbModule\r\n    // PopDivModule\r\n  ],\r\n  declarations: [],\r\n  exports: []\r\n})\r\nexport class PanelModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport {FormsModule} from '@angular/forms'\r\nimport { RightDivComponent } from './right-div/right-div.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule\r\n  ],\r\n  declarations: [RightDivComponent],\r\n  exports:[RightDivComponent]\r\n})\r\nexport class PopDivModule { }\r\n","module.exports = \"/* 右键弹出框的最外部容器 */\\r\\n.popDiv{\\r\\n    min-width: 110px;\\r\\n    background: #fafafa;\\r\\n    border: 1px solid #d6d6d6;\\r\\n    box-shadow: 0 2px 7px 0.16px rgba(52,58,64,.25);\\r\\n    border-radius: 4px;\\r\\n    color: #444b52;\\r\\n    font-size: 12px;\\r\\n    padding: 3px 0;\\r\\n    display: block;\\r\\n    position: absolute;\\r\\n    z-index: 99;\\r\\n}\\r\\n/*弹出框内部内容 */\\r\\n.popContent{\\r\\n    height: 25px;\\r\\n    line-height: 25px;\\r\\n    padding-left: 38px;\\r\\n    padding-right: 10px;\\r\\n    cursor: pointer;\\r\\n    position: relative;\\r\\n    font-size: 12px;\\r\\n    cursor: pointer;\\r\\n    text-align: center;\\r\\n}\\r\\n.popContent:hover {\\r\\n    background-color: rgba(85,172,238,.15)\\r\\n}\\r\\n.popContent input[type=file]{\\r\\n    display: none;\\r\\n}\\r\\n.popContent .icon {\\r\\n    width: 19px;\\r\\n    height: 19px;\\r\\n    position: absolute;\\r\\n    left: 10px;\\r\\n    fill: #555555;\\r\\n    top: 3px;\\r\\n}\\r\\n.popContent .else{\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n}\\r\\n.popContent div{\\r\\n    overflow: hidden;\\r\\n    text-align: left;\\r\\n    text-overflow: ellipsis;\\r\\n    white-space: nowrap;\\r\\n}\\r\\n/* .popContent label{\\r\\n    overflow: hidden;\\r\\n    text-align: center;\\r\\n    text-overflow: ellipsis;\\r\\n    white-space: nowrap;\\r\\n} */\\r\\n.inputContainer{\\r\\n    position: absolute;\\r\\n    width: 132px;\\r\\n    top: -42px;\\r\\n    min-height: 30px;\\r\\n    margin-bottom: 5px;\\r\\n    background: #fafafa;\\r\\n    border: 1px solid #d6d6d6;\\r\\n    box-shadow: 0 2px 7px 0.16px rgba(52,58,64,.25);\\r\\n    border-radius: 4px;\\r\\n    color: #444b52;\\r\\n    font-size: 12px;\\r\\n    padding: 3px 0;\\r\\n    padding-right: 3px;\\r\\n}\\r\\n.inputContainer .card{\\r\\n    margin: 3px;\\r\\n    display: flex;\\r\\n    border: none;\\r\\n    background: #fafafa;\\r\\n    /* align-items: center; */\\r\\n    justify-content: space-around;\\r\\n}\\r\\n.wall {\\r\\n    width: auto;\\r\\n    line-height: 0;\\r\\n    font-size: 12px;\\r\\n    color: gray;\\r\\n    display: flex;\\r\\n    align-items: center;\\r\\n}\\r\\n.wall span {\\r\\n    font-size: 12px;\\r\\n    margin-right: 5px;\\r\\n    margin-left: 3px;\\r\\n    vertical-align: super;\\r\\n}\\r\\n.wall .drop-icon{\\r\\n    display: block;\\r\\n    border: 1px solid #c3c3c3;\\r\\n    border-radius: 0 5px 5px 0;\\r\\n    width: 20px;\\r\\n    float: right;\\r\\n    background-color: #e4e4e4;\\r\\n    margin-top: 1px;\\r\\n    height: 20px;\\r\\n    margin-left: -20px;\\r\\n}\\r\\n.wall select{\\r\\n    width: 70px;\\r\\n    border-radius: 5px;\\r\\n    background: none;\\r\\n    z-index: 2;\\r\\n    /* border: none; */\\r\\n}\\r\\n.wall select::-ms-expand { display: none; }\\r\\n.wall input[type=text] {\\r\\n    width: 70px;\\r\\n    border: 1px solid lightskyblue;\\r\\n    border-radius: 5px;\\r\\n    background: none;\\r\\n    z-index: 2;\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZGVzaWduLXBvcC9wb3AtZGl2L3JpZ2h0LWRpdi9yaWdodC1kaXYuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxnQkFBZ0I7QUFDaEI7SUFDSSxnQkFBZ0I7SUFDaEIsbUJBQW1CO0lBQ25CLHlCQUF5QjtJQUN6QiwrQ0FBK0M7SUFDL0Msa0JBQWtCO0lBQ2xCLGNBQWM7SUFDZCxlQUFlO0lBQ2YsY0FBYztJQUNkLGNBQWM7SUFDZCxrQkFBa0I7SUFDbEIsV0FBVztBQUNmO0FBQ0EsV0FBVztBQUNYO0lBQ0ksWUFBWTtJQUNaLGlCQUFpQjtJQUNqQixrQkFBa0I7SUFDbEIsbUJBQW1CO0lBQ25CLGVBQWU7SUFDZixrQkFBa0I7SUFDbEIsZUFBZTtJQUNmLGVBQWU7SUFDZixrQkFBa0I7QUFDdEI7QUFDQTtJQUNJO0FBQ0o7QUFDQTtJQUNJLGFBQWE7QUFDakI7QUFDQTtJQUNJLFdBQVc7SUFDWCxZQUFZO0lBQ1osa0JBQWtCO0lBQ2xCLFVBQVU7SUFDVixhQUFhO0lBQ2IsUUFBUTtBQUNaO0FBQ0E7SUFDSSxXQUFXO0lBQ1gsWUFBWTtBQUNoQjtBQUNBO0lBQ0ksZ0JBQWdCO0lBQ2hCLGdCQUFnQjtJQUNoQix1QkFBdUI7SUFDdkIsbUJBQW1CO0FBQ3ZCO0FBQ0E7Ozs7O0dBS0c7QUFFSDtJQUNJLGtCQUFrQjtJQUNsQixZQUFZO0lBQ1osVUFBVTtJQUNWLGdCQUFnQjtJQUNoQixrQkFBa0I7SUFDbEIsbUJBQW1CO0lBQ25CLHlCQUF5QjtJQUN6QiwrQ0FBK0M7SUFDL0Msa0JBQWtCO0lBQ2xCLGNBQWM7SUFDZCxlQUFlO0lBQ2YsY0FBYztJQUNkLGtCQUFrQjtBQUN0QjtBQUNBO0lBQ0ksV0FBVztJQUNYLGFBQWE7SUFDYixZQUFZO0lBQ1osbUJBQW1CO0lBQ25CLHlCQUF5QjtJQUN6Qiw2QkFBNkI7QUFDakM7QUFDQTtJQUNJLFdBQVc7SUFDWCxjQUFjO0lBQ2QsZUFBZTtJQUNmLFdBQVc7SUFDWCxhQUFhO0lBQ2IsbUJBQW1CO0FBQ3ZCO0FBQ0E7SUFDSSxlQUFlO0lBQ2YsaUJBQWlCO0lBQ2pCLGdCQUFnQjtJQUNoQixxQkFBcUI7QUFDekI7QUFDQTtJQUNJLGNBQWM7SUFDZCx5QkFBeUI7SUFDekIsMEJBQTBCO0lBQzFCLFdBQVc7SUFDWCxZQUFZO0lBQ1oseUJBQXlCO0lBQ3pCLGVBQWU7SUFDZixZQUFZO0lBQ1osa0JBQWtCO0FBQ3RCO0FBQ0E7SUFDSSxXQUFXO0lBQ1gsa0JBQWtCO0lBQ2xCLGdCQUFnQjtJQUNoQixVQUFVO0lBQ1Ysa0JBQWtCO0FBQ3RCO0FBQ0EsMkJBQTJCLGFBQWEsRUFBRTtBQUUxQztJQUNJLFdBQVc7SUFDWCw4QkFBOEI7SUFDOUIsa0JBQWtCO0lBQ2xCLGdCQUFnQjtJQUNoQixVQUFVO0FBQ2QiLCJmaWxlIjoic3JjL2FwcC9kZXNpZ24tcG9wL3BvcC1kaXYvcmlnaHQtZGl2L3JpZ2h0LWRpdi5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLyog5Y+z6ZSu5by55Ye65qGG55qE5pyA5aSW6YOo5a655ZmoICovXHJcbi5wb3BEaXZ7XHJcbiAgICBtaW4td2lkdGg6IDExMHB4O1xyXG4gICAgYmFja2dyb3VuZDogI2ZhZmFmYTtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkICNkNmQ2ZDY7XHJcbiAgICBib3gtc2hhZG93OiAwIDJweCA3cHggMC4xNnB4IHJnYmEoNTIsNTgsNjQsLjI1KTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDRweDtcclxuICAgIGNvbG9yOiAjNDQ0YjUyO1xyXG4gICAgZm9udC1zaXplOiAxMnB4O1xyXG4gICAgcGFkZGluZzogM3B4IDA7XHJcbiAgICBkaXNwbGF5OiBibG9jaztcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHotaW5kZXg6IDk5O1xyXG59XHJcbi8q5by55Ye65qGG5YaF6YOo5YaF5a65ICovXHJcbi5wb3BDb250ZW50e1xyXG4gICAgaGVpZ2h0OiAyNXB4O1xyXG4gICAgbGluZS1oZWlnaHQ6IDI1cHg7XHJcbiAgICBwYWRkaW5nLWxlZnQ6IDM4cHg7XHJcbiAgICBwYWRkaW5nLXJpZ2h0OiAxMHB4O1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgZm9udC1zaXplOiAxMnB4O1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG59XHJcbi5wb3BDb250ZW50OmhvdmVyIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoODUsMTcyLDIzOCwuMTUpXHJcbn1cclxuLnBvcENvbnRlbnQgaW5wdXRbdHlwZT1maWxlXXtcclxuICAgIGRpc3BsYXk6IG5vbmU7XHJcbn1cclxuLnBvcENvbnRlbnQgLmljb24ge1xyXG4gICAgd2lkdGg6IDE5cHg7XHJcbiAgICBoZWlnaHQ6IDE5cHg7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICBsZWZ0OiAxMHB4O1xyXG4gICAgZmlsbDogIzU1NTU1NTtcclxuICAgIHRvcDogM3B4O1xyXG59XHJcbi5wb3BDb250ZW50IC5lbHNle1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBoZWlnaHQ6IDEwMCU7XHJcbn1cclxuLnBvcENvbnRlbnQgZGl2e1xyXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgIHRleHQtYWxpZ246IGxlZnQ7XHJcbiAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcclxuICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XHJcbn1cclxuLyogLnBvcENvbnRlbnQgbGFiZWx7XHJcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XHJcbiAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xyXG59ICovXHJcblxyXG4uaW5wdXRDb250YWluZXJ7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICB3aWR0aDogMTMycHg7XHJcbiAgICB0b3A6IC00MnB4O1xyXG4gICAgbWluLWhlaWdodDogMzBweDtcclxuICAgIG1hcmdpbi1ib3R0b206IDVweDtcclxuICAgIGJhY2tncm91bmQ6ICNmYWZhZmE7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjZDZkNmQ2O1xyXG4gICAgYm94LXNoYWRvdzogMCAycHggN3B4IDAuMTZweCByZ2JhKDUyLDU4LDY0LC4yNSk7XHJcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XHJcbiAgICBjb2xvcjogIzQ0NGI1MjtcclxuICAgIGZvbnQtc2l6ZTogMTJweDtcclxuICAgIHBhZGRpbmc6IDNweCAwO1xyXG4gICAgcGFkZGluZy1yaWdodDogM3B4O1xyXG59XHJcbi5pbnB1dENvbnRhaW5lciAuY2FyZHtcclxuICAgIG1hcmdpbjogM3B4O1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGJvcmRlcjogbm9uZTtcclxuICAgIGJhY2tncm91bmQ6ICNmYWZhZmE7XHJcbiAgICAvKiBhbGlnbi1pdGVtczogY2VudGVyOyAqL1xyXG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1hcm91bmQ7XHJcbn1cclxuLndhbGwge1xyXG4gICAgd2lkdGg6IGF1dG87XHJcbiAgICBsaW5lLWhlaWdodDogMDtcclxuICAgIGZvbnQtc2l6ZTogMTJweDtcclxuICAgIGNvbG9yOiBncmF5O1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbn1cclxuLndhbGwgc3BhbiB7XHJcbiAgICBmb250LXNpemU6IDEycHg7XHJcbiAgICBtYXJnaW4tcmlnaHQ6IDVweDtcclxuICAgIG1hcmdpbi1sZWZ0OiAzcHg7XHJcbiAgICB2ZXJ0aWNhbC1hbGlnbjogc3VwZXI7XHJcbn1cclxuLndhbGwgLmRyb3AtaWNvbntcclxuICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgI2MzYzNjMztcclxuICAgIGJvcmRlci1yYWRpdXM6IDAgNXB4IDVweCAwO1xyXG4gICAgd2lkdGg6IDIwcHg7XHJcbiAgICBmbG9hdDogcmlnaHQ7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTRlNGU0O1xyXG4gICAgbWFyZ2luLXRvcDogMXB4O1xyXG4gICAgaGVpZ2h0OiAyMHB4O1xyXG4gICAgbWFyZ2luLWxlZnQ6IC0yMHB4O1xyXG59XHJcbi53YWxsIHNlbGVjdHtcclxuICAgIHdpZHRoOiA3MHB4O1xyXG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gICAgYmFja2dyb3VuZDogbm9uZTtcclxuICAgIHotaW5kZXg6IDI7XHJcbiAgICAvKiBib3JkZXI6IG5vbmU7ICovXHJcbn1cclxuLndhbGwgc2VsZWN0OjotbXMtZXhwYW5kIHsgZGlzcGxheTogbm9uZTsgfSBcclxuXHJcbi53YWxsIGlucHV0W3R5cGU9dGV4dF0ge1xyXG4gICAgd2lkdGg6IDcwcHg7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCBsaWdodHNreWJsdWU7XHJcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbiAgICBiYWNrZ3JvdW5kOiBub25lO1xyXG4gICAgei1pbmRleDogMjtcclxufSJdfQ== */\"","import { Component, OnInit, Input } from '@angular/core';\r\n\r\n@Component({\r\n  selector: '[rightDiv]',\r\n  templateUrl: './right-div.component.html',\r\n  styleUrls: ['./right-div.component.css']\r\n})\r\nexport class RightDivComponent implements OnInit {\r\n\r\n  private _divData\r\n  popStyle: any;\r\n  @Input() set rightDiv(datas) {\r\n    // console.log(datas)    \r\n    if (datas == undefined) {\r\n      this._divData = null\r\n    }\r\n    else {\r\n      if (datas) {\r\n        // 处理点击屏幕边缘时，弹出框的位置处理\r\n        if (window.innerWidth - datas.position.x < 137) {\r\n          datas.position.x = window.innerWidth - 137;\r\n        }\r\n        if (window.innerHeight - datas.position.y < 25 * datas.body.length + 8) {\r\n          datas.position.y = window.innerHeight - 25 * datas.body.length - 10;\r\n        }\r\n        else if (datas.position.y < 42) {\r\n          datas.position.y = 42\r\n        }\r\n        // 根据鼠标坐标确定弹出框的位置\r\n        this.popStyle = {\r\n          \"top\": datas.position.y + 'px',\r\n          \"left\": datas.position.x + 'px'\r\n        }\r\n        // this._divData.isWall = datas.isWall;\r\n        // 遍历弹出框主题内容，重写点击事件，判断弹出框的显示和隐藏\r\n        for (let i = 0; i < datas.body.length; i++) {\r\n          datas.body[i].newFunc = (e?) => {\r\n            datas.body[i].func(e)\r\n            if (datas.body[i].isShow == false) {\r\n              this._divData = null\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    this._divData = datas;\r\n\r\n  }\r\n  get rightDiv() { return this._divData }\r\n\r\n  constructor() {\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n// export interface  Pos{\r\n//   x:number,\r\n//   y:number\r\n// }\r\n// export interface Pop{\r\n//   icon:any,\r\n//   text:string,\r\n//   func:any,\r\n//   position:Pos\r\n// }\r\n","module.exports = \".test_box{\\r\\n    width: 150px;\\r\\n    height: auto;\\r\\n    border: 1px solid #e5e5e5;\\r\\n    border-radius: 5px;\\r\\n    position: absolute;\\r\\n    z-index: 60;\\r\\n}\\r\\n.test_box input{\\r\\n    width: 80px;\\r\\n}\\r\\n.button{\\r\\n    float: right;\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZGVzaWduLXBvcC90ZXN0L3Rlc3QuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLFlBQVk7SUFDWixZQUFZO0lBQ1oseUJBQXlCO0lBQ3pCLGtCQUFrQjtJQUNsQixrQkFBa0I7SUFDbEIsV0FBVztBQUNmO0FBQ0E7SUFDSSxXQUFXO0FBQ2Y7QUFDQTtJQUNJLFlBQVk7QUFDaEIiLCJmaWxlIjoic3JjL2FwcC9kZXNpZ24tcG9wL3Rlc3QvdGVzdC5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnRlc3RfYm94e1xyXG4gICAgd2lkdGg6IDE1MHB4O1xyXG4gICAgaGVpZ2h0OiBhdXRvO1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgI2U1ZTVlNTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHotaW5kZXg6IDYwO1xyXG59XHJcbi50ZXN0X2JveCBpbnB1dHtcclxuICAgIHdpZHRoOiA4MHB4O1xyXG59XHJcbi5idXR0b257XHJcbiAgICBmbG9hdDogcmlnaHQ7XHJcbn0iXX0= */\"","import { Component, OnInit,Input } from '@angular/core';\r\n\r\n@Component({\r\n  selector: '[test]',\r\n  templateUrl: './test.component.html',\r\n  styleUrls: ['./test.component.css']\r\n})\r\nexport class TestComponent implements OnInit {\r\n  private _testData\r\n  style:any;\r\n  @Input() set test(data){\r\n    // console.log(data)\r\n    if(data != null){\r\n      if(data.pos != null){\r\n        this.style = {\r\n          \"left\":data.pos.x + 'px',\r\n          \"top\":data.pos.y + 'px'\r\n        }\r\n      }\r\n      else{\r\n        this.style = {\r\n          \"display\":\"none\"\r\n        }\r\n      }\r\n      this._testData = data;\r\n    }\r\n  }\r\n  get test(){return this._testData;}\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule} from '@angular/forms'\r\nimport { TestComponent } from './test.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,FormsModule\r\n  ],\r\n  declarations: [TestComponent],\r\n  exports:[TestComponent]\r\n})\r\nexport class TestModule { }\r\n","module.exports = \".three_tools{\\r\\n    width: auto;\\r\\n    height: 40px;\\r\\n    border-radius: 10px;\\r\\n    position: absolute;\\r\\n    top: 50px;\\r\\n    right: 100px;\\r\\n    z-index: 2;\\r\\n    background-color: rgba(0, 0, 0, 0.7)\\r\\n}\\r\\n.item-tool{\\r\\n    display: inline-flex;\\r\\n    height: 40px;\\r\\n    padding: 0 5px;\\r\\n    border-radius: 10px;\\r\\n    /* width: 40px; */\\r\\n}\\r\\n.item-tool:hover{\\r\\n    background-color: black;\\r\\n}\\r\\n.btn{\\r\\n    width: 40px;\\r\\n    height: 40px;\\r\\n    padding: 0;\\r\\n    background-color: transparent;\\r\\n}\\r\\n.icon{\\r\\n    width: 30px;\\r\\n    height: 30px;\\r\\n    fill: #fff;\\r\\n    margin: 5px;\\r\\n}\\r\\n.name{\\r\\n    display: inline-block;\\r\\n    height: 40px;\\r\\n    line-height: 40px;\\r\\n    font-size: 16px;\\r\\n    color: #fff;\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZGVzaWduLXBvcC90aHJlZS10b29scy90aHJlZS10b29scy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksV0FBVztJQUNYLFlBQVk7SUFDWixtQkFBbUI7SUFDbkIsa0JBQWtCO0lBQ2xCLFNBQVM7SUFDVCxZQUFZO0lBQ1osVUFBVTtJQUNWO0FBQ0o7QUFDQTtJQUNJLG9CQUFvQjtJQUNwQixZQUFZO0lBQ1osY0FBYztJQUNkLG1CQUFtQjtJQUNuQixpQkFBaUI7QUFDckI7QUFDQTtJQUNJLHVCQUF1QjtBQUMzQjtBQUNBO0lBQ0ksV0FBVztJQUNYLFlBQVk7SUFDWixVQUFVO0lBQ1YsNkJBQTZCO0FBQ2pDO0FBQ0E7SUFDSSxXQUFXO0lBQ1gsWUFBWTtJQUNaLFVBQVU7SUFDVixXQUFXO0FBQ2Y7QUFDQTtJQUNJLHFCQUFxQjtJQUNyQixZQUFZO0lBQ1osaUJBQWlCO0lBQ2pCLGVBQWU7SUFDZixXQUFXO0FBQ2YiLCJmaWxlIjoic3JjL2FwcC9kZXNpZ24tcG9wL3RocmVlLXRvb2xzL3RocmVlLXRvb2xzLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIudGhyZWVfdG9vbHN7XHJcbiAgICB3aWR0aDogYXV0bztcclxuICAgIGhlaWdodDogNDBweDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICB0b3A6IDUwcHg7XHJcbiAgICByaWdodDogMTAwcHg7XHJcbiAgICB6LWluZGV4OiAyO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjcpXHJcbn1cclxuLml0ZW0tdG9vbHtcclxuICAgIGRpc3BsYXk6IGlubGluZS1mbGV4O1xyXG4gICAgaGVpZ2h0OiA0MHB4O1xyXG4gICAgcGFkZGluZzogMCA1cHg7XHJcbiAgICBib3JkZXItcmFkaXVzOiAxMHB4O1xyXG4gICAgLyogd2lkdGg6IDQwcHg7ICovXHJcbn1cclxuLml0ZW0tdG9vbDpob3ZlcntcclxuICAgIGJhY2tncm91bmQtY29sb3I6IGJsYWNrO1xyXG59XHJcbi5idG57XHJcbiAgICB3aWR0aDogNDBweDtcclxuICAgIGhlaWdodDogNDBweDtcclxuICAgIHBhZGRpbmc6IDA7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcclxufVxyXG4uaWNvbntcclxuICAgIHdpZHRoOiAzMHB4O1xyXG4gICAgaGVpZ2h0OiAzMHB4O1xyXG4gICAgZmlsbDogI2ZmZjtcclxuICAgIG1hcmdpbjogNXB4O1xyXG59XHJcbi5uYW1le1xyXG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gICAgaGVpZ2h0OiA0MHB4O1xyXG4gICAgbGluZS1oZWlnaHQ6IDQwcHg7XHJcbiAgICBmb250LXNpemU6IDE2cHg7XHJcbiAgICBjb2xvcjogI2ZmZjtcclxufSJdfQ== */\"","import { Component, OnInit,Input } from '@angular/core';\r\n\r\n@Component({\r\n  selector: '[threeTools]',\r\n  templateUrl: './three-tools.component.html',\r\n  styleUrls: ['./three-tools.component.css']\r\n})\r\nexport class ThreeToolsComponent implements OnInit {\r\n  private _threeTools;\r\n  @Input() set threeTools(data){\r\n    this._threeTools = [\r\n      {\r\n        name:\"自定义\",\r\n        hover:\"自定义\",\r\n        icon:'#icon-zidingyi',\r\n        func:(e) => {\r\n          console.log('name'+1)\r\n        }\r\n      },\r\n      {\r\n        hover:\"旋转\",\r\n        icon:'#icon-xuanzhuan',\r\n        func:(e) => {\r\n          console.log('name'+1)\r\n        }\r\n      },\r\n      {\r\n        hover:\"翻转\",\r\n        icon:'#icon-fanzhuan',\r\n        func:(e) => {\r\n          console.log('name'+1)\r\n        }\r\n      },\r\n      {\r\n        hover:\"替换\",\r\n        icon:'#icon-tihuan',\r\n        func:(e) => {\r\n          console.log('name'+1)\r\n        }\r\n      },\r\n      {\r\n        hover:\"删除\",\r\n        icon:'#icon-shanchu',\r\n        func:(e) => {\r\n          console.log('name'+1)\r\n        }\r\n      },\r\n      {\r\n        hover:\"信息\",\r\n        icon:'#icon-110',\r\n        func:(e) => {\r\n          console.log('name'+1)\r\n        }\r\n      }\r\n    ]\r\n  }\r\n  get threeTools(){return this._threeTools}\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ThreeToolsComponent } from './three-tools.component';\r\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    NgbModule\r\n  ],\r\n  declarations: [ThreeToolsComponent],\r\n  exports:[ThreeToolsComponent]\r\n})\r\nexport class ThreeToolsModule { }\r\n","module.exports = \".D2_3D_container{\\r\\n    width: 1px;\\r\\n    /* height: 200px; */\\r\\n    position: absolute;\\r\\n    top: 0;\\r\\n    right: 200px;\\r\\n    /* /* border-radius: 2px; */\\r\\n    border-left: 1px solid #ddd;\\r\\n    background-color: #ddd;\\r\\n    z-index: 40;\\r\\n}\\r\\n/*\\r\\n.window_container{\\r\\n    width: 200px;\\r\\n    height: 100%;\\r\\n    position: absolute;\\r\\n    left: 0;\\r\\n    top: 0;\\r\\n} */\\r\\n.toggle_window{\\r\\n    /* width: 20px;\\r\\n    height: 100%; */\\r\\n    background-color: #f5f5f5;\\r\\n    /* float: left; */\\r\\n    position: absolute;\\r\\n    top: 0;\\r\\n    left: 0px;\\r\\n}\\r\\n.reduce{\\r\\n    position: absolute;\\r\\n    bottom: 0;\\r\\n}\\r\\n.enlarge{\\r\\n    position: absolute;\\r\\n    bottom: 25px;\\r\\n}\\r\\n.resize{\\r\\n    position: absolute;\\r\\n    right: -20px;\\r\\n    bottom: 0;\\r\\n    cursor: sw-resize !important;\\r\\n}\\r\\n.iconbox {\\r\\n    padding: 0;\\r\\n    width: 20px;\\r\\n    margin: 0 auto;\\r\\n    height: 20px;\\r\\n    border-radius: 4px;\\r\\n    /* transform: rotate(90deg); */\\r\\n    /* border: 1px solid transparent; */\\r\\n    /* padding-top: 3px; */\\r\\n}\\r\\n.caret-bottom-r {\\r\\n    width: 0;\\r\\n    height: 0;\\r\\n    display: inline-block;\\r\\n    vertical-align: top;\\r\\n    margin-top: 20px;\\r\\n    margin-left: -2px;\\r\\n    margin-right: -2px;\\r\\n    border-bottom: 4px solid #808080;\\r\\n    border-left: 4px solid transparent;\\r\\n}\\r\\n/* .btn:hover .iconbox {\\r\\n    background: rgba(0, 206, 198, 0.08);\\r\\n    border: 1px solid rgb(0, 206, 198);\\r\\n    cursor: pointer;\\r\\n} */\\r\\n.btn.disabled:hover .iconbox,\\r\\n.btn:disabled:hover .iconbox {\\r\\n    background: transparent;\\r\\n    border: 1px solid transparent;\\r\\n}\\r\\n.btn {\\r\\n    background: transparent;\\r\\n    font-size: .7rem;\\r\\n    line-height: 12px;\\r\\n    color: #696969;\\r\\n    padding: 0;\\r\\n    width: 20px;\\r\\n    height: 20px;\\r\\n}\\r\\n.icon {\\r\\n    width: 20px;\\r\\n    height: 20px;\\r\\n    vertical-align: -0.15em;\\r\\n    fill: #808080;\\r\\n    margin: 0 auto;\\r\\n}\\r\\n.icon_resize{\\r\\n    -webkit-transform: rotate(90deg);\\r\\n            transform: rotate(90deg)\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZGVzaWduLXBvcC90b2dnbGUtd2luZG93L3RvZ2dsZS13aW5kb3cuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLFVBQVU7SUFDVixtQkFBbUI7SUFDbkIsa0JBQWtCO0lBQ2xCLE1BQU07SUFDTixZQUFZO0lBQ1osMkJBQTJCO0lBQzNCLDJCQUEyQjtJQUMzQixzQkFBc0I7SUFDdEIsV0FBVztBQUNmO0FBQ0E7Ozs7Ozs7R0FPRztBQUNIO0lBQ0k7bUJBQ2U7SUFDZix5QkFBeUI7SUFDekIsaUJBQWlCO0lBQ2pCLGtCQUFrQjtJQUNsQixNQUFNO0lBQ04sU0FBUztBQUNiO0FBQ0E7SUFDSSxrQkFBa0I7SUFDbEIsU0FBUztBQUNiO0FBQ0E7SUFDSSxrQkFBa0I7SUFDbEIsWUFBWTtBQUNoQjtBQUNBO0lBQ0ksa0JBQWtCO0lBQ2xCLFlBQVk7SUFDWixTQUFTO0lBQ1QsNEJBQTRCO0FBQ2hDO0FBQ0E7SUFDSSxVQUFVO0lBQ1YsV0FBVztJQUNYLGNBQWM7SUFDZCxZQUFZO0lBQ1osa0JBQWtCO0lBQ2xCLDhCQUE4QjtJQUM5QixtQ0FBbUM7SUFDbkMsc0JBQXNCO0FBQzFCO0FBRUE7SUFDSSxRQUFRO0lBQ1IsU0FBUztJQUNULHFCQUFxQjtJQUNyQixtQkFBbUI7SUFDbkIsZ0JBQWdCO0lBQ2hCLGlCQUFpQjtJQUNqQixrQkFBa0I7SUFDbEIsZ0NBQWdDO0lBQ2hDLGtDQUFrQztBQUN0QztBQUVBOzs7O0dBSUc7QUFFSDs7SUFFSSx1QkFBdUI7SUFDdkIsNkJBQTZCO0FBQ2pDO0FBQ0E7SUFDSSx1QkFBdUI7SUFDdkIsZ0JBQWdCO0lBQ2hCLGlCQUFpQjtJQUNqQixjQUFjO0lBQ2QsVUFBVTtJQUNWLFdBQVc7SUFDWCxZQUFZO0FBQ2hCO0FBQ0E7SUFDSSxXQUFXO0lBQ1gsWUFBWTtJQUNaLHVCQUF1QjtJQUN2QixhQUFhO0lBQ2IsY0FBYztBQUNsQjtBQUNBO0lBQ0ksZ0NBQXVCO1lBQXZCO0FBQ0oiLCJmaWxlIjoic3JjL2FwcC9kZXNpZ24tcG9wL3RvZ2dsZS13aW5kb3cvdG9nZ2xlLXdpbmRvdy5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLkQyXzNEX2NvbnRhaW5lcntcclxuICAgIHdpZHRoOiAxcHg7XHJcbiAgICAvKiBoZWlnaHQ6IDIwMHB4OyAqL1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgdG9wOiAwO1xyXG4gICAgcmlnaHQ6IDIwMHB4O1xyXG4gICAgLyogLyogYm9yZGVyLXJhZGl1czogMnB4OyAqL1xyXG4gICAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCAjZGRkO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2RkZDtcclxuICAgIHotaW5kZXg6IDQwO1xyXG59XHJcbi8qXHJcbi53aW5kb3dfY29udGFpbmVye1xyXG4gICAgd2lkdGg6IDIwMHB4O1xyXG4gICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgbGVmdDogMDtcclxuICAgIHRvcDogMDtcclxufSAqL1xyXG4udG9nZ2xlX3dpbmRvd3tcclxuICAgIC8qIHdpZHRoOiAyMHB4O1xyXG4gICAgaGVpZ2h0OiAxMDAlOyAqL1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2Y1ZjVmNTtcclxuICAgIC8qIGZsb2F0OiBsZWZ0OyAqL1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgdG9wOiAwO1xyXG4gICAgbGVmdDogMHB4O1xyXG59XHJcbi5yZWR1Y2V7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICBib3R0b206IDA7XHJcbn1cclxuLmVubGFyZ2V7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICBib3R0b206IDI1cHg7XHJcbn1cclxuLnJlc2l6ZXtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHJpZ2h0OiAtMjBweDtcclxuICAgIGJvdHRvbTogMDtcclxuICAgIGN1cnNvcjogc3ctcmVzaXplICFpbXBvcnRhbnQ7XHJcbn1cclxuLmljb25ib3gge1xyXG4gICAgcGFkZGluZzogMDtcclxuICAgIHdpZHRoOiAyMHB4O1xyXG4gICAgbWFyZ2luOiAwIGF1dG87XHJcbiAgICBoZWlnaHQ6IDIwcHg7XHJcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XHJcbiAgICAvKiB0cmFuc2Zvcm06IHJvdGF0ZSg5MGRlZyk7ICovXHJcbiAgICAvKiBib3JkZXI6IDFweCBzb2xpZCB0cmFuc3BhcmVudDsgKi9cclxuICAgIC8qIHBhZGRpbmctdG9wOiAzcHg7ICovXHJcbn1cclxuXHJcbi5jYXJldC1ib3R0b20tciB7XHJcbiAgICB3aWR0aDogMDtcclxuICAgIGhlaWdodDogMDtcclxuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICAgIHZlcnRpY2FsLWFsaWduOiB0b3A7XHJcbiAgICBtYXJnaW4tdG9wOiAyMHB4O1xyXG4gICAgbWFyZ2luLWxlZnQ6IC0ycHg7XHJcbiAgICBtYXJnaW4tcmlnaHQ6IC0ycHg7XHJcbiAgICBib3JkZXItYm90dG9tOiA0cHggc29saWQgIzgwODA4MDtcclxuICAgIGJvcmRlci1sZWZ0OiA0cHggc29saWQgdHJhbnNwYXJlbnQ7XHJcbn1cclxuXHJcbi8qIC5idG46aG92ZXIgLmljb25ib3gge1xyXG4gICAgYmFja2dyb3VuZDogcmdiYSgwLCAyMDYsIDE5OCwgMC4wOCk7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCByZ2IoMCwgMjA2LCAxOTgpO1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG59ICovXHJcblxyXG4uYnRuLmRpc2FibGVkOmhvdmVyIC5pY29uYm94LFxyXG4uYnRuOmRpc2FibGVkOmhvdmVyIC5pY29uYm94IHtcclxuICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgdHJhbnNwYXJlbnQ7XHJcbn1cclxuLmJ0biB7XHJcbiAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcclxuICAgIGZvbnQtc2l6ZTogLjdyZW07XHJcbiAgICBsaW5lLWhlaWdodDogMTJweDtcclxuICAgIGNvbG9yOiAjNjk2OTY5O1xyXG4gICAgcGFkZGluZzogMDtcclxuICAgIHdpZHRoOiAyMHB4O1xyXG4gICAgaGVpZ2h0OiAyMHB4O1xyXG59XHJcbi5pY29uIHtcclxuICAgIHdpZHRoOiAyMHB4O1xyXG4gICAgaGVpZ2h0OiAyMHB4O1xyXG4gICAgdmVydGljYWwtYWxpZ246IC0wLjE1ZW07XHJcbiAgICBmaWxsOiAjODA4MDgwO1xyXG4gICAgbWFyZ2luOiAwIGF1dG87XHJcbn1cclxuLmljb25fcmVzaXple1xyXG4gICAgdHJhbnNmb3JtOiByb3RhdGUoOTBkZWcpXHJcbn0iXX0= */\"","import { Component, OnInit,Input,ElementRef } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-toggle-window',\r\n  templateUrl: './toggle-window.component.html',\r\n  styleUrls: ['./toggle-window.component.css']\r\n})\r\nexport class ToggleWindowComponent implements OnInit {\r\n  private _windowData;\r\n  domStyle:any;\r\n  moveEvent:any;\r\n  upEvent:any;\r\n  position:any={\r\n    startPosition:{\r\n      x:0,\r\n      y:0\r\n    },\r\n    endPosition:{\r\n      x:0,\r\n      y:0\r\n    }\r\n  };\r\n  @Input() set toggleWindow(data) {\r\n    // console.log(data)\r\n    if(data != null){\r\n      this.domStyle = {\r\n        \"height\":data.size.height+'px',\r\n        \"right\":data.size.width+'px'\r\n      }\r\n    }\r\n    this._windowData = data\r\n  }\r\n  get toggleWindow(){return this._windowData}\r\n  constructor(private el:ElementRef) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  ngAfterViewInit(){\r\n\r\n  }\r\n  toggleView(e:MouseEvent){\r\n    this._windowData.toggle();\r\n  }\r\n  resizeStartView(e:MouseEvent){\r\n    this.position.startPosition = {\r\n      x:e.clientX,\r\n      y:e.clientY\r\n    }\r\n    document.addEventListener('mousemove',this.moveEvent = (e) => {\r\n      this._windowData.zoomResize({x:-(e.clientX - this.position.startPosition.x),y:e.clientY - this.position.startPosition.y})\r\n      this.domStyle = {\r\n        \"height\":this._windowData.size.height+'px',\r\n        \"right\":this._windowData.size.width +'px'\r\n      }\r\n      this.position.startPosition = {\r\n        x:e.clientX,\r\n        y:e.clientY\r\n      }\r\n      // console.log(this._windowData.size)\r\n    })\r\n    document.addEventListener('mouseup',this.upEvent = (e) => {\r\n      document.removeEventListener('mousemove',this.moveEvent);\r\n      document.removeEventListener('mouseup',this.upEvent)\r\n    })\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ToggleWindowComponent } from './toggle-window.component';\r\nimport { ViewContainerDirective } from './view-container.directive';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  declarations: [ToggleWindowComponent,ViewContainerDirective],\r\n  exports:[ToggleWindowComponent,ViewContainerDirective]\r\n})\r\nexport class ToggleWindowModule { }\r\n","import { Directive, OnInit, Input, TemplateRef, ViewContainerRef, ElementRef } from '@angular/core';\r\n\r\n\r\n@Directive({\r\n  selector: '[appViewContainer]'\r\n})\r\nexport class ViewContainerDirective implements OnInit {\r\n @Input() set appViewContainer(data) {\r\n  //  console.log(data);\r\n   if(data != null){\r\n    //  console.log(data)\r\n     if(data.isZoom == true){\r\n       if(data.isStretch == true){\r\n         if(data.divSize.width/data.divSize.height > data.zoomSize.width/data.zoomSize.height){\r\n          this.el.nativeElement.style.cssText=`\r\n   width:${data.divSize.height*(data.zoomSize.width/data.zoomSize.height)}px;height:${data.divSize.height}px;transform:scale(${data.zoomSize.height/data.divSize.height},${data.zoomSize.height/data.divSize.height});transform-origin:right top;z-index:${data.zIndex}`\r\n         }\r\n         else{\r\n          this.el.nativeElement.style.cssText=`\r\n   width:${data.divSize.width}px;height:${data.divSize.width/(data.zoomSize.width/data.zoomSize.height)}px;transform:scale(${data.zoomSize.width/data.divSize.width},${data.zoomSize.width/data.divSize.width});transform-origin:right top;z-index:${data.zIndex}`\r\n         }\r\n       }\r\n       else{\r\n        this.el.nativeElement.style.cssText=`\r\n        width:${data.zoomSize.width}px;height:${data.zoomSize.height}px;z-index:${data.zIndex}`;\r\n        // console.log(111)\r\n       }\r\n      \r\n     }\r\n     else{\r\n      this.el.nativeElement.style.cssText=`\r\n      width:${data.divSize.width}px;height:${data.divSize.height}px;z-index:${data.zIndex}`\r\n     }\r\n    \r\n   }\r\n   \r\n }\r\n  constructor(\r\n    // private templateRef: TemplateRef<any>,\r\n    private viewContainer: ViewContainerRef,\r\n    private el :ElementRef) { }\r\n\r\n  ngOnInit(){\r\n    // console.log(this.templateRef)\r\n  }\r\n\r\n}\r\n","import { ShortKey } from \"../../design-pop/hotkey/newNewHotKey.class\";\r\nimport { JdesignDataService } from \"../../services/jdesign-data.service\";\r\n\r\nexport class HotKeyData {\r\n    shortKeyData: ShortKey[] = []\r\n    constructor(\r\n        private dataService: JdesignDataService,\r\n    ) {\r\n        this.shortKeyData = this.dataService.cache.hotKeys\r\n        /* 删除系列============================ */\r\n        this.shortKeyData.push({\r\n            keys: [\"Delete\"],\r\n            downFunc: (obj) => {\r\n                this.dataService.cache.shortFuncs['delWall'](obj)\r\n                this.dataService.cache.shortFuncs['saveAction']()\r\n            },\r\n            isObj: this.dataService.cache.shortFuncs['isWall'],\r\n            status: this.dataService.cache.shortFuncs[\"isNormal\"]\r\n        })\r\n        this.shortKeyData.push({\r\n            keys: [\"Delete\"],\r\n            downFunc: (obj) => {\r\n                this.dataService.cache.shortFuncs['delDW'](obj)\r\n                this.dataService.cache.shortFuncs['saveAction']()\r\n            },\r\n            isObj: this.dataService.cache.shortFuncs['isDW'],\r\n            status: this.dataService.cache.shortFuncs[\"isNormal\"]\r\n        })\r\n        this.shortKeyData.push({\r\n            keys: [\"Delete\"],\r\n            downFunc: (obj) => {\r\n                this.dataService.cache.shortFuncs['delCornWin'](obj)\r\n                this.dataService.cache.shortFuncs['saveAction']()\r\n            },\r\n            isObj: this.dataService.cache.shortFuncs['isCornWin'],\r\n            status: this.dataService.cache.shortFuncs[\"isNormal\"]\r\n        })\r\n        this.shortKeyData.push({\r\n            keys: [\"Delete\"],\r\n            downFunc: (obj) => {\r\n                this.dataService.cache.shortFuncs['delFurn'](obj)\r\n                this.dataService.cache.shortFuncs['saveAction']()\r\n            },\r\n            isObj: this.dataService.cache.shortFuncs['isFurn'],\r\n            status: this.dataService.cache.shortFuncs[\"isNormal\"]\r\n        })\r\n        this.shortKeyData.push({\r\n            keys: [\"Delete\"],\r\n            downFunc: (obj) => {\r\n                this.dataService.cache.shortFuncs['delLUWin'](obj)\r\n                this.dataService.cache.shortFuncs['saveAction']()\r\n            },\r\n            isObj: this.dataService.cache.shortFuncs['isLUWin'],\r\n            status: this.dataService.cache.shortFuncs[\"isNormal\"]\r\n        })\r\n        /* 是否吸附 */\r\n        this.shortKeyData.push({\r\n            keys: [\"Control\"],\r\n            downFunc: this.dataService.cache.shortFuncs['cancelAbosrb'],\r\n            upFunc: this.dataService.cache.shortFuncs['setAbosrb'],\r\n        })\r\n        // 摄像机上下左右移动\r\n        this.shortKeyData.push({\r\n            keys: [\"w\"],\r\n            downFunc: this.dataService.cache.shortFuncs[\"cameraForwardStart\"],\r\n            upFunc: this.dataService.cache.shortFuncs[\"cameraForwardStop\"]\r\n        })\r\n        this.shortKeyData.push({\r\n            keys: [\"a\"],\r\n            downFunc: this.dataService.cache.shortFuncs[\"cameraLeftStart\"],\r\n            upFunc: this.dataService.cache.shortFuncs[\"cameraLeftStop\"]\r\n        })\r\n\r\n        this.shortKeyData.push({\r\n            keys: [\"s\"],\r\n            downFunc: this.dataService.cache.shortFuncs[\"cameraBackwardStart\"],\r\n            upFunc: this.dataService.cache.shortFuncs[\"cameraBackwardStop\"]\r\n        })\r\n        this.shortKeyData.push({\r\n            keys: [\"d\"],\r\n            downFunc: this.dataService.cache.shortFuncs[\"cameraRightStart\"],\r\n            upFunc: this.dataService.cache.shortFuncs[\"cameraRightStop\"]\r\n        })\r\n        this.shortKeyData.push({\r\n            keys: [\"q\"],\r\n            downFunc: this.dataService.cache.shortFuncs[\"cameraMoveUpStart\"],\r\n            upFunc: this.dataService.cache.shortFuncs[\"cameraMoveUpStop\"]\r\n        })\r\n        this.shortKeyData.push({\r\n            keys: [\"e\"],\r\n            downFunc: this.dataService.cache.shortFuncs[\"cameraMoveDownStart\"],\r\n            upFunc: this.dataService.cache.shortFuncs[\"cameraMoveDownStop\"]\r\n        })\r\n        this.shortKeyData.push({\r\n            keys: [\"Control\", \"z\"],\r\n            downFunc: this.dataService.cache.shortFuncs[\"undoData\"],\r\n            // upFunc: this.dataService.cache.shortFuncs[\"cameraUpStop\"]\r\n        })\r\n        this.shortKeyData.push({\r\n            keys: [\"Control\", \"y\"],\r\n            downFunc: this.dataService.cache.shortFuncs[\"redoData\"],\r\n            // upFunc: this.dataService.cache.shortFuncs[\"cameraUpStop\"]\r\n        })\r\n    }\r\n}","import { PopDivService } from \"../../../services/pop-div.service\";\r\nimport { JdesignDataService } from \"../../../services/jdesign-data.service\";\r\nimport { DomUpdateService } from \"../../../services/dom-update.service\";\r\n\r\nexport class BottomData {\r\n  constructor(\r\n    private popService: PopDivService,\r\n    private dataService: JdesignDataService,\r\n    private domService: DomUpdateService\r\n  ) {\r\n    this.setBottomData();\r\n\r\n  }\r\n\r\n  setBottomData() {\r\n    let data =\r\n    {\r\n      \"camera\": {\r\n        name: \"保存相机视角\",\r\n        icon: \"#icon-camera\",\r\n        func: (e, imgArry) => {\r\n          let img = {\r\n            path: \"./assets/img/freeicon/free.png\",\r\n            func: (e) => {\r\n              console.log('tutuutututut')\r\n            }\r\n          };\r\n          imgArry.img.push(img)\r\n          this.popService.getMaterial.emit(imgArry)\r\n        },\r\n        cameraImg: {\r\n          name: \"相机视角\",\r\n          img: []\r\n        }\r\n      },\r\n      \"center\": {\r\n        name: \"居中\",\r\n        icon: \"#icon-juzhong\",\r\n        func: (e) => {\r\n          this.dataService.floorplan.setCenter()\r\n          this.domService.allSvg.emit()\r\n          // }\r\n        }\r\n      },\r\n      \"vertical\": {\r\n        name: \"正交\",\r\n        icon: \"#icon-zhijiao\",\r\n        isDown: true,\r\n        func: (e) => {\r\n          data['vertical'].isDown = !data['vertical'].isDown\r\n          this.dataService.cache.wall.isOrthogonal = data['vertical'].isDown\r\n        }\r\n      }\r\n    }\r\n    this.popService.panelBottom.emit(data)\r\n\r\n    this.dataService.cache.hotKeys.push({\r\n      keys: [\"F8\"],\r\n      downFunc: () => {\r\n        console.log('xxx')\r\n        data['vertical'].isDown = !data['vertical'].isDown\r\n        this.dataService.cache.wall.isOrthogonal = data['vertical'].isDown\r\n      },\r\n    })\r\n    this.dataService.cache.hotKeys.push({\r\n      keys: [\"Control\", \"0\"],\r\n      downFunc: () => {\r\n        this.dataService.floorplan.setCenter()\r\n        this.domService.allSvg.emit()\r\n      }\r\n    })\r\n  }\r\n\r\n  // setCenter() {\r\n  //   // console.log(1111)\r\n  //   let viewSIze = this.getBackPoint(this.dataService.points)\r\n  //   if (viewSIze.width != 0 && viewSIze.height != 0) {\r\n  //     let zoom = this.getBackZoom(viewSIze, {\r\n  //       width: window.innerWidth - 500,\r\n  //       height: window.innerHeight - 300\r\n  //     })\r\n  //     this.dataService.cmd.floorplan.zoom = zoom\r\n  //     let left = this.dataService.cache.floorplan.centerData.left - (viewSIze.center.x - Math.abs(this.dataService.cache.floorplan.centerData.left)) * this.dataService.cmd.floorplan.zoom\r\n  //     let top = this.dataService.cache.floorplan.centerData.top - (viewSIze.center.y - Math.abs(this.dataService.cache.floorplan.centerData.top)) * this.dataService.cmd.floorplan.zoom\r\n  //     this.dataService.cmd.floorplan.left = left\r\n  //     this.dataService.cmd.floorplan.top = top\r\n  //     this.domService.allSvg.emit()\r\n  //   }\r\n  // }\r\n\r\n\r\n  // getBackZoom(viewSize: Rect, rectSize: Rect) {\r\n  //   if (viewSize.width / viewSize.height > rectSize.width / rectSize.height) {\r\n  //     return rectSize.width / viewSize.width\r\n  //   }\r\n  //   else {\r\n  //     return rectSize.height / viewSize.height\r\n  //   }\r\n  // }\r\n  // getBackPoint(obj) {\r\n  //   let maxX = 0;\r\n  //   let maxY = 0\r\n  //   for (let i in obj) {\r\n  //     if (obj[i].pos.x > maxX) {\r\n  //       maxX = obj[i].pos.x\r\n  //     }\r\n  //     if (obj[i].pos.y > maxY) {\r\n  //       maxY = obj[i].pos.y\r\n  //     }\r\n  //   }\r\n  //   let minX = maxX;\r\n  //   let minY = maxY\r\n  //   for (let i in obj) {\r\n  //     if (obj[i].pos.x < minX) {\r\n  //       minX = obj[i].pos.x\r\n  //     }\r\n  //     if (obj[i].pos.y < minY) {\r\n  //       minY = obj[i].pos.y\r\n  //     }\r\n  //   }\r\n  //   return {\r\n  //     width: maxX - minX,\r\n  //     height: maxY - minY,\r\n  //     center: {\r\n  //       x: (minX + maxX) / 2,\r\n  //       y: (minY + maxY) / 2\r\n  //     }\r\n  //   }\r\n  // }\r\n\r\n}\r\n\r\nexport class Point {\r\n  x: number;\r\n  y: number;\r\n}\r\nexport class Rect {\r\n  width: number;\r\n  height: number;\r\n}\r\n","import { JdesignDataService } from \"../../services/jdesign-data.service\";\r\nimport { JdesignUtil2dService } from \"../../services/jdesign-util2d.service\";\r\nimport { PopDivService } from \"../../services/pop-div.service\";\r\nimport { LeftPanel } from \"./left.panel\";\r\nimport { LeftBuildPanel } from \"./leftBuild.panel\";\r\nimport { HttpService } from \"../../services/http.service\";\r\nimport { TopDataPanel } from \"./topData.panel\";\r\nimport { RightDataPanel } from \"./rightData.panel\";\r\nimport { WallPanel } from \"./right-panel/wall.panel\";\r\nimport { DomUpdateService } from \"../../services/dom-update.service\";\r\nimport { PlatFondPanel } from \"./right-panel/platfond.panel\";\r\nimport { FloorPanel } from \"./right-panel/floor.panel\";\r\nimport { CornerWindowPanel } from \"./right-panel/cornerWindow.panel\";\r\nimport { DoorPanel } from \"./right-panel/door.panel\";\r\nimport { LwindowPanel } from \"./right-panel/Lwindow.panel\";\r\nimport { WindowPanel } from \"./right-panel/window.panel\";\r\nimport { FrogPanel } from \"./right-panel/frog.panel\";\r\nimport { BottomData } from \"./bottom-panel/bottom.panel\";\r\nimport { DomSanitizer } from \"../../../../node_modules/@angular/platform-browser\";\r\nimport { UwindowPanel } from \"./right-panel/Uwindow.panel\";\r\nimport { CalculatorsService } from \"../../services/calculators.service\";\r\nimport { ParamsModelPanel } from \"./right-panel/paramsModel.panel\";\r\n\r\nexport class DesignStyleDataPanel {\r\n    constructor(\r\n        protected dataService: JdesignDataService,\r\n        protected popService: PopDivService,\r\n        protected calService: CalculatorsService,\r\n        private httpService: HttpService,\r\n        private DUService: JdesignUtil2dService,\r\n        private domService: DomUpdateService,\r\n        private sanitizer: DomSanitizer,\r\n    ) {\r\n        let getRightData = new RightDataPanel(httpService);\r\n        let mainLeft = new LeftPanel(popService, httpService, DUService, dataService);\r\n        let buildLeft = new LeftBuildPanel(popService, dataService, calService, DUService, domService);\r\n        let topData = new TopDataPanel(popService, dataService, this.domService, sanitizer);\r\n        let bottomData = new BottomData(popService, dataService, domService)\r\n        let wallData = new WallPanel(popService, dataService, domService);\r\n        let roomData = new PlatFondPanel(popService, dataService);\r\n        let floorData = new FloorPanel(popService, dataService, domService)\r\n        let cornerWindowData = new CornerWindowPanel(popService, dataService, domService);\r\n        let doorData = new DoorPanel(popService, dataService, domService);\r\n        let windowData = new WindowPanel(popService, dataService, domService)\r\n        let LwindowData = new LwindowPanel(popService, dataService, domService);\r\n        let UwindowData = new UwindowPanel(popService, dataService, domService);\r\n        let paramsModelData = new ParamsModelPanel(popService, dataService, domService)\r\n        let frogData = new FrogPanel(popService, dataService)\r\n    }\r\n}","import { PopDivService } from \"../../services/pop-div.service\";\r\nimport { HttpService } from \"../../services/http.service\";\r\nimport { JdesignUtil2dService } from \"../../services/jdesign-util2d.service\";\r\nimport { JdesignDataService } from \"../../services/jdesign-data.service\";\r\nimport { JFurnitureInitType } from \"../../svg/common/jdesign/JFurniture\";\r\n\r\nexport class LeftPanel {\r\n  private _leftData;\r\n  private _hover_data;\r\n  public allData: any = {\r\n    mouseleave:(e) => {\r\n\r\n    },\r\n    mainData:[]\r\n  };\r\n  private _newData = [];\r\n  constructor(\r\n    private popService: PopDivService,\r\n    private httpService: HttpService,\r\n    private DUService: JdesignUtil2dService,\r\n    protected dataService: JdesignDataService,\r\n  ) {\r\n    // this.allData.mainData = new allData.mainData(popService);\r\n    // console.log(this.allData.mainData.allData.mainData)\r\n    this.getLeftData();\r\n    this.getURLData(this.httpService.dataUrls.furnitureModelUrl)\r\n  }\r\n\r\n  // 一级菜单数据和下拉类型列表二级菜单数据\r\n  getLeftData() {\r\n    this._leftData = {\r\n      // 全局属性定义\r\n      global: {\r\n        mouseleave:(e) => {\r\n\r\n        }\r\n      },\r\n      // 左侧数据类型及下拉列表数据\r\n      data: [\r\n        {\r\n          name: \"户型\",\r\n          type: \"room\",\r\n          isWasSelect: true,\r\n          icon: \"#icon-icond\",\r\n          sendToNext: (e, data) => {\r\n            this.popService.getLeftData.emit(data)\r\n          }\r\n        },\r\n        {\r\n          name: \"公共素材库\",\r\n          type: \"matter\",\r\n          icon: \"#icon-moxing\",\r\n          dropList: [],\r\n          sendToNext: (e, params) => {\r\n            let nameArr = [];\r\n            let dataArr = [];\r\n            for (let i = 0; i < this.allData.mainData.length; i++) {\r\n              if (nameArr.indexOf(this.allData.mainData[i].first) < 0) {\r\n                nameArr.push(this.allData.mainData[i].first)\r\n              }\r\n            }\r\n            for (let j = 0; j < nameArr.length; j++) {\r\n              // 下拉列表类型数据\r\n              let newData = {\r\n                name: nameArr[j],\r\n                getData: (e, params) => {\r\n                  e.stopPropagation();\r\n                  let dataArr = []\r\n                  for (let i = 0; i < this.allData.mainData.length; i++) {\r\n                    if (this.allData.mainData[i].first == params.name) {\r\n                      dataArr.push(this.allData.mainData[i])\r\n                    }\r\n                  }\r\n                  let data = {\r\n                    title: \"公共素材库\",\r\n                    type: \"matter\",\r\n                    bread: [\"公共素材库\", params.name],\r\n                    imgData: dataArr\r\n                  }\r\n                  this.popService.getLeftData.emit(data)\r\n                },\r\n                mouseLeave: (e, params) => {\r\n                  params.isShow = false\r\n                  this.hoverData(e, null)\r\n                },\r\n                mouseHover: (e, params) => {\r\n                  params.isShow = true\r\n                  this.hoverData(e, params)\r\n                }\r\n              }\r\n              dataArr.push(newData)\r\n            }\r\n            params.dropList = dataArr;\r\n            // 应该出现的数据列表数据\r\n            let data = {\r\n              title: \"公共素材库\",\r\n              type: \"matter\",\r\n              bread: [\"公共素材库\"],\r\n              imgData: this.allData.mainData\r\n            }\r\n            this.popService.getLeftData.emit(data)\r\n          }\r\n        },\r\n        {\r\n          name: \"我的\",\r\n          type: \"mine\",\r\n          icon: \"#icon-wode\",\r\n          sendToNext: (e, data) => {\r\n            this.popService.getLeftData.emit(data)\r\n          }\r\n        }\r\n      ]\r\n    }\r\n    this.popService.sendLeftData.emit(this._leftData)\r\n  }\r\n\r\n  // 悬浮菜单数据和展示数据\r\n  hoverData(e, data) {\r\n    if (data == null) {\r\n      this._hover_data = null\r\n    }\r\n    else {\r\n      // 二级菜单名称数据\r\n      let secondNameArr = [];\r\n      let thirdNameArr = []\r\n      for (let i = 0; i < this.allData.mainData.length; i++) {\r\n        if (this.allData.mainData[i].first == data.name) {\r\n          if (secondNameArr.indexOf(this.allData.mainData[i].second) < 0) {\r\n            secondNameArr.push(this.allData.mainData[i].second)\r\n          }\r\n        }\r\n      }\r\n      for (let j = 0; j < secondNameArr.length; j++) {\r\n        let newArr = {\r\n          name: secondNameArr[j],\r\n          getData: (e, params) => {\r\n            e.stopPropagation();\r\n            let dataArr = []\r\n            for (let i = 0; i < this.allData.mainData.length; i++) {\r\n              if (this.allData.mainData[i].second == params.name) {\r\n                dataArr.push(this.allData.mainData[i])\r\n              }\r\n            }\r\n            let newdata = {\r\n              title: \"公共素材库\",\r\n              type: \"matter\",\r\n              bread: [\"公共素材库\", data.name, params.name],\r\n              imgData: dataArr\r\n            }\r\n            this.popService.getLeftData.emit(newdata)\r\n          },\r\n          thirdNameArr: [],\r\n          typeList: []\r\n        }\r\n        for (let i = 0; i < this.allData.mainData.length; i++) {\r\n          if (this.allData.mainData[i].second == secondNameArr[j]) {\r\n            if (this.allData.mainData[i].third !== undefined) {\r\n              if (newArr.thirdNameArr.indexOf(this.allData.mainData[i].third) < 0) {\r\n                newArr.thirdNameArr.push(this.allData.mainData[i].third)\r\n              }\r\n            }\r\n          }\r\n        }\r\n        for (let i = 0; i < newArr.thirdNameArr.length; i++) {\r\n          let thirdData = {\r\n            name: newArr.thirdNameArr[i],\r\n            func: (e, params) => {\r\n              e.stopPropagation();\r\n              let dataArr = []\r\n              for (let i = 0; i < this.allData.mainData.length; i++) {\r\n                if (this.allData.mainData[i].third == params.name) {\r\n                  dataArr.push(this.allData.mainData[i])\r\n                }\r\n              }\r\n              let newdata = {\r\n                title: \"公共素材库\",\r\n                type: \"matter\",\r\n                bread: [\"公共素材库\", data.name, newArr.name, params.name],\r\n                imgData: dataArr\r\n              }\r\n              this.popService.getLeftData.emit(newdata)\r\n            }\r\n          }\r\n          newArr.typeList.push(thirdData)\r\n        }\r\n        thirdNameArr.push(newArr)\r\n      }\r\n      this._hover_data = {\r\n        pos: {\r\n          x: e.clientX,\r\n          y: e.clientY\r\n        },\r\n        data: thirdNameArr\r\n      }\r\n    }\r\n    this.popService.hoverLeftData.emit(this._hover_data)\r\n  }\r\n\r\n  // 解析ison文件  重构数据\r\n  private getURLData(url: string) {\r\n    url = this.httpService.getRealUrl(url, this.httpService.dataUrls.mainUrl)\r\n    this.httpService.getRes(url, 3, true).subscribe((datas: any[]) => {\r\n      this.DUService.obj.changeObjUrlByattrs(datas, this.httpService.dataUrls.modelMainUrl, [\"svgUrl\", \"imgUrl\", \"modelUrl\"])\r\n      for (let i = 0; i < datas.length; i++) {\r\n        let newData = {\r\n          id: datas[i]['id'],\r\n          imgUrl: datas[i]['imgUrl'],\r\n          svg: datas[i]['svgUrl'],\r\n          first: datas[i]['first'],\r\n          second: datas[i]['scend'],\r\n          third: datas[i]['third'],\r\n          bread: [datas[i]['first'], datas[i]['scend'], datas[i]['third']],\r\n          func: (e, params) => {\r\n            this._leftData.global.mouseleave = (e)=> {\r\n              let obj: JFurnitureInitType = {\r\n                url2D: datas[i]['svgUrl'],\r\n                size: datas[i]['size'],\r\n                url3D: datas[i]['modelUrl'],\r\n                hgUrl: datas[i]['hgUrl'],\r\n                floorHeight: datas[i]['floorHeight']\r\n              }\r\n              this.dataService.cache.shortFuncs[\"addFurn\"](obj) \r\n              this._leftData.global.mouseleave = () => {\r\n\r\n              }\r\n            }\r\n                     }\r\n        }\r\n        this.allData.mainData.push(newData);\r\n      }\r\n    })\r\n  }\r\n}","import { PopDivService } from \"../../services/pop-div.service\";\r\nimport { JdesignDataService } from \"../../services/jdesign-data.service\";\r\nimport { JBuildInitType } from \"../../svg/common/jdesign/JBuild\";\r\nimport { CalculatorsService } from \"../../services/calculators.service\";\r\nimport { JdesignUtil2dService } from \"../../services/jdesign-util2d.service\";\r\nimport { DomUpdateService } from \"../../services/dom-update.service\";\r\n\r\nexport class LeftBuildPanel {\r\n  private _build_data\r\n  private _initData\r\n  constructor(\r\n    private popService: PopDivService,\r\n    protected dataService: JdesignDataService,\r\n    protected calService: CalculatorsService,\r\n    protected DUService: JdesignUtil2dService,\r\n    protected domService: DomUpdateService\r\n  ) {\r\n    this.buildDataInit();\r\n    this.popService.getLeftData.subscribe((data) => {\r\n      this.getData(data)\r\n    })\r\n  }\r\n  buildDataInit() {\r\n    this._initData = {\r\n      mouseleave: (e) => { },\r\n      title: \"开始画户型\",\r\n      type: \"room\",\r\n      importBack: {\r\n        name: \"上传户型临摹图\",\r\n        icon: \"./assets/img/freeicon/back.png\",\r\n        newFunc: (e) => {\r\n          // console.log(222)\r\n          this.dataService.cache.shortFuncs['openBackImg'](e)\r\n        }\r\n      },\r\n      drawData: [\r\n        {\r\n          title: \"画墙\",\r\n          data: [\r\n            {\r\n              name: \"画中墙\", icon: \"./assets/img/freeicon/free.png\", borderClass: false, func: (e, params) => {\r\n                for (let i = 0; i < this._initData.drawData[0].data.length; i++) {\r\n                  this._initData.drawData[0].data[i].borderClass = false\r\n                }\r\n                this._initData.drawData[0].data[0].borderClass = true;\r\n                this.dataService.cache.shortFuncs['setDrawWall']();\r\n              }\r\n            },\r\n            {\r\n              name: \"画内墙\", icon: \"./assets/img/freeicon/middleWall.png\", borderClass: false, func: (e, params) => {\r\n                for (let i = 0; i < this._initData.drawData[0].data.length; i++) {\r\n                  this._initData.drawData[0].data[i].borderClass = false\r\n                }\r\n                this._initData.drawData[0].data[1].borderClass = true;\r\n                this.dataService.cache.shortFuncs[\"setDrawInWall\"]()\r\n              }\r\n            },\r\n            {\r\n              name: \"画房间\", icon: \"./assets/img/freeicon/area.png\", borderClass: false, func: (e, params) => {\r\n                for (let i = 0; i < this._initData.drawData[0].data.length; i++) {\r\n                  this._initData.drawData[0].data[i].borderClass = false\r\n                }\r\n                this._initData.drawData[0].data[2].borderClass = true;\r\n                this.dataService.cache.shortFuncs[\"setDrawRoom\"]()\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          title: \"门窗\",\r\n          data: [\r\n            {\r\n              name: \"单开门\", icon: \"./assets/img/freeicon/men.png\", func: (e, params) => {\r\n                this._initData.mouseleave = (e) => {\r\n                  this.dataService.cache.shortFuncs['addOneDoor']()\r\n                  this._initData.mouseleave = () => { }\r\n                }\r\n              }\r\n            },\r\n            {\r\n              name: \"双开门\", icon: \"./assets/img/freeicon/doors.png\", func: (e, params) => {\r\n                this._initData.mouseleave = (e) => {\r\n                  this.dataService.cache.shortFuncs['addTwoDoor']()\r\n                  this._initData.mouseleave = () => { }\r\n                }\r\n              }\r\n            },\r\n            {\r\n              name: \"子母门\", icon: \"./assets/img/freeicon/largeSmall.png\", func: (e, params) => {\r\n                this.dataService.cache.shortFuncs['addSonDoor']()\r\n              }\r\n            },\r\n            {\r\n              name: \"移门\", icon: \"./assets/img/freeicon/moveDoor.png\", func: (e, params) => {\r\n                this._initData.mouseleave = (e) => {\r\n                  this.dataService.cache.shortFuncs['addPullDoor']()\r\n                  this._initData.mouseleave = () => { }\r\n                }\r\n              }\r\n            },\r\n            {\r\n              name: \"窗\", icon: \"./assets/img/freeicon/wind.png\", func: (e, params) => {\r\n                this._initData.mouseleave = (e) => {\r\n                  this.dataService.cache.shortFuncs[\"addNormalWin\"]()\r\n                  this._initData.mouseleave = () => { }\r\n                }\r\n              }\r\n            },\r\n            {\r\n              name: \"飘窗\", icon: \"./assets/img/freeicon/piaowindow.png\", func: (e, params) => {\r\n                this._initData.mouseleave = (e) => {\r\n                  this.dataService.cache.shortFuncs[\"addBayWin\"]()\r\n                  this._initData.mouseleave = () => { }\r\n                }\r\n              }\r\n            },\r\n            {\r\n              name: \"L型窗\", icon: \"./assets/img/freeicon/LWindow.png\", func: (e, params) => {\r\n                this._initData.mouseleave = (e) => {\r\n                  this.dataService.cache.shortFuncs['createLWin']()\r\n                  this._initData.mouseleave = () => { }\r\n                }\r\n              }\r\n            },\r\n            {\r\n              name: \"转角飘窗\", icon: \"./assets/img/freeicon/scrollWindow.png\", func: (e, params) => {\r\n                this._initData.mouseleave = (e) => {\r\n                  this.dataService.cache.shortFuncs[\"addCornerWin\"]()\r\n                  this._initData.mouseleave = () => { }\r\n                }\r\n              }\r\n            },\r\n            {\r\n              name: \"U型窗\", icon: \"./assets/img/freeicon/UWindow.png\", func: (e, params) => {\r\n                this._initData.mouseleave = (e) => {\r\n                  this.dataService.cache.shortFuncs['createUWin']()\r\n                  this._initData.mouseleave = () => { }\r\n                }\r\n\r\n              }\r\n            },\r\n            {\r\n              name: \"落地窗\", icon: \"./assets/img/freeicon/underWindow.png\", func: (e, params) => {\r\n                this._initData.mouseleave = (e) => {\r\n                  this.dataService.cache.shortFuncs[\"addFloorWin\"]()\r\n                  this._initData.mouseleave = () => { }\r\n                }\r\n              }\r\n            },\r\n            {\r\n              name: \"转角飘窗(参数化)\", icon: \"./assets/img/freeicon/scrollWindow.png\", func: (e, params) => {\r\n                this._initData.mouseleave = (e) => {\r\n                  let data = this.DUService.obj.clone(this.dataService.cache.baseData.j2d['cornerWin'])\r\n                  let originData = this.DUService.obj.clone(data)\r\n                  let obj = this.calService.paramModel.createNew({\r\n                    j2d: this.DUService.parseJ2D.getobjData(data),\r\n                    originJ2d: this.DUService.parseJ2D.getobjData(originData),\r\n                    absorbData: {\r\n                      objID: undefined,\r\n                      objType: 'point',\r\n                      type: \"pointAnd2Walls\",\r\n                      minDistance: this.dataService.cmd.floorplan.absorb.minDistance * 2, calParams: {\r\n                        \"leftThickness\": \"leftBoxDepth\",\r\n                        'rightThickness': \"rightBoxDepth\",\r\n                        \"radian\": \"radian\"\r\n                      },\r\n                      realPosX: \"{{x}}\",\r\n                      realPosY: \"{{y}}\",\r\n                    },\r\n                    inputData: [\r\n                      { inputName: \"左宽度\", j2dName: \"leftWidth\" },\r\n                      { inputName: \"左厚度\", j2dName: \"leftThickness\" },\r\n                      { inputName: \"右宽度\", j2dName: \"rightWidth\" },\r\n                      { inputName: \"右厚度\", j2dName: \"rightThickness\" },\r\n                      { inputName: \"左框厚度\", j2dName: \"leftBoxThickness\" },\r\n                      { inputName: \"右框厚度\", j2dName: \"rightBoxThickness\" }\r\n                    ]\r\n                  })\r\n                  this.dataService.cache.common.choose = obj\r\n                  this.setNormal()\r\n                  this._initData.mouseleave = () => { }\r\n                }\r\n              }\r\n            },\r\n            {\r\n              name: \"L型窗(参数化)\", icon: \"./assets/img/freeicon/scrollWindow.png\", func: (e, params) => {\r\n                this._initData.mouseleave = (e) => {\r\n                  let data = this.DUService.obj.clone(this.dataService.cache.baseData.j2d['LWin'])\r\n                  let originData = this.DUService.obj.clone(data)\r\n                  let obj = this.calService.paramModel.createNew({\r\n                    j2d: this.DUService.parseJ2D.getobjData(data),\r\n                    originJ2d: this.DUService.parseJ2D.getobjData(originData),\r\n                    absorbData: {\r\n                      objID: undefined,\r\n                      objType: 'point',\r\n                      type: \"pointAnd2Walls\",\r\n                      minDistance: this.dataService.cmd.floorplan.absorb.minDistance * 2, calParams: {\r\n                        \"leftThickness\": \"leftThickness\",\r\n                        'rightThickness': \"rightThickness\",\r\n                        \"radian\": \"radian\"\r\n                      },\r\n                      realPosX: \"{{x}}\",\r\n                      realPosY: \"{{y}}\",\r\n                    },\r\n                    inputData: [\r\n                      { inputName: \"左宽度\", j2dName: \"leftWidth\" },\r\n                      { inputName: \"右宽度\", j2dName: \"rightWidth\" }\r\n                    ]\r\n                  })\r\n                  this.dataService.cache.common.choose = obj\r\n                  this.setNormal()\r\n                  this._initData.mouseleave = () => { }\r\n                }\r\n              }\r\n            },\r\n            {\r\n              name: \"U型窗(参数化)\", icon: \"./assets/img/freeicon/scrollWindow.png\", func: (e, params) => {\r\n                this._initData.mouseleave = (e) => {\r\n                  let data = this.DUService.obj.clone(this.dataService.cache.baseData.j2d['UWin'])\r\n                  let originData = this.DUService.obj.clone(data)\r\n                  let obj = this.calService.paramModel.createNew({\r\n                    j2d: this.DUService.parseJ2D.getobjData(data),\r\n                    originJ2d: this.DUService.parseJ2D.getobjData(originData),\r\n                    absorbData: {\r\n                      objID: undefined,\r\n                      objType: 'wall',\r\n                      type: \"wallAnd2walls\",\r\n                      minDistance: this.dataService.cmd.floorplan.absorb.minDistance * 2, calParams: {\r\n                        \"centerThickness\": \"centerThickness\",\r\n                        'centerWidth': \"centerWidth\",\r\n                        \"leftThickness\": \"leftThickness\",\r\n                        \"leftRadian\": \"leftRadian\",\r\n                        'rightThickness': \"rightThickness\",\r\n                        \"rightRadian\": \"rightRadian\"\r\n\r\n                      },\r\n                      realPosX: \"{{x}}\",\r\n                      realPosY: \"{{y}}\",\r\n                    },\r\n                    inputData: [\r\n                      { inputName: \"左宽度\", j2dName: \"leftWidth\" },\r\n                      { inputName: \"右宽度\", j2dName: \"rightWidth\" }\r\n                    ]\r\n                  })\r\n                  this.dataService.cache.common.choose = obj\r\n                  this.setNormal()\r\n                  this._initData.mouseleave = () => { }\r\n                }\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          title: \"结构部件\",\r\n          data: [\r\n            {\r\n              name: \"柱子\", icon: \"./assets/img/freeicon/zhu.png\", func: (e, params) => {\r\n                this._initData.mouseleave = (e) => {\r\n                  let obj: JBuildInitType = {\r\n                    size: { width: 500, height: 500, height3D: 2800 },\r\n                    floorHeight: 0,\r\n                    url2D: \"./assets/img/test/zhuzi.png\"\r\n                  }\r\n                  this.dataService.cache.shortFuncs[\"addBuild\"](obj)\r\n                  this._initData.mouseleave = () => { }\r\n                }\r\n              }\r\n            },\r\n            {\r\n              name: \"烟道\", icon: \"./assets/img/freeicon/frog.png\", func: (e, params) => {\r\n                this._initData.mouseleave = (e) => {\r\n                  let obj: JBuildInitType = {\r\n                    size: { width: 500, height: 500, height3D: 2800 },\r\n                    floorHeight: 0,\r\n                    url2D: \"./assets/img/test/yandao.jpg\"\r\n                  }\r\n                  this.dataService.cache.shortFuncs[\"addBuild\"](obj)\r\n                  this._initData.mouseleave = () => { }\r\n                }\r\n              }\r\n            },\r\n            {\r\n              name: \"门洞\", icon: \"./assets/img/freeicon/doorDong.png\", func: (e, params) => {\r\n                this.dataService.cache.shortFuncs[\"addNoDoor\"]()\r\n              }\r\n            }\r\n          ]\r\n        }\r\n      ]\r\n    }\r\n    this.popService.clickLeftData.emit(this._initData);\r\n    this.dataService.cache.hotKeys.push({\r\n      keys: [\"r\"],\r\n      downFunc: () => {\r\n        for (let i = 0; i < this._initData.drawData[0].data.length; i++) {\r\n          this._initData.drawData[0].data[i].borderClass = false\r\n        }\r\n        this._initData.drawData[0].data[2].borderClass = true;\r\n        this.dataService.cache.shortFuncs[\"setDrawRoom\"]();\r\n      },\r\n    })\r\n    this.dataService.cache.hotKeys.push({\r\n      keys: [\"l\"],\r\n      downFunc: () => {\r\n        for (let i = 0; i < this._initData.drawData[0].data.length; i++) {\r\n          this._initData.drawData[0].data[i].borderClass = false\r\n        }\r\n        this._initData.drawData[0].data[1].borderClass = true;\r\n        this.dataService.cache.shortFuncs[\"setDrawInWall\"]();\r\n      },\r\n    })\r\n    this.dataService.cache.hotKeys.push({\r\n      keys: [\"Control\", \"l\"],\r\n      downFunc: () => {\r\n        for (let i = 0; i < this._initData.drawData[0].data.length; i++) {\r\n          this._initData.drawData[0].data[i].borderClass = false\r\n        }\r\n        this._initData.drawData[0].data[0].borderClass = true;\r\n        this.dataService.cache.shortFuncs[\"setDrawWall\"]();\r\n      },\r\n    })\r\n  }\r\n\r\n  getData(data) {\r\n    if (data != null) {\r\n      if (data.type == 'room') {\r\n        this._build_data = this._initData;\r\n      }\r\n      else if (data.type == 'matter') {\r\n        this._build_data = data\r\n      }\r\n      else if (data.type == 'mine') {\r\n        this._build_data = {\r\n          type: 'mine'\r\n        }\r\n      }\r\n      this.popService.clickLeftData.emit(this._build_data);\r\n    }\r\n  }\r\n\r\n  setNormal() {\r\n    this.dataService.cache.common.mode = 'normal'\r\n    this.dataService.cache.common.blockON = true\r\n    this.dataService.cache.common.firstPos = null\r\n    this.dataService.cmd.cowall.hide = true\r\n    this.domUpdate()\r\n  }\r\n\r\n  domUpdate() {\r\n    this.domService.allSvg.emit()\r\n    this.popService.inputBoxs.emit([])\r\n    this.popService.buttons.emit(null)\r\n  }\r\n}","import { PopDivService } from \"../../../services/pop-div.service\";\r\nimport { JdesignDataService } from \"../../../services/jdesign-data.service\";\r\nimport { JLWin3D } from \"../../../three/jDesign3D/JLWin3D\";\r\nimport { DomUpdateService } from \"../../../services/dom-update.service\";\r\n\r\nexport class LwindowPanel {\r\n\r\n    constructor(\r\n        private popService: PopDivService,\r\n        private dataService: JdesignDataService,\r\n        private domService: DomUpdateService\r\n    ) {\r\n        popService.panelRight.subscribe((data) => {\r\n            // console.log(data)\r\n            if (data == null) {\r\n                this.popService.panelRightData.emit(null)\r\n            }\r\n            else {\r\n                if (data.type == 'LWin') {\r\n                    // this.popService.panelRightData.emit(null)\r\n                    this.setRoomData(data)\r\n                }\r\n            }\r\n        })\r\n    }\r\n    setRoomData(obj: JLWin3D) {\r\n        let data = [\r\n            {\r\n                type: \"input\",\r\n                data: [\r\n                    {\r\n                        name: \"边a\",\r\n                        isEditable: false,\r\n                        value: obj.j2d.params[\"leftWidth\"].formula,\r\n                        func: (e, params) => {\r\n                            let distance = parseFloat(params.value)\r\n                            obj.j2d.params[\"leftWidth\"].formula = distance\r\n                            this.domService.allSvg.emit()\r\n                            this.dataService.cache.shortFuncs['saveAction']()\r\n                        }\r\n                    },\r\n                    {\r\n                        name: \"边b\",\r\n                        isEditable: false,\r\n                        value: obj.j2d.params[\"rightWidth\"].formula,\r\n                        func: (e, params) => {\r\n                            let distance = parseFloat(params.value)\r\n                            obj.j2d.params[\"rightWidth\"].formula = distance\r\n                            this.domService.allSvg.emit()\r\n                            this.dataService.cache.shortFuncs['saveAction']()\r\n                        }\r\n                    },\r\n                    {\r\n                        name: \"高度\",\r\n                        isEditable: false,\r\n                        value: obj.height3D,\r\n                        func: (e, params) => {\r\n                            obj.height3D = params.value\r\n                            this.dataService.cache.shortFuncs['saveAction']()\r\n                        }\r\n                    },\r\n                    {\r\n                        name: \"离地高度\",\r\n                        isEditable: false,\r\n                        value: obj.floorHeight,\r\n                        func: (e, params) => {\r\n                            obj.floorHeight = params.value\r\n                            this.dataService.cache.shortFuncs['saveAction']()\r\n                        }\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                type: \"img\",\r\n                data: {\r\n                    img: this.dataService.icon.getIco('L窗示意图'),\r\n                    detail: \"在室内往飘窗方向看，从左到右依次为a,b\"\r\n                }\r\n            }\r\n        ]\r\n        this.popService.panelRightData.emit(data)\r\n    }\r\n\r\n    private callBackRoofImgArr(obj: JLWin3D, arr) {\r\n        // let argument = {};\r\n        // let imgArr = []\r\n        // for (let i = 0; i < arr.length; i++) {\r\n        //     if (i == obj.GetMaterialSelectIndex()) {\r\n        //         argument = {\r\n        //             path: arr[i],\r\n        //             details: '',\r\n        //             borderClass: true,\r\n        //             func: (e, params) => {\r\n        //                 obj.SetModelTexture(params.path);\r\n        //                 obj.SetMaterialSelectIndex(i)\r\n        //             }\r\n        //         }\r\n        //     }\r\n        //     else {\r\n        //         argument = {\r\n        //             path: arr[i],\r\n        //             details: '',\r\n        //             func: (e, params) => {\r\n        //                 obj.SetModelTexture(params.path);\r\n        //                 obj.SetMaterialSelectIndex(i)\r\n        //             }\r\n        //         }\r\n        //     }\r\n        //     imgArr.push(argument);\r\n        // }\r\n        // return imgArr;\r\n    }\r\n\r\n\r\n}","import { PopDivService } from \"../../../services/pop-div.service\";\r\nimport { JdesignDataService } from \"../../../services/jdesign-data.service\";\r\nimport { DomUpdateService } from \"../../../services/dom-update.service\";\r\nimport { JUWin } from \"../../../svg/common/jdesign/JUWin\";\r\n\r\nexport class UwindowPanel {\r\n\r\n    constructor(\r\n        private popService: PopDivService,\r\n        private dataService: JdesignDataService,\r\n        private domService: DomUpdateService\r\n    ) {\r\n        popService.panelRight.subscribe((data) => {\r\n            // console.log(data)\r\n            if (data == null) {\r\n                this.popService.panelRightData.emit(null)\r\n            }\r\n            else {\r\n                if (data.type == 'UWin') {\r\n                    // this.popService.panelRightData.emit(null)\r\n                    this.setRoomData(data)\r\n                }\r\n            }\r\n        })\r\n    }\r\n    setRoomData(obj: JUWin) {\r\n        let data = [\r\n            {\r\n                type: \"input\",\r\n                data: [\r\n                    {\r\n                        name: \"边a\",\r\n                        isEditable: false,\r\n                        value: obj.j2d.params[\"leftWidth\"].formula,\r\n                        func: (e, params) => {\r\n                            let distance = parseFloat(params.value)\r\n                            obj.j2d.params[\"leftWidth\"].formula = distance\r\n                            this.domService.allSvg.emit()\r\n                            this.dataService.cache.shortFuncs['saveAction']()\r\n                        }\r\n                    },\r\n                    {\r\n                        name: \"边b\",\r\n                        isEditable: false,\r\n                        value: obj.j2d.params[\"rightWidth\"].formula,\r\n                        func: (e, params) => {\r\n                            let distance = parseFloat(params.value)\r\n                            obj.j2d.params[\"rightWidth\"].formula = distance\r\n                            this.domService.allSvg.emit()\r\n                            this.dataService.cache.shortFuncs['saveAction']()\r\n                        }\r\n                    },\r\n                    {\r\n                        name: \"高度\",\r\n                        isEditable: false,\r\n                        value: obj.height3D,\r\n                        func: (e, params) => {\r\n                            obj.height3D = params.value\r\n                            this.dataService.cache.shortFuncs['saveAction']()\r\n                        }\r\n                    },\r\n                    {\r\n                        name: \"离地高度\",\r\n                        isEditable: false,\r\n                        value: obj.floorHeight,\r\n                        func: (e, params) => {\r\n                            obj.floorHeight = params.value\r\n                            this.dataService.cache.shortFuncs['saveAction']()\r\n                        }\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                type: \"img\",\r\n                data: {\r\n                    img: this.dataService.icon.getIco('U型窗示意图'),\r\n                    detail: \"在室内往飘窗方向看，从左到右依次为a,b\"\r\n                }\r\n            }\r\n        ]\r\n        this.popService.panelRightData.emit(data)\r\n    }\r\n\r\n    private callBackRoofImgArr(obj: JUWin, arr) {\r\n        // let argument = {};\r\n        // let imgArr = []\r\n        // for (let i = 0; i < arr.length; i++) {\r\n        //     if (i == obj.GetMaterialSelectIndex()) {\r\n        //         argument = {\r\n        //             path: arr[i],\r\n        //             details: '',\r\n        //             borderClass: true,\r\n        //             func: (e, params) => {\r\n        //                 obj.SetModelTexture(params.path);\r\n        //                 obj.SetMaterialSelectIndex(i)\r\n        //             }\r\n        //         }\r\n        //     }\r\n        //     else {\r\n        //         argument = {\r\n        //             path: arr[i],\r\n        //             details: '',\r\n        //             func: (e, params) => {\r\n        //                 obj.SetModelTexture(params.path);\r\n        //                 obj.SetMaterialSelectIndex(i)\r\n        //             }\r\n        //         }\r\n        //     }\r\n        //     imgArr.push(argument);\r\n        // }\r\n        // return imgArr;\r\n    }\r\n\r\n\r\n}","import { PopDivService } from \"../../../services/pop-div.service\";\r\nimport { JdesignDataService } from \"../../../services/jdesign-data.service\";\r\nimport { DomUpdateService } from \"../../../services/dom-update.service\";\r\nimport { JCornerWin3D } from \"../../../three/jDesign3D/JCornerWin3D\";\r\n\r\nexport class CornerWindowPanel {\r\n    constructor(\r\n        private popService: PopDivService,\r\n        private dataService: JdesignDataService,\r\n        private domService: DomUpdateService\r\n    ) {\r\n        popService.panelRight.subscribe((data) => {\r\n            if (data == null) {\r\n                this.popService.panelRightData.emit(null)\r\n            }\r\n            else {\r\n                if (data.type == 'cornerWin') {\r\n                    this.setCornerWindowData(data)\r\n                }\r\n            }\r\n        })\r\n    }\r\n    // z转角飘窗\r\n    setCornerWindowData(obj: JCornerWin3D) {\r\n        console.log(obj.floorHeight)\r\n        // console.log(this.dataService.json.marblePics)\r\n        let data = [\r\n            {\r\n                type: \"input\",\r\n                data: [\r\n                    {\r\n                        name: \"边a\",\r\n                        isEditable: false,\r\n                        value: obj.LWidth,\r\n                        func: (e, params) => {\r\n                            obj.LWidth = parseInt(params.value)\r\n                            obj.act3D.end()\r\n                            this.dataService.cache.cornerWin.moveEnd(obj)\r\n                            this.dataService.cache.common.choose = obj\r\n                            this.dataService.cache.shortFuncs['saveAction']()\r\n                        }\r\n                    },\r\n                    {\r\n                        name: \"边b\",\r\n                        isEditable: false,\r\n                        value: obj.LDepth,\r\n                        func: (e, params) => {\r\n                            obj.LDepth = parseInt(params.value)\r\n                            obj.act3D.end()\r\n                            this.dataService.cache.cornerWin.moveEnd(obj)\r\n                            this.dataService.cache.common.choose = obj\r\n                            this.dataService.cache.shortFuncs['saveAction']()\r\n                        }\r\n                    },\r\n                    {\r\n                        name: \"高度\",\r\n                        isEditable: false,\r\n                        value: obj.height3D,\r\n                        func: (e, params) => {\r\n                            obj.height3D = parseInt(params.value)\r\n                            obj.act3D.end()\r\n                            this.dataService.cache.cornerWin.moveEnd(obj)\r\n                            this.dataService.cache.common.choose = obj\r\n                            this.dataService.cache.shortFuncs['saveAction']()\r\n                        }\r\n                    },\r\n                    {\r\n                        name: \"边c\",\r\n                        isEditable: false,\r\n                        value: obj.DDepth,\r\n                        func: (e, params) => {\r\n                            obj.DDepth = parseInt(params.value)\r\n                            obj.act3D.end()\r\n                            this.dataService.cache.cornerWin.moveEnd(obj)\r\n                            this.dataService.cache.common.choose = obj\r\n                            this.dataService.cache.shortFuncs['saveAction']()\r\n                        }\r\n                    },\r\n                    {\r\n                        name: \"边d\",\r\n                        isEditable: false,\r\n                        value: obj.DWidth,\r\n                        func: (e, params) => {\r\n                            obj.DWidth = parseInt(params.value)\r\n                            obj.act3D.end()\r\n                            this.dataService.cache.cornerWin.moveEnd(obj)\r\n                            this.dataService.cache.common.choose = obj\r\n                            this.dataService.cache.shortFuncs['saveAction']()\r\n                        }\r\n                    },\r\n                    {\r\n                        name: \"离地高度\",\r\n                        isEditable: false,\r\n                        value: obj.floorHeight,\r\n                        func: (e, params) => {\r\n                            obj.floorHeight = parseInt(params.value);\r\n                            obj.act3D.end()\r\n                            this.dataService.cache.cornerWin.moveEnd(obj)\r\n                            this.dataService.cache.common.choose = obj\r\n                            this.dataService.cache.shortFuncs['saveAction']()\r\n                        }\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                type: \"img\",\r\n                data: {\r\n                    img: this.dataService.icon.getIco('转角飘窗示意图'),\r\n                    detail: \"在室内往飘窗方向看，从左到右依次为a,b,c,d\"\r\n                }\r\n            },\r\n            {\r\n                type: \"slider\",\r\n                data: [\r\n                    {\r\n                        name: \"飘窗材质\",\r\n                        img: this.callBackCornerWinImgArr(obj, this.dataService.json.marblePics)\r\n                    }\r\n                ]\r\n            }\r\n        ]\r\n        this.popService.panelRightData.emit(data)\r\n    }\r\n\r\n    private callBackCornerWinImgArr(obj: JCornerWin3D, arr) {\r\n        let argument = {};\r\n        let imgArr = []\r\n        for (let i = 0; i < arr.length; i++) {\r\n            if (i == obj.getBaywindowStillMatIndex()) {\r\n                argument = {\r\n                    path: arr[i],\r\n                    details: '',\r\n                    borderClass: true,\r\n                    func: (e, params) => {\r\n                        obj.SetBaywindowStillTexture(params.path);\r\n                        obj.SetBaywindowStillMatIndex(i)\r\n                        this.dataService.cache.shortFuncs['saveAction']()\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                argument = {\r\n                    path: arr[i],\r\n                    details: '',\r\n                    func: (e, params) => {\r\n                        obj.SetBaywindowStillTexture(params.path);\r\n                        obj.SetBaywindowStillMatIndex(i)\r\n                        this.dataService.cache.shortFuncs['saveAction']()\r\n                    }\r\n                }\r\n            }\r\n            imgArr.push(argument);\r\n        }\r\n        return imgArr;\r\n    }\r\n\r\n}","import { PopDivService } from \"../../../services/pop-div.service\";\r\nimport { JdesignDataService } from \"../../../services/jdesign-data.service\";\r\nimport { JRoof3D } from \"../../../three/jDesign3D/JRoof3D\";\r\nimport { JDoor3D } from \"../../../three/jDesign3D/JDoor3D\";\r\nimport { DomUpdateService } from \"../../../services/dom-update.service\";\r\n\r\nexport class DoorPanel {\r\n\r\n    constructor(\r\n        private popService: PopDivService,\r\n        private dataService: JdesignDataService,\r\n        private domService: DomUpdateService\r\n    ) {\r\n        popService.panelRight.subscribe((data) => {\r\n            // console.log(data)\r\n            if (data == null) {\r\n                this.popService.panelRightData.emit(null)\r\n            }\r\n            else {\r\n                if (data.type == 'door') {\r\n                    this.setDoorData(data)\r\n                }\r\n            }\r\n        })\r\n    }\r\n    setDoorData(obj: JDoor3D) {\r\n        let data = [\r\n            {\r\n                type: \"input\",\r\n                data: [\r\n                    {\r\n                        name: \"宽度\",\r\n                        isEditable: false,\r\n                        value: obj.size.width,\r\n                        func: (e, params) => {\r\n                            obj.size.width = parseInt(params.value)\r\n                            this.dataService.cache.doorWin.move(obj, obj.pos)\r\n                            this.popService.inputBoxs.emit(null)\r\n                            this.dataService.cache.doorWin.displayLabel = false\r\n                            this.domService.allSvg.emit()\r\n                            this.dataService.cache.shortFuncs['saveAction']()\r\n                        }\r\n                    },\r\n                    {\r\n                        name: \"高度\",\r\n                        isEditable: false,\r\n                        value: obj.size.height3D,\r\n                        func: (e, params) => {\r\n                            obj.size.height3D = parseInt(params.value)\r\n                            this.dataService.cache.doorWin.move(obj, obj.pos)\r\n                            this.popService.inputBoxs.emit(null)\r\n                            this.dataService.cache.doorWin.displayLabel = false\r\n                            this.domService.allSvg.emit()\r\n                            this.dataService.cache.shortFuncs['saveAction']()\r\n                        }\r\n                    },\r\n                    {\r\n                        name: \"离地高度\",\r\n                        isEditable: false,\r\n                        value: obj.floorHeight,\r\n                        func: (e, params) => {\r\n                            obj.floorHeight = parseInt(params.value)\r\n                            this.dataService.cache.doorWin.move(obj, obj.pos)\r\n                            this.popService.inputBoxs.emit(null)\r\n                            this.dataService.cache.doorWin.displayLabel = false\r\n                            this.domService.allSvg.emit()\r\n                            console.log(obj.floorHeight)\r\n                            this.dataService.cache.shortFuncs['saveAction']()\r\n                            // this.dataService.cache.shortFuncs['saveAction']()\r\n                        }\r\n                    }\r\n                ]\r\n            }\r\n        ]\r\n        this.popService.panelRightData.emit(data)\r\n    }\r\n\r\n    private callBackRoofImgArr(obj: JRoof3D, arr) {\r\n        let argument = {};\r\n        let imgArr = []\r\n        for (let i = 0; i < arr.length; i++) {\r\n            if (i == obj.GetMaterialSelectIndex()) {\r\n                argument = {\r\n                    path: arr[i],\r\n                    details: '',\r\n                    borderClass: true,\r\n                    func: (e, params) => {\r\n                        obj.SetModelTexture(params.path);\r\n                        obj.SetMaterialSelectIndex(i)\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                argument = {\r\n                    path: arr[i],\r\n                    details: '',\r\n                    func: (e, params) => {\r\n                        obj.SetModelTexture(params.path);\r\n                        obj.SetMaterialSelectIndex(i)\r\n                    }\r\n                }\r\n            }\r\n            imgArr.push(argument);\r\n        }\r\n        return imgArr;\r\n    }\r\n\r\n\r\n}","import { PopDivService } from \"../../../services/pop-div.service\";\r\nimport { JdesignDataService } from \"../../../services/jdesign-data.service\";\r\nimport { JFloor3D } from \"../../../three/jDesign3D/JFloor3D\";\r\nimport { DomUpdateService } from \"../../../services/dom-update.service\";\r\n\r\nexport class FloorPanel {\r\n\r\n    private _floorRecorder: { roomtype: number }[] = [];\r\n    floorImg:any = null;\r\n\r\n    constructor(\r\n        private popService: PopDivService,\r\n        private dataService: JdesignDataService,\r\n        private domService: DomUpdateService\r\n    ) {\r\n        popService.panelRight.subscribe((data) => {\r\n            if (data == null) {\r\n                this.popService.panelRightData.emit(null)\r\n            }\r\n            else {\r\n                if (data.type == 'floor') {\r\n                    this.setFloorData(data)\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    checkFloorRecorder(id: string) {\r\n        if (this._floorRecorder[id] == undefined)\r\n            this._floorRecorder[id] = { roomtype: 0 }\r\n    }\r\n\r\n    setFloorData(obj: JFloor3D) {\r\n        let roomTypeArr = [];\r\n        let room = obj.getRoom()\r\n        // 地板贴图\r\n        let floorImg =  this.callBackFloorImgArr(obj, this.dataService.json.floorPics)\r\n        this.checkFloorRecorder(obj.id)\r\n        for (let i = 0; i < this.dataService.json.roomType.length; i++) {\r\n            let roomtype = {\r\n                name: this.dataService.json.roomType[i].name,\r\n                floor:this.dataService.json.roomType[i].floorNum,\r\n                func: (e, params, slider) => {\r\n                    slider.currentData = this._floorRecorder[obj.id].roomtype = i\r\n                    slider.isHaveInput.value = params.name;\r\n                    obj.SetModelTexture(this.dataService.json.floorPics[this.dataService.json.roomType[i].floorNum]);\r\n                    obj.SetMaterialSelectIndex(this.dataService.json.roomType[i].floorNum);\r\n                    // 更新当前显示图片数据\r\n                    data[2].data[0].FloorImg = this.dataService.json.floorPics[this.dataService.json.roomType[i].floorNum];\r\n                    floorImg =  this.callBackFloorImgArr(obj, this.dataService.json.floorPics);\r\n                    // 更改图片索引后  重新\r\n                    data[2].data[0].img = floorImg\r\n                    this.dataService.cache.shortFuncs['setRoomType'](room, params.name);\r\n                    \r\n                }\r\n            }\r\n            roomTypeArr.push(roomtype)\r\n        }\r\n        let data = [\r\n            {\r\n                type: \"select\",\r\n                data: {\r\n                    name: \"房间类型\",\r\n                    isShow: false,\r\n                    isHaveInput: {\r\n                        value: room.roomName,\r\n                        func: (e, params) => {\r\n                            // e.stopPropagation();\r\n                            this.dataService.cache.shortFuncs['setRoomType'](room, params.value)\r\n                            this.dataService.cache.shortFuncs['saveAction']()\r\n                            this.dataService.cache.common.choose=obj\r\n                            \r\n                        }\r\n                    },\r\n                    currentData: this._floorRecorder[obj.id].roomtype,\r\n                    chance: roomTypeArr\r\n                }\r\n            },\r\n            {\r\n                type: \"inline\",\r\n                data: {\r\n                    name: \"面积\",\r\n                    isEditable: true,\r\n                    value: room.areaCache.toFixed(2) + 'm²'\r\n                }\r\n\r\n            },\r\n            {\r\n                type: \"slider\",\r\n                data: [\r\n                    {\r\n                        name: \"地板贴图\",\r\n                        img:floorImg,\r\n                        FloorImg:this.dataService.json.floorPics[obj.GetMaterialSelectIndex()]\r\n                    },\r\n                ]\r\n            },\r\n        ]\r\n\r\n        this.popService.panelRightData.emit(data)\r\n    }\r\n\r\n    private callBackFloorImgArr(obj: JFloor3D, arr) {\r\n        let argument = {};\r\n        let imgArr = []\r\n        for (let i = 0; i < arr.length; i++) {\r\n            if (i == obj.GetMaterialSelectIndex()) {\r\n                argument = {\r\n                    path: arr[i],\r\n                    details: '',\r\n                    borderClass: true,\r\n                    func: (e, params,list) => {\r\n                        obj.SetModelTexture(params.path);\r\n                        obj.SetMaterialSelectIndex(i);\r\n                        // for(let i=0;i<list.img.length;i++){\r\n                        //     list.img[i].borderClass = false;\r\n                        // }\r\n                        // params.borderClass = true;\r\n                        // list.FloorImg = params.path;\r\n                        this.dataService.cache.shortFuncs['saveAction']()\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                argument = {\r\n                    path: arr[i],\r\n                    details: '',\r\n                    func: (e, params,list) => {\r\n                        obj.SetModelTexture(params.path);\r\n                        obj.SetMaterialSelectIndex(i);\r\n                        // for(let i=0;i<list.img.length;i++){\r\n                        //     list.img[i].borderClass = false;\r\n                        // }\r\n                        // params.borderClass = true;\r\n                        // list.FloorImg = params.path;\r\n                        this.dataService.cache.shortFuncs['saveAction']()\r\n                    }\r\n                }\r\n            }\r\n            imgArr.push(argument);\r\n        }\r\n        return imgArr;\r\n    }\r\n}","import { PopDivService } from \"../../../services/pop-div.service\";\r\nimport { JdesignDataService } from \"../../../services/jdesign-data.service\";\r\nimport { JBuild3D } from \"../../../three/jDesign3D/JBuild3D\";\r\n\r\nexport class FrogPanel{\r\n\r\n    constructor(\r\n        private popService:PopDivService,\r\n        private dataService:JdesignDataService\r\n    ){\r\n        popService.panelRight.subscribe((data) => {\r\n            // console.log(data)\r\n            if (data == null) {\r\n                this.popService.panelRightData.emit(null)\r\n            }\r\n            else{\r\n                if (data.type == 'build'){\r\n                    this.setFrogData(data)\r\n                }\r\n            }\r\n        })\r\n    }\r\n    setFrogData(obj:JBuild3D){\r\n        let data = [\r\n            {\r\n                type:\"check\",\r\n                data:[\r\n                    {\r\n                        isCheck: false,\r\n                        name: \"地脚线\",\r\n                        func: (params: boolean) => {\r\n                            obj.MakeKickLine(this.dataService.json.footLine[0].vertexData)\r\n                            this.dataService.cache.shortFuncs['saveAction']()\r\n                        },\r\n                    }\r\n                ]\r\n            }\r\n        ]\r\n        this.popService.panelRightData.emit(data)\r\n    }\r\n\r\n\r\n}","import { PopDivService } from \"../../../services/pop-div.service\";\r\nimport { JdesignDataService } from \"../../../services/jdesign-data.service\";\r\nimport { DomUpdateService } from \"../../../services/dom-update.service\";\r\nimport { JParamsModel3D } from \"../../../three/jDesign3D/JParamsModel3D\";\r\n\r\nexport class ParamsModelPanel {\r\n    constructor(\r\n        private popService: PopDivService,\r\n        private dataService: JdesignDataService,\r\n        private domService: DomUpdateService\r\n    ) {\r\n        popService.panelRight.subscribe((data) => {\r\n            // console.log(data)\r\n            if (data == null) {\r\n                this.popService.panelRightData.emit(null)\r\n            }\r\n            else {\r\n                if (data.type == 'paramsModel') {\r\n                    // this.popService.panelRightData.emit(null)\r\n                    this.setData(data)\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    setData(obj: JParamsModel3D) {\r\n        let inputs = []\r\n        if (obj.inputData) {\r\n            for (let i = 0; i < obj.inputData.length; i++) {\r\n                let input = {\r\n                    name: obj.inputData[i].inputName,\r\n                    isEditable: false,\r\n                    value: obj.j2d.params[obj.inputData[i].j2dName].formula,\r\n                    func: (e, params) => {\r\n                        let distance = parseFloat(params.value)\r\n                        obj.j2d.params[obj.inputData[i].j2dName].formula = distance\r\n                        this.domService.allSvg.emit()\r\n                        this.dataService.cache.shortFuncs['saveAction']()\r\n                    }\r\n                }\r\n                inputs.push(input)\r\n            }\r\n        }\r\n        let data = [\r\n            {\r\n                type: \"input\",\r\n                data: [...inputs]\r\n            }\r\n        ]\r\n        this.popService.panelRightData.emit(data)\r\n    }\r\n}","import { PopDivService } from \"../../../services/pop-div.service\";\r\nimport { JdesignDataService } from \"../../../services/jdesign-data.service\";\r\nimport { JRoof3D } from \"../../../three/jDesign3D/JRoof3D\";\r\n\r\nexport class PlatFondPanel{\r\n\r\n    constructor(\r\n        private popService:PopDivService,\r\n        private dataService:JdesignDataService\r\n    ){\r\n        popService.panelRight.subscribe((data) => {\r\n            // console.log(data)\r\n            if (data == null) {\r\n                this.popService.panelRightData.emit(null)\r\n            }\r\n            else{\r\n                if (data.type == 'roof'){\r\n                    this.setRoomData(data)\r\n                }\r\n            }\r\n        })\r\n    }\r\n    //天花板\r\n    setRoomData(obj:JRoof3D){\r\n        let data = [\r\n            {\r\n                type: \"slider\",\r\n                data: [\r\n                    {\r\n                        name: \"天花板贴图\",\r\n                        img: this.callBackRoofImgArr(obj, this.dataService.json.roofPics)\r\n                    },\r\n                ]\r\n            },\r\n        ]\r\n        this.popService.panelRightData.emit(data)\r\n    }\r\n\r\n    private callBackRoofImgArr(obj: JRoof3D, arr) {\r\n        let argument = {};\r\n        let imgArr = []\r\n        for (let i = 0; i < arr.length; i++) {\r\n            if (i == obj.GetMaterialSelectIndex()) {\r\n                argument = {\r\n                    path: arr[i],\r\n                    details: '',\r\n                    borderClass: true,\r\n                    func: (e, params) => {\r\n                        obj.SetModelTexture(params.path);\r\n                        obj.SetMaterialSelectIndex(i)\r\n                        this.dataService.cache.shortFuncs['saveAction']()\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                argument = {\r\n                    path: arr[i],\r\n                    details: '',\r\n                    func: (e, params) => {\r\n                        obj.SetModelTexture(params.path);\r\n                        obj.SetMaterialSelectIndex(i)\r\n                        this.dataService.cache.shortFuncs['saveAction']()\r\n                    }\r\n                }\r\n            }\r\n            imgArr.push(argument);\r\n        }\r\n        return imgArr;\r\n    }\r\n\r\n\r\n}","import { PopDivService } from \"../../../services/pop-div.service\";\r\nimport { JCowall3D } from \"../../../three/jDesign3D/JCowall3D\";\r\nimport { JWall3D } from \"../../../three/jDesign3D/JWall3D\";\r\nimport { JdesignDataService } from \"../../../services/jdesign-data.service\";\r\nimport { DomUpdateService } from \"../../../services/dom-update.service\";\r\n\r\nexport class WallPanel {\r\n    public wallArr = [];\r\n    constructor(\r\n        private popService: PopDivService,\r\n        private dataService: JdesignDataService,\r\n        private domService: DomUpdateService\r\n    ) {\r\n        popService.panelRight.subscribe((data) => {\r\n            // console.log(data.id)\r\n            if (data == null) {\r\n                this.popService.panelRightData.emit(null)\r\n            }\r\n            else {\r\n                if (data.type == 'wall') {\r\n                    // console.log(data)\r\n                    this.setWallData(data)\r\n                }\r\n                else if (data.type == 'cowall') {\r\n                    console.log(data.GetKickLineProfileMatIndex)\r\n                    this.setCoWallData(data);\r\n                }\r\n            }\r\n\r\n        })\r\n    }\r\n    // 2d墙\r\n    setWallData(obj) {\r\n        let thickness = obj.thickness;\r\n        let data = [\r\n            {\r\n                type: \"input\",\r\n                data: [\r\n                    {\r\n                        name: \"长度\",\r\n                        isEditable: true,\r\n                        value: obj.getInLineDistance()\r\n                    },\r\n                    {\r\n                        name: \"厚度\",\r\n                        isEditable: false,\r\n                        value: thickness,\r\n                        func: (e, params) => {\r\n                            this.dataService.cache.shortFuncs['fixWallThickness'](obj, parseInt(params.value))\r\n                            // console.log(params.value)\r\n                        }\r\n                    },\r\n                    {\r\n                        name: \"高度\",\r\n                        isEditable: true,\r\n                        value: obj.wallHeight\r\n                    },\r\n                ]\r\n            },\r\n            {\r\n                type: \"select\",\r\n                data: {\r\n                    name: \"墙体类型\",\r\n                    isShow: false,\r\n                    currentData: obj.wallType,\r\n                    chance: [\r\n                        {\r\n                            icon: \"./assets/img/freeicon/通用.svg\",\r\n                            name: \"通用墙\",\r\n                            func: (e, params, slider) => {\r\n                                slider.currentData = 0\r\n                                this.dataService.cache.shortFuncs['setWallType'](obj, 0)\r\n                                this.dataService.cache.shortFuncs['saveAction']()\r\n                            }\r\n                        },\r\n                        {\r\n                            icon: \"./assets/img/freeicon/承重.svg\",\r\n                            name: \"承重墙\",\r\n                            func: (e, params, slider) => {\r\n                                slider.currentData = 1\r\n                                this.dataService.cache.shortFuncs['setWallType'](obj, 1)\r\n                                this.dataService.cache.shortFuncs['saveAction']()\r\n                            }\r\n                        },\r\n                        {\r\n                            icon: \"./assets/img/freeicon/轻钢.svg\",\r\n                            name: \"轻钢龙骨石膏板墙\",\r\n                            func: (e, params, slider) => {\r\n                                slider.currentData = 2\r\n                                this.dataService.cache.shortFuncs['setWallType'](obj, 2)\r\n                                this.dataService.cache.shortFuncs['saveAction']()\r\n                            }\r\n                        },\r\n                        {\r\n                            icon: \"./assets/img/freeicon/轻质墙.svg\",\r\n                            name: \"轻质砖墙\",\r\n                            func: (e, params, slider) => {\r\n                                slider.currentData = 3\r\n                                this.dataService.cache.shortFuncs['setWallType'](obj, 3)\r\n                                this.dataService.cache.shortFuncs['saveAction']()\r\n                            }\r\n                        },\r\n                        {\r\n                            icon: \"./assets/img/freeicon/钢筋.svg\",\r\n                            name: \"钢筋混凝土墙\",\r\n                            func: (e, params, slider) => {\r\n                                slider.currentData = 4\r\n                                this.dataService.cache.shortFuncs['setWallType'](obj, 4)\r\n                                this.dataService.cache.shortFuncs['saveAction']()\r\n                            }\r\n                        }\r\n                    ]\r\n                }\r\n            }\r\n        ]\r\n        this.popService.panelRightData.emit(data);\r\n    }\r\n    setCoWallData(obj: JCowall3D) {\r\n        let wall = <JWall3D>obj.getWall()\r\n        let thickness = wall.thickness;\r\n        let data = [\r\n            {\r\n                type: \"input\",\r\n                data: [\r\n                    {\r\n                        name: \"长度\",\r\n                        isEditable: true,\r\n                        value: obj.getInLineDistance()\r\n                    },\r\n                    {\r\n                        name: \"厚度\",\r\n                        isEditable: false,\r\n                        value: thickness,\r\n                        func: (e, params) => {\r\n                            this.dataService.cache.shortFuncs['fixWallThickness'](wall, parseInt(params.value))\r\n                            this.dataService.cache.shortFuncs['saveAction']()\r\n                            // console.log(params.value)\r\n                        }\r\n                    },\r\n                    {\r\n                        name: \"高度\",\r\n                        isEditable: true,\r\n                        value: wall.wallHeight\r\n                    },\r\n                ]\r\n            },\r\n            {\r\n                type: \"slider\",\r\n                data: [\r\n                    {\r\n                        name: \"材质贴图\",\r\n                        img: this.CallBackImgArr(obj, this.dataService.json.wallPaper, 'wall'),\r\n                        FloorImg: this.dataService.json.wallPaper[obj.GetMaterialSelectIndex()]\r\n                    },\r\n                ]\r\n            },\r\n            {\r\n                type: \"check\",\r\n                data: [\r\n                    {\r\n                        isCheck: obj.CurrentSelectHasKickLine(),\r\n                        name: \"地脚线\",\r\n                        func: (params: boolean) => {\r\n                            if (!obj.CurrentSelectHasKickLine()) {\r\n                                obj.MakeKickLine(this.dataService.json.footLine[0].vertexData)\r\n\r\n                            }\r\n                            else {\r\n                                obj.DestroyKickLine()\r\n                            }\r\n                            this.dataService.cache.shortFuncs['saveAction']()\r\n                        },\r\n                        haveSlider: [\r\n                            {\r\n                                name: \"材质图\",\r\n                                img: this.CallBackImgArr(obj, this.dataService.json.footLinePics, 'foot'),\r\n                                FloorImg: this.dataService.json.footLinePics[obj.GetKickLineProfileMatIndex()]\r\n                            },\r\n                            {\r\n                                name: \"轮廓图\",\r\n                                img: this.callBackMatImgArr(obj, this.dataService.json.footLine, 'foot'),\r\n                                FloorImg: this.dataService.json.footLine[obj.GetKickLineProfileMatIndex()]\r\n                            }\r\n                        ]\r\n                    },\r\n                    {\r\n                        isCheck: obj.CurrentSelectHasPlasterCornice(),\r\n                        name: \"石膏线\",\r\n                        func: (params: boolean) => {\r\n                            if (!obj.CurrentSelectHasPlasterCornice()) {\r\n                                obj.MakePlasterCornice(this.dataService.json.plasterCornice[0].vertexData)\r\n                            }\r\n                            else {\r\n                                obj.DestroyPlasterCornice()\r\n                            }\r\n                            this.dataService.cache.shortFuncs['saveAction']()\r\n                        },\r\n                        haveSlider: [\r\n                            {\r\n                                name: \"材质图\",\r\n                                img: this.CallBackImgArr(obj, this.dataService.json.plasterLinePics, 'top'),\r\n                                FloorImg: this.dataService.json.plasterLinePics[obj.GetPlasterCorniceProfileMatIndex()]\r\n                            },\r\n                            {\r\n                                name: \"轮廓图\",\r\n                                img: this.callBackMatImgArr(obj, this.dataService.json.plasterCornice, 'top'),\r\n                                FloorImg: this.dataService.json.plasterLinePics[obj.GetPlasterCorniceProfileMatIndex()]\r\n                            }\r\n                        ]\r\n                    },\r\n                ]\r\n            }\r\n        ]\r\n        this.popService.panelRightData.emit(data);\r\n    }\r\n\r\n    // 设置材质贴图\r\n    private CallBackImgArr(obj: JCowall3D, arr, type: string) {\r\n        let argument = {};\r\n        let imgArr = []\r\n        let imgIndex;\r\n        let imgFunc\r\n        if (type == 'wall') {\r\n            // 获取墙的被选择的贴图index\r\n            imgIndex = obj.GetMaterialSelectIndex();\r\n            imgFunc = (i, params) => {\r\n                // 给墙设置贴图\r\n                obj.SetModelTexture(params.path);\r\n                // 给墙的贴图设置index\r\n                obj.SetMaterialSelectIndex(i);\r\n            }\r\n        }\r\n        else if (type == 'foot') {\r\n            // 获取墙的被选择的贴图index\r\n            imgIndex = obj.GetKickLineProfileMatIndex();\r\n            imgFunc = (i, params) => {\r\n                obj.SetCurrentSelectKickLineMat(params.path);\r\n                obj.SetKickLineProfileMatIndex(i)\r\n            }\r\n        }\r\n        else if (type == 'top') {\r\n            imgIndex = obj.GetPlasterCorniceProfileMatIndex();\r\n            imgFunc = (i, params) => {\r\n                obj.SetCurrentPlasterCorniceMat(params.path);\r\n                obj.SetPlasterCorniceProfileMatIndex(i)\r\n            }\r\n        }\r\n        for (let i = 0; i < arr.length; i++) {\r\n            if (i == imgIndex) {\r\n                argument = {\r\n                    path: arr[i],\r\n                    details: '',\r\n                    borderClass: true,\r\n                    func: (e, params) => {\r\n                        imgFunc(i, params)\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                argument = {\r\n                    path: arr[i],\r\n                    details: '',\r\n                    func: (e, params) => {\r\n                        imgFunc(i, params)\r\n                    }\r\n                }\r\n            }\r\n            imgArr.push(argument);\r\n        }\r\n        return imgArr;\r\n    }\r\n\r\n    // 设置轮廓图\r\n    private callBackMatImgArr(obj: JCowall3D, arr, type: string) {\r\n        let footImg = []\r\n        let newData = {}\r\n        let footIndex\r\n        let footFunc\r\n        if (type == 'foot') {\r\n            footIndex = obj.GetKickLineProfileIndex()\r\n            footFunc = (arr, i) => {\r\n                obj.DestroyKickLine();\r\n                obj.MakeKickLine(arr[i].vertexData);\r\n                obj.SetKickLineProfileIndex(i)\r\n            }\r\n        }\r\n        else if (type == 'top') {\r\n            footIndex = obj.GetPlasterCorniceProfileIndex();\r\n            footFunc = (arr, i) => {\r\n                obj.DestroyPlasterCornice()\r\n                obj.MakePlasterCornice(arr[i].vertexData);\r\n                obj.SetPlasterCorniceProfileIndex(i)\r\n            }\r\n        }\r\n        for (let i = 0; i < arr.length; i++) {\r\n            if (i == footIndex) {\r\n                newData = {\r\n                    path: arr[i].imgUrl,\r\n                    borderClass: true,\r\n                    func: (e) => {\r\n                        footFunc(arr, i)\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                newData = {\r\n                    path: arr[i].imgUrl,\r\n                    func: (e) => {\r\n                        footFunc(arr, i)\r\n                    }\r\n                }\r\n            }\r\n            footImg.push(newData)\r\n        }\r\n        return footImg;\r\n    }\r\n}","import { PopDivService } from \"../../../services/pop-div.service\";\r\nimport { JdesignDataService } from \"../../../services/jdesign-data.service\";\r\nimport { JWin3D } from \"../../../three/jDesign3D/JWin3D\";\r\nimport { DomUpdateService } from \"../../../services/dom-update.service\";\r\n\r\nexport class WindowPanel {\r\n\r\n    constructor(\r\n        private popService: PopDivService,\r\n        private dataService: JdesignDataService,\r\n        private domService: DomUpdateService\r\n    ) {\r\n        popService.panelRight.subscribe((data) => {\r\n            // console.log(data)\r\n            // console.log(data)\r\n            if (data == null) {\r\n                this.popService.panelRightData.emit(null)\r\n            }\r\n            else {\r\n                if (data.type == 'win' && data.plankType == 'normal') {\r\n                    this.setWindowData(data)\r\n                }\r\n            }\r\n        })\r\n    }\r\n    setWindowData(obj: JWin3D) {\r\n        let data = [\r\n            {\r\n                type: \"input\",\r\n                data: [\r\n                    {\r\n                        name: \"宽度\",\r\n                        isEditable: false,\r\n                        value: obj.size.width,\r\n                        func: (e, params) => {\r\n                            obj.size.width = parseInt(params.value)\r\n                            this.dataService.cache.doorWin.move(obj, obj.pos)\r\n                            this.popService.inputBoxs.emit(null)\r\n                            this.dataService.cache.doorWin.displayLabel = false\r\n                            this.domService.allSvg.emit()\r\n                            this.dataService.cache.shortFuncs['saveAction']()\r\n                        }\r\n                    },\r\n                    {\r\n                        name: \"高度\",\r\n                        isEditable: false,\r\n                        value: obj.size.height3D,\r\n                        func: (e, params) => {\r\n                            obj.size.height3D = parseInt(params.value)\r\n                            this.dataService.cache.doorWin.move(obj, obj.pos)\r\n                            this.popService.inputBoxs.emit(null)\r\n                            this.dataService.cache.doorWin.displayLabel = false\r\n                            this.domService.allSvg.emit()\r\n                            console.log(obj.size.height3D)\r\n                            this.dataService.cache.shortFuncs['saveAction']()\r\n                        }\r\n                    },\r\n                    {\r\n                        name: \"离地高度\",\r\n                        isEditable: false,\r\n                        value: obj.floorHeight,\r\n                        func: (e, params) => {\r\n                            obj.floorHeight = parseInt(params.value)\r\n                            this.dataService.cache.doorWin.move(obj, obj.pos)\r\n                            this.popService.inputBoxs.emit(null)\r\n                            this.dataService.cache.doorWin.displayLabel = false\r\n                            this.domService.allSvg.emit()\r\n                            this.dataService.cache.shortFuncs['saveAction']()\r\n                        }\r\n                    }\r\n                ]\r\n            }\r\n        ]\r\n        this.popService.panelRightData.emit(data)\r\n    }\r\n\r\n    // private callBackRoofImgArr(obj: JWin3D, arr) {\r\n    //     let argument = {};\r\n    //     let imgArr = []\r\n    //     for (let i = 0; i < arr.length; i++) {\r\n    //         if (i == obj.GetMaterialSelectIndex()) {\r\n    //             argument = {\r\n    //                 path: arr[i],\r\n    //                 details: '',\r\n    //                 borderClass: true,\r\n    //                 func: (e, params) => {\r\n    //                     obj.SetModelTexture(params.path);\r\n    //                     obj.SetMaterialSelectIndex(i)\r\n    //                 }\r\n    //             }\r\n    //         }\r\n    //         else {\r\n    //             argument = {\r\n    //                 path: arr[i],\r\n    //                 details: '',\r\n    //                 func: (e, params) => {\r\n    //                     obj.SetModelTexture(params.path);\r\n    //                     obj.SetMaterialSelectIndex(i)\r\n    //                 }\r\n    //             }\r\n    //         }\r\n    //         imgArr.push(argument);\r\n    //     }\r\n    //     return imgArr;\r\n    // }\r\n\r\n\r\n}","import { HttpService } from \"../../services/http.service\";\r\n\r\nexport class RightDataPanel {\r\n    private rightURL = './init/panelRightWallImg.json'\r\n    constructor(\r\n        private httpService: HttpService,\r\n    ){\r\n        this.getRightData(this.rightURL)\r\n    }\r\n\r\n    getRightData(url){\r\n        url = this.httpService.getRealUrl(url)\r\n        this.httpService.getRes(url, 3, true).subscribe((datas: any[]) => {\r\n            return datas;\r\n        })\r\n    }\r\n}","import { PopDivService } from \"../../services/pop-div.service\";\r\nimport { JdesignDataService } from \"../../services/jdesign-data.service\";\r\nimport { DomUpdateService } from \"../../services/dom-update.service\";\r\nimport { DomSanitizer } from \"../../../../node_modules/@angular/platform-browser\";\r\n\r\nexport class TopDataPanel {\r\n    constructor(\r\n        private popService: PopDivService,\r\n        private dataService: JdesignDataService,\r\n        private domService: DomUpdateService,\r\n        private sanitizer: DomSanitizer\r\n    ) {\r\n        let data = this.getTopMenu()\r\n        // this.popService.panelTop.emit(data)\r\n    }\r\n\r\n\r\n\r\n    /* 获取 */\r\n    getTopMenu() {\r\n        let data = [\r\n            {\r\n                icon: \"#icon-wenjian2\",\r\n                text: \"文件\",\r\n                dropList: [\r\n                    {\r\n                        \"name\": \"打开\",\r\n                        load: true,\r\n                        func: (e, list) => {\r\n                            let files = e.target.files;\r\n                            let oneFile = files[0];\r\n                            if (oneFile != undefined) {\r\n                                let fileReader = new FileReader();\r\n                                // fileReader.readAsDataURL(oneFile);\r\n                                fileReader.readAsText(oneFile, 'utf-8')\r\n                                fileReader.onload = () => {\r\n                                    let jsonObj = JSON.parse(<string>fileReader.result)\r\n                                    this.dataService.cache.shortFuncs[\"openData\"](jsonObj)\r\n                                    e.target.value = ''\r\n                                }\r\n                            }\r\n                            // console.log('top')\r\n                        }\r\n                    },\r\n                    {\r\n                        \"name\": \"保存\",\r\n                        load: false,\r\n                        href: null,\r\n                        textName: this.dataService.cmd.floorplan.designName + \".prj\",\r\n                        func: (e, list) => {\r\n                            list.href = this.sanitizer.bypassSecurityTrustResourceUrl(window.URL.createObjectURL(new Blob([this.dataService.cache.shortFuncs[\"saveData\"]()])))\r\n                            // let data = this.dataService.cache.shortFuncs[\"saveData\"]()\r\n                            // console.log(data)\r\n                        }\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                icon: \"#icon-chexiao\",\r\n                text: \"撤销\",\r\n                hot: \"(Ctrl Z)\",\r\n                func: (e: MouseEvent) => {\r\n                    e.stopPropagation();\r\n                    this.dataService.cache.shortFuncs[\"undoData\"]()\r\n                },\r\n                isBack: () => {\r\n                    return this.dataService.cache.shortFuncs['getUndoNum']();\r\n                },\r\n                result: 1\r\n            },\r\n            {\r\n                icon: \"#icon-huifu\",\r\n                text: \"还原\",\r\n                hot: \"(Ctrl Y)\",\r\n                func: (e) => {\r\n                    this.dataService.cache.shortFuncs[\"redoData\"]()\r\n                },\r\n                isBack: () => {\r\n                    return this.dataService.cache.shortFuncs['getRedoNum']();\r\n                },\r\n                result: 0\r\n            },\r\n            {\r\n                icon: \"#icon-xianshi\",\r\n                text: \"显示\",\r\n                dropList: [\r\n                    {\r\n                        \"name\": \"面积\",\r\n                        \"isSelect\": true,\r\n                        func: (e, list) => {\r\n                            e.stopPropagation()\r\n                            list.isSelect == true ? list.isSelect = false : list.isSelect = true\r\n                            this.dataService.cache.floorplan.display.area = list.isSelect\r\n                            this.domService.svgRoom.emit()\r\n                        }\r\n                    },\r\n                    {\r\n                        \"name\": \"尺寸\",\r\n                        list: [\r\n                            {\r\n                                \"name\": \"墙内线\",\r\n                                isSelect: true,\r\n                                func: (e, list, drop) => {\r\n                                    e.stopPropagation();\r\n                                    // e.preventDefault()\r\n                                    for (let i = 0; i < drop.length; i++) {\r\n                                        drop[i].isSelect = false;\r\n                                    }\r\n                                    list.isSelect = true\r\n                                    // this.dataService.cache.floorplan.display.outLabel_inLine = list.isSelect\r\n                                    // this.domService.svgCowall.emit()\r\n                                    this.dataService.cache.floorplan.display.inLabel = true\r\n                                    this.dataService.cache.floorplan.display.inLabel_inOrCenterWall = true\r\n                                    this.domService.svgCowall.emit()\r\n                                }\r\n                            },\r\n                            {\r\n                                \"name\": \"墙中线\",\r\n                                isSelect: false,\r\n                                func: (e, list, drop) => {\r\n                                    e.stopPropagation();\r\n                                    // e.preventDefault()\r\n                                    for (let i = 0; i < drop.length; i++) {\r\n                                        drop[i].isSelect = false;\r\n                                    }\r\n                                    list.isSelect = true\r\n                                    // this.dataService.cache.floorplan.display.outLabel_outLine = list.isSelect\r\n                                    // this.domService.svgCowall.emit()\r\n                                    this.dataService.cache.floorplan.display.inLabel = true\r\n                                    this.dataService.cache.floorplan.display.inLabel_inOrCenterWall = false\r\n                                    this.domService.svgCowall.emit()\r\n                                }\r\n                            },\r\n                            {\r\n                                \"name\": \"不显示\",\r\n                                isSelect: false,\r\n                                func: (e, list, drop) => {\r\n                                    e.stopPropagation()\r\n                                    // e.preventDefault()\r\n                                    for (let i = 0; i < drop.length; i++) {\r\n                                        drop[i].isSelect = false;\r\n                                    }\r\n                                    list.isSelect = true\r\n                                    // this.dataService.cache.floorplan.display.outLabel_outLine = list.isSelect\r\n                                    this.dataService.cache.floorplan.display.inLabel = false\r\n                                    this.domService.svgCowall.emit()\r\n                                }\r\n                            },\r\n                        ],\r\n                        // \"isSelect\": true,\r\n                        // func: (e, list) => {\r\n                        //     e.stopPropagation()\r\n                        //     list.isSelect == true ? list.isSelect = false : list.isSelect = true\r\n                        //     this.dataService.cache.floorplan.display.label = list.isSelect\r\n                        //     this.domService.svgCowall.emit()\r\n                        // }\r\n                    },\r\n                    {\r\n                        name: \"外尺寸\",\r\n                        list: [\r\n                            {\r\n                                \"name\": \"显示\",\r\n                                isSelect: false,\r\n                                func: (e, list, drop) => {\r\n                                    e.stopPropagation();\r\n                                    // e.preventDefault()\r\n                                    for (let i = 0; i < drop.length; i++) {\r\n                                        drop[i].isSelect = false;\r\n                                    }\r\n                                    list.isSelect = true\r\n                                    // this.dataService.cache.floorplan.display.outLabel_inLine = list.isSelect\r\n                                    // this.domService.svgCowall.emit()\r\n                                    this.dataService.cache.floorplan.display.outLabel = true\r\n                                    this.domService.svgCowall.emit()\r\n                                },\r\n                            },\r\n                            {\r\n                                \"name\": \"隐藏\",\r\n                                isSelect: true,\r\n                                func: (e, list, drop) => {\r\n                                    e.stopPropagation();\r\n                                    // e.preventDefault()\r\n                                    for (let i = 0; i < drop.length; i++) {\r\n                                        drop[i].isSelect = false;\r\n                                    }\r\n                                    list.isSelect = true\r\n                                    // this.dataService.cache.floorplan.display.outLabel_inLine = list.isSelect\r\n                                    // this.domService.svgCowall.emit()\r\n                                    this.dataService.cache.floorplan.display.outLabel = false\r\n                                    this.domService.svgCowall.emit()\r\n                                }\r\n                            }\r\n                        ],\r\n                    },\r\n                    // {\r\n                    //     \"name\": \"外尺寸(内墙)\",\r\n                    //     \"isSelect\": true,\r\n                    //     func: (e, list) => {\r\n                    //         e.stopPropagation()\r\n                    //         list.isSelect == true ? list.isSelect = false : list.isSelect = true;\r\n                    //         this.dataService.cache.floorplan.display.outLabel_inLine = list.isSelect\r\n                    //         this.domService.svgCowall.emit()\r\n                    //     }\r\n                    // },\r\n                    // {\r\n                    //     \"name\": \"外尺寸(墙厚度)\",\r\n                    //     \"isSelect\": true,\r\n                    //     func: (e, list) => {\r\n                    //         e.stopPropagation()\r\n                    //         list.isSelect == true ? list.isSelect = false : list.isSelect = true;\r\n                    //         this.dataService.cache.floorplan.display.outLabel_thickness = list.isSelect\r\n                    //         this.domService.svgCowall.emit()\r\n                    //     }\r\n                    // },\r\n                    // {\r\n                    //     \"name\": \"外尺寸(外墙)\",\r\n                    //     \"isSelect\": true,\r\n                    //     func: (e, list) => {\r\n                    //         e.stopPropagation()\r\n                    //         list.isSelect == true ? list.isSelect = false : list.isSelect = true;\r\n                    //         this.dataService.cache.floorplan.display.outLabel_outLine = list.isSelect\r\n                    //         this.domService.svgCowall.emit()\r\n                    //     }\r\n                    // },\r\n                    {\r\n                        \"name\": \"房间类型\",\r\n                        \"isSelect\": true,\r\n                        func: (e, list) => {\r\n                            e.stopPropagation()\r\n                            list.isSelect == true ? list.isSelect = false : list.isSelect = true\r\n                            this.dataService.cache.floorplan.display.roomType = list.isSelect\r\n                            this.domService.svgRoom.emit()\r\n                        }\r\n                    },\r\n                    {\r\n                        \"name\": \"网格\",\r\n                        \"isSelect\": true,\r\n                        func: (e, list) => {\r\n                            e.stopPropagation()\r\n                            list.isSelect == true ? list.isSelect = false : list.isSelect = true\r\n                            this.dataService.cache.floorplan.display.grid = list.isSelect\r\n                            this.domService.svgBack.emit()\r\n                        }\r\n                    },\r\n                    {\r\n                        \"name\": \"背景\",\r\n                        \"isSelect\": true,\r\n                        func: (e, list) => {\r\n                            e.stopPropagation()\r\n                            list.isSelect == true ? list.isSelect = false : list.isSelect = true\r\n                            this.dataService.cache.floorplan.display.roomImg = list.isSelect\r\n                            this.domService.mainSvg.emit()\r\n                            this.domService.allSvg.emit()\r\n                        }\r\n                    },\r\n                    {\r\n                        \"name\": \"房型图\",\r\n                        \"isSelect\": true,\r\n                        func: (e, list) => {\r\n                            e.stopPropagation()\r\n                            list.isSelect == true ? list.isSelect = false : list.isSelect = true\r\n                            this.dataService.cache.floorplan.display.roomSvg = list.isSelect\r\n                            this.domService.mainSvg.emit()\r\n                        }\r\n                    },\r\n                    {\r\n                        \"name\": \"地板\",\r\n                        \"isSelect\": true,\r\n                        func: (e, list) => {\r\n                            e.stopPropagation()\r\n                            list.isSelect == true ? list.isSelect = false : list.isSelect = true\r\n                            this.dataService.cache.floorplan.display.floor = list.isSelect\r\n                            this.domService.svgRoom.emit()\r\n                        }\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                icon: \"#icon-bangzhu\",\r\n                text: \"帮助\",\r\n                hot: \",3d视图中 W(前移),A(左移),S(后移),D(右移),Q(上移),E(下移)\",\r\n                isBack: () => {\r\n                    return 0;\r\n                },\r\n                func: () => {\r\n\r\n                }\r\n            },\r\n        ]\r\n        this.popService.panelTop.emit(data);\r\n    }\r\n}","import { JdesignDataService } from \"../../services/jdesign-data.service\";\r\nimport { PopDivService } from \"../../services/pop-div.service\";\r\nimport { JDWAbstract } from \"../../svg/common/jdesign/JDWAbstract\";\r\nimport { RightMenuService } from \"../../services/right-menu.service\";\r\n\r\nexport class DWRightMenu {\r\n    constructor(\r\n        protected dataService: JdesignDataService,\r\n        protected popService: PopDivService,\r\n        protected rightService: RightMenuService,\r\n    ) {\r\n\r\n    }\r\n\r\n    protected getMenu(e, DW: JDWAbstract) {\r\n        let data = [\r\n            {\r\n                icon: this.popService.rigthClickData.删除背景图.ico,\r\n                text: \"删除\",\r\n                hot:\"(Delete)\",\r\n                func: () => {\r\n                    this.dataService.cache.shortFuncPlus('delDW', DW)\r\n                    this.dataService.cache.shortFuncs['saveAction']()\r\n                },\r\n                isShow: false\r\n            }\r\n        ]\r\n        return data\r\n    }\r\n}","\r\nimport { PopDivService } from \"../../services/pop-div.service\";\r\nimport { RightMenuService } from \"../../services/right-menu.service\";\r\nimport { JdesignDataService } from \"../../services/jdesign-data.service\";\r\n\r\n\r\nexport class BackRightMenu {\r\n    constructor(\r\n        protected dataSerive: JdesignDataService,\r\n        protected popService: PopDivService,\r\n        protected rightService: RightMenuService,\r\n    ) {\r\n        this.rightService.back.subscribe((obj: { e: any }) => {\r\n            if (obj != null)\r\n                return this.backMenu(obj.e)\r\n            return this.backMenu(null)\r\n        })\r\n    }\r\n\r\n    backMenu(e: MouseEvent) {\r\n        if (e == null) {\r\n            this.popService.rightClick.emit(null)\r\n            return false\r\n        }\r\n\r\n        let data = {\r\n            position: {\r\n                x: e.clientX,\r\n                y: e.clientY\r\n            },\r\n            body: [\r\n                {\r\n                    icon: this.popService.rigthClickData.背景图修改.ico,\r\n                    text: \"背景图修改\",\r\n                    func: (e) => {\r\n                        this.dataSerive.cache.shortFuncPlus('changeBack',e)\r\n                    },\r\n                    type: this.dataSerive.floorplan.backImg == null ? 'file' : undefined,\r\n                    isShow: false\r\n                },\r\n                {\r\n                    icon: this.popService.rigthClickData.删除背景图.ico,\r\n                    text: \"删除背景图\",\r\n                    hot:\"(Delete)\",\r\n                    func: () => {\r\n                        this.dataSerive.cache.shortFuncPlus('delBack')\r\n                    },\r\n                    isShow: false\r\n                }\r\n            ]\r\n        }\r\n        this.popService.rightClick.emit(data)\r\n        return true\r\n    }\r\n}\r\n","import { JdesignDataService } from \"../../services/jdesign-data.service\";\r\nimport { RightMenuService } from \"../../services/right-menu.service\";\r\nimport { PopDivService } from \"../../services/pop-div.service\";\r\nimport { JCornerWin3D } from \"../../three/jDesign3D/JCornerWin3D\";\r\n\r\nexport class CornWinRightMenu {\r\n    constructor(\r\n        protected dataService: JdesignDataService,\r\n        protected popService: PopDivService,\r\n        protected rightService: RightMenuService,\r\n    ) {\r\n        this.rightService.cornWin.subscribe((obj: { e: any, cornerWin?: JCornerWin3D }) => {\r\n            if (obj) {\r\n                return this.cornWin(obj.e, obj.cornerWin)\r\n            }\r\n            return this.cornWin(null)\r\n        })\r\n    }\r\n\r\n    /** 飘窗 */\r\n    cornWin(e: MouseEvent, cornerWin?: JCornerWin3D) {\r\n        if (e == null) {\r\n            this.popService.rightClick.emit(null)\r\n            return false\r\n        }\r\n\r\n        let data = {\r\n            position: {\r\n                x: e.clientX,\r\n                y: e.clientY\r\n            },\r\n            body: [\r\n                {\r\n                    icon: this.popService.rigthClickData.删除背景图.ico,\r\n                    text: \"删除\",\r\n                    hot: \"(Delete)\",\r\n                    func: () => {\r\n                        this.dataService.cache.shortFuncPlus('delCornWin', cornerWin)\r\n                        this.dataService.cache.shortFuncs['saveAction']()\r\n                    },\r\n                    isShow: false\r\n                }\r\n            ]\r\n        }\r\n        this.popService.rightClick.emit(data)\r\n        return true\r\n    }\r\n}","import { JdesignDataService } from \"../../services/jdesign-data.service\";\r\nimport { JdesignUtil2dService } from \"../../services/jdesign-util2d.service\";\r\nimport { PopDivService } from \"../../services/pop-div.service\";\r\nimport { RightMenuService } from \"../../services/right-menu.service\";\r\nimport { WallRightMenu } from \"./wall.rightMenu\";\r\nimport { BackRightMenu } from \"./back.rightMenu\";\r\nimport { DoorRightMenu } from \"./door.rightMenu\";\r\nimport { WinRightMenu } from \"./win.rightMenu\";\r\nimport { FurnitureRightMenu } from \"./furniture.rightMenu\";\r\nimport { PointRightMenu } from \"./point.rightMenu\";\r\nimport { RoomRightMenu } from \"./room.rightMenu\";\r\nimport { CornWinRightMenu } from \"./cornWin.rightMenu\";\r\nimport { DesignStyleDataPanel } from \"../panel/designStyleData.panel\";\r\nimport { HttpService } from \"../../services/http.service\";\r\nimport { DomUpdateService } from \"../../services/dom-update.service\";\r\nimport { DomSanitizer } from \"../../../../node_modules/@angular/platform-browser\";\r\nimport { CalculatorsService } from \"../../services/calculators.service\";\r\n\r\nexport class DesignStyleDataRightMenu {\r\n    constructor(\r\n        protected dataService: JdesignDataService,\r\n        protected popService: PopDivService,\r\n        protected rightService: RightMenuService,\r\n        protected calService: CalculatorsService,\r\n        private httpService: HttpService,\r\n        private DUService: JdesignUtil2dService,\r\n        private domService: DomUpdateService,\r\n        private sanitizer: DomSanitizer\r\n\r\n    ) {\r\n        let wall = new WallRightMenu(dataService, popService, rightService)\r\n        let back = new BackRightMenu(dataService, popService, rightService)\r\n        let door = new DoorRightMenu(dataService, popService, rightService)\r\n        let win = new WinRightMenu(dataService, popService, rightService)\r\n        let furniture = new FurnitureRightMenu(dataService, popService, rightService)\r\n        let point = new PointRightMenu(dataService, popService, rightService)\r\n        let room = new RoomRightMenu(dataService, popService, rightService)\r\n        let cornWin = new CornWinRightMenu(dataService, popService, rightService)\r\n        let designStyleDataPanel = new DesignStyleDataPanel(dataService, popService, calService, httpService, DUService, domService, sanitizer)\r\n    }\r\n}","import { JdesignDataService } from \"../../services/jdesign-data.service\";\r\nimport { RightMenuService } from \"../../services/right-menu.service\";\r\nimport { PopDivService } from \"../../services/pop-div.service\";\r\nimport { JDoor } from \"../../svg/common/jdesign/JDoor\";\r\nimport { DWRightMenu } from \"./DW.rightMenu\";\r\n\r\nexport class DoorRightMenu extends DWRightMenu {\r\n    constructor(\r\n        protected dataService: JdesignDataService,\r\n        protected popService: PopDivService,\r\n        protected rightService: RightMenuService,\r\n    ) {\r\n        super(dataService, popService, rightService)\r\n        this.rightService.door.subscribe((obj: { e: any, door?: JDoor }) => {\r\n            if (obj != null)\r\n                return this.doorMenu(obj.e, obj.door)\r\n            return this.doorMenu(null)\r\n        })\r\n    }\r\n\r\n    /** 菜单 */\r\n    doorMenu(e: MouseEvent, door?: JDoor) {\r\n        if (e == null) {\r\n            this.popService.rightClick.emit(null)\r\n            return false\r\n        }\r\n\r\n        let data = {\r\n            position: {\r\n                x: e.clientX,\r\n                y: e.clientY\r\n            },\r\n            body: [\r\n            ]\r\n        }\r\n        data.body.push(...this.getMenu(e, door))\r\n        this.popService.rightClick.emit(data)\r\n        return true\r\n    }\r\n}","import { JdesignDataService } from \"../../services/jdesign-data.service\";\r\nimport { RightMenuService } from \"../../services/right-menu.service\";\r\nimport { PopDivService } from \"../../services/pop-div.service\";\r\nimport { JFurniture } from \"../../svg/common/jdesign/JFurniture\";\r\n\r\nexport class FurnitureRightMenu {\r\n    constructor(\r\n        protected dataService: JdesignDataService,\r\n        protected popService: PopDivService,\r\n        protected rightService: RightMenuService,\r\n    ) {\r\n        this.rightService.furniture.subscribe((obj: { e: any, furniture?: JFurniture }) => {\r\n            if (obj != null)\r\n                return this.furnitureMenu(obj.e, obj.furniture)\r\n            return this.furnitureMenu(null)\r\n        })\r\n    }\r\n\r\n   \r\n    /** 菜单 */\r\n    furnitureMenu(e: MouseEvent, furniture?: JFurniture) {\r\n        if (e == null) {\r\n            this.popService.rightClick.emit(null)\r\n            return false\r\n        }\r\n\r\n        let data = {\r\n            position: {\r\n                x: e.clientX,\r\n                y: e.clientY\r\n            },\r\n            body: [\r\n                {\r\n                    icon: this.popService.rigthClickData.删除背景图.ico,\r\n                    text: \"删除\",\r\n                    hot:\"(Delete)\",\r\n                    func: () => {\r\n                        this.dataService.cache.shortFuncPlus('delFurn', furniture)\r\n                        this.dataService.cache.shortFuncs['saveAction']()\r\n                    },\r\n                    isShow: false\r\n                }\r\n            ]\r\n        }\r\n        this.popService.rightClick.emit(data)\r\n        return true\r\n    }\r\n}","import { JdesignDataService } from \"../../services/jdesign-data.service\";\r\nimport { RightMenuService } from \"../../services/right-menu.service\";\r\nimport { PopDivService } from \"../../services/pop-div.service\";\r\nimport { JPoint } from \"../../svg/common/jdesign/JPoint\";\r\n\r\nexport class PointRightMenu {\r\n    constructor(\r\n        protected dataService: JdesignDataService,\r\n        protected popService: PopDivService,\r\n        protected rightService: RightMenuService,\r\n    ) {\r\n        this.rightService.point.subscribe((obj: { e: any, point?: JPoint }) => {\r\n            if (obj != null)\r\n                return this.pointMenu(obj.e, obj.point)\r\n            return this.pointMenu(null)\r\n        })\r\n    }\r\n\r\n    /** 点的右键功能 */\r\n    pointMenu(e, point?: JPoint) {\r\n        if (e == null || !this.dataService.cache.shortFuncs['isCombineWall'](point)) {\r\n            this.popService.rightClick.emit(null)\r\n            return false\r\n        }\r\n        let data = {\r\n            position: {\r\n                x: e.clientX,\r\n                y: e.clientY\r\n            },\r\n            body: [\r\n                {\r\n                    icon: this.popService.rigthClickData.拆分墙.ico,\r\n                    text: \"连接墙体\",\r\n                    func: () => {\r\n                        this.dataService.cache.shortFuncPlus('combineWall', point)\r\n                        this.dataService.cache.shortFuncs['saveAction']()\r\n                    },\r\n                    isShow: false\r\n                }\r\n            ]\r\n        }\r\n        this.popService.rightClick.emit(data)\r\n        return true\r\n    }\r\n}","import { JdesignDataService } from \"../../services/jdesign-data.service\";\r\nimport { RightMenuService } from \"../../services/right-menu.service\";\r\nimport { PopDivService } from \"../../services/pop-div.service\";\r\nimport { JRoom } from \"../../svg/common/jdesign/JRoom\";\r\n\r\nexport class RoomRightMenu {\r\n    constructor(\r\n        protected dataService: JdesignDataService,\r\n        protected popService: PopDivService,\r\n        protected rightService: RightMenuService,\r\n    ) {\r\n        // this.rightService.room.subscribe((obj: { e: any, room?: JRoom }) => {\r\n        //     if (obj != null)\r\n        //         return this.roomMenu(obj.e, obj.room)\r\n        //     return this.roomMenu(null)\r\n        // })\r\n    }\r\n\r\n    /** room右键菜单 */\r\n    roomMenu(e: MouseEvent, room?: JRoom) {\r\n        if (e == null) {\r\n            this.popService.rightClick.emit(null)\r\n            return false\r\n        }\r\n\r\n        let data = {\r\n            position: {\r\n                x: e.clientX,\r\n                y: e.clientY\r\n            },\r\n            body: [\r\n                {\r\n                    icon: this.popService.rigthClickData.变成阳台.ico,\r\n                    text: \"变成阳台\",\r\n                    func: () => {\r\n                        this.dataService.cache.shortFuncPlus('balconyRoom', room)\r\n                        this.dataService.cache.shortFuncs['saveAction']()\r\n                    },\r\n                    isShow: false\r\n                },\r\n                {\r\n                    icon: this.popService.rigthClickData.变成正常.ico,\r\n                    text: \"变成正常\",\r\n                    func: () => {\r\n                        this.dataService.cache.shortFuncPlus('changeNormalRoom', room)\r\n                        this.dataService.cache.shortFuncs['saveAction']()\r\n                    },\r\n                    isShow: false\r\n                },\r\n                {\r\n                    icon: this.popService.rigthClickData.地板测试.ico,\r\n                    text: \"地板测试\",\r\n                    func: () => {\r\n                        this.dataService.cache.shortFuncPlus('testFloor', room)\r\n                        this.dataService.cache.shortFuncs['saveAction']()\r\n                    },\r\n                    isShow: false\r\n                }\r\n            ]\r\n        }\r\n        this.popService.rightClick.emit(data)\r\n        return true\r\n    }\r\n}","import { JdesignDataService } from \"../../services/jdesign-data.service\";\r\nimport { RightMenuService } from \"../../services/right-menu.service\";\r\nimport { JWall } from \"../../svg/common/jdesign/JWall\";\r\nimport { PopDivService } from \"../../services/pop-div.service\";\r\n\r\nexport class WallRightMenu {\r\n    constructor(\r\n        protected dataService: JdesignDataService,\r\n        protected popService: PopDivService,\r\n        protected rightService: RightMenuService,\r\n    ) {\r\n        this.rightService.wall.subscribe((obj: { e: any, wall?: JWall }) => {\r\n            if (obj != null)\r\n                return this.wallMenu(obj.e, obj.wall)\r\n            return this.wallMenu(null)\r\n        })\r\n    }\r\n\r\n    /** 墙的右键功能 */\r\n    wallMenu(e, wall?: JWall) {\r\n        if (e == null) {\r\n            this.popService.rightClick.emit(null)\r\n            return false\r\n        }\r\n\r\n        let data = {\r\n            position: {\r\n                x: e.clientX,\r\n                y: e.clientY\r\n            },\r\n            body: [\r\n                {\r\n                    icon: this.popService.rigthClickData.拆分墙.ico,\r\n                    text: \"拆分墙\",\r\n                    func: () => {\r\n                        this.dataService.cache.shortFuncPlus('cutWall', wall)\r\n                        this.dataService.cache.shortFuncs['saveAction']()\r\n                    },\r\n                    isShow: false\r\n                },\r\n                {\r\n                    icon: this.popService.rigthClickData.删除背景图.ico,\r\n                    text: \"删除\",\r\n                    hot: \"(Delete)\",\r\n                    func: () => {\r\n                        this.dataService.cache.shortFuncPlus('delWall', wall)\r\n                        this.dataService.cache.shortFuncs['saveAction']()\r\n                    },\r\n                    isShow: false\r\n                }\r\n            ],\r\n            isWall: false\r\n        }\r\n\r\n        if (wall.getCowallArr().length == 1 || wall.arcDistance != 0) {\r\n            let obj = {\r\n                icon: this.popService.rigthClickData.转弧墙.ico,\r\n                text: \"直弧互转\",\r\n                func: () => {\r\n                    this.dataService.cache.shortFuncPlus('transArcWall', wall)\r\n                    this.dataService.cache.shortFuncs['saveAction']()\r\n                },\r\n                isHidde: false,\r\n                isShow: false\r\n            }\r\n            data.body.splice(0, 0, obj)\r\n        }\r\n\r\n        this.popService.rightClick.emit(data)\r\n        return true\r\n    }\r\n}","import { JdesignDataService } from \"../../services/jdesign-data.service\";\r\nimport { RightMenuService } from \"../../services/right-menu.service\";\r\nimport { PopDivService } from \"../../services/pop-div.service\";\r\nimport { DWRightMenu } from \"./DW.rightMenu\";\r\nimport { JWin } from \"../../svg/common/jdesign/JWin\";\r\n\r\nexport class WinRightMenu extends DWRightMenu {\r\n    constructor(\r\n        protected dataService: JdesignDataService,\r\n        protected popService: PopDivService,\r\n        protected rightService: RightMenuService,\r\n    ) {\r\n        super( dataService, popService, rightService)\r\n        this.rightService.win.subscribe((obj: { e: any, win?: JWin }) => {\r\n            if (obj != null)\r\n                return this.winMenu(obj.e, obj.win)\r\n            return this.winMenu(null)\r\n        })\r\n    }\r\n\r\n    /** 墙的右键功能 */\r\n    winMenu(e: MouseEvent, win?: JWin) {\r\n        if (e == null) {\r\n            this.popService.rightClick.emit(null)\r\n            return false\r\n        }\r\n\r\n        let data = {\r\n            position: {\r\n                x: e.clientX,\r\n                y: e.clientY\r\n            },\r\n            body: [\r\n            ]\r\n        }\r\n        data.body.push(...this.getMenu(e, win))\r\n        this.popService.rightClick.emit(data)\r\n        return true\r\n    }\r\n}","import { PopDivService } from \"../../services/pop-div.service\";\r\nimport { JdesignDataService } from \"../../services/jdesign-data.service\";\r\nimport { CalculatorsService } from \"../../services/calculators.service\";\r\nimport { DomUpdateService } from \"../../services/dom-update.service\";\r\nimport { JDWAbstract } from \"../../svg/common/jdesign/JDWAbstract\";\r\nimport { JDesign } from \"../../svg/common/jdesign/JDesign\";\r\n\r\nexport class DWShortFunc {\r\n    constructor(\r\n        protected popService: PopDivService,\r\n        protected dataService: JdesignDataService,\r\n        protected calService: CalculatorsService,\r\n        protected domService: DomUpdateService\r\n    ) {\r\n        /* 删除门窗 */\r\n        this.dataService.cache.shortFuncs['delDW'] = (obj) => {\r\n            this.delDW(obj)\r\n        }\r\n        /* 是否门窗 */\r\n        this.dataService.cache.shortFuncs[\"isDW\"] = (obj: JDesign) => {\r\n            if (obj.type == \"door\" || obj.type == \"win\")\r\n                return true\r\n            return false\r\n        }\r\n        /* 添加 */\r\n\r\n    }\r\n\r\n    /* 删除门窗 */\r\n    delDW(DW: JDWAbstract) {\r\n        // DW.wallID = null\r\n        if (DW.type == 'door') {\r\n            let door = this.dataService.doors[DW.id]\r\n            this.calService.door.delWall(door)\r\n            this.calService.door.del(door)\r\n        }\r\n        else if (DW.type == 'win') {\r\n            let win = this.dataService.wins[DW.id]\r\n            this.calService.win.delWall(win)\r\n            this.calService.win.del(win)\r\n        }\r\n        this.dataService.cache.common.choose = this.dataService.floorplan\r\n        this.popService.inputBoxs.emit([])\r\n        this.popService.buttons.emit(null)\r\n        this.domService.allSvg.emit()\r\n    }\r\n\r\n}","import { JdesignDataService } from \"../../services/jdesign-data.service\";\r\nimport { CalculatorsService } from \"../../services/calculators.service\";\r\nimport { DomUpdateService } from \"../../services/dom-update.service\";\r\nimport { PopDivService } from \"../../services/pop-div.service\";\r\nimport { JdesignUtil2dService } from \"../../services/jdesign-util2d.service\";\r\nimport { JUWin } from \"../../svg/common/jdesign/JUWin\";\r\nimport { JLUWin } from \"../../svg/common/jdesign/JLUWin\";\r\nimport { JLUWin3D } from \"../../three/jDesign3D/JLUWin3D\";\r\nimport { JLWin } from \"../../svg/common/jdesign/JLWin\";\r\n\r\nexport class LUWinShortFunc {\r\n    constructor(\r\n        protected dataService: JdesignDataService,\r\n        protected calService: CalculatorsService,\r\n        protected domService: DomUpdateService,\r\n        protected popService: PopDivService,\r\n        protected DUService: JdesignUtil2dService\r\n    ) {\r\n        this.dataService.cache.shortFuncs[\"createLWin\"] = () => {\r\n            this.createNewLWin()\r\n        }\r\n        this.dataService.cache.shortFuncs['createUWin'] = () => {\r\n            this.createNewUWin()\r\n        }\r\n        this.dataService.cache.shortFuncs['delLUWin'] = (obj: JLUWin3D) => {\r\n            this.delObj(obj)\r\n        }\r\n        this.dataService.cache.shortFuncs['isLUWin'] = (obj: JLUWin3D) => {\r\n            return this.isLUWin(obj)\r\n        }\r\n    }\r\n\r\n    createNewLWin() {\r\n        let j2d = this.DUService.obj.clone(this.dataService.cache.baseData.j2d['LWin'])\r\n        j2d = this.DUService.parseJ2D.getobjData(j2d)\r\n        let LWin = this.calService.LWin.createNew({\r\n            j2d: j2d,\r\n            radian: 0,\r\n            floorHeight: 1000,\r\n            height3D: 500\r\n        })\r\n        this.dataService.cache.common.choose = LWin\r\n        this.setNormal()\r\n    }\r\n\r\n    createNewUWin() {\r\n        let j2d = this.DUService.obj.clone(this.dataService.cache.baseData.j2d['UWin'])\r\n        j2d = this.DUService.parseJ2D.getobjData(j2d)\r\n        let UWin = this.calService.UWin.createNew({\r\n            j2d: j2d,\r\n            centerRadian: 0,\r\n            radian: 0,\r\n            floorHeight: 1000,\r\n            height3D: 500\r\n        })\r\n        this.dataService.cache.common.choose = UWin\r\n        this.setNormal()\r\n    }\r\n\r\n    setNormal() {\r\n        this.dataService.cache.common.mode = 'normal'\r\n        this.dataService.cache.common.blockON = true\r\n        this.dataService.cache.common.firstPos = null\r\n        this.dataService.cmd.cowall.hide = true\r\n        this.domUpdate()\r\n    }\r\n\r\n    isLUWin(obj: JLUWin3D) {\r\n        switch (obj.type) {\r\n            case \"LWin\": case \"UWin\":\r\n                return true\r\n            default:\r\n                return false\r\n        }\r\n\r\n    }\r\n\r\n    delObj(obj: JLUWin3D) {\r\n        switch (obj.type) {\r\n            case \"LWin\":\r\n                delete this.dataService.LWins[obj.id]\r\n            case \"UWin\":\r\n                delete this.dataService.UWins[obj.id]\r\n        }\r\n        this.domUpdate()\r\n    }\r\n\r\n\r\n    /** dom更新 */\r\n    domUpdate() {\r\n        this.domService.allSvg.emit()\r\n        this.popService.inputBoxs.emit([])\r\n        this.popService.buttons.emit(null)\r\n    }\r\n}","import { PopDivService } from \"../../services/pop-div.service\";\r\nimport { JdesignDataService } from \"../../services/jdesign-data.service\";\r\nimport { CalculatorsService } from \"../../services/calculators.service\";\r\nimport { DomUpdateService } from \"../../services/dom-update.service\";\r\n\r\n\r\nexport class BackShortFunc {\r\n    constructor(\r\n        protected popService: PopDivService,\r\n        protected dataService: JdesignDataService,\r\n        protected calService: CalculatorsService,\r\n        protected domService: DomUpdateService\r\n    ) {\r\n        /* 打开背景图 */\r\n        this.dataService.cache.shortFuncs['openBackImg'] = (e: MouseEvent) => {\r\n            this.openBackImg(e)\r\n        }\r\n        /* 修改背景图 */\r\n        this.dataService.cache.shortFuncs['setBackImg'] = (e: MouseEvent, img: { url: string, width: number, height: number }, ratio: number) => {\r\n            this.setBackImg(e, img, ratio)\r\n        }\r\n        /* 修改背景图 */\r\n        this.dataService.cache.shortFuncs['delBack'] = () => {\r\n            this.delBackImg()\r\n        }\r\n        /* 改变背景图 */\r\n        this.dataService.cache.shortFuncs['changeBack'] = (e: MouseEvent) => {\r\n            this.fixBackImg(e)\r\n        }\r\n    }\r\n\r\n    /** 打开背景图 */\r\n    openBackImg(e) {\r\n        let files = e.target.files;\r\n        let oneFile = files[0];\r\n        let imageType = /image.*/;\r\n        if (oneFile != undefined && oneFile.type.match(imageType)) {\r\n            let fileReader = new FileReader();\r\n            fileReader.readAsDataURL(oneFile);\r\n            fileReader.onload = () => {\r\n                let img = new Image()\r\n                img.onload = () => {\r\n                    let data = {\r\n                        url: fileReader.result,\r\n                        width: img.width,\r\n                        height: img.height,\r\n                        distance: 1000,\r\n                        func: (e: MouseEvent, img: { url: string, width: number, height: number }, ratio: number) => {\r\n                            this.setBackImg(e, img, ratio)\r\n                        }\r\n                    }\r\n                    this.popService.backImg.emit(data)\r\n                }\r\n                img.src = <string>fileReader.result\r\n                e.target.value = ''\r\n            }\r\n        }\r\n    }\r\n\r\n    /** 设置背景图 */\r\n    setBackImg(e: MouseEvent, img: { url: string, width: number, height: number }, ratio: number) {\r\n        this.dataService.cache.common.mode = 'normal'\r\n        this.dataService.cache.common.blockON = true\r\n        this.dataService.cache.common.firstPos = null\r\n        ratio = ratio / this.dataService.cmd.floorplan.mm\r\n        let imgWidth = img.width * ratio\r\n        let imgHeight = img.height * ratio\r\n        let multiple = this.dataService.cache.floorplan.multiple\r\n        let smallLeft = -this.dataService.cmd.floorplan.left - (this.dataService.cmd.back.size.width / 2 / multiple * (multiple - 1))\r\n        let smallTop = -this.dataService.cmd.floorplan.top - (this.dataService.cmd.back.size.height / 2 / multiple * (multiple - 1))\r\n        let imgMoveLeft = (smallLeft + e.clientX) * multiple - (imgWidth / 2)\r\n        let imgMoveTop = (smallTop + e.clientY) * multiple - (imgHeight / 2)\r\n\r\n\r\n        this.dataService.floorplan.backImg = {\r\n            url: img.url,\r\n            width: imgWidth,\r\n            height: imgHeight,\r\n            left: imgMoveLeft,\r\n            top: imgMoveTop\r\n        }\r\n        this.dataService.cache.common.choose = this.dataService.floorplan\r\n        this.dataService.floorplan.mode = 'backImg'\r\n        this.domUpdate()\r\n    }\r\n\r\n    /* 删除背景图 */\r\n    delBackImg() {\r\n        this.dataService.floorplan.backImg = null\r\n        this.popService.backImg.emit(null)\r\n    }\r\n\r\n    /* 修改背景图 */\r\n    fixBackImg(e) {\r\n        console.log('ccc')\r\n        if (this.dataService.floorplan.backImg == null) {\r\n\r\n            this.dataService.cache.shortFuncs['openBackImg'](e)\r\n        }\r\n        else {\r\n            let data = {\r\n                url: this.dataService.floorplan.backImg.url,\r\n                width: this.dataService.floorplan.backImg.width,\r\n                height: this.dataService.floorplan.backImg.height,\r\n                distance: 1000,\r\n                func: (e: MouseEvent, img: { url: string, width: number, height: number }, ratio: number) => {\r\n                    this.dataService.cache.shortFuncs['setBackImg'](e, img, ratio)\r\n                }\r\n            }\r\n            this.popService.backImg.emit(data)\r\n        }\r\n    }\r\n\r\n    /** dom更新 */\r\n    domUpdate() {\r\n        this.domService.allSvg.emit()\r\n        this.popService.inputBoxs.emit([])\r\n        this.popService.buttons.emit(null)\r\n    }\r\n\r\n}","import { JdesignDataService } from \"../../services/jdesign-data.service\";\r\nimport { CalculatorsService } from \"../../services/calculators.service\";\r\nimport { DomUpdateService } from \"../../services/dom-update.service\";\r\nimport { PopDivService } from \"../../services/pop-div.service\";\r\nimport { JBuildInitType } from \"../../svg/common/jdesign/JBuild\";\r\nimport { JBuild3D } from \"../../three/jDesign3D/JBuild3D\";\r\n\r\nexport class BuildShortFunc {\r\n    constructor(\r\n        protected dataService: JdesignDataService,\r\n        protected calService: CalculatorsService,\r\n        protected domService: DomUpdateService,\r\n        protected popService: PopDivService\r\n    ) {\r\n\r\n        /* 添加建筑物 */\r\n        this.dataService.cache.shortFuncs[\"addBuild\"] = (obj: JBuildInitType) => {\r\n            let build = this.calService.geometry.createNew('build', obj)\r\n            this.dataService.cache.common.choose = build\r\n            this.dataService.cache.common.mode = 'normal'\r\n            this.dataService.cache.common.blockON = true\r\n            this.dataService.cache.common.firstPos = null\r\n            this.dataService.cmd.cowall.hide = true\r\n            this.domService.allSvg.emit()\r\n            this.popService.inputBoxs.emit([])\r\n            this.popService.buttons.emit(null)\r\n\r\n        }\r\n\r\n        /* 删除建筑物 */\r\n        this.dataService.cache.shortFuncs['delBuild'] = (obj: JBuild3D) => {\r\n            this.calService.geometry.del(obj)\r\n            this.domService.allSvg.emit()\r\n        }\r\n    }\r\n}","import { JdesignDataService } from \"../../services/jdesign-data.service\";\r\nimport { DomUpdateService } from \"../../services/dom-update.service\";\r\nimport { JdesignUtil2dService } from \"../../services/jdesign-util2d.service\";\r\n\r\n\r\nexport class CameraShortFuncs {\r\n    constructor(\r\n        protected dataService: JdesignDataService,\r\n        protected domService: DomUpdateService,\r\n        protected DUService: JdesignUtil2dService\r\n    ) {\r\n        let moveDistance = 30\r\n        this.setMoveUp(moveDistance)\r\n        this.setMoveDown(moveDistance)\r\n        this.setMoveLeft(moveDistance)\r\n        this.setMoveRight(moveDistance)\r\n        this.dataService.cache.shortFuncs['cameraUp'] = (distance) => {\r\n            this.setCameraMove(distance, - Math.PI / 2)\r\n        }\r\n        this.dataService.cache.shortFuncs['cameraDown'] = (distance) => {\r\n            this.setCameraMove(distance, Math.PI / 2)\r\n        }\r\n    }\r\n\r\n    /** 向前 */\r\n    setMoveUp(distance: number) {\r\n        this.keyControlCameraMove(distance, - Math.PI / 2, \"cameraForwardStart\", \"cameraForwardStop\")\r\n    }\r\n\r\n    /** 向后 */\r\n    setMoveDown(distance: number) {\r\n        this.keyControlCameraMove(distance, Math.PI / 2, \"cameraBackwardStart\", \"cameraBackwardStop\")\r\n    }\r\n\r\n    /** 向左 */\r\n    setMoveLeft(distance: number) {\r\n        this.keyControlCameraMove(distance, Math.PI, \"cameraLeftStart\", \"cameraLeftStop\")\r\n    }\r\n\r\n    /** 向右 */\r\n    setMoveRight(distance: number) {\r\n        this.keyControlCameraMove(distance, 0, \"cameraRightStart\", \"cameraRightStop\")\r\n    }\r\n\r\n    /** 键盘 控制相机移动 */\r\n    keyControlCameraMove(distance: number, fixRadian: number, downKey: string, upKey: string) {\r\n        let move: boolean = false\r\n        let func = () => {\r\n            if (move) {\r\n                this.setCameraMove(distance, fixRadian)\r\n            }\r\n        }\r\n        this.dataService.cache.shortFuncs[downKey] = () => {\r\n            move = true\r\n        }\r\n        this.dataService.cache.shortFuncs[upKey] = () => {\r\n            move = false\r\n        }\r\n        this.dataService.cache.AnimationFuncs.push(func)\r\n    }\r\n\r\n    /** 设置相机移动 */\r\n    setCameraMove(distance: number, fixRadian: number) {\r\n        this.dataService.camera.pos = this.DUService.pos.getRayPos(this.dataService.camera.pos, this.dataService.camera.radian + fixRadian, distance)\r\n        this.domService.svgCamera.emit()\r\n        this.dataService.camera.strongUpdate3D()\r\n    }\r\n}","import { JdesignDataService } from \"../../services/jdesign-data.service\";\r\nimport { CalculatorsService } from \"../../services/calculators.service\";\r\nimport { DomUpdateService } from \"../../services/dom-update.service\";\r\nimport { PopDivService } from \"../../services/pop-div.service\";\r\n\r\n\r\n\r\nexport class CommonShortFunc {\r\n    constructor(\r\n        protected dataService: JdesignDataService,\r\n        protected calService: CalculatorsService,\r\n        protected domService: DomUpdateService,\r\n        protected popService: PopDivService\r\n    ) {\r\n        /* 测试1 */\r\n        this.dataService.cache.shortFuncs['test1'] = (obj?) => {\r\n            if (obj) {\r\n                console.log(`测试1,有对象`)\r\n                console.log(obj)\r\n                console.log('=========')\r\n            }\r\n            else {\r\n                console.log(`测试1,没有对象`)\r\n                console.log('=========')\r\n            }\r\n        }\r\n        /* 测试2 */\r\n        this.dataService.cache.shortFuncs['test2'] = (obj?) => {\r\n            if (obj) {\r\n                console.log(`测试2,有对象`)\r\n                console.log(obj)\r\n                console.log('=========')\r\n            }\r\n            else {\r\n                console.log(`测试2,没有对象`)\r\n                console.log('=========')\r\n            }\r\n        }\r\n        /* 保存数据 */\r\n        this.dataService.cache.shortFuncs[\"saveData\"] = () => {\r\n            let data = this.calService.undoRedo.readData()\r\n            let text = JSON.stringify(data)\r\n            return text\r\n        }\r\n        /* 动作保存 */\r\n        this.dataService.cache.shortFuncs['saveAction'] = () => {\r\n            this.calService.undoRedo.save()\r\n        }\r\n        /* 打开数据 */\r\n        this.dataService.cache.shortFuncs['openData'] = (data) => {\r\n            this.calService.undoRedo.open(data, () => {\r\n                // this.dataService.cache.cowall.update3D.emit()\r\n            }, () => {\r\n                this.calService.wall.arcInit()\r\n                this.domService.svgWall.emit()\r\n            }, (maxNum) => {\r\n                if (this.dataService.cmd.floorplan.nextID < (maxNum + 100)) {\r\n                    this.dataService.cmd.floorplan.nextID = maxNum + 100\r\n                }\r\n                this.calService.room.resetCowalls()\r\n                this.dataService.cache.floorplan.dataEmit.emit()\r\n            })\r\n            this.domUpdate()\r\n        }\r\n        /* 撤销数据 */\r\n        this.dataService.cache.shortFuncs[\"undoData\"] = () => {\r\n            this.dataService.cache.common.choose = this.dataService.floorplan\r\n            this.calService.undoRedo.undo(() => {\r\n                // this.dataService.cache.cowall.update3D.emit()\r\n            }, () => {\r\n                this.calService.wall.arcInit()\r\n                this.domService.svgWall.emit()\r\n            }, () => {\r\n                this.dataService.cache.floorplan.dataEmit.emit()\r\n                this.dataService.cache.cowall.update3D.emit()\r\n            })\r\n            this.domUpdate()\r\n        }\r\n        /* 获取撤销个数 */\r\n        this.dataService.cache.shortFuncs['getUndoNum'] = () => {\r\n            return this.dataService.cache.undoData.length\r\n        }\r\n        /* 还原数据 */\r\n        this.dataService.cache.shortFuncs[\"redoData\"] = () => {\r\n            this.dataService.cache.common.choose = this.dataService.floorplan\r\n            this.calService.undoRedo.redo(() => {\r\n                // this.dataService.cache.cowall.update3D.emit()\r\n            }, () => {\r\n                this.calService.wall.arcInit()\r\n                this.domService.svgWall.emit()\r\n            }, () => {\r\n                this.dataService.cache.floorplan.dataEmit.emit()\r\n            })\r\n            this.domUpdate()\r\n        }\r\n        /* 获取还原个数 */\r\n        this.dataService.cache.shortFuncs['getRedoNum'] = () => {\r\n            return this.dataService.cache.redoData.length\r\n        }\r\n        /* 是否为普通模式 */\r\n        this.dataService.cache.shortFuncs[\"isNormal\"] = () => {\r\n            return this.dataService.cache.common.mode == \"normal\"\r\n        }\r\n        /* 是否为画墙模式 */\r\n        this.dataService.cache.shortFuncs[\"isDrawWall\"] = () => {\r\n            return this.dataService.cache.common.mode == \"drawWall\"\r\n        }\r\n        /* 取消吸附 */\r\n        this.dataService.cache.shortFuncs[\"cancelAbosrb\"] = () => {\r\n            this.dataService.cache.common.isAbosrb = false\r\n        }\r\n        /* 开启吸附 */\r\n        this.dataService.cache.shortFuncs[\"setAbosrb\"] = () => {\r\n            this.dataService.cache.common.isAbosrb = true\r\n        }\r\n        /* 是否为画空间模式 */\r\n        this.dataService.cache.shortFuncs[\"isDrawRoom\"] = () => {\r\n            return this.dataService.cache.common.mode == 'drawRoom'\r\n        }\r\n        /* 设置normal模式 */\r\n        this.dataService.cache.shortFuncs[\"setNormal\"] = () => {\r\n            this.dataService.cache.common.mode = 'normal'\r\n            this.dataService.cache.common.blockON = true\r\n            this.dataService.cache.common.firstPos = null\r\n            this.dataService.cmd.cowall.hide = true\r\n            this.domUpdate()\r\n        }\r\n        /* 设置画墙模式 */\r\n        this.dataService.cache.shortFuncs['setDrawWall'] = () => {\r\n            this.drawWall()\r\n            this.dataService.cache.wall.location = 0\r\n            this.dataService.cache.common.isAbosrb = true\r\n        }\r\n        /* 设置画内墙模式 */\r\n        this.dataService.cache.shortFuncs[\"setDrawInWall\"] = () => {\r\n            this.drawWall()\r\n            this.dataService.cache.wall.location = -1\r\n        }\r\n        /* 设置画空间模式 */\r\n        this.dataService.cache.shortFuncs[\"setDrawRoom\"] = () => {\r\n            this.dataService.cache.mode.drawRoom.emit()\r\n            this.dataService.cache.common.choose = null\r\n            this.dataService.cache.common.mode = 'drawRoom'\r\n            this.dataService.cache.common.blockON = true\r\n            this.domUpdate()\r\n        }\r\n    }\r\n\r\n    /** dom更新 */\r\n    domUpdate() {\r\n        this.domService.allSvg.emit()\r\n        this.initData()\r\n    }\r\n\r\n    /* 画墙 */\r\n    drawWall() {\r\n        this.dataService.cache.mode.drawWall.emit()\r\n        this.dataService.cache.common.mode = 'drawWall'\r\n        this.dataService.cache.common.blockON = true\r\n        this.dataService.cache.common.choose = null\r\n        this.domUpdate()\r\n    }\r\n\r\n    /** 数据初始化 */\r\n    initData() {\r\n        this.dataService.cache.cowall.update3D.emit()\r\n        this.popService.inputBoxs.emit([])\r\n        this.popService.buttons.emit(null)\r\n        this.popService.rightClick.emit(null)\r\n    }\r\n\r\n\r\n\r\n}","import { JdesignDataService } from \"../../services/jdesign-data.service\";\r\nimport { CalculatorsService } from \"../../services/calculators.service\";\r\nimport { DomUpdateService } from \"../../services/dom-update.service\";\r\nimport { JDesign } from \"../../svg/common/jdesign/JDesign\";\r\nimport { JCornerWin3D } from \"../../three/jDesign3D/JCornerWin3D\";\r\nimport { JCornerWin } from \"../../svg/common/jdesign/JCornerWin\";\r\nimport { PopDivService } from \"../../services/pop-div.service\";\r\n\r\nexport class CornWinShortFunc {\r\n    constructor(\r\n        protected dataService: JdesignDataService,\r\n        protected calService: CalculatorsService,\r\n        protected domService: DomUpdateService,\r\n        protected popService:PopDivService\r\n    ) {\r\n        /* 删除转角飘窗 */\r\n        this.dataService.cache.shortFuncs['delCornWin'] = (obj) => {\r\n            this.delCornWin(obj)\r\n        }\r\n        /* 是否为转角飘窗 */\r\n        this.dataService.cache.shortFuncs[\"isCornWin\"] = (obj: JDesign) => {\r\n            return obj.type == 'cornerWin'\r\n        }\r\n        /* 添加转角飘窗 */\r\n        this.dataService.cache.shortFuncs[\"addCornerWin\"] = () => {\r\n            this.addCornerWin()\r\n        }\r\n    }\r\n\r\n    /* 删除转角飘窗 */\r\n    delCornWin(cornerWin: JCornerWin) {\r\n        this.calService.cornerWin.del(cornerWin)\r\n        this.domService.allSvg.emit()\r\n    }\r\n\r\n    /* 添加转角飘窗 */\r\n    addCornerWin() {\r\n        let data = {\r\n            LDepth: 1600,\r\n            LWidth: 1600,\r\n            DDepth: 1600,\r\n            DWidth: 1600,\r\n            outThickness: 60,\r\n            outWallThickness: this.dataService.cmd.wall.thickness,\r\n            height3D: 1500,\r\n            floorHeight: 500\r\n        }\r\n        let cornerWin = this.calService.cornerWin.createNew(data)\r\n        this.dataService.cache.common.choose = cornerWin\r\n        this.setNormal()\r\n    }\r\n\r\n    setNormal() {\r\n        this.dataService.cache.common.mode = 'normal'\r\n        this.dataService.cache.common.blockON = true\r\n        this.dataService.cache.common.firstPos = null\r\n        this.dataService.cmd.cowall.hide = true\r\n        this.domUpdate()\r\n    }\r\n\r\n    /** dom更新 */\r\n    domUpdate() {\r\n        this.domService.allSvg.emit()\r\n        this.popService.inputBoxs.emit([])\r\n        this.popService.buttons.emit(null)\r\n    }\r\n\r\n\r\n}","import { PopDivService } from \"../../services/pop-div.service\";\r\nimport { JdesignDataService } from \"../../services/jdesign-data.service\";\r\nimport { JdesignUtil2dService } from \"../../services/jdesign-util2d.service\";\r\nimport { CalculatorsService } from \"../../services/calculators.service\";\r\nimport { DomUpdateService } from \"../../services/dom-update.service\";\r\nimport { BackShortFunc } from \"./back.shortFunc\";\r\nimport { CornWinShortFunc } from \"./cornWin.shortFunc\";\r\nimport { DoorShortFunc } from \"./door.shortFunc\";\r\nimport { WinShortFunc } from \"./win.shortFunc\";\r\nimport { DWShortFunc } from \"./DW.shortFunc\";\r\nimport { FurnitureShortFunc } from \"./furniture.shortFunc\";\r\nimport { PointShortFunc } from \"./point.shortFunc\";\r\nimport { RoomShortFunc } from \"./room.shortFunc\";\r\nimport { WallShortFunc } from \"./wall.shortFunc\";\r\nimport { CommonShortFunc } from \"./common.shortFunc\";\r\nimport { CameraShortFuncs } from \"./camera.shortFuncs\";\r\nimport { BuildShortFunc } from \"./build.shortFunc\";\r\nimport { LUWinShortFunc } from \"./LUWin.shortFunc\";\r\n\r\n\r\nexport class DesignShortFunc {\r\n    constructor(\r\n        protected popService: PopDivService,\r\n        protected dataService: JdesignDataService,\r\n        protected DUService: JdesignUtil2dService,\r\n        protected calService: CalculatorsService,\r\n        protected domService: DomUpdateService\r\n    ) {\r\n        let back = new BackShortFunc(popService, dataService, calService, domService)\r\n        let cornWin = new CornWinShortFunc(dataService, calService, domService, popService)\r\n        let door = new DoorShortFunc(dataService, calService, domService, popService)\r\n        let win = new WinShortFunc(dataService, calService, domService, popService)\r\n        let DW = new DWShortFunc(popService, dataService, calService, domService)\r\n        let furniture = new FurnitureShortFunc(dataService, calService, domService, popService)\r\n        let point = new PointShortFunc(dataService, DUService, calService, domService)\r\n        let room = new RoomShortFunc(dataService, calService, domService)\r\n        let wall = new WallShortFunc(dataService, calService, domService, popService)\r\n        let common = new CommonShortFunc(dataService, calService, domService, popService)\r\n        let camera = new CameraShortFuncs(dataService, domService, DUService)\r\n        let build = new BuildShortFunc(dataService, calService, domService, popService)\r\n        let LWin = new LUWinShortFunc(dataService, calService, domService, popService, DUService)\r\n    }\r\n}","import { JdesignDataService } from \"../../services/jdesign-data.service\";\r\nimport { CalculatorsService } from \"../../services/calculators.service\";\r\nimport { DomUpdateService } from \"../../services/dom-update.service\";\r\nimport { JDesign } from \"../../svg/common/jdesign/JDesign\";\r\nimport { JDoor } from \"../../svg/common/jdesign/JDoor\";\r\nimport { PopDivService } from \"../../services/pop-div.service\";\r\n\r\n\r\nexport class DoorShortFunc {\r\n    constructor(\r\n        protected dataService: JdesignDataService,\r\n        protected calService: CalculatorsService,\r\n        protected domService: DomUpdateService,\r\n        protected popService: PopDivService\r\n    ) {\r\n        /* 删除门 */\r\n        this.dataService.cache.shortFuncs[\"delDoor\"] = (obj) => {\r\n            this.delDoor(obj)\r\n        }\r\n        /* 是否为门 */\r\n        this.dataService.cache.shortFuncs['isDoor'] = (obj: JDesign) => {\r\n            return obj.type == 'door'\r\n        }\r\n        /* 添加单门 */\r\n        this.dataService.cache.shortFuncs['addOneDoor'] = () => {\r\n            this.addOneDoor()\r\n            this.dataService.cache.doorWin.displayLabel = true\r\n        }\r\n        /* 添加双门 */\r\n        this.dataService.cache.shortFuncs['addTwoDoor'] = () => {\r\n            this.addTwoDoor()\r\n            this.dataService.cache.doorWin.displayLabel = true\r\n        }\r\n        /* 添加移门 */\r\n        this.dataService.cache.shortFuncs['addPullDoor'] = () => {\r\n            this.addPullDoor()\r\n            this.dataService.cache.doorWin.displayLabel = true\r\n        }\r\n        /* 添加字母门 */\r\n        this.dataService.cache.shortFuncs['addSonDoor'] = () => {\r\n            this.addSonDoor()\r\n            this.dataService.cache.doorWin.displayLabel = true\r\n        }\r\n        /* 添加门洞 */\r\n        this.dataService.cache.shortFuncs[\"addNoDoor\"] = () => {\r\n            this.addNoDoor()\r\n            this.dataService.cache.doorWin.displayLabel = true\r\n        }\r\n    }\r\n\r\n    /* 删除门 */\r\n    delDoor(obj: JDoor) {\r\n        this.calService.door.delWall(obj)\r\n        this.calService.door.del(obj)\r\n        this.popService.inputBoxs.emit([])\r\n        this.popService.buttons.emit(null)\r\n\r\n    }\r\n\r\n    /* 添加单门 */\r\n    addOneDoor() {\r\n        let size = { width: 800, height: 240, height3D: 2000 }\r\n        let modelUrl = 'https://www.3dhome360.com/LZN/model/door/door3/door3.DAE'\r\n        let plankImg = this.dataService.cmd.door.onePlankUrl\r\n        let plankType = 'normal'\r\n        let floorHeight = 0\r\n        let door = this.calService.door.createNewNormal({ size: size, svgImg: plankImg, plankType: plankType, modelUrl: modelUrl, floorHeight: floorHeight })\r\n        this.dataService.cache.common.choose = door\r\n        this.setNormal()\r\n    }\r\n\r\n    /* 添加门洞 */\r\n    addNoDoor() {\r\n        let size = { width: 800, height: 240, height3D: 2000 }\r\n        let plankType = 'normal'\r\n        let floorHeight = 0\r\n        let door = this.calService.door.createNewNormal({ size: size, style: plankType, isHaveFrame: false, floorHeight: floorHeight })\r\n        this.dataService.cache.common.choose = door\r\n        this.setNormal()\r\n    }\r\n\r\n    /* 添加双门 */\r\n    addTwoDoor() {\r\n        let size = { width: 1200, height: 240, height3D: 2000 }\r\n        let modelUrl = 'https://www.3dhome360.com/LZN/model/door/door3/door3.DAE'\r\n        let plankImg = this.dataService.cmd.door.twoPlankUrl\r\n        let plankType = \"twoDoor\"\r\n        let floorHeight = 0\r\n        let door = this.calService.door.createNewNormal({ size: size, svgImg: plankImg, plankType: plankType, modelUrl: modelUrl, floorHeight: floorHeight })\r\n        this.dataService.cache.common.choose = door\r\n        this.setNormal()\r\n    }\r\n\r\n    /* 添加子母门 */\r\n    addSonDoor() {\r\n        let size = { width: 1200, height: 240, height3D: 2000 }\r\n        let modelUrl = 'https://www.3dhome360.com/LZN/model/door/door3/door3.DAE'\r\n        let plankImg = this.dataService.cmd.door.momSonPlankUrl\r\n        let plankType = \"twoDoor\"\r\n        let floorHeight = 0\r\n        let door = this.calService.door.createNewNormal({ size: size, svgImg: plankImg, plankType: plankType, modelUrl: modelUrl, floorHeight: floorHeight })\r\n        this.dataService.cache.common.choose = door\r\n        this.setNormal()\r\n    }\r\n\r\n    /* 添加移门 */\r\n    addPullDoor() {\r\n        let size = { width: 1600, height: 240, height3D: 2000 }\r\n        let modelUrl = 'https://www.3dhome360.com/LZN/model/door/door3/door3.DAE'\r\n        let plankImg = this.dataService.cmd.door.pullPlankUrl\r\n        let plankType = \"pullDoor\"\r\n        let floorHeight = 0\r\n        let door = this.calService.door.createNewNormal({ size: size, svgImg: plankImg, plankType: plankType, modelUrl: modelUrl, floorHeight: floorHeight })\r\n        this.dataService.cache.common.choose = door\r\n        this.setNormal()\r\n    }\r\n\r\n    setNormal() {\r\n        this.dataService.cache.common.mode = 'normal'\r\n        this.dataService.cache.common.blockON = true\r\n        this.dataService.cache.common.firstPos = null\r\n        this.dataService.cmd.cowall.hide = true\r\n        this.domUpdate()\r\n    }\r\n\r\n    /** dom更新 */\r\n    domUpdate() {\r\n        this.domService.allSvg.emit()\r\n        this.popService.inputBoxs.emit([])\r\n        this.popService.buttons.emit(null)\r\n    }\r\n\r\n}","import { JdesignDataService } from \"../../services/jdesign-data.service\";\r\nimport { CalculatorsService } from \"../../services/calculators.service\";\r\nimport { DomUpdateService } from \"../../services/dom-update.service\";\r\nimport { JDesign } from \"../../svg/common/jdesign/JDesign\";\r\nimport { JFurniture3D } from \"../../three/jDesign3D/JFurniture3D\";\r\nimport { PopDivService } from \"../../services/pop-div.service\";\r\nimport { JFurnitureInitType } from \"../../svg/common/jdesign/JFurniture\";\r\n\r\nexport class FurnitureShortFunc {\r\n    constructor(\r\n        protected dataService: JdesignDataService,\r\n        protected calService: CalculatorsService,\r\n        protected domService: DomUpdateService,\r\n        protected popService: PopDivService\r\n    ) {\r\n        /* 删除家居 */\r\n        this.dataService.cache.shortFuncs[\"delFurn\"] = (obj) => {\r\n            this.delFurniture(obj)\r\n        }\r\n        /* 是否为家居 */\r\n        this.dataService.cache.shortFuncs[\"isFurn\"] = (obj: JDesign) => {\r\n            return obj.type == 'furniture'\r\n        }\r\n        /* 添加家居 */\r\n        this.dataService.cache.shortFuncs[\"addFurn\"] = (obj: JFurnitureInitType) => {\r\n            let furniture = this.calService.geometry.createNew('furniture', obj)\r\n            this.dataService.cache.common.choose = furniture\r\n            this.dataService.cache.common.mode = 'normal'\r\n            this.dataService.cache.common.blockON = true\r\n            this.dataService.cache.common.firstPos = null\r\n            this.dataService.cmd.cowall.hide = true\r\n            this.domService.allSvg.emit()\r\n            this.popService.inputBoxs.emit([])\r\n            this.popService.buttons.emit(null)\r\n        }\r\n    }\r\n\r\n    /* 删除家居 */\r\n    delFurniture(furniture: JFurniture3D) {\r\n        this.calService.geometry.del(furniture)\r\n        this.domService.allSvg.emit()\r\n    }\r\n}","import { JdesignDataService } from \"../../services/jdesign-data.service\";\r\nimport { JdesignUtil2dService } from \"../../services/jdesign-util2d.service\";\r\nimport { CalculatorsService } from \"../../services/calculators.service\";\r\nimport { DomUpdateService } from \"../../services/dom-update.service\";\r\nimport { JPoint } from \"../../svg/common/jdesign/JPoint\";\r\n\r\nexport class PointShortFunc {\r\n    constructor(\r\n        protected dataService: JdesignDataService,\r\n        protected DUService: JdesignUtil2dService,\r\n        protected calService: CalculatorsService,\r\n        protected domService: DomUpdateService\r\n    ) {\r\n        this.dataService.cache.shortFuncs[\"combineWall\"] = (obj) => {\r\n            this.combineWalls(obj)\r\n        }\r\n        this.dataService.cache.shortFuncs['isCombineWall'] = (obj) => {\r\n            return this.isCombineWalls(obj)\r\n        }\r\n    }\r\n\r\n    /** 连接墙体 */\r\n    combineWalls(point: JPoint) {\r\n        try {\r\n            this.calService.point.combineWalls(point)\r\n        }\r\n        catch (e) {\r\n            console.log(e)\r\n        }\r\n\r\n        this.domService.allSvg.emit()\r\n    }\r\n\r\n    /* 是否可连接 */\r\n    isCombineWalls(point: JPoint) {\r\n        let wallArr = point.getWallArr()\r\n        if (wallArr.length == 2) {\r\n            let radianA = wallArr[0].getRadian()\r\n            let radianB = wallArr[1].getRadian()\r\n            if (this.DUService.pos.isParallelRadian(radianA, radianB)) {\r\n                return true\r\n            }\r\n            else {\r\n                return false\r\n            }\r\n        }\r\n        /** 不等于两个墙的时候 */\r\n        else {\r\n            return false\r\n        }\r\n    }\r\n}","import { JdesignDataService } from \"../../services/jdesign-data.service\";\r\nimport { CalculatorsService } from \"../../services/calculators.service\";\r\nimport { DomUpdateService } from \"../../services/dom-update.service\";\r\nimport { JRoom3D } from \"../../three/jDesign3D/JRoom3D\";\r\nimport { JCowall } from \"../../svg/common/jdesign/JCowall\";\r\nimport { JRoom } from \"../../svg/common/jdesign/JRoom\";\r\n\r\nexport class RoomShortFunc {\r\n    constructor(\r\n        protected dataService: JdesignDataService,\r\n        protected calService: CalculatorsService,\r\n        protected domService: DomUpdateService\r\n    ) {\r\n        this.dataService.cache.shortFuncs[\"testFloor\"] = (obj) => {\r\n            console.log('没有了')\r\n        }\r\n        /* 阳台转换 */\r\n        this.dataService.cache.shortFuncs[\"balconyRoom\"] = (obj) => {\r\n            this.changeBalcony(obj)\r\n        }\r\n\r\n        this.dataService.cache.shortFuncs[\"changeNormalRoom\"] = (obj) => {\r\n            this.changeNormal(obj)\r\n        }\r\n        /* 改变房间名 */\r\n        this.dataService.cache.shortFuncs['setRoomType'] = (room: JRoom, type: string) => {\r\n            room.roomName = type\r\n            this.domService.allSvg.emit()\r\n        }\r\n        /* 获取名字 */\r\n        // this.dataService.cache.shortFuncs\r\n    }\r\n\r\n    /* 变阳台 */\r\n    changeBalcony(room: JRoom3D) {\r\n        let wallArr = room.getWallArr()\r\n        let cowallArr: JCowall[] = null\r\n        for (let i = 0; i < wallArr.length; i++) {\r\n            cowallArr = wallArr[i].getCowallArr()\r\n            if (cowallArr.length == 1) {\r\n                wallArr[i].mode = 'balcony'\r\n            }\r\n        }\r\n        this.domService.svgRoom.emit()\r\n        this.domService.svgWall.emit()\r\n    }\r\n\r\n    /* 变正常 */\r\n    changeNormal(room: JRoom3D) {\r\n        let wallArr = room.getWallArr()\r\n        for (let i = 0; i < wallArr.length; i++) {\r\n            wallArr[i].mode = 'normal'\r\n        }\r\n        this.domService.svgRoom.emit()\r\n        this.domService.svgWall.emit()\r\n    }\r\n\r\n}","import { JdesignDataService } from \"../../services/jdesign-data.service\";\r\nimport { CalculatorsService } from \"../../services/calculators.service\";\r\nimport { DomUpdateService } from \"../../services/dom-update.service\";\r\nimport { JWall } from \"../../svg/common/jdesign/JWall\";\r\nimport { PopDivService } from \"../../services/pop-div.service\";\r\n\r\nexport class WallShortFunc {\r\n    constructor(\r\n        protected dataService: JdesignDataService,\r\n        protected calService: CalculatorsService,\r\n        protected domService: DomUpdateService,\r\n        protected popService: PopDivService\r\n    ) {\r\n        /* 拆分墙 */\r\n        this.dataService.cache.shortFuncs[\"cutWall\"] = (wall: JWall) => {\r\n            this.cutWall(wall)\r\n        }\r\n        /* 删除 */\r\n        this.dataService.cache.shortFuncs[\"delWall\"] = (wall: JWall) => {\r\n            this.delWall(wall)\r\n        }\r\n        /* 转弧形墙 */\r\n        this.dataService.cache.shortFuncs[\"transArcWall\"] = (wall: JWall) => {\r\n            this.transArcWall(wall)\r\n        }\r\n        /* 是否为墙 */\r\n        this.dataService.cache.shortFuncs[\"isWall\"] = (wall: JWall) => {\r\n            return wall.type == 'wall'\r\n        }\r\n        /* 是否为弧墙 */\r\n        this.dataService.cache.shortFuncs[\"isArcWall\"] = (wall: JWall) => {\r\n            return wall.arcDistance != 0\r\n        }\r\n        /* 是否为直墙 */\r\n        this.dataService.cache.shortFuncs[\"isStraightWall\"] = (wall: JWall) => {\r\n            return wall.arcDistance == 0\r\n        }\r\n        /*获取墙类型 */\r\n        this.dataService.cache.shortFuncs['getWallType'] = (obj: JWall) => {\r\n            return obj.wallType\r\n        }\r\n        /* 设置墙类型 */\r\n        this.dataService.cache.shortFuncs['setWallType'] = (obj: JWall, num: number) => {\r\n            obj.wallType = num\r\n            this.domService.allSvg.emit()\r\n        }\r\n        /* 修改墙厚度 */\r\n        this.dataService.cache.shortFuncs['fixWallThickness'] = (obj: JWall, thickness: number) => {\r\n            obj.thickness = thickness\r\n            this.dataService.cache.floorplan.dataEmit.emit()\r\n            // this.domService.svgWall.emit()\r\n            // this.domService.svgCowall.emit()\r\n            this.domService.allSvg.emit()\r\n            this.dataService.cache.shortFuncs['setWallInput'](obj)\r\n            this.dataService.cache.cowall.update3D.emit()\r\n        }\r\n\r\n        /* 获取墙之间相邻的数量 */\r\n        this.dataService.cache.shortFuncs['getWallNearLen'] = (obj: JWall) => {\r\n            let points = obj.getPointArr()\r\n            let len = (points[0].getWallArr().length - 1) + (points[1].getWallArr().length - 1)\r\n            return len\r\n        }\r\n\r\n    }\r\n\r\n    /* 删除墙 */\r\n    delWall(wall: JWall) {\r\n        this.dataService.cache.common.choose = this.dataService.floorplan\r\n        this.calService.createRoom.createRoomByDelWall(wall)\r\n        this.dataService.cache.floorplan.dataEmit.emit()\r\n        this.initData()\r\n    }\r\n\r\n    /** 分墙 */\r\n    cutWall(wall: JWall) {\r\n        try {\r\n            this.calService.wall.cut.cutByPer(wall, 0.5)\r\n        }\r\n        catch (e) {\r\n            console.log(e)\r\n        }\r\n        this.dataService.cache.floorplan.dataEmit.emit()\r\n        this.domService.allSvg.emit()\r\n        this.dataService.cache.cowall.update3D.emit()\r\n    }\r\n\r\n    /* 转弧墙 */\r\n    transArcWall(wall: JWall) {\r\n        if (wall.arcDistance == 0) {\r\n            let distance = wall.getDistance()\r\n            distance = distance / 3\r\n            wall.transArc(distance)\r\n            // this.calService.wall.transArcWall(wall, distance)\r\n        }\r\n        else {\r\n            wall.arcDistance = 0\r\n        }\r\n        this.dataService.cache.floorplan.dataEmit.emit()\r\n        this.initData()\r\n    }\r\n\r\n    initData() {\r\n        // this.domService.svgPoint.emit()\r\n        // this.domService.svgWall.emit()\r\n        // this.domService.svgCowall.emit()\r\n        // this.domService.svgRoom.emit()\r\n        this.domService.allSvg.emit()\r\n        this.popService.inputBoxs.emit([])\r\n        this.popService.buttons.emit(undefined)\r\n        this.dataService.cache.wall.update3D.emit()\r\n        this.dataService.cache.cowall.update3D.emit()\r\n    }\r\n\r\n}","import { JdesignDataService } from \"../../services/jdesign-data.service\";\r\nimport { CalculatorsService } from \"../../services/calculators.service\";\r\nimport { DomUpdateService } from \"../../services/dom-update.service\";\r\nimport { JDesign } from \"../../svg/common/jdesign/JDesign\";\r\nimport { JWin } from \"../../svg/common/jdesign/JWin\";\r\nimport { PopDivService } from \"../../services/pop-div.service\";\r\n\r\n\r\nexport class WinShortFunc {\r\n    constructor(\r\n        protected dataService: JdesignDataService,\r\n        protected calService: CalculatorsService,\r\n        protected domService: DomUpdateService,\r\n        protected popService: PopDivService\r\n    ) {\r\n        /* 删除窗 */\r\n        this.dataService.cache.shortFuncs['delWin'] = (obj) => {\r\n            this.delWin(obj)\r\n        }\r\n        /* 是否为窗 */\r\n        this.dataService.cache.shortFuncs['isWin'] = (obj: JDesign) => {\r\n            return obj.type == 'win'\r\n        }\r\n        /* 添加普通窗 */\r\n        this.dataService.cache.shortFuncs[\"addNormalWin\"] = () => {\r\n            this.addNormalWin()\r\n            this.dataService.cache.doorWin.displayLabel = true\r\n        }\r\n        /* 添加飘窗 */\r\n        this.dataService.cache.shortFuncs[\"addBayWin\"] = () => {\r\n            this.addBayWin()\r\n            this.dataService.cache.doorWin.displayLabel = true\r\n        }\r\n        /* 添加落地窗 */\r\n        this.dataService.cache.shortFuncs[\"addFloorWin\"] = () => {\r\n            this.addFloorWin()\r\n            this.dataService.cache.doorWin.displayLabel = true\r\n        }\r\n       \r\n    }\r\n\r\n    /* 删除窗 */\r\n    delWin(obj: JWin) {\r\n        this.calService.win.delWall(obj)\r\n        this.calService.win.del(obj)\r\n        this.popService.inputBoxs.emit([])\r\n        this.popService.buttons.emit(null)\r\n        this.domService.allSvg.emit()\r\n    }\r\n\r\n    /* 添加窗 */\r\n    addNormalWin() {\r\n        let floorHeight = 500\r\n        let size = { width: 800, height: 240, height3D: 1500 }\r\n        let win = this.calService.win.createNewNormal({ size: size, svgImg: this.dataService.cmd.win.normalWinUrl, plankType: 'normal', floorHeight: floorHeight })\r\n        this.dataService.cache.common.choose = win\r\n        this.setNormal()\r\n    }\r\n\r\n    /* 添加飘窗 */\r\n    addBayWin() {\r\n        let floorHeight = 500\r\n        let size = { width: 1600, height: 240, height3D: 1500 }\r\n        let outThickness = 600\r\n        let outBoxThickness = 60\r\n        let win = this.calService.win.createNewNormal({\r\n            size: size,\r\n            svgImg: this.dataService.cmd.win.normalWinUrl,\r\n            plankType: 'bayWin',\r\n            floorHeight: floorHeight,\r\n            outThickness: outThickness,\r\n            outBoxThickness: outBoxThickness\r\n        })\r\n        this.dataService.cache.common.choose = win\r\n        this.setNormal()\r\n    }\r\n\r\n    /* 添加落地窗 */\r\n    addFloorWin() {\r\n        let size = { width: 2000, height: 240, height3D: 2800 }\r\n        let floorHeight = 0\r\n        let win = this.calService.win.createNewNormal({\r\n            svgImg: this.dataService.cmd.win.floorWinUrl,\r\n            size: size,\r\n            plankType: \"normal\",\r\n            floorHeight: floorHeight\r\n        })\r\n        this.dataService.cache.common.choose = win\r\n        this.setNormal()\r\n    }\r\n\r\n    setNormal() {\r\n        this.dataService.cache.common.mode = 'normal'\r\n        this.dataService.cache.common.blockON = true\r\n        this.dataService.cache.common.firstPos = null\r\n        this.dataService.cmd.cowall.hide = true\r\n        this.domUpdate()\r\n    }\r\n\r\n    /** dom更新 */\r\n    domUpdate() {\r\n        this.domService.allSvg.emit()\r\n        this.popService.inputBoxs.emit([])\r\n        this.popService.buttons.emit(null)\r\n    }\r\n}","import { Injectable } from '@angular/core';\r\nimport { JdesignDataService } from './jdesign-data.service';\r\nimport { WallCal } from '../svg/common/calculator/wall.cal';\r\nimport { CowallCal } from '../svg/common/calculator/cowall.cal';\r\nimport { JdesignUtil2dService } from './jdesign-util2d.service';\r\nimport { PointCal } from '../svg/common/calculator/point.cal';\r\nimport { RoomCal } from '../svg/common/calculator/room.cal';\r\nimport { PosCal } from '../svg/common/calculator/pos.cal';\r\nimport { AdsorbCal } from '../svg/common/calculator/adsorb.cal';\r\nimport { LineCal } from '../svg/common/calculator/line.cal';\r\nimport { CreateRoomCal } from '../svg/common/calculator/createRoom.cal';\r\nimport { DoorCal } from '../svg/common/calculator/door.cal';\r\nimport { WinCal } from '../svg/common/calculator/win.cal';\r\nimport { FurnitureCal } from '../svg/common/calculator/furniture.cal';\r\nimport { CornerWinCal } from '../svg/common/calculator/cornerWin.cal';\r\nimport { FloorplanCal } from '../svg/common/calculator/floorplan.cal';\r\nimport { TransDataCal } from '../svg/common/calculator/transData.cal';\r\nimport { GeometryCal } from '../svg/common/calculator/geometry.cal';\r\nimport { BuildCal } from '../svg/common/calculator/build.cal';\r\nimport { LWinCal } from '../svg/common/calculator/LWin.cal';\r\nimport { UndoRedoCal } from '../svg/common/calculator/undo.redo.cal';\r\nimport { UWinCal } from '../svg/common/calculator/uWin.cal';\r\nimport { ParamsModelCal } from '../svg/common/calculator/paramsModel.cal';\r\n\r\n@Injectable()\r\nexport class CalculatorsService {\r\n\r\n  private _wallCal = new WallCal(this, this.dataService, this.DUService)\r\n  private _cowallCal = new CowallCal(this, this.dataService, this.DUService)\r\n  private _pointCal = new PointCal(this, this.dataService, this.DUService)\r\n  private _roomCal = new RoomCal(this.dataService, this.DUService, this)\r\n  private _posCal = new PosCal(this.dataService, this.DUService, this)\r\n  private _absorbCal = new AdsorbCal(this.dataService, this.DUService, this)\r\n  private _lineCal = new LineCal(this, this.dataService, this.DUService)\r\n  private _createRoomCal = new CreateRoomCal(this.dataService, this.DUService, this)\r\n  private _doorCal = new DoorCal(this.dataService, this.DUService, this)\r\n  private _winCal = new WinCal(this.dataService, this.DUService, this)\r\n  private _furnitureCal = new FurnitureCal(this.dataService, this.DUService, this)\r\n  private _cornerWinCal = new CornerWinCal(this, this.dataService, this.DUService)\r\n  private _floorplanCal = new FloorplanCal(this.dataService, this.DUService, this)\r\n  private _transDataCal = new TransDataCal(this, this.dataService, this.DUService)\r\n  private _geometryCal = new GeometryCal(this.dataService, this.DUService, this)\r\n  private _buildCal = new BuildCal(this.dataService, this.DUService, this)\r\n  private _LWinCal = new LWinCal(this.dataService, this.DUService, this)\r\n  private _UWinCal = new UWinCal(this.dataService, this.DUService, this)\r\n  private _undoRedoCal = new UndoRedoCal(this.dataService, this.DUService, this, 20)\r\n  private _paramsModelCal = new ParamsModelCal(this.dataService, this.DUService, this)\r\n\r\n\r\n  constructor(\r\n    private dataService: JdesignDataService,\r\n    private DUService: JdesignUtil2dService,\r\n  ) { }\r\n\r\n  /** 墙计算器 */\r\n  get wall() {\r\n    return this._wallCal\r\n  }\r\n\r\n  /** cowall计算器 */\r\n  get cowall() {\r\n    return this._cowallCal\r\n  }\r\n\r\n  /** point计算器 */\r\n  get point() {\r\n    return this._pointCal\r\n  }\r\n\r\n  /** 空间计算器 */\r\n  get room() {\r\n    return this._roomCal\r\n  }\r\n\r\n  /** 坐标运算器 */\r\n  get pos() {\r\n    return this._posCal\r\n  }\r\n\r\n  /** 吸附运算 */\r\n  get absorb() {\r\n    return this._absorbCal\r\n  }\r\n\r\n  /* 线段计算器 */\r\n  get line() {\r\n    return this._lineCal\r\n  }\r\n\r\n  /* 生成房间运算 */\r\n  get createRoom() {\r\n    return this._createRoomCal\r\n  }\r\n\r\n  /* 门运算器 */\r\n  get door() {\r\n    return this._doorCal\r\n  }\r\n\r\n  /* 窗运算器 */\r\n  get win() {\r\n    return this._winCal\r\n  }\r\n\r\n  /* 家具运算器 */\r\n  get furniture() {\r\n    return this._furnitureCal\r\n  }\r\n\r\n  /* 物体运算器 */\r\n  get geometry() {\r\n    return this._geometryCal\r\n  }\r\n\r\n  /* 建筑物 */\r\n  get build() {\r\n    return this._buildCal\r\n  }\r\n\r\n  /* 转角飘窗运算器 */\r\n  get cornerWin() {\r\n    return this._cornerWinCal\r\n  }\r\n\r\n  /* 房型图运算器 */\r\n  get floorplan() {\r\n    return this._floorplanCal\r\n  }\r\n\r\n  /* L型窗运算器 */\r\n  get LWin() {\r\n    return this._LWinCal\r\n  }\r\n\r\n  /* u型窗运算器 */\r\n  get UWin() {\r\n    return this._UWinCal\r\n  }\r\n\r\n  /* 数据转换运算器 */\r\n  get transData() {\r\n    return this._transDataCal\r\n  }\r\n\r\n  /* 撤销还原运算器 */\r\n  get undoRedo() {\r\n    return this._undoRedoCal\r\n  }\r\n\r\n  /* 参数化模型运算器 */\r\n  get paramModel() {\r\n    return this._paramsModelCal\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n@Injectable()\r\nexport class Data3dService {\r\n\r\n  constructor() { }\r\n\r\n}\r\n","import { Injectable, EventEmitter } from '@angular/core';\r\n\r\n@Injectable()\r\nexport class DomUpdateService {\r\n\r\n  constructor() {\r\n    let key: string = null\r\n    let ingore = ['allSvg', 'constructor', 'three', 'svgInit', 'threeInit', \"mainSvg\"]\r\n    /* 检测 */\r\n    let checkDom = (key, ingoreArr) => {\r\n      for (let i = 0; i < ingoreArr.length; i++) {\r\n        if (key == ingoreArr[i])\r\n          return false\r\n      }\r\n      return true\r\n    }\r\n    /* 添加 */\r\n    let arr: string[] = []\r\n    for (key in this) {\r\n      if (checkDom(key, ingore)) {\r\n        arr.push(key)\r\n      }\r\n    }\r\n    /* 触发 */\r\n    this.allSvg.subscribe(() => {\r\n      for (let i = 0; i < arr.length; i++) {\r\n        this[arr[i]].emit()\r\n      }\r\n    })\r\n  }\r\n\r\n  /* svg主要更新 */\r\n  allSvg: EventEmitter<object> = new EventEmitter<object>()\r\n\r\n  /** svg背景更新 */\r\n  svgBack: EventEmitter<object> = new EventEmitter<object>()\r\n\r\n  /** svg点更新 */\r\n  svgPoint: EventEmitter<object> = new EventEmitter<object>()\r\n\r\n  /** svg主页面更新 */\r\n  mainSvg: EventEmitter<object> = new EventEmitter<object>()\r\n\r\n  /** svg墙更新 */\r\n  svgWall: EventEmitter<object> = new EventEmitter<object>()\r\n\r\n  /** svg影子墙更新 */\r\n  svgWallShadow: EventEmitter<object> = new EventEmitter<object>()\r\n\r\n  /** svg有序墙更新 */\r\n  svgCowall: EventEmitter<object> = new EventEmitter<object>()\r\n\r\n  /** svg影子有序墙更新 */\r\n  svgCowallShadow: EventEmitter<object> = new EventEmitter<object>()\r\n\r\n  /** svg空间更新 */\r\n  svgRoom: EventEmitter<object> = new EventEmitter<object>()\r\n\r\n  /** svg影子空间更新 */\r\n  svgRoomShadow: EventEmitter<object> = new EventEmitter<object>()\r\n\r\n  /** 遮挡层更新 */\r\n  svgBlock: EventEmitter<object> = new EventEmitter<object>()\r\n\r\n  /** 吸附线更新 */\r\n  absorbLine: EventEmitter<object> = new EventEmitter<object>()\r\n\r\n  /* 测试svg更新 */\r\n  testSvg: EventEmitter<object> = new EventEmitter<object>()\r\n\r\n  /* 门更新 */\r\n  svgDoor: EventEmitter<object> = new EventEmitter<object>()\r\n\r\n  /* 标签更新 */\r\n  svgLabels: EventEmitter<object> = new EventEmitter<object>()\r\n\r\n  /* 相机更新 */\r\n  svgCamera: EventEmitter<object> = new EventEmitter<object>()\r\n\r\n  /* 窗更新 */\r\n  svgWin: EventEmitter<object> = new EventEmitter<object>()\r\n\r\n  /* 家具更新 */\r\n  svgGeometry: EventEmitter<object> = new EventEmitter<object>()\r\n\r\n  /* 转角飘窗更新 */\r\n  svgCornerWin: EventEmitter<object> = new EventEmitter<object>()\r\n\r\n  /* LU窗更新 */\r\n  svgLUWin: EventEmitter<object> = new EventEmitter<object>()\r\n\r\n  /* 参数化模型更新 */\r\n  svgParamsModel: EventEmitter<object> = new EventEmitter<object>()\r\n\r\n  /* 3d更新 */\r\n  three: EventEmitter<object> = new EventEmitter<object>()\r\n\r\n  /* svg初始化完成 */\r\n  svgInit: EventEmitter<object> = new EventEmitter<object>()\r\n\r\n  /* three初始化完成 */\r\n  threeInit: EventEmitter<object> = new EventEmitter<object>()\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n@Injectable()\r\nexport class HotKeyService {\r\n\r\n  constructor() { }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\n\r\nimport { retry } from 'rxjs/operators';\r\n\r\n@Injectable()\r\nexport class HttpService {\r\n\r\n\r\n  private _dataUrls: UrlType\r\n  get dataUrls() { return this._dataUrls }\r\n  set dataUrls(data) { this._dataUrls = data }\r\n\r\n\r\n  constructor(private http: HttpClient) { }\r\n\r\n\r\n\r\n  /**\r\n   * 获取资源\r\n   * @param url 路径\r\n   * @param retryInt \r\n   * @param isMain 是否为主要路径,默认为false,如果不为主要路径,则路径自动加前缀mainUrl\r\n   */\r\n  getRes(url: string, retryInt: number = 3, isMain: boolean = false) {\r\n    url = isMain ? url : this.getRealUrl(url)\r\n    return this.http.get(url).pipe(retry(retryInt))\r\n  }\r\n\r\n  /* 获取真实路径 */\r\n  getRealUrl(url: string, mainUrl?: string) {\r\n    mainUrl = mainUrl ? mainUrl : this.dataUrls.mainUrl\r\n    url = url[0] == '/' ? mainUrl + url : mainUrl + '/' + url\r\n    return url\r\n  }\r\n\r\n}\r\n\r\nexport class UrlType {\r\n  mainUrl: string;\r\n  cmdUrl: string;\r\n  loadUrl: string;\r\n  panelLeftMenuUrl: string;\r\n  panelTopStyleUrl: string;\r\n  panelRightStyleUrl: string;\r\n  modelMainUrl: string;\r\n  furnitureModelUrl: string;\r\n  doorWinTypeUrl: string;\r\n  iconUrlsUrl: string;\r\n  threeAssetsMapUrl: string;\r\n  threeWallMap: string;\r\n  threeFootLineMap: string;\r\n  threeWinFrameMap: string;\r\n  threeDoorFrameMap: string;\r\n  threePlasterCorniceMap: string;\r\n  threeDoorFramePic: string;\r\n  threeWallPlastLinePic: string;\r\n  threeWallFootLinePic: string;\r\n  threeRoomFloorPic: string;\r\n  roomType: string;\r\n  threeRoomRoofPic: string;\r\n  threeWinMarblePic: string;\r\n  j2dUrl: string;\r\n  j2dMap: string;\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport * as designData from '../data/design.data'\r\nimport { JFloorplan3D } from '../three/jDesign3D/JFloorplan3D';\r\nimport { JCmd } from '../svg/common/jdesign/JCmd';\r\nimport { JDesign } from '../svg/common/jdesign/JDesign';\r\nimport { JCamera3D } from '../three/jDesign3D/JCamera3D';\r\nimport { JIcon } from '../svg/common/jdesign/JIcon';\r\nimport { JJSON } from '../svg/common/jdesign/JJSON';\r\n\r\n@Injectable()\r\nexport class JdesignDataService {\r\n\r\n  constructor() { }\r\n\r\n  private _floorplan: JFloorplan3D\r\n  /** floorPlan */\r\n  get floorplan() {\r\n    return this._floorplan\r\n  }\r\n\r\n  set floorplan(data) {\r\n    this._floorplan = data\r\n  }\r\n\r\n  private _camera: JCamera3D = null\r\n  get camera() {\r\n    return this._camera\r\n  }\r\n  set camera(data) {\r\n    this._camera = data\r\n  }\r\n\r\n  private _cmd: JCmd\r\n  /** cmd */\r\n  get cmd() {\r\n    return this._cmd\r\n  }\r\n\r\n  set cmd(data) {\r\n    this._cmd = data\r\n  }\r\n\r\n  private _icon: JIcon\r\n  /** icon */\r\n  get icon() { return this._icon }\r\n  set icon(data) { this._icon = data }\r\n\r\n  /** 缓存 */\r\n  get cache() { return designData.cache }\r\n\r\n  private _json: JJSON = new JJSON\r\n  /* json */\r\n  get json() { return this._json }\r\n  set json(data) { this._json = data }\r\n\r\n\r\n  // private _common: JCommon\r\n  // /** common */\r\n  // get common() { return this._common }\r\n  // set common(data) {\r\n  //   this._common = data\r\n  // }\r\n\r\n\r\n  /** 点================================================== */\r\n  get points() {\r\n    return designData.points\r\n  }\r\n\r\n  /** points操作 */\r\n  doPoints() {\r\n    let type = 'points'\r\n    let obj = []\r\n    /* 获取有两个的cowall的点 */\r\n    obj['twoCowalls'] = () => {\r\n      let points = []\r\n      for (let key in this.points) {\r\n        if (this.points[key].cowallIDs.length == 2) {\r\n          points.push(this.points[key])\r\n        }\r\n      }\r\n      return points\r\n    }\r\n    let func = this.getFunc(type, obj)\r\n    return func\r\n  }\r\n\r\n\r\n  /** 有序墙=========================================== */\r\n  get cowalls() {\r\n    return designData.cowalls\r\n  }\r\n\r\n  /** cowall操作 */\r\n  doCowalls() {\r\n    let type = 'cowalls'\r\n    let func = this.getFunc(type)\r\n    return func\r\n  }\r\n\r\n\r\n  /** 墙==================================================== */\r\n  get walls() {\r\n    return designData.walls\r\n  }\r\n\r\n  /** wall操作 */\r\n  doWalls() {\r\n    let type = 'walls'\r\n    let func = this.getFunc(type)\r\n    return func\r\n  }\r\n\r\n\r\n  /** 空间========================================================== */\r\n  get rooms() {\r\n    return designData.rooms\r\n  }\r\n\r\n  /** room操作 */\r\n  doRooms() {\r\n    let type = 'rooms'\r\n    let func = this.getFunc(type)\r\n    return func\r\n  }\r\n\r\n\r\n  /** 地板================================================================ */\r\n  get floors() {\r\n    return designData.floors\r\n  }\r\n\r\n  /** 地板操作 */\r\n  doFloors() {\r\n    let type = 'floors'\r\n    let func = this.getFunc(type)\r\n    return func\r\n  }\r\n\r\n  /* 天花 */\r\n  get roofs() {\r\n    return designData.roofs\r\n  }\r\n\r\n  /* 天花操作 */\r\n  doRoofs() {\r\n    let type = 'roofs'\r\n    let func = this.getFunc(type)\r\n    return func\r\n  }\r\n\r\n  /** 门===================================================================== */\r\n  get doors() {\r\n    return designData.doors\r\n  }\r\n\r\n  /** 门操作 */\r\n  doDoors() {\r\n    let type = 'doors'\r\n    let func = this.getFunc(type)\r\n    return func\r\n  }\r\n\r\n  /** 窗====================================================================== */\r\n  get wins() {\r\n    return designData.wins\r\n  }\r\n\r\n  /** 窗操作 */\r\n  doWins() {\r\n    let type = 'wins'\r\n    let func = this.getFunc(type)\r\n    return func\r\n  }\r\n\r\n  /** 家具==================================================================== */\r\n  get furnitures() {\r\n    return designData.furnitures\r\n  }\r\n\r\n  /** 家具操作 */\r\n  doFurnitures() {\r\n    let type = 'furnitures'\r\n    let func = this.getFunc(type)\r\n    return func\r\n  }\r\n\r\n  /** 建筑物=========================================================== */\r\n  get builds() {\r\n    return designData.builds\r\n  }\r\n\r\n  /** 建筑物操作 */\r\n  doBuilds() {\r\n    let type = 'builds'\r\n    let func = this.getFunc(type)\r\n    return func\r\n  }\r\n\r\n  /** 转角飘窗 */\r\n  get cornerWins() {\r\n    return designData.cornerWins\r\n  }\r\n\r\n  /** 转角飘窗操作 */\r\n  doCornerWins() {\r\n    let type = 'cornerWins'\r\n    let func = this.getFunc(type)\r\n    return func\r\n  }\r\n\r\n  /* L窗 */\r\n  get LWins() {\r\n    return designData.LWins\r\n  }\r\n  /* L窗操作 */\r\n  doLWins() {\r\n    let type = 'LWins'\r\n    let func = this.getFunc(type)\r\n    return func\r\n  }\r\n\r\n  /* U窗 */\r\n  get UWins() {\r\n    return designData.UWins\r\n  }\r\n\r\n  /* U窗操作 */\r\n  doUWins() {\r\n    let type = 'UWins'\r\n    let func = this.getFunc(type)\r\n    return func\r\n  }\r\n\r\n  get paramsModels() {\r\n    return designData.paramsModels\r\n  }\r\n\r\n  doParamsModels() {\r\n    let type = 'paramsModels'\r\n    let func = this.getFunc(type)\r\n    return func\r\n  }\r\n\r\n\r\n  /** 方法操作======================================================================== */\r\n  /** 设置清空 */\r\n  private setClean(type: string) {\r\n    let data: any[] = []\r\n    let key: string = null\r\n    for (key in designData[type]) {\r\n      delete designData[type][key]\r\n    }\r\n  }\r\n\r\n  /** 获取数组 */\r\n  private getArr(type: string, ...reObjs: JDesign[]) {\r\n    let data: any[] = []\r\n    let key: string = null\r\n    for (key in designData[type]) {\r\n      let same = false\r\n      for (let i = 0; i < reObjs.length; i++) {\r\n        /* 删除排除的 */\r\n        if (reObjs[i].id == key) {\r\n          same = true\r\n          reObjs.splice(i, 1)\r\n          break;\r\n        }\r\n      }\r\n      /* 不相同则添加 */\r\n      if (!same)\r\n        data.push(designData[type][key])\r\n    }\r\n    return data\r\n  }\r\n\r\n  /** 统一数组 */\r\n  private getFunc(type: string, funcPlus?: any) {\r\n    let func = {\r\n      /** 清除 */\r\n      clear: () => {\r\n        this.setClean(type)\r\n        return func\r\n      },\r\n      /** 数组 */\r\n      arr: (...reObj: JDesign[]) => {\r\n        let data = this.getArr(type, ...reObj)\r\n        return data\r\n      },\r\n      urgentUpdate: (...reObj: JDesign[]) => {\r\n        let idArr: string[] = []\r\n        for (let key in designData[type]) {\r\n          designData[type][key].urgentUpdate.emit()\r\n        }\r\n      },\r\n      /** 其他 */\r\n      other: funcPlus ? funcPlus : null\r\n      /* 数组id */\r\n\r\n    }\r\n\r\n    return func\r\n  }\r\n\r\n\r\n}\r\n\r\n\r\n\r\n\r\n","import { Injectable } from '@angular/core';\r\nimport { newPosUtil, newCalUtil, newSvgUtil, newConsoleUtil, newObjUtil, newAbsorbUtil, newParseJ2D, /*newObjUtil*/ } from '../data/util2d.data';\r\n\r\n@Injectable()\r\nexport class JdesignUtil2dService {\r\n\r\n  constructor() {\r\n  }\r\n\r\n  /** 坐标工具 */\r\n  get pos() { return newPosUtil }\r\n\r\n  /** 运算工具 */\r\n  get cal() { return newCalUtil }\r\n\r\n  /** svg工具 */\r\n  get svg() {\r\n    return newSvgUtil\r\n  }\r\n\r\n  /** 打印工具 */\r\n  get out() {\r\n    return newConsoleUtil\r\n  }\r\n\r\n  /* 对象工具 */\r\n  get obj() {\r\n    return newObjUtil\r\n  }\r\n\r\n  /* 吸附工具 */\r\n  get absorb() {\r\n    return newAbsorbUtil\r\n  }\r\n\r\n  get parseJ2D() {\r\n    return newParseJ2D\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n@Injectable()\r\nexport class MessageService {\r\n\r\n  constructor() { }\r\n\r\n}\r\n","import { Injectable, EventEmitter } from '@angular/core';\r\nimport { popRightData, panelTopData, PanelTopFuncData } from '../data/pop.data';\r\nimport { HttpClient } from '@angular/common/http';\r\n\r\n\r\n\r\n@Injectable()\r\nexport class PopDivService {\r\n\r\n  private _inputBoxsCache: {\r\n    pos: { x: number, y: number };\r\n    func: (params: any) => void;\r\n    value: number | string;\r\n    focus?: boolean;\r\n    index: number;\r\n  }[] = []\r\n\r\n  private _buttonsCache: {\r\n    outArea: any;\r\n    content: any[]\r\n  } = null\r\n\r\n  private _transPos: (pos: { x: number, y: number }) => { x: number, y: number }\r\n  get transPos() { return this._transPos }\r\n  set transPos(data) { this._transPos = data }\r\n\r\n  constructor(\r\n    private http: HttpClient\r\n  ) {\r\n    this.inputBoxs.subscribe((data) => {\r\n      if (data == null || data.length == 0) {\r\n        this.inputBoxsCache = []\r\n      }\r\n    })\r\n\r\n    this.buttons.subscribe((data) => {\r\n      if (data == null)\r\n        this.buttonsCache = null\r\n    })\r\n  }\r\n\r\n  /** 右键菜单 */\r\n  rightClick: EventEmitter<object> = new EventEmitter<object>()\r\n  /** 顶边菜单 */\r\n  panelTop: EventEmitter<object> = new EventEmitter<object>()\r\n  /** 独立输入框 */\r\n  inputBoxs: EventEmitter<object> = new EventEmitter<object>()\r\n  /* 信息提示框 */\r\n  message: EventEmitter<object> = new EventEmitter<object>()\r\n  /* 背景图框架 */\r\n  backImg: EventEmitter<object> = new EventEmitter<object>()\r\n  /* 按键 */\r\n  buttons: EventEmitter<object> = new EventEmitter<object>()\r\n  /* 视图缩放 */\r\n  thumbnail: EventEmitter<object> = new EventEmitter<object>()\r\n  /* 右边菜单 */\r\n  panelRight: EventEmitter<object> = new EventEmitter<object>()\r\n  /* 接受传过来的右边菜单 */\r\n  panelRightData: EventEmitter<object> = new EventEmitter<object>()\r\n  /* 正在加载页面 */\r\n  loadingPage: EventEmitter<object> = new EventEmitter<object>()\r\n  /* 左边按钮 */\r\n  leftBtn: EventEmitter<object> = new EventEmitter<object>()\r\n  /* 左边产品列表 */\r\n  leftMenuType: EventEmitter<object> = new EventEmitter<object>()\r\n  /* 左边细节 */\r\n  leftProduct: EventEmitter<object> = new EventEmitter<object>()\r\n  /* 左边列表 */\r\n  leftMenuList: EventEmitter<object> = new EventEmitter<object>()\r\n  /* 左边画图工具 */\r\n  panelLeftDraw: EventEmitter<object> = new EventEmitter<object>()\r\n  /* 左边沙发数据 */\r\n  panelLeftSofaData: EventEmitter<object> = new EventEmitter<object>()\r\n  /* 左边数据 */\r\n  panelLeft: EventEmitter<object> = new EventEmitter<object>()\r\n  /**新的左边数据 */\r\n  sendLeftData: EventEmitter<object> = new EventEmitter<object>()\r\n  /**点击图标后的数据更新 */\r\n  clickLeftData: EventEmitter<object> = new EventEmitter<object>()\r\n  /**点击左侧图标获得数据 */\r\n  getLeftData: EventEmitter<object> = new EventEmitter<object>()\r\n  /*** 鼠标悬停和离开家具类型时*/\r\n  hoverLeftData: EventEmitter<object> = new EventEmitter<object>()\r\n  /**点击更换材质图片时触发 */\r\n  getMaterial: EventEmitter<object> = new EventEmitter<object>()\r\n  /* 测试输入按钮 */\r\n  testInputBtn: EventEmitter<object> = new EventEmitter<object>()\r\n  /**底部按钮***/\r\n  panelBottom: EventEmitter<object> = new EventEmitter<object>();\r\n  /**提示信息*/\r\n  cueInfo:EventEmitter<object> = new EventEmitter<object>();\r\n\r\n\r\n  /** 右键菜单图标数据 */\r\n  get rigthClickData() {\r\n    return popRightData\r\n  }\r\n\r\n  /** 顶上菜单图标数据 */\r\n  get panelTopData() {\r\n    return panelTopData\r\n  }\r\n\r\n\r\n\r\n  /** 获取panelTopFuncData */\r\n  getPanelTopFuncData() {\r\n    return PanelTopFuncData\r\n  }\r\n\r\n\r\n  /** 自定义inputBox容器 */\r\n  get inputBoxsCache() {\r\n    return this._inputBoxsCache\r\n  }\r\n  set inputBoxsCache(data) {\r\n    this._inputBoxsCache = data\r\n  }\r\n\r\n  /** inputBox转换器 */\r\n  setInputBoxs() {\r\n    if (this.inputBoxsCache.length == 0)\r\n      return this.inputBoxs.emit([])\r\n    let newDatas = []\r\n    let data = null\r\n    for (let i = 0; i < this.inputBoxsCache.length; i++) {\r\n      data = {\r\n        position: this.transPos(this.inputBoxsCache[i].pos),\r\n        index: this.inputBoxsCache[i].index,\r\n        value: this.inputBoxsCache[i].value,\r\n        css: {\r\n          \"width\": 50,\r\n          \"height\": 18\r\n        },\r\n        isAutoFocus: this.inputBoxsCache[i].focus == undefined ? false : this.inputBoxsCache[i].focus,\r\n        func: this.inputBoxsCache[i].func,\r\n        focus: this.inputBoxsCache[i].focus\r\n      }\r\n      newDatas.push(data)\r\n    }\r\n    return this.inputBoxs.emit(newDatas)\r\n  }\r\n\r\n  /* 自定义按钮容器 */\r\n  get buttonsCache() { return this._buttonsCache }\r\n  set buttonsCache(data) { this._buttonsCache = data }\r\n\r\n  /* 按钮转换器 */\r\n  setButtons() {\r\n    if (this.buttonsCache == null)\r\n      return this.buttons.emit(null)\r\n\r\n    let newData = {\r\n      outArea: this.buttonsCache.outArea,\r\n      content: this.buttonsCache.content,\r\n      // index:this.buttonsCache.\r\n    }\r\n    newData.outArea.position = this.transPos(newData.outArea.position)\r\n    return this.buttons.emit(newData)\r\n  }\r\n\r\n\r\n}\r\n","import { Injectable, EventEmitter } from '@angular/core';\r\n\r\n@Injectable()\r\nexport class RightMenuService {\r\n\r\n  constructor() { }\r\n\r\n  /** 点右键 */\r\n  point: EventEmitter<object> = new EventEmitter<object>()\r\n\r\n  /** 墙右键 */\r\n  wall: EventEmitter<object> = new EventEmitter<object>()\r\n\r\n  /** 空间右键 */\r\n  room: EventEmitter<object> = new EventEmitter<object>()\r\n\r\n  /** 背景右键 */\r\n  back: EventEmitter<object> = new EventEmitter<object>()\r\n\r\n  /** 门右键 */\r\n  door: EventEmitter<object> = new EventEmitter<object>()\r\n\r\n  /** 窗右键 */\r\n  win: EventEmitter<object> = new EventEmitter<object>()\r\n\r\n  /** 家具 */\r\n  furniture: EventEmitter<object> = new EventEmitter<object>()\r\n\r\n  /** 转角飘窗 */\r\n  cornWin: EventEmitter<object> = new EventEmitter<object>()\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n@Injectable()\r\nexport class SaveDataService {\r\n\r\n  constructor() { }\r\n\r\n}\r\n","import { DesignCommon as DC } from '../class/DesignCommon'\r\nimport { PosUtil } from './PosUtil';\r\n\r\n/** 吸附工具类 */\r\nexport class AbsorbUtil {\r\n    /**\r\n     * 点与线段吸附\r\n     * @param point \r\n     * @param lines \r\n     * @param minstance 不写则返回最短的\r\n     */\r\n    constructor(private posUtil: PosUtil) {\r\n\r\n    }\r\n\r\n    /**\r\n     * 基本吸附框架,\r\n     * @param minDistance 最小值,没有时,直接返回最小值,有则比较,比较大则为undefined\r\n     * @param arr 数组\r\n     * @param absorbFunc 需要添加的算法  { pos: DC.Pos, powDistance: number }\r\n     * @returns index为lines的下标,distance为最小距离,pos为吸附坐标,没有将返回undefined\r\n     */\r\n    private commonAbsorb(arr: any[], absorbFunc: (obj) => { pos: DC.Pos, distance: number, isBreak?: boolean }, minDistance?: number) {\r\n        /** 没有数据返回undefined */\r\n        if (arr.length == 0)\r\n            return undefined\r\n        let mainIndex: number = undefined\r\n        let mainDistance: number = undefined\r\n        let mainPos: DC.Pos = undefined\r\n        /** 对比 */\r\n        for (let i = 0; i < arr.length; i++) {\r\n            let msg = absorbFunc(arr[i])\r\n            if (msg && (mainDistance == undefined || mainDistance > msg.distance)) {\r\n                mainIndex = i;\r\n                mainDistance = msg.distance\r\n                mainPos = msg.pos\r\n            }\r\n            if (msg && msg.isBreak) {\r\n                break\r\n            }\r\n        }\r\n        /** 判断是否比minstance */\r\n        /** 如果没有minstance或者比最小还小,直接返回 */\r\n        if (minDistance == undefined || (mainDistance != undefined && mainDistance <= minDistance)) {\r\n            return {\r\n                index: mainIndex,\r\n                distance: mainDistance,\r\n                pos: mainPos\r\n            }\r\n        }\r\n        /** 否则返回undefined */\r\n        else {\r\n            return undefined\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 点与线段(直线)吸附\r\n     * @param point \r\n     * @param lines \r\n     * @param isStraight 是否为直线,false为线段,true为直线\r\n     * @param minDistance 最小值,没有时,直接返回最小值,有则比较,比较大则为undefined\r\n     * @returns index为lines的下标,distance为最小距离,pos为吸附坐标,没有将返回undefined\r\n     */\r\n    pointAndLines(point: DC.Pos, lines: DC.Pos[][], isStraight: boolean, minDistance?: number) {\r\n        let func = (line: DC.Pos[]) => {\r\n            let pos: DC.Pos = undefined\r\n            /** 直线 */\r\n            if (isStraight) {\r\n                pos = this.posUtil.getRightAngleIntersect(point, line[0], line[1])\r\n            }\r\n            /** 线段 */\r\n            else {\r\n                pos = this.posUtil.getPointToLinePos(point, line[0], line[1])\r\n            }\r\n            let distance = this.posUtil.getDistance(point, pos)\r\n            return {\r\n                pos: pos,\r\n                distance: distance\r\n            }\r\n        }\r\n        return this.commonAbsorb(lines, func, minDistance)\r\n    }\r\n\r\n    /**\r\n     * 点与点吸附\r\n     * @param point \r\n     * @param pointArr \r\n     * @param minDistance 最小值,没有时,直接返回最小值,有则比较,比较大则为undefined\r\n     * @returns index为lines的下标,distance为最小距离,pos为吸附坐标,没有将返回undefined\r\n     */\r\n    pointAndPoints(point: DC.Pos, pointArr: DC.Pos[], minDistance?: number) {\r\n        let func = (pointShadow: DC.Pos) => {\r\n            let distance = this.posUtil.getDistance(point, pointShadow)\r\n            return {\r\n                distance: distance,\r\n                pos: pointShadow\r\n            }\r\n        }\r\n        return this.commonAbsorb(pointArr, func, minDistance)\r\n    }\r\n\r\n    /**\r\n     * 线弧度吸附\r\n     * @param lineStart \r\n     * @param lineEnd \r\n     * @param radian \r\n     * @param minDistance \r\n     * @returns 返回吸附的坐标,没有返回undefined\r\n     */\r\n    lineAndRadian(lineStart: DC.Pos, lineEnd: DC.Pos, radian: number, minDistance?: number) {\r\n        let rayPos = this.posUtil.getRayPos(lineStart, radian, 10)\r\n        let msg = this.pointAndLines(lineEnd, [[lineStart, rayPos]], true, minDistance)\r\n        if (msg != undefined) {\r\n            return msg.pos\r\n        }\r\n        return undefined\r\n    }\r\n\r\n    /**\r\n     * 点与弧线吸附\r\n     * @param pos \r\n     * @param lines \r\n     * @param minDistance \r\n     * @returns 返回lines中最近的下标,没有返回undefined\r\n     */\r\n    pointAndArcLines(pos: DC.Pos, lines: ArcLineType[], minDistance?: number) {\r\n        let minDifferenDistance: number = undefined\r\n        /** 获取面积 */\r\n        let getAreaFunc = (posA: DC.Pos, posB: DC.Pos, posC: DC.Pos) => {\r\n            let area = ((posA.x * (posB.y - posC.y)) + (posB.x * (posC.y - posA.y)) + (posC.x * (posA.y - posB.y))) / 2\r\n            return area\r\n        }\r\n        /** 是否有更小值 */\r\n        let isMinFunc = (line: ArcLineType, minLine: ArcLineType) => {\r\n            let vector: DC.Pos = { x: pos.x - line.circlePos.x, y: pos.y - line.circlePos.y }\r\n            let distance = Math.sqrt(Math.pow(vector.x, 2) + Math.pow(vector.y, 2))\r\n            let differenDistance = Math.abs(distance - line.radius)\r\n            if (minDistance == undefined || differenDistance < minDistance) {\r\n                if ((minDifferenDistance == undefined || differenDistance < minDifferenDistance) && getAreaFunc(line.lineStart, pos, line.lineEnd) > 0) {\r\n                    if (minLine == undefined || distance < minLine.radius) {\r\n                        minDifferenDistance = differenDistance\r\n                        return true\r\n                    }\r\n                    else\r\n                        return false\r\n                }\r\n            }\r\n            return false\r\n        }\r\n        let minLine: ArcLineType = undefined\r\n        let index: number = undefined\r\n        for (let i = 0; i < lines.length; i++) {\r\n            let a = isMinFunc(lines[i], minLine)\r\n            /** 有更小值 */\r\n            if (a) {\r\n                index = i\r\n                minLine = lines[i]\r\n            }\r\n        }\r\n        return index\r\n    }\r\n\r\n    /**\r\n     * 射线与线吸附\r\n     * @param rayLine 射线(有分先后)\r\n     * @param lines 线集合\r\n     * @param minDistance 最小距离,没有默认返回计算的最小距离\r\n     * @returns 返回lines中最近的下标,没有返回undefined\r\n     */\r\n    rayLineAndLine(rayLine: DC.Pos[], lines: DC.Pos[][], minDistance?: number) {\r\n        let rayDistance = this.posUtil.getDistance(rayLine[0], rayLine[1])\r\n        let newLine = this.posUtil.getlongLine(rayLine)\r\n        let func = (line: DC.Pos[]) => {\r\n            /** 先相交获取点 */\r\n            let intersectPos = this.posUtil.getIntersect(newLine[0], newLine[1], line[0], line[1], false)\r\n            /** 要有相交才有可能开始 */\r\n            if (intersectPos) {\r\n                /** 先判断是否同向 */\r\n                let vector = this.posUtil.vector2D(rayLine[0]).sub(rayLine[1])\r\n                let intersectVector = this.posUtil.vector2D(rayLine[0]).sub(intersectPos)\r\n                let a = vector.Multiply(intersectVector)\r\n                /** 反方向就不能吸附 */\r\n                if (a < 0)\r\n                    return undefined\r\n                /** 比较长度 */\r\n                let intersectDistance = this.posUtil.getDistance(rayLine[0], intersectPos)\r\n                let b = Math.abs(rayDistance - intersectDistance)\r\n                return {\r\n                    distance: b,\r\n                    pos: intersectPos\r\n                }\r\n            }\r\n            return undefined\r\n        }\r\n        return this.commonAbsorb(lines, func, minDistance)\r\n    }\r\n\r\n    /**\r\n     * 线与线吸附,先判断是否相交(最优先,有就返回),再判断线段与另外的线段形成的扩大矩形进行碰撞 ,有返回\r\n     * @param mainLine \r\n     * @param lines \r\n     * @param rectDistance 形成扩大矩形进行碰撞,最大值不要超过(999999)\r\n     * @returns 返回的distance为负值,相交时distance为-9999999999999\r\n     */\r\n    lineAndLine(mainLine: DC.Pos[], lines: DC.Pos[][], rectDistance: number) {\r\n        let func = (line: DC.Pos[]) => {\r\n            // let intersectPos = this.posUtil.getIntersect(mainLine[0], mainLine[1], line[0], line[1], false)\r\n            // /* 相交就可以立刻返回了 */\r\n            // if (intersectPos) {\r\n            //     return {\r\n            //         distance: -9999999999999,\r\n            //         pos: intersectPos,\r\n            //         isBreak: true\r\n            //     }\r\n            // }\r\n            // else {\r\n            let minDistance: number = undefined\r\n            let minPos: DC.Pos = undefined\r\n            /* 生成 */\r\n            let rect = this.getRectPos(line, rectDistance)\r\n            let newLine = [rect[3], rect[0]]\r\n            /* 是否整线段都在rect里面 */\r\n            let a = this.posUtil.isInPosArrByPos(mainLine[0], rect)\r\n            let b = this.posUtil.isInPosArrByPos(mainLine[1], rect)\r\n            /* 判断 */\r\n            if (a && b) {\r\n                return {\r\n                    distance: -99999999,\r\n                    pos: mainLine[0],\r\n                    isBreak: true\r\n                }\r\n            }\r\n            /* 不是的话继续运算 */\r\n            /* 循环遍历 */\r\n            for (let i = 0; i < rect.length - 1; i++) {\r\n                let intersectPos = this.posUtil.getIntersect(mainLine[0], mainLine[1], newLine[0], newLine[1], false)\r\n                if (intersectPos) {\r\n                    let checkPos = a ? mainLine[0] : mainLine[1]\r\n                    let checkDistance = -this.posUtil.getDistance(checkPos, intersectPos)\r\n                    if (minDistance == undefined || minDistance > checkDistance) {\r\n                        minDistance = checkDistance\r\n                        minPos = intersectPos\r\n                    }\r\n                }\r\n                newLine = [rect[i], rect[i + 1]]\r\n                // }\r\n            }\r\n            /* 有值就记录 */\r\n            if (minPos) {\r\n                return {\r\n                    distance: minDistance,\r\n                    pos: minPos\r\n                }\r\n            }\r\n            /* 没有返回空值 */\r\n            return undefined\r\n        }\r\n        return this.commonAbsorb(lines, func)\r\n    }\r\n\r\n    /* 获取扩大矩形点,用于线与线吸附 */\r\n    private getRectPos(line: DC.Pos[], rectDistance: number) {\r\n        line = this.posUtil.getlongLine(line, rectDistance)\r\n        let newLineA = this.posUtil.getPosTrans(line[0], line[1], rectDistance)\r\n        let newLineB = this.posUtil.getPosTrans(line[0], line[1], -rectDistance)\r\n        let newPoints: DC.Pos[] = []\r\n        newPoints.push(newLineA[0], newLineA[1], newLineB[1], newLineB[0])\r\n        let area = this.posUtil.getArea(...newPoints)\r\n        if (area < 0)\r\n            newPoints = newPoints.reverse()\r\n        return newPoints\r\n    }\r\n}\r\n\r\nexport class ArcLineType {\r\n    circlePos: DC.Pos;\r\n    radius: number;\r\n    lineStart: DC.Pos;\r\n    lineEnd: DC.Pos;\r\n}","/** 运算工具类 */\r\nexport class CalUtil {\r\n    /** 字符串数组序数化 */\r\n    getStringArrByNum(obj) {\r\n        let newArr: any[] = []\r\n        let key: string = null\r\n        for (key in obj) {\r\n            newArr.push(obj[key])\r\n        }\r\n        return newArr\r\n    }\r\n\r\n    /** 数组去重复(多个重复不在话下) */\r\n    unique<T>(arr: T[]): T[] {\r\n        let result: T[] = [], hash = {};\r\n        for (let i = 0, elem; (elem = arr[i]) != null; i++) {\r\n            if (!hash[elem]) {\r\n                result.push(elem);\r\n                hash[elem] = true;\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /** 数组去重复(多个重复不在话下) */\r\n    uniqueByAttr<T>(arr: T[], attr: string): T[] {\r\n        let result: T[] = [], hash = {};\r\n        for (let i = 0, elem; (elem = arr[i]) != null; i++) {\r\n            if (!hash[elem[attr]]) {\r\n                result.push(elem);\r\n                hash[elem[attr]] = true;\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /* 删除空值数组 */\r\n    removeUndefined(arr: any[]) {\r\n        for (let i = arr.length - 1; i >= 0; i--) {\r\n            if (arr[i] == undefined) {\r\n                arr.splice(i, 1)\r\n            }\r\n        }\r\n    }\r\n\r\n    /** 是否包含 包含返回位置i,不包含返回null */\r\n    isInclude(arr: any[], text: string) {\r\n\r\n        for (let i = 0; i < arr.length; i++) {\r\n            if (arr[i] == text)\r\n                return i\r\n        }\r\n\r\n        return null\r\n    }\r\n\r\n    /** 数组元素是否包含 不包含返回null,包含返回第一个位置下标 */\r\n    isIncludeByAttr(attr: string | number, text: string | number, ...arr: any[]) {\r\n        for (let i = 0; i < arr.length; i++) {\r\n            if (arr[i][attr] == text)\r\n                return i\r\n        }\r\n\r\n        return null\r\n    }\r\n\r\n    /** 删除指定元素(可以删除多个相同的) */\r\n    removeByValue(arr: any[], value) {\r\n        for (let i = arr.length - 1; i >= 0; i--) {\r\n            if (arr[i] == value) {\r\n                arr.splice(i, 1)\r\n            }\r\n        }\r\n    }\r\n\r\n    /** 通过属性删除指定元素(可以删除多个相同的) */\r\n    removeByAttr(arr: any[], attr: string, value) {\r\n        for (let i = arr.length - 1; i >= 0; i--) {\r\n            if (arr[i][attr] == value) {\r\n                arr.splice(i, 1)\r\n            }\r\n        }\r\n    }\r\n\r\n    /** 数组值是否都一样 */\r\n    isSameArr(arr: any[]) {\r\n        let value = arr[0]\r\n        for (let i = 1; i < arr.length; i++) {\r\n            if (value != arr[i])\r\n                return false\r\n        }\r\n        return true\r\n    }\r\n\r\n    /** 数组参数是否都一样 */\r\n    isSameArrByAttr(arr: any[], attr: string) {\r\n        let value = arr[0][attr]\r\n        for (let i = 0; i < arr.length; i++) {\r\n            if (value != arr[i][attr]) {\r\n                return false\r\n            }\r\n        }\r\n        return true\r\n    }\r\n\r\n\r\n\r\n    /**  冒泡排序 从小到大 慢稳定 */\r\n    bubbleSort(arr) {\r\n        let len = arr.length;\r\n        for (let i = 0; i < len; i++) {\r\n            for (let j = 0; j < len - 1 - i; j++) {\r\n                if (arr[j] > arr[j + 1]) {        // 相邻元素两两对比\r\n                    let temp = arr[j + 1];        // 元素交换\r\n                    arr[j + 1] = arr[j];\r\n                    arr[j] = temp;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /** 冒泡排序属性版 从小到大 */\r\n    bubbleSortByAttr(arr, attr: string) {\r\n        let len = arr.length\r\n        for (let i = 0; i < len; i++) {\r\n            for (let j = 0; j < len - 1 - i; j++) {\r\n                if (arr[j][attr] > arr[j + 1][attr]) {        // 相邻元素两两对比\r\n                    let temp = arr[j + 1];        // 元素交换\r\n                    arr[j + 1] = arr[j];\r\n                    arr[j] = temp;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /** 冒泡排序 从小到大 单独属性排列版 */\r\n    bubbleSortBySingleAttr(arr, attr: string) {\r\n        let newArr = this.getNewAttrArray(arr, attr)\r\n        this.bubbleSort(newArr)\r\n        return newArr\r\n    }\r\n\r\n\r\n    /** 冒泡排序对照返回ID版 从小到大 */\r\n    bubbleSortID(arr) {\r\n        let arrID: number[] = []\r\n        let len = arr.length;\r\n        for (let i = 0; i < len; i++)\r\n            arrID.push(i);\r\n        for (let i = 0; i < len; i++) {\r\n            for (let j = 0; j < len - 1 - i; j++) {\r\n                if (arr[j] > arr[j + 1]) {        // 相邻元素两两对比\r\n                    let temp = arr[j + 1];        // 元素交换\r\n                    arr[j + 1] = arr[j];\r\n                    arr[j] = temp;\r\n                    let tempID = arrID[j + 1];\r\n                    arrID[j + 1] = arrID[j];\r\n                    arrID[j] = tempID;\r\n                }\r\n            }\r\n        }\r\n        return arrID\r\n    }\r\n\r\n    /** 快速排序 从小到大 快但是不稳定 */\r\n    quickSort(array) {\r\n        //let array = [8,4,6,2,7,9,3,5,74,5];\r\n        //let array = [0,1,2,44,4,324,5,65,6,6,34,4,5,6,2,43,5,6,62,43,5,1,4,51,56,76,7,7,2,1,45,4,6,7];\r\n        let i = 0;\r\n        let j = array.length - 1;\r\n        let Sort = function (i, j) {\r\n\r\n            // 结束条件\r\n            if (i == j) {\r\n                return\r\n            };\r\n\r\n            let key = array[i];\r\n            let stepi = i; // 记录开始位置\r\n            let stepj = j; // 记录结束位置\r\n            while (j > i) {\r\n                // j <<-------------- 向前查找\r\n                if (array[j] >= key) {\r\n                    j--;\r\n                } else {\r\n                    array[i] = array[j]\r\n                    //i++ ------------>>向后查找\r\n                    while (j > ++i) {\r\n                        if (array[i] > key) {\r\n                            array[j] = array[i];\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            // 如果第一个取出的 key 是最小的数\r\n            if (stepi == i) {\r\n                Sort(++i, stepj);\r\n                return;\r\n            }\r\n\r\n            // 最后一个空位留给 key\r\n            array[i] = key;\r\n\r\n            // 递归\r\n            Sort(stepi, i);\r\n            Sort(j, stepj);\r\n        }\r\n\r\n        Sort(i, j);\r\n\r\n        //cb(array)\r\n    }\r\n\r\n    /**  快速排列 从小到大 单独属性排列版 */\r\n    quickSortBySingleAttr(array, attr: string) {\r\n\r\n        let newArray = this.getNewAttrArray(array, attr)\r\n        this.quickSort(newArray)\r\n        return newArray\r\n\r\n    }\r\n\r\n\r\n    /** 获取对象多层属性 */\r\n    getObjAttrs(obj, attrs: string[]) {\r\n        let newObj = null;\r\n        for (let i = 0; i < attrs.length; i++) {\r\n            if (newObj == null)\r\n                newObj = obj[attrs[0]];\r\n            else\r\n                newObj = newObj[attrs[i]];\r\n        }\r\n        return newObj\r\n    }\r\n\r\n    /**  对象属性组成新的数组 */\r\n    getNewAttrArray(array, attr: string) {\r\n        let a = []\r\n        for (let i = 0; i < array.length; i++) {\r\n            a.push(array[i][attr])\r\n        }\r\n        return a\r\n    }\r\n\r\n\r\n    /** 获取关联数组的key */\r\n    getArrayKeys(stringArray, name?) {\r\n        let objKeys = []\r\n        for (let key in stringArray) {\r\n            objKeys.push(key)\r\n        }\r\n        return objKeys\r\n    }\r\n\r\n    /* 字符串找数字 */\r\n    getNumFromString(str: string) {\r\n        let newStr = str.replace(/[^0-9]/ig, \"\")\r\n        let num = parseInt(newStr)\r\n        return num\r\n    }\r\n}","export class CommonUtil {\r\n    /**网络请求文件数据\r\n* readyCallback为数据回调的方法\r\n*/\r\n    loadFile(url: string, readyCallback: (a) => void, progressCallback?, failCallback?) {\r\n        let length: any = 0;\r\n        if (document.implementation && document.implementation.createDocument) {\r\n            var request = new XMLHttpRequest();\r\n            request.onreadystatechange = function () {\r\n                if (request.readyState === 4) {\r\n                    if (request.status === 0 || request.status === 200) {\r\n                        if (request.response) {\r\n                            readyCallback(request.response);\r\n                        } else {\r\n                            if (failCallback) {\r\n                                failCallback({ type: 'error', url: url });\r\n                            } else {\r\n                                console.error(\"空文件或者文件不存在(\" + url + \")\");\r\n                            }\r\n                        }\r\n                    } else {\r\n                        if (failCallback) {\r\n                            failCallback({ type: 'error', url: url });\r\n                        } else {\r\n                            console.error('无法加载' + url + '\" (' + request.status + ')');\r\n                        }\r\n                    }\r\n                } else if (request.readyState === 3) {\r\n                    if (progressCallback) {\r\n                        if (length === 0) {\r\n                            length = request.getResponseHeader(\"Content-Length\");\r\n                        }\r\n                        progressCallback({ total: length, loaded: request.responseText.length });\r\n                    }\r\n                }\r\n            };\r\n            request.open(\"GET\", url, true);\r\n            request.send(null);\r\n        } else {\r\n            alert(\"发生了其他错误!\");\r\n        }\r\n    }\r\n\r\n    /** 快速排序 */\r\n    quickSort(array) {\r\n        //let array = [8,4,6,2,7,9,3,5,74,5];\r\n        //let array = [0,1,2,44,4,324,5,65,6,6,34,4,5,6,2,43,5,6,62,43,5,1,4,51,56,76,7,7,2,1,45,4,6,7];\r\n        let i = 0;\r\n        let j = array.length - 1;\r\n        let Sort = function (i, j) {\r\n\r\n            // 结束条件\r\n            if (i == j) {\r\n                return\r\n            };\r\n\r\n            let key = array[i];\r\n            let stepi = i; // 记录开始位置\r\n            let stepj = j; // 记录结束位置\r\n            while (j > i) {\r\n                // j <<-------------- 向前查找\r\n                if (array[j] >= key) {\r\n                    j--;\r\n                } else {\r\n                    array[i] = array[j]\r\n                    //i++ ------------>>向后查找\r\n                    while (j > ++i) {\r\n                        if (array[i] > key) {\r\n                            array[j] = array[i];\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            // 如果第一个取出的 key 是最小的数\r\n            if (stepi == i) {\r\n                Sort(++i, stepj);\r\n                return;\r\n            }\r\n\r\n            // 最后一个空位留给 key\r\n            array[i] = key;\r\n\r\n            // 递归\r\n            Sort(stepi, i);\r\n            Sort(j, stepj);\r\n        }\r\n\r\n        Sort(i, j);\r\n\r\n        //cb(array)\r\n    }\r\n    /**  冒泡排序 */\r\n    bubbleSort(arr) {\r\n        var len = arr.length;\r\n        for (var i = 0; i < len; i++) {\r\n            for (var j = 0; j < len - 1 - i; j++) {\r\n                if (arr[j] > arr[j + 1]) {        // 相邻元素两两对比\r\n                    var temp = arr[j + 1];        // 元素交换\r\n                    arr[j + 1] = arr[j];\r\n                    arr[j] = temp;\r\n                }\r\n            }\r\n        }\r\n        return arr;\r\n    }\r\n\r\n    /**  冒泡排序参照回调版 relArray相对array改变*/\r\n    bubbleSortRel(array, relArray, cb) {\r\n        let i = 0,\r\n            len = array.length,\r\n            j, d, e;\r\n        for (; i < len; i++) {\r\n            for (j = 0; j < len; j++) {\r\n                if (array[i] < array[j]) {\r\n                    d = array[j];\r\n                    array[j] = array[i];\r\n                    array[i] = d;\r\n                    e = relArray[j]\r\n                    relArray[j] = relArray[i]\r\n                    relArray[i] = e;\r\n                }\r\n            }\r\n        }\r\n        cb()\r\n    }\r\n\r\n    /** 冒泡排序对照返回ID版 */\r\n    bubbleSortID(arr) {\r\n        let arrID: number[] = []\r\n        let len = arr.length;\r\n        for (let i = 0; i < len; i++)\r\n            arrID.push(i);\r\n        for (let i = 0; i < len; i++) {\r\n            for (let j = 0; j < len - 1 - i; j++) {\r\n                if (arr[j] > arr[j + 1]) {        // 相邻元素两两对比\r\n                    let temp = arr[j + 1];        // 元素交换\r\n                    arr[j + 1] = arr[j];\r\n                    arr[j] = temp;\r\n                    let tempID = arrID[j + 1];\r\n                    arrID[j + 1] = arrID[j];\r\n                    arrID[j] = tempID;\r\n                }\r\n            }\r\n        }\r\n        return arrID\r\n    }\r\n\r\n    /**  快速排列加强版 */\r\n    quickSortS(array, attrs: string[], cb) {\r\n        let newArray = new Array(array.length)\r\n        this.createNewAttrArray(array, attrs, (newArray) => {\r\n            let i = 0;\r\n            let j = newArray.length - 1;\r\n            let Sort = (i, j) => {\r\n\r\n                // 结束条件\r\n                if (i == j) {\r\n                    return\r\n                };\r\n\r\n                let key = newArray[i];\r\n                let c = array[i];\r\n                let stepi = i; // 记录开始位置\r\n                let stepj = j; // 记录结束位置\r\n                while (j > i) {\r\n                    // j <<-------------- 向前查找\r\n                    if (newArray[j] >= key) {\r\n                        j--;\r\n                    } else {\r\n                        newArray[i] = newArray[j]\r\n                        array[i] = array[j]\r\n\r\n                        //i++ ------------>>向后查找\r\n                        while (j > ++i) {\r\n                            if (newArray[i] > key) {\r\n                                newArray[j] = newArray[i];\r\n                                array[j] = array[i]\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n                // 如果第一个取出的 key 是最小的数\r\n                if (stepi == i) {\r\n                    Sort(++i, stepj);\r\n                    return;\r\n                }\r\n\r\n                // 最后一个空位留给 key\r\n                newArray[i] = key;\r\n                array[i] = c;\r\n\r\n                // 递归\r\n                Sort(stepi, i);\r\n                Sort(j, stepj);\r\n            }\r\n\r\n            Sort(i, j);\r\n            cb()\r\n        })\r\n\r\n    }\r\n\r\n    /**  获取对象属性 */\r\n    getObjAttr(obj, attr: string) {\r\n        return obj[attr]\r\n    }\r\n\r\n    /** 获取对象多层属性 */\r\n    getObjAttrs(obj, attrs: string[]) {\r\n        let newObj = null;\r\n        for (let i = 0; i < attrs.length; i++) {\r\n            if (newObj == null)\r\n                newObj = obj[attrs[0]];\r\n            else\r\n                newObj = newObj[attrs[i]];\r\n        }\r\n        return newObj\r\n    }\r\n\r\n    /**  数组属性组成新的数组 */\r\n    createNewAttrArray(array, attr: string[], cb) {\r\n        let a = []\r\n        for (let i = 0; i < array.length; i++) {\r\n            a.push(this.getObjAttrs(array[i], attr))\r\n        }\r\n        cb(a)\r\n    }\r\n\r\n    /** 获取关联数组的key */\r\n    getArrayKeys(stringArray, name?) {\r\n        let objKeys = []\r\n        for (let key in stringArray) {\r\n            objKeys.push(key)\r\n        }\r\n        return objKeys\r\n    }\r\n\r\n    /** 克隆 */\r\n    clone(obj) {\r\n        let o;\r\n        switch (typeof obj) {\r\n            case 'undefined': break;\r\n            case 'string': o = obj + ''; break;\r\n            case 'number': o = obj - 0; break;\r\n            case 'boolean': o = obj; break;\r\n            case 'object':\r\n                if (obj === null) {\r\n                    o = null;\r\n                } else {\r\n                    if (obj instanceof Array) {\r\n                        o = [];\r\n                        // let i=0;i<obj.length;i++\r\n                        for (let i = 0; i < obj.length; i++) {\r\n                            o.push(this.clone(obj[i]));\r\n                        }\r\n                    } else {\r\n                        o = {};\r\n                        for (let k in obj) {\r\n                            o[k] = this.clone(obj[k]);\r\n                        }\r\n                    }\r\n                }\r\n                break;\r\n            default:\r\n                o = obj; break;\r\n        }\r\n        return o;\r\n    }\r\n\r\n    /** 克隆数组版 对应无法普通clone*/\r\n    cloneArr(obj) {\r\n        let newObj = new Array();\r\n        for (let key in obj) {\r\n            newObj[key] = this.clone(obj[key])\r\n        }\r\n        return newObj\r\n    }\r\n\r\n}","import { ParseJ2D } from \"./parseJ2D\";\r\n\r\nexport class JParseJ2D extends ParseJ2D {\r\n\r\n    getpointsObjByTags(j2d,) {\r\n        \r\n    }\r\n}\r\n","export class ObjUtil {\r\n    /** 克隆 */\r\n    clone(obj) {\r\n        let o;\r\n        switch (typeof obj) {\r\n            case 'undefined': break;\r\n            case 'string': o = obj + ''; break;\r\n            case 'number': o = obj - 0; break;\r\n            case 'boolean': o = obj; break;\r\n            case 'object':\r\n                if (obj === null) {\r\n                    o = null;\r\n                } else {\r\n                    if (obj instanceof Array) {\r\n                        o = [];\r\n                        // let i=0;i<obj.length;i++\r\n                        for (let i = 0; i < obj.length; i++) {\r\n                            o.push(this.clone(obj[i]));\r\n                        }\r\n                    } else {\r\n                        o = {};\r\n                        for (let k in obj) {\r\n                            o[k] = this.clone(obj[k]);\r\n                        }\r\n                    }\r\n                }\r\n                break;\r\n            default:\r\n                o = obj; break;\r\n        }\r\n        return o;\r\n    }\r\n\r\n    strongClone(obj) {\r\n        let o;\r\n        switch (typeof obj) {\r\n            case 'undefined': break;\r\n            case 'string': o = obj + ''; break;\r\n            case 'number': o = obj - 0; break;\r\n            case 'boolean': o = obj; break;\r\n            case 'object':\r\n                if (obj === null) {\r\n                    o = null;\r\n                } else {\r\n                    if (obj instanceof Array) {\r\n                        o = [];\r\n                        let int = 0\r\n                        // let i=0;i<obj.length;i++\r\n                        for (let i = 0; i < obj.length; i++) {\r\n                            int++\r\n                            o.push(this.strongClone(obj[i]));\r\n                        }\r\n                        if (int == 0) {\r\n                            for (let key in obj) {\r\n                                o[key] = (this.strongClone(obj[key]))\r\n                            }\r\n                        }\r\n                    } else {\r\n                        o = {};\r\n                        for (let k in obj) {\r\n                            o[k] = this.strongClone(obj[k]);\r\n                        }\r\n                    }\r\n                }\r\n                break;\r\n            default:\r\n                o = obj; break;\r\n        }\r\n        return o;\r\n    }\r\n\r\n    /**\r\n     * 还原数据\r\n     * @param targetObj 要还原的目标数据\r\n     * @param redoObj 用于还原的输入数据\r\n     */\r\n    redo(targetObj, redoObj) {\r\n        if (targetObj == undefined)\r\n            targetObj = redoObj\r\n        else {\r\n            for (let key in redoObj) {\r\n                switch (typeof redoObj[key]) {\r\n                    case 'undefined': break;\r\n                    case 'string': case 'number': case 'boolean': targetObj[key] = redoObj[key]; break;\r\n                    case 'object':\r\n                        if (redoObj[key] === null) {\r\n                            targetObj[key] = null;\r\n                        }\r\n                        else {\r\n                            if (redoObj[key] instanceof Array) {\r\n                                for (let i = 0; i < redoObj[key].length; i++) {\r\n                                    if (targetObj[key][i] == undefined)\r\n                                        targetObj[key].push([])\r\n                                    this.redo(targetObj[key][i], redoObj[key][i])\r\n                                }\r\n                            }\r\n                            else {\r\n                                this.redo(targetObj[key], redoObj[key])\r\n                            }\r\n                        }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /** 克隆数组版 对应无法普通clone*/\r\n    cloneArr(obj) {\r\n        let newObj = new Array();\r\n        for (let key in obj) {\r\n            newObj[key] = this.clone(obj[key])\r\n        }\r\n        return newObj\r\n    }\r\n\r\n    /**\r\n     * 用于修改链接(可属性追踪)\r\n     * @param datas \r\n     * @param mainUrl \r\n     * @param attrArr 如果有属性,则修改属性,否则直接修改字符串\r\n     */\r\n    changeObjUrlByattrs(datas: any[], mainUrl: string, attrArr?: string[]) {\r\n        for (let i = 0; i < datas.length; i++) {\r\n            if (attrArr) {\r\n                for (let j = 0; j < attrArr.length; j++) {\r\n                    if (datas[i][attrArr[j]].indexOf(\".\") != -1 && datas[i][attrArr[j]].indexOf(\"/\") != -1) {\r\n                        datas[i][attrArr[j]] = datas[i][attrArr[j]][0] == '/' ? mainUrl + datas[i][attrArr[j]] : mainUrl + '/' + datas[i][attrArr[j]]\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                if (datas[i].indexOf(\".\") != -1 && datas[i].indexOf(\"/\") != -1) {\r\n                    datas[i] = datas[i][0] == '/' ? mainUrl + datas[i] : mainUrl + '/' + datas[i]\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /** 用于修改链接(标记追踪) */\r\n    changeObjUrlByflag(data: any, mainUrl: string, flag: string) {\r\n        let flagLength = flag.length\r\n        if (data != null) {\r\n            for (let key in data) {\r\n                switch (typeof data[key]) {\r\n                    case 'string':\r\n                        let str: string = data[key]\r\n                        let a = str.slice(0, flagLength)\r\n                        if (a == flag) {\r\n                            a = str.slice(flagLength)\r\n                            a = a[0] == '/' ? mainUrl + a : mainUrl + '/' + a\r\n                            data[key] = a\r\n                        }\r\n                        break;\r\n                    case \"object\":\r\n                        this.changeObjUrlByflag(data[key], mainUrl, flag)\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    getAllQueryString() {\r\n        let text = window.location.search.substr(1)\r\n        let textArr = text.split('&&')\r\n        let objArr = []\r\n        for (let i = 0; i < textArr.length; i++) {\r\n            let arr = textArr[i].split('=')\r\n            let key = arr[0].toLowerCase()\r\n            objArr[key] = arr[1]\r\n        }\r\n        return objArr\r\n    }\r\n\r\n    /** 访问链接对象超级版 */\r\n    getQueryStringSuper(name: string) {\r\n        name = name.toLowerCase()\r\n        let obj = this.getAllQueryString()\r\n        return obj[name]\r\n    }\r\n\r\n    gethash() {\r\n        let url = window.location.hash;\r\n        if (url == '') {\r\n            return undefined\r\n        }\r\n        else {\r\n            let urls = url.split('#')[1]\r\n            return urls\r\n        }\r\n\r\n    }\r\n\r\n\r\n    /** 访问链接对象 */\r\n    getQueryString(name) {\r\n        var reg = new RegExp(\"(^|&)\" + name + \"=([^&]*)(&|$)\");\r\n        var text = window.location.search.substr(1)\r\n        // console.log(text)\r\n        var r = text.match(reg);\r\n        // console.log(r)\r\n        if (r != null) return decodeURI(r[2]);\r\n        return null;\r\n    }\r\n\r\n    /**\r\n     * 对比两个类不同的类型\r\n     * @param mainType 用来对比的类型\r\n     * @param checkType 要对比的类型\r\n     * @param args 实现的参数\r\n     * @param ignoreTypes \r\n     */\r\n    getDifferClassType(mainType, checkType, obj: { mainArgs?: any[], checkArgs?: any[], ignoreTypes: string[] } = { ignoreTypes: [] }) {\r\n        let mainObj = obj.mainArgs != undefined ? new mainType(...obj.mainArgs) : new mainType()\r\n        let checkObj = obj.mainArgs != undefined ? new checkType(...obj.checkArgs) : new checkType()\r\n        let mainArr: boolean[] = []\r\n        let checkArr: string[] = []\r\n        /* 收集 */\r\n        for (let mainKey in mainObj) {\r\n            if (mainObj[mainKey] == undefined) {\r\n                let same = false\r\n                for (let i = 0; i < obj.ignoreTypes.length; i++) {\r\n                    if (obj.ignoreTypes[i] == mainKey) {\r\n                        same = true\r\n                        break\r\n                    }\r\n                }\r\n                if (!same)\r\n                    mainArr[mainKey] = true\r\n            }\r\n        }\r\n        /* 筛选 */\r\n        for (let checkKey in checkObj) {\r\n            if (!mainArr[checkKey]) {\r\n                checkArr.push(checkKey)\r\n            }\r\n        }\r\n        return checkArr\r\n    }\r\n\r\n}","\r\nimport { DesignCommon as DC } from '../class/DesignCommon'\r\n\r\nexport class PosUtil {\r\n    /** 获取中心点 */\r\n    getCenterPos(posStart: DC.Pos, posEnd: DC.Pos): DC.Pos {\r\n        return {\r\n            x: (posStart.x + posEnd.x) / 2,\r\n            y: (posStart.y + posEnd.y) / 2\r\n        }\r\n    }\r\n\r\n    /** 根据百分比获取某条线段上某点坐标 */\r\n    getPosByLinePer(posStart: DC.Pos, posEnd: DC.Pos, per: number) {\r\n        let distance: number = this.getDistance(posStart, posEnd)\r\n        let newDistance = distance * per\r\n        let radian: number = this.getRadian(posStart, posEnd)\r\n        let newPos: DC.Pos = this.getRayPos(posStart, radian, newDistance)\r\n        return newPos\r\n    }\r\n\r\n\r\n\r\n    /** 通过rect原点获取中心点 */\r\n    getCenterPosByRect(pos: DC.Pos, size: DC.Size): DC.Pos {\r\n        return {\r\n            x: pos.x + (size.width / 2),\r\n            y: pos.y + (size.height / 2)\r\n        }\r\n    }\r\n\r\n    /** 通过rect中心点获取原点 */\r\n    getOriginPosByRect(centerpos: DC.Pos, size: DC.Size): DC.Pos {\r\n        return {\r\n            x: centerpos.x - (size.width / 2),\r\n            y: centerpos.y - (size.height / 2)\r\n        }\r\n    }\r\n\r\n\r\n    /** 两点生成四点 回调为有序四点的ID*/\r\n    getRectByTwoPos(posStart: DC.Pos, posEnd: DC.Pos) {\r\n        let posA: DC.Pos = { x: posEnd.x, y: posStart.y }\r\n        let posB: DC.Pos = { x: posStart.x, y: posEnd.y }\r\n        return [posStart, posA, posEnd, posB]\r\n    }\r\n\r\n    /** 三角距离确定弧度(弧度为A与B夹角即c角) */\r\n    getTriangleRadianByDistance(distanceA: number, distanceB: number, distanceC: number) {\r\n        let cosC = (Math.pow(distanceA, 2) + Math.pow(distanceB, 2) - Math.pow(distanceC, 2)) / (2 * distanceA * distanceB)\r\n        return Math.acos(cosC)\r\n    }\r\n\r\n\r\n    /** 三角坐标确定折角 */\r\n    getTriangleRadianByPos(posStart: DC.Pos, posCenter: DC.Pos, posEnd: DC.Pos): number {\r\n        let radian0 = this.getRadian(posStart, posCenter)\r\n        let radian1 = this.getRadian(posCenter, posEnd)\r\n        let newRadian = radian0 - radian1 + Math.PI\r\n        return newRadian\r\n    }\r\n\r\n    /** 获取弧度 当点坐标相同时的时候返回null*/\r\n    getRadian(posStart: DC.Pos, posEnd: DC.Pos) {\r\n        if (!posStart || !posEnd)\r\n            return undefined\r\n        let Y = posEnd.y - posStart.y\r\n        let X = posEnd.x - posStart.x\r\n        if (Y == 0 && X == 0)\r\n            return undefined\r\n        else\r\n            return Math.atan2(Y, X)\r\n    }\r\n\r\n    /**\r\n     * 获取角度拨正值\r\n     * @param rotate \r\n     * @param isAbs 绝对正,得到值必为为正,否则一半180,一半180,默认fasle\r\n     */\r\n    getAbsRotate(rotate: number, isAbs: boolean = false) {\r\n        if (!isAbs) {\r\n            while (rotate < -180) {\r\n                rotate = rotate + 360\r\n            }\r\n            while (rotate > 180) {\r\n                rotate = rotate - 360\r\n            }\r\n            return rotate\r\n        }\r\n        else {\r\n            while (rotate < 0) {\r\n                rotate = rotate + 360\r\n            }\r\n            while (rotate > 360) {\r\n                rotate = rotate - 360\r\n            }\r\n        }\r\n        return rotate\r\n    }\r\n\r\n    /**\r\n     * 获取弧度拨正值\r\n     * @param radian \r\n     * @param isAbs 绝对正,得到值必为为正(0~360),否则一半正180,一半负180,默认false\r\n     */\r\n    getAbsRadian(radian: number, isAbs: boolean = false) {\r\n        if (!isAbs) {\r\n            while (radian < -Math.PI) {\r\n                radian = radian + (Math.PI * 2)\r\n            }\r\n            while (radian >= Math.PI) {\r\n                radian = radian - (Math.PI * 2)\r\n            }\r\n            return radian\r\n        }\r\n        else {\r\n            while (radian < 0) {\r\n                radian = radian + (Math.PI * 2)\r\n            }\r\n            while (radian >= (Math.PI * 2)) {\r\n                radian = radian - (Math.PI * 2)\r\n            }\r\n        }\r\n        return radian\r\n    }\r\n\r\n    /**\r\n     * 获取移动的坐标\r\n     * @param distance 距离\r\n     * @param radian 弧度\r\n     */\r\n    getPlusPos(distance: number, radian: number) {\r\n        let Y = Math.sin(radian) * distance\r\n        let X = Math.cos(radian) * distance\r\n        let newPos = { x: X, y: Y }\r\n        return newPos\r\n    }\r\n\r\n\r\n    /** 获取角度 当点坐标相同时的时候返回null*/\r\n    getRotate(posStart: DC.Pos, posEnd: DC.Pos) {\r\n        let radian = this.getRadian(posStart, posEnd)\r\n        if (radian == null)\r\n            return null\r\n        let rotate = radian * 180 / Math.PI\r\n        return rotate\r\n    }\r\n\r\n    /** 获取两点坐标平方距离 */\r\n    getPowDistance(posStart: DC.Pos, posEnd: DC.Pos) {\r\n        let powDistance = Math.pow((posEnd.y - posStart.y), 2) + Math.pow((posEnd.x - posStart.x), 2)\r\n        return powDistance;\r\n    }\r\n\r\n    /** 获取两点的距离 */\r\n    getDistance(posStart: DC.Pos, posEnd: DC.Pos) {\r\n        let powDistance = this.getPowDistance(posStart, posEnd)\r\n        let distance = Math.sqrt(powDistance)\r\n        return distance\r\n    }\r\n\r\n    /** 获取两点坐标距离方向版  pos2,pos3为原来线段*/\r\n    getPosDistanceDirect(posContrast: DC.Pos, posStart: DC.Pos, posEnd: DC.Pos) {\r\n        /** 原来距离 */\r\n        let distance = this.getDistance(posContrast, posStart);\r\n        /** 线段距离 */\r\n        let lineDistance = this.getDistance(posStart, posEnd)\r\n        /** 判断是否为负距离依据 */\r\n        let newDistance = this.getDistance(posContrast, posEnd)\r\n\r\n        if (newDistance > distance && newDistance > lineDistance)\r\n            distance *= -1\r\n        return distance\r\n    }\r\n\r\n    /** 获取坐标组中最大最小坐标 [max,min]*/\r\n    getLimitPosArr(...posArr: DC.Pos[]): DC.Pos[] {\r\n        let maxX: number = posArr[0].x, maxY: number = posArr[0].y, minX: number = posArr[0].x, minY: number = posArr[0].y\r\n        let pos: DC.Pos = null\r\n        for (pos of posArr) {\r\n            if (pos.x > maxX)\r\n                maxX = pos.x\r\n            if (pos.x < minX)\r\n                minX = pos.x\r\n            if (pos.y > maxY)\r\n                maxY = pos.y\r\n            if (pos.y < minY)\r\n                minY = pos.y\r\n        }\r\n        return [{ x: maxX, y: maxY }, { x: minX, y: minY }]\r\n    }\r\n\r\n    /** 获取旋转点坐标 绕中心点旋转*/\r\n    getRotatePos(centerPos: DC.Pos, mainPos: DC.Pos, radian: number): DC.Pos {\r\n        /** x1=x cosB-y sinB ; y1=x sinB+ y cosB */\r\n        let newPos: DC.Pos = {\r\n            x: ((mainPos.x - centerPos.x) * Math.cos(radian)) - ((mainPos.y - centerPos.y) * Math.sin(radian)) + centerPos.x,\r\n            y: ((mainPos.x - centerPos.x) * Math.sin(radian)) + ((mainPos.y - centerPos.y) * Math.cos(radian)) + centerPos.y\r\n        }\r\n        return newPos\r\n    }\r\n\r\n    /** 已知斜边两点,求等腰直角的点 */\r\n    getIsoscelesRightAngle(posStart: DC.Pos, posEnd: DC.Pos): DC.Pos {\r\n        let radian = this.getRadian(posStart, posEnd)\r\n        let centerPos: DC.Pos = this.getCenterPos(posStart, posEnd)\r\n        let distance = this.getDistance(posStart, posEnd)\r\n        let newPos = this.getRayPos(centerPos, radian + (Math.PI / 2), distance)\r\n        return newPos\r\n    }\r\n\r\n    /** 射线算法 */\r\n    getRayPos(pos: DC.Pos, radian: number, distance: number): DC.Pos {\r\n        let newPos: { x, y } = { x: pos.x + (distance * Math.cos(radian)), y: pos.y + (distance * Math.sin(radian)) }\r\n        return newPos\r\n    }\r\n\r\n    /** 判断两条由两点形成的直线是否相交 true返回delta, false返回false*/\r\n    isIntersect(lineAPosStart: DC.Pos, lineAPosEnd: DC.Pos, lineBPosStart: DC.Pos, lineBPosEnd: DC.Pos) {\r\n        let delta: number = (lineAPosEnd.x - lineAPosStart.x) * (lineBPosStart.y - lineBPosEnd.y) - (lineBPosStart.x - lineBPosEnd.x) * (lineAPosEnd.y - lineAPosStart.y);\r\n        return delta\r\n    }\r\n\r\n    /** 坐标是否相同 */\r\n    isSamePos(posA: DC.Pos, posB: DC.Pos, errorValue: number = 0.0001): boolean {\r\n\r\n        if (posA == null || posB == null)\r\n            return false\r\n        else if ((posA.x + errorValue > posB.x && posA.x - errorValue < posB.x) && (posA.y + errorValue > posB.y && posA.y - errorValue < posB.y))\r\n            return true\r\n        else\r\n            return false\r\n    }\r\n\r\n    /**\r\n     * 判断两线是否水平\r\n     * @param lineAStart \r\n     * @param lineAEnd \r\n     * @param lineBStart \r\n     * @param lineBEnd \r\n     * @param minRadian 优先通过弧度判断是否平行线,如果不平行,直接0\r\n     * @param minDistance 再通过距离判断是否水平\r\n     *  @returns 返回num(0是不为水平线,1是正平行线,-1是反平行线)\r\n     */\r\n    isHorizontalLine(lineA: { posArr: DC.Pos[], radian?: number }, lineB: { posArr: DC.Pos[], radian?: number }, minRadian: number, minDistance: number) {\r\n        if (lineA.radian == undefined)\r\n            lineA.radian = this.getRadian(lineA.posArr[0], lineA.posArr[1])\r\n        if (lineB.radian == undefined)\r\n            lineB.radian = this.getRadian(lineB.posArr[0], lineB.posArr[1])\r\n        let obj: { isH: number, distance: number } = { isH: 0, distance: undefined }\r\n        /** 测是正方向 */\r\n        let check = this.isSameRadian(lineA.radian, lineB.radian, minRadian)\r\n        if (check)\r\n            obj.isH = 1\r\n        /** 测试反反向 */\r\n        else {\r\n            check = this.isSameRadian(lineA.radian, lineB.radian + Math.PI, minRadian)\r\n            if (check)\r\n                obj.isH = -1\r\n        }\r\n        /** 如果不平行,那就是真的不平行了 */\r\n        if (obj.isH == 0)\r\n            return obj\r\n        let otherDistanceA = this.getRightAngleDistance(lineB.posArr[0], lineA.posArr[0], lineA.posArr[1])\r\n        let otherDistanceB = this.getRightAngleDistance(lineB.posArr[1], lineA.posArr[0], lineA.posArr[1])\r\n        if (otherDistanceA < minDistance && otherDistanceB < minDistance) {\r\n            if (otherDistanceA < otherDistanceB)\r\n                obj.distance = otherDistanceA\r\n            else\r\n                obj.distance = otherDistanceB\r\n        }\r\n        return obj\r\n    }\r\n\r\n    /** 计算两条由两点形成的线段或直线相交点，默认直线true，线段不相交返回null*/\r\n    getIntersect(lineAPosStart: DC.Pos, lineAPosEnd: DC.Pos, lineBPosStart: DC.Pos, lineBPosEnd: DC.Pos, isStraight: boolean = true) {\r\n        let p: DC.Pos = null;\r\n        let r: number, u: number;\r\n        let delta = this.isIntersect(lineAPosStart, lineAPosEnd, lineBPosStart, lineBPosEnd)\r\n        /** 判断是否平行 */\r\n        if (delta != 0) {\r\n            r = ((lineBPosStart.x - lineAPosStart.x) * (lineBPosStart.y - lineBPosEnd.y) - (lineBPosStart.x - lineBPosEnd.x) * (lineBPosStart.y - lineAPosStart.y)) / delta;\r\n            u = ((lineAPosEnd.x - lineAPosStart.x) * (lineBPosStart.y - lineAPosStart.y) - (lineBPosStart.x - lineAPosStart.x) * (lineAPosEnd.y - lineAPosStart.y)) / delta;\r\n            /** 线段 */\r\n            if (!isStraight) {\r\n                /** 判断相交点是否在线段内 */\r\n                if ((r >= 0 && r <= 1) && (u >= 0 && u <= 1)) {\r\n                    p = { x: lineAPosStart.x + r * (lineAPosEnd.x - lineAPosStart.x), y: lineAPosStart.y + r * (lineAPosEnd.y - lineAPosStart.y) }\r\n                }\r\n            }\r\n            /** 直线 */\r\n            else {\r\n                p = { x: lineAPosStart.x + r * (lineAPosEnd.x - lineAPosStart.x), y: lineAPosStart.y + r * (lineAPosEnd.y - lineAPosStart.y) }\r\n            }\r\n        }\r\n        return p\r\n    }\r\n\r\n    /** 计算两条由两点组成直线平移后相交点 distance2为空时,默认为distance1  */\r\n    getIntersectPosByMove(lineAPosStart: DC.Pos, lineAPosEnd: DC.Pos, lineBPosStart: DC.Pos, lineBPosEnd: DC.Pos, lineADistance: number, lineBDistance: number = lineADistance) {\r\n        /**  if (distance2 == undefined)\r\n             distance2 = distance1 */\r\n        if (this.isSamePos(lineAPosStart, lineAPosEnd))\r\n            return null\r\n        if (this.isSamePos(lineBPosStart, lineBPosEnd))\r\n            return null\r\n        let line1: DC.Pos[], line2: DC.Pos[]\r\n        line1 = this.getPosTrans(lineAPosStart, lineAPosEnd, lineADistance)\r\n        line2 = this.getPosTrans(lineBPosStart, lineBPosEnd, lineBDistance)\r\n        return this.getIntersect(line1[0], line1[1], line2[0], line2[1], true)\r\n    }\r\n\r\n\r\n    /** 计算两点垂直平移后的值 返回{ pos1:posType, pos2:posType }*/\r\n    getPosTrans(posStart: DC.Pos, posEnd: DC.Pos, distance: number): DC.Pos[] {\r\n        if (posStart.x == posEnd.x && posStart.y == posEnd.y)\r\n            return null\r\n        let distanceX = distance\r\n        let distanceY = distance\r\n        /** 保证平移朝向线段方向的左边 */\r\n        if (posEnd.y < posStart.y && posEnd.x < posStart.x) {\r\n            distanceX = -distance\r\n            distanceY = distance\r\n        }\r\n\r\n        else if (posEnd.y <= posStart.y && posEnd.x >= posStart.x) {\r\n            distanceX = -distance\r\n            distanceY = -distance\r\n        }\r\n        else if (posEnd.y > posStart.y && posEnd.x > posStart.x) {\r\n            distanceY = -distance\r\n            distanceX = distance\r\n        }\r\n        let radian = this.getRadian(posStart, posEnd)\r\n        /** 绝对值保证距离值不受正负改变 */\r\n        let a1 = posStart.x + (distanceX * Math.abs(Math.sin(radian)));\r\n        let b1 = posStart.y + (distanceY * Math.abs(Math.cos(radian)));\r\n        let a2 = posEnd.x + (distanceX * Math.abs(Math.sin(radian)));\r\n        let b2 = posEnd.y + (distanceY * Math.abs(Math.cos(radian)));\r\n        // let lineArray:Pos[] = { pos1: { x: a1, y: b1 }, pos2: { x: a2, y: b2 } }\r\n        let lineArray: DC.Pos[] = [{ x: a1, y: b1 }, { x: a2, y: b2 }]\r\n        return lineArray;\r\n    }\r\n\r\n    /** 获取相对坐标 */\r\n    getRelativePos(pos: DC.Pos, rect: { top: number, left: number, width: number, height: number, scale: number }) {\r\n        return { x: ((pos.x - rect.width / 2) / rect.scale) + rect.width / 2 - rect.left / rect.scale, y: ((pos.y - rect.height / 2) / rect.scale) + rect.height / 2 - rect.top / rect.scale };\r\n    }\r\n\r\n    /** 求点与直线垂直相交点 */\r\n    getRightAngleIntersect(pos: DC.Pos, linePosStart: DC.Pos, linePosEnd: DC.Pos, isStraight: boolean = true) {\r\n        if (this.isSamePos(linePosStart, linePosEnd))\r\n            return linePosStart\r\n        /** 获取线段的弧度 */\r\n        let radian = this.getRadian(linePosStart, linePosEnd)\r\n        /** 垂直直线 */\r\n        let newPos = this.getRayPos(pos, radian + (Math.PI / 2), 10)\r\n        let newLine = this.getlongLine([newPos, pos])\r\n        /** 相交得点 */\r\n        let intersectPos = this.getIntersect(newLine[0], newLine[1], linePosStart, linePosEnd, isStraight);\r\n        return intersectPos;\r\n    }\r\n\r\n    /** 求点与直线垂直距离  */\r\n    getRightAngleDistance(pos: DC.Pos, linePosStart: DC.Pos, linePosEnd: DC.Pos) {\r\n        let newPos = this.getRightAngleIntersect(pos, linePosStart, linePosEnd)\r\n        let distance = this.getDistance(pos, newPos)\r\n        return distance\r\n    }\r\n\r\n    /** 获取矩形坐标点 从左上往右开始循环*/\r\n    getRectPosByCenter(centerPos: DC.Pos, size: DC.Size, radian: number = 0): DC.Pos[] {\r\n        /** x1=x cosB-y sinB ; y1=x sinB+ y cosB */\r\n\r\n        let posLU: DC.Pos = this.getVertexPosByCenter(centerPos, size, 'LU', radian)\r\n        let posLD: DC.Pos = this.getVertexPosByCenter(centerPos, size, 'LD', radian)\r\n        let posRU: DC.Pos = this.getVertexPosByCenter(centerPos, size, 'RU', radian)\r\n        let posRD: DC.Pos = this.getVertexPosByCenter(centerPos, size, 'RD', radian)\r\n\r\n        let posArr: DC.Pos[] = [posLU, posRU, posRD, posLD]\r\n        return posArr\r\n    }\r\n\r\n    /** 两点获取矩形 顺序的话由左上向右递归*/\r\n    getRectPosByTwoPos(firstPos: DC.Pos, lastPos: DC.Pos, sort: boolean = false): DC.Pos[] {\r\n        let posArr: DC.Pos[] = []\r\n        if (!sort) {\r\n            posArr = [{ x: firstPos.x, y: firstPos.y }, { x: lastPos.x, y: lastPos.y }]\r\n        } else {\r\n            let maxX: number = firstPos.x > lastPos.x ? firstPos.x : lastPos.x\r\n            let minX: number = firstPos.x > lastPos.x ? lastPos.x : firstPos.x\r\n            let maxY: number = firstPos.y > lastPos.y ? firstPos.y : lastPos.y\r\n            let minY: number = firstPos.y > lastPos.y ? lastPos.y : firstPos.y\r\n            posArr = [{ x: minX, y: minY }, { x: maxX, y: maxY }]\r\n        }\r\n\r\n        let posA: DC.Pos = { x: posArr[1].x, y: posArr[0].y }\r\n        let posB: DC.Pos = { x: posArr[0].x, y: posArr[1].y }\r\n        let newPosArr: DC.Pos[] = [posArr[0], posA, posArr[1], posB]\r\n\r\n        return newPosArr\r\n    }\r\n\r\n    /** 获取矩形顶点坐标 \r\n     * 类型选项:LU,LD,RU,RD\r\n     * */\r\n    getVertexPosByCenter(centerPos: DC.Pos, size: DC.Size, type: string, radian: number = 0): DC.Pos {\r\n        switch (type) {\r\n            case 'LU':\r\n                let posLU: DC.Pos = { x: centerPos.x - (size.width / 2), y: centerPos.y - (size.height / 2) }\r\n                let newPosLU: DC.Pos = this.getRotatePos(centerPos, posLU, radian);\r\n                return newPosLU\r\n            case 'LD':\r\n                let posLD: DC.Pos = { x: centerPos.x - (size.width / 2), y: centerPos.y + (size.height / 2) }\r\n                let newPosLD: DC.Pos = this.getRotatePos(centerPos, posLD, radian);\r\n                return newPosLD\r\n            case 'RU':\r\n                let posRU: DC.Pos = { x: centerPos.x + (size.width / 2), y: centerPos.y - (size.height / 2) }\r\n                let newPosRU: DC.Pos = this.getRotatePos(centerPos, posRU, radian);\r\n                return newPosRU\r\n            case 'RD':\r\n                let posRD: DC.Pos = { x: centerPos.x + (size.width / 2), y: centerPos.y + (size.height / 2) }\r\n                let newPosRD: DC.Pos = this.getRotatePos(centerPos, posRD, radian);\r\n                return newPosRD\r\n            default:\r\n                console.log('选择方向错误')\r\n                return null\r\n        }\r\n    }\r\n\r\n    /* 获取线段 */\r\n    getLines(posArr: DC.Pos[]) {\r\n        if (!posArr || posArr.length < 2)\r\n            return []\r\n        let lines: DC.Pos[][] = [[posArr[posArr.length - 1], posArr[0]]]\r\n        for (let i = 0; i < posArr.length - 1; i++) {\r\n            lines.push([posArr[i], posArr[i + 1]])\r\n        }\r\n        return lines\r\n    }\r\n\r\n    /** 计算点坐标是否在坐标集合围成空间内 mistake面积误差 */\r\n    isInPosArrByPos(pos: DC.Pos, posArr: DC.Pos[], mistake: number = 0.1) {\r\n        let area: number = this.getArea(...posArr)\r\n        let newArea: number = 0\r\n        for (let i = 0; i < posArr.length - 1; i++) {\r\n            newArea += Math.abs(this.getTriangleArea(pos, posArr[i], posArr[i + 1]))\r\n        }\r\n        newArea += Math.abs(this.getTriangleArea(pos, posArr[posArr.length - 1], posArr[0]))\r\n        let a = newArea - area\r\n        if ((a >= 0 && a < mistake) || (a <= 0 && a > -mistake))\r\n            return true\r\n        else\r\n            return false\r\n    }\r\n\r\n    getTriangleAreaByDistance(a: number, b: number, c: number) {\r\n        let p = (a + b + c) / 2\r\n        let area = Math.sqrt(p * (p - a) * (p - b) * (p - c))\r\n        return area\r\n    }\r\n\r\n    /** 获取多边形的中心点(矩形获取法) */\r\n    getCenterPosByPolygon(...posArr: DC.Pos[]): DC.Pos {\r\n        /** 矩形获取法 */\r\n        let rectFunc = (): DC.Pos => {\r\n            let maxPos: DC.Pos = { x: posArr[0].x, y: posArr[0].y }\r\n            let minPos: DC.Pos = { x: posArr[0].x, y: posArr[0].y }\r\n            for (let i = 1; i < posArr.length; i++) {\r\n                if (maxPos.x < posArr[i].x)\r\n                    maxPos.x = posArr[i].x\r\n                if (maxPos.y < posArr[i].y)\r\n                    maxPos.y = posArr[i].y\r\n                if (minPos.x > posArr[i].x)\r\n                    minPos.x = posArr[i].x\r\n                if (minPos.y > posArr[i].y)\r\n                    minPos.y = posArr[i].y\r\n            }\r\n            let centerPos: DC.Pos = this.getCenterPos(maxPos, minPos)\r\n            return centerPos\r\n        }\r\n        let centerPos: DC.Pos = rectFunc()\r\n        return centerPos\r\n    }\r\n\r\n    /** 获取三角形面积 */\r\n    getTriangleArea(posA: DC.Pos, posB: DC.Pos, posC: DC.Pos) {\r\n        let area = ((posA.x * (posB.y - posC.y)) + (posB.x * (posC.y - posA.y)) + (posC.x * (posA.y - posB.y))) / 2\r\n        return area\r\n    }\r\n\r\n    /** 获取三角形内心 */\r\n    getTriangleCenterPos(posA: DC.Pos, posB: DC.Pos, posC: DC.Pos) {\r\n        let x = (posA.x + posB.x + posC.x) / 3\r\n        let y = (posA.y + posB.y + posC.y) / 3\r\n        return { x: x, y: y }\r\n    }\r\n\r\n    /** 获取面积 */\r\n    getArea(...pos: DC.Pos[]) {\r\n        let area: number = 0\r\n        /** 至少要构成三角形 */\r\n        if (pos.length < 3) {\r\n            return 0\r\n        }\r\n        else {\r\n            for (let i = 1; i < pos.length - 1; i++) {\r\n                let newArea = this.getTriangleArea(pos[0], pos[i], pos[i + 1])\r\n                area += newArea\r\n            }\r\n            return area\r\n        }\r\n    }\r\n\r\n    /** 删除同点的线 */\r\n    removeSamePosLine(lineArr: DC.Pos[][]) {\r\n        for (let i = lineArr.length - 1; i >= 0; i--) {\r\n            if (lineArr[i][0].x == lineArr[i][1].x && lineArr[i][0].y == lineArr[i][1].y) {\r\n                lineArr.splice(i, 1)\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    /** 弧度是否平行 */\r\n    isParallelRadian(radianA: number, radianB: number, errorValue: number = 0.0001) {\r\n        let value = radianB - radianA\r\n        value = value % Math.PI\r\n        value = Math.abs(value)\r\n        if (value <= errorValue || value >= Math.PI - errorValue) {\r\n            return true\r\n        }\r\n        return false\r\n    }\r\n\r\n    /** 获取点和半径形成的线段 */\r\n    getLineByCenterPos(centerPos: DC.Pos, radius: number, radian: number) {\r\n        let newPosA = this.getRayPos(centerPos, radian, radius)\r\n        let newPosB = this.getRayPos(centerPos, radian + Math.PI, radius)\r\n        return [newPosA, newPosB]\r\n    }\r\n\r\n    /** 坐标射线顺序排列 返回排列顺序 */\r\n    getPosRaySort(posStart: DC.Pos, ...posArr: DC.Pos[]) {\r\n        let distanceArr: {\r\n            id: number,\r\n            distance: number\r\n        }[] = []\r\n        let arrNum: number[] = []\r\n        let pos: DC.Pos = null\r\n        let distance: number = null\r\n        /** 收集长度 */\r\n        for (let i = 0; i < posArr.length; i++) {\r\n            distance = this.getPowDistance(posStart, posArr[i])\r\n            distanceArr.push({ distance: distance, id: i })\r\n        }\r\n\r\n        /** 比较长度 */\r\n        let distanceMin: number = null\r\n        let distanceMinNum: number = null\r\n        let loop: number = distanceArr.length\r\n        for (let i = 0; i < loop; i++) {\r\n            distanceMin = distanceArr[0].distance\r\n            distanceMinNum = distanceArr[0].id\r\n            for (let j = 0; j < distanceArr.length; j++) {\r\n                if (distanceArr[j].distance < distanceMin) {\r\n                    distanceMin = distanceArr[j].distance\r\n                    distanceMinNum = distanceArr[j].id\r\n                }\r\n            }\r\n            arrNum.push(distanceMinNum)\r\n            distanceArr.splice(distanceMinNum, 1)\r\n        }\r\n        //console.log(arrNum)\r\n        return arrNum\r\n    }\r\n\r\n    /** 获取矩阵简单版 */\r\n    getTransformStringByRM(obj: { movePos?: DC.Pos, radian?: number }): string {\r\n        obj.movePos = obj.movePos ? obj.movePos : { x: 0, y: 0 }\r\n        let sinA = 0\r\n        let cosA = 1\r\n        if (obj.radian != undefined) {\r\n            sinA = Math.sin(obj.radian)\r\n            cosA = Math.cos(obj.radian)\r\n        }\r\n        let string: string = this.getTransfromString(cosA, sinA, -sinA, cosA, obj.movePos.x, obj.movePos.y)\r\n        return string\r\n\r\n    }\r\n\r\n    /** 获取矩阵字符串 */\r\n    getTransfromString(cosA, sinA, unsinB, cosB, x, y): string {\r\n        let string: string = \"matrix(\" + cosA + \",\" + sinA + \",\" + unsinB + \",\" + cosB + \",\" + x + \",\" + y + \")\"\r\n        return string\r\n    }\r\n\r\n    /** 获取点到线段最近的点 */\r\n    getPointToLinePos(pos: DC.Pos, lineStart: DC.Pos, lineEnd: DC.Pos): DC.Pos {\r\n        if (this.isSamePos(lineStart, lineEnd))\r\n            return lineStart\r\n        let cross = ((lineEnd.x - lineStart.x) * (pos.x - lineStart.x)) + ((lineEnd.y - lineStart.y) * (pos.y - lineStart.y))\r\n        let d = ((lineEnd.x - lineStart.x) * (lineEnd.x - lineStart.x)) + ((lineEnd.y - lineStart.y) * (lineEnd.y - lineStart.y))\r\n        if (cross < 0) {\r\n            return lineStart\r\n        }\r\n        else if (cross > d) {\r\n            return lineEnd\r\n        }\r\n        else {\r\n            let newPos: DC.Pos = this.getRightAngleIntersect(pos, lineStart, lineEnd)\r\n            return newPos\r\n        }\r\n    }\r\n\r\n    /** 坐标排序 */\r\n    getPosArrSort(posStart: DC.Pos, ...posArr: DC.Pos[]): DC.Pos[] {\r\n        let newArr: DC.Pos[] = [posArr[0]]\r\n        let distanceArr: number[] = [this.getDistance(posStart, posArr[0])]\r\n        let distance: number = null\r\n        let same: number = 0;\r\n        for (let i = 1; i < posArr.length; i++) {\r\n            distance = this.getDistance(posStart, posArr[i])\r\n            for (let j = 0; j < distanceArr.length; j++) {\r\n                if (distance > distanceArr[j]) {\r\n                    same = j;\r\n                }\r\n            }\r\n            newArr.splice(same, 0, posArr[i])\r\n            distanceArr.splice(same, 0, distance)\r\n            same = 0\r\n        }\r\n        return newArr\r\n    }\r\n\r\n    /** 向量运算 */\r\n    vector2D(vector: DC.Pos) {\r\n        let vec = {\r\n            x: vector.x,\r\n            y: vector.y,\r\n            /** 相加 */\r\n            add: (newVector: DC.Pos) => {\r\n                vec.x += newVector.x;\r\n                vec.y += newVector.y;\r\n                return vec\r\n            },\r\n            /** 相减 */\r\n            sub: (newVector: DC.Pos) => {\r\n                vec.x -= newVector.x;\r\n                vec.y -= newVector.y;\r\n                return vec\r\n            },\r\n            /** 相反 */\r\n            oppsite: (newVector: DC.Pos) => {\r\n                vec.x = -vec.x\r\n                vec.y = -vec.y\r\n                return vec\r\n            },\r\n            /** 点乘 */\r\n            Multiply: (newVector: DC.Pos) => {\r\n                return (vec.x * newVector.x) + (vec.y * newVector.y)\r\n            },\r\n            //旋转\r\n            rotate: (radian: number) => {\r\n                var vx = vec.x,\r\n                    vy = vec.y,\r\n                    cosVal = Math.cos(radian),\r\n                    sinVal = Math.sin(radian);\r\n                vec.x = vx * cosVal - vy * sinVal;\r\n                vec.y = vx * sinVal + vy * cosVal;\r\n                return vec\r\n            },\r\n            // 缩放\r\n            scale: (scale) => {\r\n                vec.x *= scale;\r\n                vec.y *= scale;\r\n                return vec\r\n            },\r\n            /** 长度 */\r\n            length: () => {\r\n                return Math.sqrt(Math.pow(vec.x, 2) + Math.pow(vec.y, 2))\r\n            },\r\n            /** 弧度 */\r\n            radian: () => {\r\n                if (vec.x == 0 && vec.y == 0)\r\n                    return null\r\n                return Math.atan2(vec.y, vec.x)\r\n            },\r\n            /** 获取弧度差 vec-newVector */\r\n            differRadian: (newVector: DC.Pos) => {\r\n                let radian = vec.radian()\r\n                let newRadian = this.vector2D(newVector).radian()\r\n                return radian - newRadian\r\n            },\r\n            /** vec在newVector的投影 */\r\n            projection: (newVector: DC.Pos) => {\r\n                let differRadian = vec.differRadian(newVector)\r\n                vec.x = vec.x * Math.cos(differRadian)\r\n                vec.y = vec.y * Math.cos(differRadian)\r\n                return vec\r\n            }\r\n            /** 单位向量 */\r\n\r\n        }\r\n        return vec\r\n    }\r\n\r\n    /** 判断点是否在线段内\r\n     * @param errorValue 误差距离\r\n     */\r\n    isInLine(lineStart: DC.Pos, lineEnd: DC.Pos, pos: DC.Pos, errorValue: number = 0.001) {\r\n        let newPos = this.getPointToLinePos(pos, lineStart, lineEnd)\r\n        let newDistance = this.getDistance(newPos, pos)\r\n        if (newDistance < errorValue)\r\n            return true\r\n        else\r\n            return false\r\n    }\r\n\r\n    /**\r\n     * 弧度是否相同(先调整弧度为正常值再比较) \r\n     * @param radianA \r\n     * @param radianB \r\n     * @param errorValue 误差值\r\n     */\r\n    isSameRadian(radianA: number, radianB: number, errorValue: number = 0.0001) {\r\n        let a = this.getAbsRadian(radianA, true)\r\n        let b = this.getAbsRadian(radianB, true)\r\n        if (a > b - errorValue && a < b + errorValue) {\r\n            return true\r\n        }\r\n\r\n\r\n        return false\r\n    }\r\n\r\n    /** 判断点在线段内外 点必须在直线上*/\r\n    isLineOut(lineStart: DC.Pos, lineEnd: DC.Pos, pos: DC.Pos) {\r\n        let out: boolean = false\r\n        /** 线的向量 */\r\n        let vector: DC.Pos = {\r\n            x: lineEnd.x - lineStart.x,\r\n            y: lineEnd.y - lineStart.y,\r\n        }\r\n        /** 点到线头的向量 */\r\n        let newVector: DC.Pos = {\r\n            x: pos.x - lineStart.x,\r\n            y: pos.y - lineStart.y,\r\n        }\r\n        /** 用向量点乘判断内外 */\r\n        let a = this.vector2D(vector).Multiply(newVector)\r\n        if (a <= 0) {\r\n            out = true\r\n        } else {\r\n            let b = this.vector2D(newVector).sub(vector).Multiply(vector)\r\n            if (b >= 0) {\r\n                out = true\r\n            }\r\n        }\r\n        return out\r\n    }\r\n\r\n    /**\r\n     * 获取开始点与线弧度最小的线(只与沿开头到结尾的线比)\r\n     * @param posStart \r\n     * @param posEnd \r\n     * @param lineArr \r\n     * @returns 返回线的标记 \r\n     */\r\n    getNearLine(posStart: DC.Pos, posEnd: DC.Pos, lineArr: DC.Pos[]) {\r\n        let mainRadian = this.getRadian(posStart, posEnd)\r\n        mainRadian = this.getAbsRadian(mainRadian, true)\r\n        for (let i = 0; i < lineArr.length; i++) {\r\n            let lineRadian = this.getRadian(lineArr[i][0], lineArr[i][1])\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 获得弧形与线段相交点\r\n     * @param lineStart 直线的开头\r\n     * @param lineEnd  直线的结尾\r\n     * @param radius  弧线的弧度\r\n     * @param circlePos 弧线的半径\r\n     * @returns 返回值[正方向,负方向]\r\n     */\r\n    getArcLineIntersect(lineStart: DC.Pos, lineEnd: DC.Pos, radius: number, circlePos: DC.Pos) {\r\n        let radian = this.getRadian(lineStart, lineEnd)\r\n        let rayPos = this.getRayPos(circlePos, radian + (Math.PI / 2), 10)\r\n        let intersectPos = this.getIntersect(lineStart, lineEnd, rayPos, circlePos)\r\n        let circleIntersectPowDistance = this.getPowDistance(circlePos, intersectPos)\r\n        let circleRPowDistnace = Math.pow(radius, 2)\r\n        let DifferencePowDistance = circleRPowDistnace - circleIntersectPowDistance\r\n        // if (DifferencePowDistance < 0) {\r\n        //     return null\r\n        // }\r\n        let distance = Math.sqrt(DifferencePowDistance)\r\n        let posA = this.getRayPos(intersectPos, radian, distance)\r\n        let posB = this.getRayPos(intersectPos, radian, -distance)\r\n        return [posA, posB]\r\n    }\r\n\r\n    /**\r\n     * 圆圆相交\r\n     * @param mainRadius 主要圆半径\r\n     * @param mainCirclePos 主要圆点坐标\r\n     * @param otherRadius 辅助相切圆半径\r\n     * @param otherCirclePos 辅助相切圆点坐标\r\n     * @returns [正方向,反方向]\r\n     */\r\n    getArcArcIntersect(mainRadius: number, mainCirclePos: DC.Pos, otherRadius: number, otherCirclePos: DC.Pos) {\r\n        let radian = this.getRadian(mainCirclePos, otherCirclePos)\r\n        let distance = this.getDistance(mainCirclePos, otherCirclePos)\r\n        let newRadian = this.getTriangleRadianByDistance(mainRadius, distance, otherRadius)\r\n        let newPosA = this.getRayPos(mainCirclePos, radian + newRadian, mainRadius)\r\n        let newPosB = this.getRayPos(mainCirclePos, radian - newRadian, mainRadius)\r\n        return [newPosA, newPosB]\r\n    }\r\n\r\n    /** 获取扇形面积 */\r\n    getSectorArea(lineDistance: number, r: number) {\r\n        let arcDistance = 2 * Math.asin(lineDistance / (2 * r)) * r\r\n        let area = arcDistance * r / 2\r\n        return area\r\n    }\r\n\r\n    /** 获取弧形面积 */\r\n    getArcArea(lineDistance: number, r: number, isBig: boolean = false) {\r\n        let area = this.getSectorArea(lineDistance, r)\r\n        let triangleArea = this.getTriangleAreaByDistance(lineDistance, r, r)\r\n        area -= triangleArea\r\n        if (isBig) {\r\n            area = Math.PI * r * r - area\r\n        }\r\n        return area\r\n    }\r\n\r\n    /** 获取弧度极限的弧度(limitRadian一定为正)  */\r\n    getLimitRadian(mainRadian: number, limitRadian: number) {\r\n        let newRadian = this.getAbsRadian(mainRadian)\r\n        let otherLimitRadian = limitRadian - Math.PI\r\n        if (\r\n            (newRadian >= limitRadian && newRadian < Math.PI) ||\r\n            newRadian >= -Math.PI && newRadian <= otherLimitRadian\r\n        ) {\r\n            newRadian += Math.PI\r\n        }\r\n        return newRadian\r\n    }\r\n\r\n    /* 获取两点的成弧度的距离 */\r\n    getTwoPosRadianDistance(presentPos: DC.Pos, prevPos: DC.Pos, radian: number, isAbs: boolean = true) {\r\n        let line = [{ x: 0, y: 0 }]\r\n        line = [line[0], this.getRayPos(line[0], radian, 10)]\r\n        let newPresentPos = this.getRightAngleIntersect(presentPos, line[0], line[1])\r\n        let newPrevPos = this.getRightAngleIntersect(prevPos, line[0], line[1])\r\n        let distance = this.getDistance(newPresentPos, newPrevPos)\r\n        if (isAbs)\r\n            return distance\r\n        let a = line[1].x\r\n        let b = newPresentPos.x - newPrevPos.x\r\n        if (Math.abs(a) < 0.01) {\r\n            a = line[1].y\r\n            b = newPresentPos.y - newPrevPos.y\r\n        }\r\n        if ((a > 0 && b > 0) || (a < 0 && b < 0)) {\r\n            return distance\r\n        }\r\n        return -distance\r\n    }\r\n\r\n    /**\r\n     * 获取线延长线(两头延申)\r\n     * @param line \r\n     * @param distance ,默认999999999\r\n     */\r\n    getlongLine(line: DC.Pos[], distance: number = 99999999999) {\r\n        let radian = this.getRadian(line[0], line[1])\r\n        let newPosA = this.getRayPos(line[1], radian, distance)\r\n        let newPosB = this.getRayPos(line[0], radian, -distance)\r\n        return [newPosB, newPosA]\r\n    }\r\n\r\n    /**\r\n     * 获取同向的线段\r\n     * @param mainLine \r\n     * @param transLine \r\n     */\r\n    getSameTrendLine(mainLine: DC.Pos[], transLine: DC.Pos[]) {\r\n        let mainRadian = this.getRadian(mainLine[0], mainLine[1])\r\n        let transRadian = this.getRadian(transLine[0], transLine[1])\r\n        let differRadian = mainRadian - transRadian\r\n        differRadian = this.getAbsRadian(differRadian)\r\n        if (differRadian > Math.PI / 2 || differRadian < -Math.PI / 2) {\r\n            return [transLine[1], transLine[0]]\r\n        }\r\n        return [transLine[0], transLine[1]]\r\n    }\r\n\r\n    /** 获取最近坐标,包括首尾两边,尽量在同一条线上 */\r\n    getNearPosArr(mainPos: DC.Pos, vectorPos: DC.Pos, posArr: DC.Pos[]) {\r\n\r\n        /** 头最小距离坐标 */\r\n        let startMinPos: DC.Pos = null\r\n        let startInt: number = null\r\n        let startMinDistance: number = null\r\n        /** 尾最小距离坐标 */\r\n        let endMinPos: DC.Pos = null\r\n        let endInt: number = null\r\n        let endMinDistance: number = null\r\n        /** 初始向量,作为向量正负衡量标准 */\r\n        let mainVector: DC.Pos = {\r\n            x: vectorPos.x - mainPos.x,\r\n            y: vectorPos.y - mainPos.y\r\n        }\r\n        let Vector: DC.Pos = null\r\n        let distance: number = null\r\n        for (let i = 0; i < posArr.length; i++) {\r\n            Vector = {\r\n                x: posArr[i].x - mainPos.x,\r\n                y: posArr[i].y - mainPos.y\r\n            }\r\n            let a = this.vector2D(mainVector).Multiply(Vector)\r\n            distance = this.getPowDistance(posArr[i], mainPos)\r\n            /** 负数为反方向 */\r\n            if (a < 0) {\r\n                if (startMinDistance == null || distance < startMinDistance) {\r\n                    startMinPos = posArr[i]\r\n                    startMinDistance = distance\r\n                    startInt = i\r\n                }\r\n            }\r\n            /** 正数为正方向 */\r\n            else {\r\n                if (endMinDistance == null || distance < endMinDistance) {\r\n                    endMinPos = posArr[i]\r\n                    endMinDistance = distance\r\n                    endInt = i\r\n                }\r\n            }\r\n        }\r\n        return {\r\n            StartPos: startMinPos,\r\n            endPos: endMinPos,\r\n            startInt: startInt,\r\n            endInt: endInt\r\n        }\r\n    }\r\n\r\n}\r\n","export class SvgUtil {\r\n    /** 获取圆弧path */\r\n    getArcPathString(x: number, y: number, r: number, a0: number, a1: number, ccw?: any): string {\r\n        x = +x, y = +y, r = +r;\r\n        let dx = r * Math.cos(a0),\r\n            dy = r * Math.sin(a0),\r\n            x0 = x + dx,\r\n            y0 = y + dy,\r\n            cw = 1 ^ ccw,\r\n            da = ccw ? a0 - a1 : a1 - a0,\r\n            pathString: string = \"\",\r\n            tau: number = 2 * Math.PI,\r\n            tauEpsilon: number = tau - 1e-6\r\n        // Is the radius negative? Error.\r\n        if (r < 0) throw new Error(\"negative radius: \" + r);\r\n        pathString += \"M\" + x0 + \",\" + y0;\r\n        // Does the angle go the wrong way? Flip the direction.\r\n        if (da < 0) da = da % tau + tau;\r\n        // Is this a complete circle? Draw two arcs to complete the circle.\r\n        if (da > tauEpsilon) {\r\n            pathString += \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (x - dx) + \",\" + (y - dy) + \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (x0) + \",\" + (y0);\r\n        }\r\n        // Is this arc non-empty? Draw an arc!\r\n        else if (da > 1e-6) {\r\n            pathString += \"A\" + r + \",\" + r + \",0,\" + (+(da >= Math.PI)) + \",\" + cw + \",\" + (x + r * Math.cos(a1)) + \",\" + (y + r * Math.sin(a1));\r\n        }\r\n        return pathString\r\n\r\n    }\r\n\r\n    /**  获取path中指定的坐标*/\r\n    getPosByPath(pathString: string, num): { x: number, y: number } {\r\n        if (pathString == null || pathString == '')\r\n            return null\r\n        let pathArray: string[] = pathString.split(',')\r\n        let mainStr: string = pathArray[num]\r\n        if (mainStr[0] == 'Z')\r\n            return null\r\n        mainStr = mainStr.substr(1, mainStr.length - 1)\r\n        let arr = mainStr.split(' ')\r\n        let pos = { x: parseFloat(arr[0]), y: parseFloat(arr[1]) }\r\n        return pos\r\n\r\n    }\r\n\r\n    /**  组成path z为否为密封*/\r\n    getPath(z: boolean, ...posArr) {\r\n        if (posArr.length == 0 || posArr[0] == null) {\r\n            return ''\r\n        }\r\n        let path = 'M' + posArr[0].x + ' ' + posArr[0].y\r\n        for (let i = 1; i < posArr.length; i++) {\r\n            path += ',' + 'L' + posArr[i].x + ' ' + posArr[i].y\r\n        }\r\n        if (z)\r\n            path += ',' + 'Z'\r\n        return path\r\n    }\r\n\r\n    /** 获取多段path */\r\n    getPaths(...obj: { posArr: any[], z: boolean }[]) {\r\n        let path: string = ''\r\n        for (let i = 0; i < obj.length; i++) {\r\n            path += this.getPath(obj[i].z, ...obj[i].posArr)\r\n        }\r\n        return path\r\n    }\r\n\r\n    /** 获得追加的path */\r\n    getAddPath(pos: { x: number, y: number }, isStart: boolean = false) {\r\n        let string = `${pos.x} ${pos.y}`\r\n        if (isStart) {\r\n            let path = `M${string}`\r\n            return path\r\n        }\r\n        else {\r\n            let path = `,L${string}`\r\n            return path\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 获取圆弧\r\n     * @param radius \r\n     * @param lineEnd \r\n     * @param isBigArc 选择大小弧(默认false,小弧)\r\n     * @param isReverse 选择顺逆时针(默认false,逆时针)\r\n     * @returns 返回{path:字符串,radius:圆的半径}\r\n     */\r\n    getArcPath(radius: number, lineEnd, isBigArc: boolean = false, isReverse: boolean = false) {\r\n        let bigArc = isBigArc ? 1 : 0\r\n        let reverse = isReverse ? 1 : 0\r\n        let AString = `A${radius} ${radius},0 ${bigArc} ${reverse},${lineEnd.x} ${lineEnd.y}`\r\n        return AString\r\n    }\r\n}","export class ConsoleUtil {\r\n\r\n    private _logOn = true\r\n    get logOn() { return this._logOn }\r\n    set logOn(data) { this._logOn = data }\r\n\r\n    /** 打印数组 */\r\n    logArr(arr: string[], offLine?: string) {\r\n        if (this.logOn) {\r\n            for (let i = 0; i < arr.length; i++) {\r\n                console.log(arr[i])\r\n            }\r\n            this.logOffLine(offLine)\r\n        }\r\n\r\n    }\r\n\r\n    /** 阻隔线 */\r\n    logOffLine(str: string = '=') {\r\n        if (this.logOn) {\r\n            this.logCopy(str, 20)\r\n        }\r\n\r\n    }\r\n\r\n    /** 文字叠加 */\r\n    logCopy(str: string, int: number) {\r\n        if (this.logOn) {\r\n            let text: string = ''\r\n            for (let i = 0; i < int; i++) {\r\n                text += str\r\n            }\r\n            console.log(text)\r\n        }\r\n\r\n    }\r\n\r\n    colorLog(text: string, color: string = 'red') {\r\n        if (this.logOn) {\r\n            console.log(\"%c\" + text, \"color:\" + color)\r\n        }\r\n\r\n    }\r\n\r\n    /** 红色 */\r\n    redLog(text) {\r\n        if (this.logOn) {\r\n            this.colorLog(text, \"red\")\r\n        }\r\n\r\n    }\r\n\r\n    /** 属性输出 */\r\n    attrLog(attr: number | string, arr: any[], offLine?: string) {\r\n        if (this.logOn) {\r\n            for (let i = 0; i < arr.length; i++) {\r\n                console.log(arr[i][attr])\r\n            }\r\n            this.logOffLine(offLine)\r\n        }\r\n\r\n    }\r\n\r\n}","export class ParseJ2D {\r\n    constructor(){\r\n\r\n    }\r\n\r\n    getobjData(obj){\r\n        if(obj.params[0] != undefined){\r\n            // console.log(obj.params[obj.params[0].name])\r\n            if(obj.params !=undefined && obj.modelName != 'point' && obj.params[obj.params[0].name] == undefined){\r\n                let paramsArr = {};\r\n                for(let j=0;j<obj.params.length;j++){\r\n                    let repParams = {\r\n                        name:obj.params[j].name,\r\n                        cName:obj.params[j].cName,\r\n                        formula:obj.params[j].formula,\r\n                    }\r\n                    paramsArr[obj.params[j].name] = repParams\r\n                }\r\n                obj.params = paramsArr  \r\n            }\r\n            if(obj.childs != undefined && obj.childs.length != 0){\r\n                for(let i=0;i<obj.childs.length;i++){\r\n                    this.getobjData(obj.childs[i])\r\n                }\r\n            }\r\n        }\r\n       \r\n        return obj\r\n    }\r\n\r\n    getRealData(obj,param){\r\n        let paramsArr = [];\r\n        // console.log(param)\r\n        if(obj.length == undefined || obj.length == 0){\r\n            for(let j in obj){\r\n                let params = obj[j].formula;\r\n                if(param.length == undefined ||param.length == 0){\r\n                    for(let key in param){\r\n                        params = this.replace(params,param[key].name,param[key].formula)\r\n                    } \r\n                }\r\n                else{\r\n                    for(let k=0;k<param.length;k++){\r\n                        params = this.replace(params,param[k].name,param[k].formula)\r\n                    }\r\n                }\r\n                params = eval(params);\r\n                let repParams = {\r\n                    name:obj[j].name,\r\n                    cName:obj[j].cName,\r\n                    formula:params,\r\n                }\r\n                paramsArr[obj[j].name] = repParams\r\n            }\r\n        }\r\n        else{\r\n            for(let j=0;j<obj.length;j++){\r\n                let params = obj[j].formula;\r\n                if(params.length == undefined || param.length == 0){\r\n                    for(let key in param){\r\n                        params = this.replace(params,param[key].name,param[key].formula)\r\n                    } \r\n                }\r\n                else{\r\n                    for(let k=0;k<param.length;k++){\r\n                        params = this.replace(params,param[k].name,param[k].formula)\r\n                    }\r\n                }\r\n                // console.log(params)\r\n                params = eval(params);\r\n                let repParams = {\r\n                    name:obj[j].name,\r\n                    cName:obj[j].cName,\r\n                    formula:params,\r\n                }\r\n                paramsArr.push(repParams)\r\n            }\r\n        }\r\n        return paramsArr\r\n    }\r\n\r\n    getRealPoint(obj,params){\r\n        let pointArr = [];\r\n        // this.pointArry = []\r\n        for(let i=0;i<obj.length;i++){\r\n            if(obj[i].modelName == 'point'){\r\n                let pointX = obj[i].params[0].formula\r\n                let pointY = obj[i].params[1].formula;\r\n                if(params.length == undefined || params.length == 0){\r\n                    for(let key in params){\r\n                        // console.log(params[key])\r\n                        pointX = this.replace(pointX,params[key].name,params[key].formula)\r\n                        pointY = this.replace(pointY,params[key].name,params[key].formula)\r\n                    }\r\n                }\r\n                else{\r\n                    for(let j=0;j<params.length;j++){\r\n                        pointX = this.replace(pointX,params[j].name,params[j].formula)\r\n                        pointY = this.replace(pointY,params[j].name,params[j].formula)\r\n                    }\r\n                }\r\n                // console.log(pointX)\r\n                pointX = eval(pointX)\r\n                pointY = -eval(pointY)\r\n                let point = {\r\n                    x:pointX,\r\n                    y:pointY,\r\n                    type:\"point\"\r\n                }\r\n                // this.pointArry.push(point)\r\n                pointArr.push(point)\r\n            }\r\n            else{\r\n                let R = obj[i].params[2].formula;\r\n                if(params.length == undefined || params.length == 0){\r\n                    for(let key in params){\r\n                        R= this.replace(R,params[key].name,params[key].formula)\r\n                    }\r\n                }\r\n                else{\r\n                    for(let j=0;j<params.length;j++){\r\n                        R= this.replace(R,params[j].name,params[j].formula)\r\n                    }\r\n                }\r\n                R = eval(R)\r\n                let point = {\r\n                    x:obj[i].params[0].formula,\r\n                    y:obj[i].params[1].formula,\r\n                    r:R,\r\n                    cir:obj[i].params[3].formula,\r\n                    io:obj[i].params[4].formula,\r\n                    arc:obj[i],\r\n                    type:\"arc\"\r\n                }\r\n                pointArr.push(point)\r\n            }\r\n        } \r\n        // console.log(pointArr)\r\n        return pointArr\r\n    }\r\n\r\n    replace(strings,beReplace,replace){\r\n        if (typeof strings != \"string\") {\r\n            strings = strings + \"\";\r\n        }\r\n        if(strings.match('-')){\r\n            strings = strings.replace(new RegExp('-', \"gmi\"),'-1*')\r\n        }\r\n        return strings.replace(new RegExp('{{'+beReplace+'}}', \"gmi\"), replace)\r\n    }\r\n\r\n    getAllPoints(obj,repParams?,pointArr?){\r\n        repParams = repParams == undefined? obj.params:repParams;\r\n        pointArr = pointArr == undefined? []:pointArr;\r\n        if(obj.childs != undefined){\r\n            let stringParams = obj.params;\r\n            if(obj.childs[0] != undefined && obj.childs[0].modelName == 'point'){\r\n                // let numberParams = this.getRealData(stringParams,repParams);\r\n                let realPoint = this.getRealPoint(obj.childs,repParams);\r\n                return realPoint\r\n                // pointArr.push(realPoint)\r\n            }\r\n            else{\r\n                let arry = []\r\n                let point;\r\n                for(let i=0;i<obj.childs.length;i++){\r\n                    pointArr = []\r\n                    let nextParams = this.getRealData(obj.childs[i].params,repParams);\r\n                    // console.log(nextParams)\r\n                    point = this.getAllPoints(obj.childs[i],nextParams,pointArr);\r\n                    // console.log(point)\r\n                    if(point != undefined){\r\n                        arry.push(point)  \r\n                    }\r\n                    // console.log(arry)\r\n                }\r\n                // console.log(pointArr)\r\n                pointArr.push(arry)\r\n            }\r\n            // console.log(pointArr)\r\n            return pointArr\r\n        }\r\n            // return pointArr\r\n        \r\n    }\r\n\r\n    getslipData(obj,repParams?,pointArr?){\r\n        repParams = repParams == undefined? obj.params:repParams;\r\n        pointArr = pointArr == undefined? []:pointArr;\r\n        if(obj.childs != undefined){\r\n            // let stringParams = obj.params;\r\n            if(obj.childs[0] != undefined && obj.childs[0].modelName == 'point'){\r\n                let realPoint = this.getRealPoint(obj.childs,repParams);\r\n                return realPoint\r\n            }\r\n            else{\r\n                // let arry = []\r\n                let point;\r\n                for(let i=0;i<obj.childs.length;i++){\r\n                    let nextParams = this.getRealData(obj.childs[i].params,repParams);\r\n                    point = this.getAllPoints(obj.childs[i],nextParams,pointArr);\r\n                        let newdata = {\r\n                            params:nextParams,\r\n                            point:point\r\n                        }  \r\n                    \r\n                    pointArr.push(newdata)\r\n                } \r\n            }\r\n            return pointArr\r\n        }\r\n        \r\n    }\r\n\r\n    \r\n}","import { JdesignDataService } from \"../../../../services/jdesign-data.service\";\r\nimport { JdesignUtil2dService } from \"../../../../services/jdesign-util2d.service\";\r\nimport { CalculatorsService } from \"../../../../services/calculators.service\";\r\nimport { DesignCommon as DC } from \"../../class/DesignCommon\"\r\n\r\nexport class DWAbsorb {\r\n\r\n    constructor(\r\n        private dataService: JdesignDataService,\r\n        private DUService: JdesignUtil2dService,\r\n        private calService: CalculatorsService\r\n    ) {\r\n\r\n    }\r\n\r\n    /** 吸附 */\r\n    getAbsorb(pos: DC.Pos, distance?: number) {\r\n        distance = distance ? distance : this.dataService.cmd.floorplan.absorb.minDistance\r\n        let msg = this.getStraightWallsAbsorb(pos, distance)\r\n        if (msg != undefined)\r\n            return msg\r\n        msg = this.getArcWallsAbsorb(pos, distance)\r\n        if (msg != undefined)\r\n            return msg\r\n        return null\r\n    }\r\n\r\n    /** 弧墙吸附 */\r\n    private getArcWallsAbsorb(pos: DC.Pos, minDistance: number) {\r\n        let walls = this.calService.transData.getArcWalls()\r\n        let wallsMsg = this.calService.transData.getArcLines(walls)\r\n        let absorbIndex = this.DUService.absorb.pointAndArcLines(pos, wallsMsg.lines, minDistance)\r\n        if (absorbIndex != undefined) {\r\n            let radian = this.DUService.pos.getRadian(wallsMsg.walls[absorbIndex].circlePos, pos)\r\n            let rayPos = this.DUService.pos.getRayPos(wallsMsg.walls[absorbIndex].circlePos, radian, wallsMsg.walls[absorbIndex].arcRadius)\r\n            return {\r\n                pos: rayPos,\r\n                wall: wallsMsg.walls[absorbIndex],\r\n                radian: radian\r\n            }\r\n        }\r\n        return undefined\r\n    }\r\n\r\n    /** 直墙吸附 */\r\n    private getStraightWallsAbsorb(pos: DC.Pos, minDistance: number) {\r\n        let walls = this.calService.transData.getUnArcWalls()\r\n        let wallsMsg = this.calService.transData.getWallCenterLines(walls)\r\n        let msg = this.calService.absorb.posAndWalls(pos, minDistance, false, wallsMsg)\r\n        if (msg != undefined)\r\n            return {\r\n                pos: msg.pos,\r\n                wall: msg.wall,\r\n                radian: 0\r\n            }\r\n        return undefined\r\n    }\r\n}","import { DesignCommon as DC } from \"../../class/DesignCommon\"\r\nimport { JdesignDataService } from \"../../../../services/jdesign-data.service\";\r\nimport { JDesign } from \"../../jdesign/JDesign\";\r\nimport { JdesignUtil2dService } from \"../../../../services/jdesign-util2d.service\";\r\nimport { JPoint } from \"../../jdesign/JPoint\";\r\nimport { JWall } from \"../../jdesign/JWall\";\r\nimport { CalculatorsService } from \"../../../../services/calculators.service\";\r\nimport { AbsorbLineCache } from \"../../jdesign/JCache\";\r\nexport class DrawWallAbsorb {\r\n\r\n    constructor(\r\n        private dataService: JdesignDataService,\r\n        private DUService: JdesignUtil2dService,\r\n        private calService: CalculatorsService\r\n    ) {\r\n\r\n    }\r\n\r\n    /**\r\n     * 设置吸附\r\n     * @param line 需要吸附的线\r\n     * @param removePoints 需要去点的点\r\n     * @param isOrthogonal 是否正交,默认false\r\n     */\r\n    getAbsorbData(line: DC.Pos[], removePoints: JPoint[] = [], isOrthogonal: boolean = false) {\r\n        /** 普通吸附 */\r\n        if (!isOrthogonal) {\r\n            if (this.dataService.cache.common.isAbosrb)\r\n                return this.normalAbosrb(line[0], line[1], removePoints)\r\n            else {\r\n                return {\r\n                    absorbLineData: [],\r\n                    absorbMsg: { obj: undefined, pos: line[1] }\r\n                }\r\n            }\r\n        }\r\n        /** 正交吸附 */\r\n        return this.orthogonalAbsorb(line[0], line[1], removePoints)\r\n    }\r\n\r\n    /**\r\n     * 正交吸附\r\n     * @param lineStart \r\n     * @param lineEnd \r\n     * @param removePoints \r\n     */\r\n    orthogonalAbsorb(lineStart: DC.Pos, lineEnd: DC.Pos, removePoints: JPoint[] = []) {\r\n        let minDistance = this.dataService.cmd.floorplan.absorb.minDistance\r\n        let points = this.dataService.doPoints().arr(...removePoints)\r\n        let walls = this.calService.transData.getUnArcWalls()\r\n        let absorbMsg: AbsorbWallType = { pos: { x: lineEnd.x, y: lineEnd.y }, obj: undefined }\r\n        /** 如果刚开始画,先做点普通吸附 */\r\n        if (!lineStart) {\r\n            if (this.dataService.cache.common.isAbosrb) {\r\n                let msg = this.orthogonalStartAbosrb(lineEnd, minDistance, points, walls)\r\n                return msg\r\n            }\r\n            return {\r\n                absorbLineData: [],\r\n                absorbMsg: absorbMsg\r\n            }\r\n\r\n        }\r\n        let radian = this.DUService.pos.getRadian(lineStart, lineEnd)\r\n        /** 没有弧度值直接返回 */\r\n        if (radian == undefined)\r\n            return {\r\n                absorbLineData: [],\r\n                absorbMsg: absorbMsg\r\n            }\r\n        radian = this.DUService.pos.getAbsRadian(radian)\r\n        /** 是否垂直 */\r\n        let isVectical = false\r\n        let distance: number = undefined\r\n        /** 右边和左边 */\r\n        if (\r\n            /** 右上边 */\r\n            (radian >= 0 && radian <= Math.PI / 4) ||\r\n            /** 右下边 */\r\n            (radian >= -Math.PI / 4 && radian <= 0) ||\r\n            /** 左上边 */\r\n            (radian >= Math.PI / 4 * 3 && radian <= Math.PI) ||\r\n            /** 左下边 */\r\n            (radian >= -Math.PI && radian <= -Math.PI / 4 * 3)\r\n\r\n        ) {\r\n            distance = lineEnd.x - lineStart.x\r\n            absorbMsg.pos = this.DUService.pos.getRayPos(lineStart, 0, distance)\r\n        }\r\n        /** 下边和上边 */\r\n        else {\r\n            isVectical = true\r\n            distance = lineEnd.y - lineStart.y\r\n            absorbMsg.pos = this.DUService.pos.getRayPos(lineStart, Math.PI / 2, distance)\r\n        }\r\n        if (this.dataService.cache.common.isAbosrb) {\r\n            /** 点吸附 */\r\n            let radian = this.DUService.pos.getRadian(lineStart, absorbMsg.pos)\r\n            let pointAbsorb = this.orthogonalPointAbosrb(absorbMsg.pos, points, minDistance, radian)\r\n            if (pointAbsorb) {\r\n                return {\r\n                    absorbLineData: [pointAbsorb.absorbLine],\r\n                    absorbMsg: pointAbsorb.absorbMsg\r\n                }\r\n            }\r\n            /** 点延长吸附 */\r\n            let pointLineAbsorb = this.orthogonalPointLineAbosrb(absorbMsg.pos, points, isVectical, minDistance)\r\n            /** 墙吸附 */\r\n            let wallAbosrb = this.orthogonalWallAbosrb([lineStart, absorbMsg.pos], walls, minDistance)\r\n            /** 优先判断点吸附 */\r\n            if (\r\n                /** 墙没有吸附 */\r\n                wallAbosrb.distance == undefined ||\r\n                /** 吸附到点 */\r\n                pointLineAbsorb.absorbMsg.obj\r\n            ) {\r\n                // console.log('point')\r\n                // console.log(pointAbsorb.absorbMsg)\r\n                return {\r\n                    absorbLineData: pointLineAbsorb.absorbLine ? [pointLineAbsorb.absorbLine] : [],\r\n                    absorbMsg: pointLineAbsorb.absorbMsg\r\n                }\r\n            }\r\n            /** 再用墙吸附 */\r\n            else {\r\n                // console.log('wall')\r\n                return {\r\n                    absorbLineData: wallAbosrb.absorbLine ? [wallAbosrb.absorbLine] : [],\r\n                    absorbMsg: wallAbosrb.absorbMsg\r\n                }\r\n            }\r\n        }\r\n        /** 为了可以取消吸附 */\r\n        return {\r\n            absorbLineData: [],\r\n            absorbMsg: absorbMsg\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 正交开始吸附\r\n     * @param line \r\n     * @param minDistance \r\n     */\r\n    orthogonalStartAbosrb(lastPos: DC.Pos, minDistance: number, points: JPoint[], walls: JWall[]) {\r\n        /** 点吸附 */\r\n        let pointMsg = this.dataService.cache.wall.location == 0 ? this.getPointAbsorb(lastPos, minDistance, points) : this.getOutPointAbsorb(lastPos, minDistance, walls)\r\n        if (pointMsg) {\r\n            return {\r\n                absorbLineData: [pointMsg.absorbLine],\r\n                absorbMsg: { obj: pointMsg.point, pos: pointMsg.pos }\r\n            }\r\n        }\r\n        /** 墙吸附 */\r\n        let wallMsg = this.getWallAbsorb(lastPos, minDistance, walls)\r\n        if (wallMsg) {\r\n            return {\r\n                absorbLineData: wallMsg.absorbLines,\r\n                absorbMsg: { obj: wallMsg.wall, pos: wallMsg.pos }\r\n            }\r\n        }\r\n        return {\r\n            absorbLineData: [],\r\n            absorbMsg: { obj: undefined, pos: lastPos }\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * 正交点吸附\r\n     * @param mainPos \r\n     * @param points \r\n     * @param minDistance \r\n     */\r\n    orthogonalPointAbosrb(mainPos: DC.Pos, points: JPoint[], minDistance, mainRadian: number) {\r\n        let absorbLine: AbsorbLineCache = undefined\r\n        let absorbMsg: AbsorbWallType = { pos: { x: mainPos.x, y: mainPos.y }, obj: undefined }\r\n        let pointMsg = this.calService.transData.getPointPosArr(points)\r\n        let msg = this.DUService.absorb.pointAndPoints(mainPos, pointMsg.posArr, minDistance)\r\n        if (msg) {\r\n            let radian = this.DUService.pos.getRadian(mainPos, msg.pos)\r\n            let a = this.DUService.pos.isSameRadian(radian, mainRadian, 0.01)\r\n            if (a) {\r\n                absorbLine = {\r\n                    pos: msg.pos,\r\n                    radius: this.dataService.cache.floorplan.multiple * 8,\r\n                    mode: 'point'\r\n                }\r\n                absorbMsg = { pos: msg.pos, obj: pointMsg.points[msg.index] }\r\n                return {\r\n                    absorbMsg: absorbMsg,\r\n                    absorbLine: absorbLine,\r\n                }\r\n            }\r\n        }\r\n        return undefined\r\n    }\r\n\r\n    /**\r\n     * 正交点延长线吸附\r\n     * @param mainPos \r\n     * @param points \r\n     * @param isVectical \r\n     * @param minDistance \r\n     */\r\n    orthogonalPointLineAbosrb(mainPos: DC.Pos, points: JPoint[], isVectical: boolean, minDistance) {\r\n        let absorbLines: AbsorbLineCache = undefined\r\n        let absorbMsg: AbsorbWallType = { pos: { x: mainPos.x, y: mainPos.y }, obj: undefined }\r\n        let newDistance: number = undefined\r\n        /** 线是垂直的话,找水平的线 */\r\n        if (isVectical) {\r\n            // let pointMsg = this.calService.transData.getPointHorizontalLines(points)\r\n            let walls = this.calService.transData.getUnArcWalls()\r\n            let pointMsg = this.calService.transData.getOutPointHorizontalLines(walls)\r\n            let msg = this.DUService.absorb.pointAndLines(absorbMsg.pos, pointMsg.lines, true, minDistance)\r\n            if (msg) {\r\n                absorbMsg.pos.y = pointMsg.lines[msg.index][0].y\r\n                let a = this.DUService.pos.isSamePos(pointMsg.lines[msg.index][0], absorbMsg.pos, 0.1)\r\n                if (a)\r\n                    absorbMsg.obj = pointMsg.points[msg.index]\r\n                absorbLines = {\r\n                    pos: pointMsg.lines[msg.index][0],\r\n                    radian: 0,\r\n                    mode: 'line'\r\n                }\r\n                newDistance = msg.distance\r\n            }\r\n        }\r\n        /** 线是水平的话,找垂直的线 */\r\n        else {\r\n            // let pointMsg = this.calService.transData.getPointVerticalLines(points)\r\n            let walls = this.calService.transData.getUnArcWalls()\r\n            let pointMsg = this.calService.transData.getOutPointtVerticalLines(walls)\r\n            let msg = this.DUService.absorb.pointAndLines(absorbMsg.pos, pointMsg.lines, true, minDistance)\r\n            if (msg) {\r\n                absorbMsg.pos.x = pointMsg.lines[msg.index][0].x\r\n                let a = this.DUService.pos.isSamePos(pointMsg.lines[msg.index][0], absorbMsg.pos, 0.1)\r\n                if (a)\r\n                    absorbMsg.obj = pointMsg.points[msg.index]\r\n                absorbLines = {\r\n                    pos: pointMsg.lines[msg.index][0],\r\n                    radian: Math.PI / 2,\r\n                    mode: 'line'\r\n                }\r\n                newDistance = msg.distance\r\n\r\n            }\r\n        }\r\n        return {\r\n            absorbMsg: absorbMsg,\r\n            absorbLine: absorbLines,\r\n            distance: newDistance\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 正交线吸附\r\n     * @param mainLine \r\n     * @param minDistance \r\n     * @param walls\r\n     */\r\n    orthogonalWallAbosrb(mainLine: DC.Pos[], walls: JWall[], minDistance) {\r\n        let absorbLine: AbsorbLineCache = undefined\r\n        let absorbMsg: AbsorbWallType = { pos: { x: mainLine[1].x, y: mainLine[1].y }, obj: undefined }\r\n        let newDistance: number = undefined\r\n        let wallLines = this.calService.transData.getWallCenterLines(walls)\r\n        let msg = this.DUService.absorb.rayLineAndLine(mainLine, wallLines.lines, minDistance)\r\n        if (msg) {\r\n            newDistance = msg.distance\r\n            absorbLine = {\r\n                pos: msg.pos,\r\n                mode: 'line',\r\n                radian: wallLines.walls[msg.index].getRadian()\r\n            }\r\n            let wall = wallLines.walls[msg.index]\r\n            absorbMsg = { pos: msg.pos, obj: wall }\r\n        }\r\n        return {\r\n            absorbMsg: absorbMsg,\r\n            absorbLine: absorbLine,\r\n            distance: newDistance\r\n        }\r\n\r\n    }\r\n\r\n    /** 普通吸附 */\r\n    normalAbosrb(lineStart: DC.Pos, lineEnd: DC.Pos, removePoints: JPoint[] = []) {\r\n        let absorbLineData: AbsorbLineCache[] = []\r\n        let absorbMsg: AbsorbWallType = { pos: lineEnd, obj: null }\r\n        let distance = this.dataService.cmd.floorplan.absorb.minDistance\r\n        let points = this.dataService.doPoints().arr(...removePoints)\r\n        let walls = this.calService.transData.getUnArcWalls()\r\n        let minDistance: number = undefined\r\n        let removeWalls: JWall[] = []\r\n        let absorbPos: DC.Pos = { x: lineEnd.x, y: lineEnd.y }\r\n        let absorbNum: number = 0\r\n        /** 点吸附 */\r\n        let pointAbsorb = undefined\r\n        if (this.dataService.cache.wall.location == 0)\r\n            pointAbsorb = this.getPointAbsorb(lineEnd, distance)\r\n        else\r\n            pointAbsorb = this.getOutPointAbsorb(lineEnd, distance)\r\n        if (pointAbsorb) {\r\n            absorbLineData = [pointAbsorb.absorbLine]\r\n            absorbMsg = {\r\n                pos: pointAbsorb.pos,\r\n                obj: pointAbsorb.point\r\n            }\r\n            return {\r\n                absorbLineData: absorbLineData,\r\n                absorbMsg: absorbMsg\r\n            }\r\n        }\r\n        /** 垂直水平吸附 */\r\n        if (lineStart) {\r\n            let verticalAbsorb = this.getVerticalAbsorb(lineStart, lineEnd, distance)\r\n            if (verticalAbsorb) {\r\n                absorbLineData.push(verticalAbsorb.absorbLine)\r\n                absorbMsg = {\r\n                    pos: verticalAbsorb.pos,\r\n                    obj: null\r\n                }\r\n            }\r\n        }\r\n        /** 墙吸附 */\r\n        let wallAbsorb = this.getWallAbsorb(absorbMsg.pos, distance, walls)\r\n        if (wallAbsorb) {\r\n            absorbLineData.push(...wallAbsorb.absorbLines)\r\n            absorbMsg = {\r\n                pos: wallAbsorb.pos,\r\n                obj: wallAbsorb.wall\r\n            }\r\n            return {\r\n                absorbLineData: absorbLineData,\r\n                absorbMsg: absorbMsg\r\n            }\r\n        }\r\n        /** 点垂直水平线吸附 */\r\n        if (this.dataService.cache.wall.location == 0) {\r\n            let verticalPointAbsorb = this.getVerticalPointAbsorb(absorbMsg.pos, distance, points)\r\n            if (verticalPointAbsorb) {\r\n                absorbLineData.push(...verticalPointAbsorb.absorbLines)\r\n                absorbMsg = {\r\n                    pos: verticalPointAbsorb.pos,\r\n                    obj: null\r\n                }\r\n                return {\r\n                    absorbLineData: absorbLineData,\r\n                    absorbMsg: absorbMsg\r\n                }\r\n            }\r\n        }\r\n        /** 墙外线吸附 */\r\n        if (this.dataService.cache.wall.location == 0) {\r\n            let wallOutAbsorb = this.getOutWallAbsorb(absorbMsg.pos, distance, walls)\r\n            if (wallOutAbsorb) {\r\n                absorbLineData.push(...wallOutAbsorb.absorbLines)\r\n                absorbMsg = {\r\n                    pos: wallOutAbsorb.pos,\r\n                    obj: null\r\n                }\r\n                return {\r\n                    absorbLineData: absorbLineData,\r\n                    absorbMsg: absorbMsg\r\n                }\r\n            }\r\n        }\r\n        /** 墙轮廓垂直吸附(用于内外墙) */\r\n        else {\r\n            let wallAbsorb = this.getWallAllLinesAbosrb(absorbMsg.pos, distance, walls)\r\n            if (wallAbsorb) {\r\n                absorbLineData.push(...wallAbsorb.absorbLines)\r\n                absorbMsg = {\r\n                    pos: wallAbsorb.pos,\r\n                    obj: null\r\n                }\r\n            }\r\n            return {\r\n                absorbLineData: absorbLineData,\r\n                absorbMsg: absorbMsg\r\n            }\r\n        }\r\n        /** 没吸附===================================== */\r\n        return {\r\n            absorbLineData: absorbLineData,\r\n            absorbMsg: absorbMsg\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 基础吸附\r\n     * @param pos \r\n     * @param distance \r\n     */\r\n    getBaseAbsorb(pos: DC.Pos, distance: number, points: JPoint[], walls: JWall[]) {\r\n\r\n    }\r\n\r\n    /**\r\n     * 点吸附\r\n     * @param pos \r\n     * @param distance \r\n     * @param points \r\n     * @returns 没有吸附返回undefined\r\n     */\r\n    getPointAbsorb(pos: DC.Pos, distance: number, points?: JPoint[]) {\r\n        let pointMsg = this.calService.transData.getPointPosArr(points)\r\n        let pointAbosrbMsg = this.DUService.absorb.pointAndPoints(pos, pointMsg.posArr, distance)\r\n        /** 有吸附 */\r\n        if (pointAbosrbMsg) {\r\n            /** 吸附线信息 */\r\n            let absorbLine: AbsorbLineCache = {\r\n                pos: pointAbosrbMsg.pos,\r\n                radius: this.dataService.cache.floorplan.multiple * 8,\r\n                mode: 'point'\r\n            }\r\n            return {\r\n                point: pointMsg.points[pointAbosrbMsg.index],\r\n                pos: pointAbosrbMsg.pos,\r\n                distance: pointAbosrbMsg.distance,\r\n                absorbLine: absorbLine\r\n            }\r\n        }\r\n        /** 没有吸附点 */\r\n        return null\r\n    }\r\n\r\n    /**\r\n     * 点外线吸附\r\n     * @param pos \r\n     * @param distance \r\n     * @param walls 为了准确获取外线点\r\n     * @returns 没有吸附返回undefined\r\n     */\r\n    getOutPointAbsorb(pos: DC.Pos, distance: number, walls?: JWall[]) {\r\n        walls = this.calService.transData.getUnArcWalls(walls)\r\n        let outLineArr = this.calService.transData.getWallOutLines(walls)\r\n        let wallsMsg = this.calService.transData.getWallOutLinePosArr(outLineArr)\r\n        let pointAbsorbMsg = this.calService.absorb.posAndPointPosArr(pos, distance, wallsMsg)\r\n        /** 有吸附 */\r\n        if (pointAbsorbMsg) {\r\n            /** 吸附线信息 */\r\n            let absorbLine: AbsorbLineCache = {\r\n                pos: pointAbsorbMsg.pos,\r\n                radius: this.dataService.cache.floorplan.multiple,\r\n                mode: 'point'\r\n            }\r\n            return {\r\n                point: pointAbsorbMsg.point,\r\n                pos: pointAbsorbMsg.pos,\r\n                distance: pointAbsorbMsg.distance,\r\n                absorbLine: absorbLine\r\n            }\r\n        }\r\n        /** 没有吸附点 */\r\n        return undefined\r\n    }\r\n\r\n    /**\r\n     * 垂直水平吸附\r\n     * @param lineStart \r\n     * @param lineEnd \r\n     * @param distance \r\n     * @returns 返回吸附坐标,没有吸附,返回null\r\n     */\r\n    getVerticalAbsorb(lineStart: DC.Pos, lineEnd: DC.Pos, distance: number) {\r\n        /** 水平坐标 */\r\n        let absorbMsg = this.calService.absorb.lineAndVerticalLine(lineStart, lineEnd, distance)\r\n        if (absorbMsg != null) {\r\n            let newPos: DC.Pos = null\r\n            let absorbLine = null\r\n            switch (absorbMsg.mode) {\r\n                /** 水平 */\r\n                case 'h':\r\n                    newPos = { x: lineEnd.x, y: absorbMsg.pos.y }\r\n                    /** 吸附线信息 */\r\n                    absorbLine = {\r\n                        pos: absorbMsg.pos,\r\n                        radian: 0,\r\n                        mode: 'line'\r\n                    }\r\n                    return {\r\n                        pos: newPos,\r\n                        absorbLine: absorbLine,\r\n                        distance: absorbMsg.distance\r\n                    }\r\n                /** 垂直 */\r\n                case 'v':\r\n                    newPos = { x: absorbMsg.pos.x, y: lineEnd.y }\r\n                    /** 吸附线信息 */\r\n                    absorbLine = {\r\n                        pos: absorbMsg.pos,\r\n                        radian: Math.PI / 2,\r\n                        mode: 'line'\r\n                    }\r\n                    return {\r\n                        pos: newPos,\r\n                        absorbLine: absorbLine,\r\n                        distance: absorbMsg.distance\r\n                    }\r\n            }\r\n        }\r\n        /** 没有返回null */\r\n        return null\r\n    }\r\n\r\n    /** 点垂直水平吸附\r\n     * @returns 返回吸附坐标,没有吸附,返回null\r\n     */\r\n    getVerticalPointAbsorb(pos: DC.Pos, distance: number, points?: JPoint[]) {\r\n        /** 获取点信息 */\r\n        let pointMsg = this.calService.transData.getPointCrossLines(points)\r\n        let pointAbsorbMsg = this.calService.absorb.posAndVerticalPoints(pos, distance, pointMsg)\r\n        if (pointAbsorbMsg) {\r\n            /** 垂直 */\r\n            if (pointAbsorbMsg.pos.x > pointAbsorbMsg.point.pos.x - 0.001 && pointAbsorbMsg.pos.x < pointAbsorbMsg.point.pos.x + 0.001) {\r\n                /** 吸附线信息 */\r\n                let absorbLines: AbsorbLineCache[] = []\r\n                let absorbLine: AbsorbLineCache = {\r\n                    mode: \"point\",\r\n                    pos: pointAbsorbMsg.point.pos,\r\n                    radius: this.dataService.cache.floorplan.multiple * 2\r\n                }\r\n                absorbLines.push(absorbLine)\r\n                absorbLine = {\r\n                    mode: 'line',\r\n                    pos: pointAbsorbMsg.point.pos,\r\n                    radian: Math.PI / 2\r\n                }\r\n                absorbLines.push(absorbLine)\r\n                let newPos = { x: pointAbsorbMsg.point.pos.x, y: pos.y }\r\n                return {\r\n                    absorbLines: absorbLines,\r\n                    pos: newPos,\r\n                    distance: pointAbsorbMsg.distance,\r\n                    obj: pointAbsorbMsg.point\r\n                }\r\n            }\r\n            /** 水平 */\r\n            else {\r\n                /** 吸附线信息 */\r\n                let absorbLines: AbsorbLineCache[] = []\r\n                let absorbLine: AbsorbLineCache = {\r\n                    mode: \"point\",\r\n                    pos: pointAbsorbMsg.point.pos,\r\n                    radius: this.dataService.cache.floorplan.multiple * 2\r\n                }\r\n                absorbLines.push(absorbLine)\r\n                absorbLine = {\r\n                    mode: 'line',\r\n                    pos: pointAbsorbMsg.point.pos,\r\n                    radian: 0\r\n                }\r\n                absorbLines.push(absorbLine)\r\n                let newPos = { x: pos.x, y: pointAbsorbMsg.point.pos.y }\r\n                return {\r\n                    absorbLines: absorbLines,\r\n                    pos: newPos,\r\n                    distance: pointAbsorbMsg.distance,\r\n                    obj: pointAbsorbMsg.point\r\n                }\r\n            }\r\n        }\r\n        /** 没有吸附返回null */\r\n        return null\r\n    }\r\n\r\n    /**\r\n     * 墙吸附\r\n     * @param pos \r\n     * @param distance \r\n     * @returns 没吸附返回undefined\r\n     */\r\n    getWallAbsorb(pos: DC.Pos, distance: number, walls?: JWall[]) {\r\n        /** 线段吸附 */\r\n        let wallsMsg = this.calService.transData.getWallCenterLines(walls)\r\n        let wallAbosrbMsg = this.calService.absorb.posAndWalls(pos, distance, false, wallsMsg)\r\n        /** 有吸附 */\r\n        if (wallAbosrbMsg) {\r\n            /** 吸附线信息 */\r\n            let absorbLines: AbsorbLineCache[] = []\r\n            let absorbLine: AbsorbLineCache = {\r\n                mode: 'point',\r\n                radius: this.dataService.cache.floorplan.multiple * 4,\r\n                pos: wallAbosrbMsg.pos\r\n            }\r\n            absorbLines.push(absorbLine)\r\n            absorbLine = {\r\n                mode: 'line',\r\n                radian: wallAbosrbMsg.wall.getRadian(),\r\n                pos: wallAbosrbMsg.pos\r\n            }\r\n            absorbLines.push(absorbLine)\r\n            return {\r\n                absorbLines: absorbLines,\r\n                pos: wallAbosrbMsg.pos,\r\n                wall: wallAbosrbMsg.wall,\r\n                distance: wallAbosrbMsg.distance\r\n            }\r\n        }\r\n        return undefined\r\n    }\r\n\r\n    /**\r\n     * 墙外直线吸附\r\n     * @param pos \r\n     * @param distance \r\n     * @param walls \r\n     */\r\n    getOutWallAbsorb(pos: DC.Pos, distance: number, walls?: JWall[]) {\r\n        /** 直线吸附 */\r\n        let wallsMsg = this.calService.transData.getWallCenterLines(walls)\r\n        let wallAbsorbMsg = this.calService.absorb.posAndWalls(pos, distance, true, wallsMsg)\r\n        /** 有吸附 */\r\n        if (wallAbsorbMsg) {\r\n            /** 吸附线信息 */\r\n            let absorbLines: AbsorbLineCache[] = []\r\n            let absorbLine = {\r\n                mode: 'line',\r\n                radian: wallAbsorbMsg.wall.getRadian(),\r\n                pos: wallAbsorbMsg.pos\r\n            }\r\n            absorbLines.push(absorbLine)\r\n            return {\r\n                absorbLines: absorbLines,\r\n                pos: wallAbsorbMsg.pos,\r\n                wall: wallAbsorbMsg.wall,\r\n                distance: wallAbsorbMsg.distance,\r\n            }\r\n        }\r\n        /** 没有吸附返回null */\r\n        return null\r\n    }\r\n\r\n    /**\r\n     * 墙所有直线吸附\r\n     * @param pos \r\n     * @param distance \r\n     * @param walls \r\n     */\r\n    getWallAllLinesAbosrb(pos: DC.Pos, distance: number, walls?: JWall[]) {\r\n        let wallsMsg = this.calService.transData.getWallAllLines(walls)\r\n        let wallAbsorbMsg = this.calService.absorb.posAndVerticalWallAllLines(pos, distance, wallsMsg)\r\n        /** 有吸附 */\r\n        if (wallAbsorbMsg) {\r\n            let absorbLine = {\r\n                mode: 'line',\r\n                radian: this.DUService.pos.getRadian(wallAbsorbMsg.line[0], wallAbsorbMsg.line[1]),\r\n                pos: wallAbsorbMsg.pos\r\n            }\r\n            return {\r\n                absorbLines: [absorbLine],\r\n                pos: wallAbsorbMsg.pos,\r\n                wall: wallAbsorbMsg.wall,\r\n                distance: wallAbsorbMsg.distance,\r\n            }\r\n        }\r\n        /** 没吸附 */\r\n        return undefined\r\n    }\r\n}\r\n\r\nexport class AbsorbWallType {\r\n    pos: DC.Pos;\r\n    obj: JWall | JPoint;\r\n}","import { DesignCommon as DC } from \"../../class/DesignCommon\"\r\nimport { JdesignDataService } from \"../../../../services/jdesign-data.service\";\r\nimport { JDesign } from \"../../jdesign/JDesign\";\r\nimport { JdesignUtil2dService } from \"../../../../services/jdesign-util2d.service\";\r\nimport { JPoint } from \"../../jdesign/JPoint\";\r\nimport { JWall } from \"../../jdesign/JWall\";\r\nimport { CalculatorsService } from \"../../../../services/calculators.service\";\r\nimport { AbsorbLineCache } from \"../../jdesign/JCache\";\r\nimport { TransWallLines } from \"../../calculator/transData.cal\";\r\nexport class MoveWallAbsorb {\r\n\r\n    private _minRadian: number = Math.PI / 180 * 1\r\n    private _minDistance: number = 100\r\n\r\n    constructor(\r\n        private dataService: JdesignDataService,\r\n        private DUService: JdesignUtil2dService,\r\n        private calService: CalculatorsService\r\n    ) {\r\n\r\n    }\r\n\r\n    getAbsorb(line: DC.Pos[], wall: JWall, distance?: number) {\r\n        if (this.dataService.cache.common.isAbosrb) {\r\n            distance = distance == undefined ? this._minDistance : distance\r\n            let data = this.getInitData(line, wall)\r\n            let msg = this.getHorizontalAbsorbData(data.wall, data.otherWalls, distance)\r\n            if (msg != undefined) {\r\n                let newLine = this.setAbsorbData(msg)\r\n                return {\r\n                    absorbData: {\r\n                        mode: 'line',\r\n                        radian: msg.otherRadian,\r\n                        pos: msg.otherLine[0]\r\n                    },\r\n                    line: newLine\r\n                }\r\n            }\r\n\r\n            return {\r\n                absorbData: undefined,\r\n                line: line\r\n            }\r\n        }\r\n        return {\r\n            absorbData: undefined,\r\n            line: line\r\n        }\r\n    }\r\n\r\n    getMainWallMsg(line: DC.Pos[], wall: JWall) {\r\n        let newData: TransWallLines = { lines: [], walls: [], radians: [], locations: [] }\r\n        let newLineA = this.DUService.pos.getPosTrans(line[0], line[1], wall.thickness / 2)\r\n        let newLineB = this.DUService.pos.getPosTrans(line[0], line[1], -wall.thickness / 2)\r\n        newData.lines.push(line)\r\n        newData.lines.push(newLineA)\r\n        newData.lines.push(newLineB)\r\n        newData.radians.push(wall.getRadian())\r\n        newData.radians.push(wall.getRadian())\r\n        newData.radians.push(wall.getRadian())\r\n        newData.walls.push(wall)\r\n        newData.walls.push(wall)\r\n        newData.walls.push(wall)\r\n        newData.locations.push(0)\r\n        newData.locations.push(-1)\r\n        newData.locations.push(1)\r\n        return newData\r\n    }\r\n\r\n    /** 获取初始数据 */\r\n    getInitData(line: DC.Pos[], wall: JWall) {\r\n        let wallMsg = this.getMainWallMsg(line, wall)\r\n        let otherWalls = this.dataService.doWalls().arr(wall)\r\n        otherWalls = this.calService.transData.getUnArcWalls(otherWalls)\r\n        this.calService.wall.removeSamePointWalls(otherWalls, 0.01)\r\n        let ohterWallsMsg = this.calService.transData.getWallThreeLines(otherWalls)\r\n        let pointsMsg = this.calService.transData.getPointCrossLines()\r\n        return {\r\n            wall: wallMsg,\r\n            otherWalls: ohterWallsMsg\r\n        }\r\n    }\r\n\r\n    /** 设置吸附 */\r\n    setAbsorbData(absorbMsg: AbsorbType) {\r\n        let newPos = this.DUService.pos.getRightAngleIntersect(absorbMsg.mainLine[0], absorbMsg.otherLine[0], absorbMsg.otherLine[1])\r\n        let radian = this.DUService.pos.getRadian(absorbMsg.mainLine[0], absorbMsg.mainLine[1])\r\n        let distance = this.DUService.pos.getDistance(absorbMsg.mainLine[0], absorbMsg.mainLine[1])\r\n        let rayPos = this.DUService.pos.getRayPos(newPos, radian, distance)\r\n        let line = [newPos, rayPos]\r\n        if (absorbMsg.mainLocation == 1) {\r\n            line = this.DUService.pos.getPosTrans(line[0], line[1], absorbMsg.mainWall.thickness / 2)\r\n        }\r\n        else if (absorbMsg.mainLocation == -1) {\r\n            line = this.DUService.pos.getPosTrans(line[0], line[1], -absorbMsg.mainWall.thickness / 2)\r\n        }\r\n        return line\r\n    }\r\n\r\n    /** 水平吸附 */\r\n    getHorizontalAbsorbData(wallMsg: TransWallLines, otherWallsMsg: TransWallLines, minDistance: number) {\r\n        let minLineMsg: AbsorbType = undefined\r\n        for (let i = 0; i < wallMsg.lines.length; i++) {\r\n            for (let j = 0; j < otherWallsMsg.lines.length; j++) {\r\n                let lineA = { posArr: wallMsg.lines[i], radian: wallMsg.radians[i] }\r\n                let lineB = { posArr: otherWallsMsg.lines[j], radian: otherWallsMsg.radians[j] }\r\n                let msg = this.DUService.pos.isHorizontalLine(lineA, lineB, this._minRadian, minDistance)\r\n                /** 平行 */\r\n                if (msg.isH != 0 && msg.distance != undefined) {\r\n                    minDistance = msg.distance\r\n                    minLineMsg = {\r\n                        mainLine: wallMsg.lines[i],\r\n                        mainLocation: wallMsg.locations[i],\r\n                        mainRadian: wallMsg.radians[i],\r\n                        mainWall: wallMsg.walls[i],\r\n                        otherLine: otherWallsMsg.lines[j],\r\n                        otherRadian: otherWallsMsg.radians[j],\r\n                        otherWall: otherWallsMsg.walls[j],\r\n                        otherLocation: otherWallsMsg.locations[j],\r\n                        mainWallID: wallMsg.walls[i].id,\r\n                        otherWallID: otherWallsMsg.walls[j].id\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return minLineMsg\r\n    }\r\n\r\n\r\n}\r\n\r\nclass AbsorbType {\r\n    otherLine: DC.Pos[];\r\n    otherRadian: number;\r\n    otherLocation: number;\r\n    mainLine: DC.Pos[];\r\n    mainRadian: number;\r\n    mainLocation: number;\r\n    otherWall: JWall;\r\n    mainWall: JWall;\r\n    otherWallID: string;\r\n    mainWallID: string;\r\n} ","import { JdesignDataService } from \"../../../../services/jdesign-data.service\";\r\nimport { JdesignUtil2dService } from \"../../../../services/jdesign-util2d.service\";\r\nimport { CalculatorsService } from \"../../../../services/calculators.service\";\r\nimport { DrawWallAbsorb } from \"./DrawWallAbsorb\";\r\nimport { DWAbsorb } from \"./DWAbsorb\";\r\nimport { MoveWallAbsorb } from \"./MoveWallAbsorb\";\r\n\r\nexport class SvgAbsorbEvent {\r\n    constructor(\r\n        private dataService: JdesignDataService,\r\n        private DUService: JdesignUtil2dService,\r\n        private calService: CalculatorsService\r\n    ) {\r\n\r\n    }\r\n\r\n    drawWallAbsorb = new DrawWallAbsorb(this.dataService, this.DUService, this.calService)\r\n    moveWallAbosrb = new MoveWallAbsorb(this.dataService, this.DUService, this.calService)\r\n    dwAbsorb = new DWAbsorb(this.dataService, this.DUService, this.calService)\r\n}","import { Redo3D } from \"../../../../three/save3D/Redo3D\";\r\nimport { JdesignDataService } from \"../../../../services/jdesign-data.service\";\r\nimport { JDesign } from \"../../jdesign/JDesign\";\r\nimport { JPoint3D } from \"../../../../three/jDesign3D/JPoint3D\";\r\nimport { JdesignUtil2dService } from \"../../../../services/jdesign-util2d.service\";\r\nimport { CalculatorsService } from \"../../../../services/calculators.service\";\r\nimport { JCowall3D } from \"../../../../three/jDesign3D/JCowall3D\";\r\nimport { JWall3D } from \"../../../../three/jDesign3D/JWall3D\";\r\nimport { JRoom3D } from \"../../../../three/jDesign3D/JRoom3D\";\r\nimport { JFloor3D } from \"../../../../three/jDesign3D/JFloor3D\";\r\nimport { JWin3D } from \"../../../../three/jDesign3D/JWin3D\";\r\nimport { JDoor3D } from \"../../../../three/jDesign3D/JDoor3D\";\r\nimport { JFurniture3D } from \"../../../../three/jDesign3D/JFurniture3D\";\r\nimport { JCornerWin3D } from \"../../../../three/jDesign3D/JCornerWin3D\";\r\nimport { JRoof3D } from \"../../../../three/jDesign3D/JRoof3D\";\r\nimport { JBayWin3D } from \"../../../../three/jDesign3D/JBayWin3D\";\r\nimport { JBuild3D } from \"../../../../three/jDesign3D/JBuild3D\";\r\nimport { SaveType } from \"../../save/SaveType\";\r\nimport { SaveType3D } from \"../../../../three/save3D/SaveType3D\";\r\nimport { JLWin3D } from \"../../../../three/jDesign3D/JLWin3D\";\r\nimport { JUWin3D } from \"../../../../three/jDesign3D/JUWin3D\";\r\n\r\nexport class OpenAct {\r\n\r\n    private _redo3D: Redo3D = new Redo3D()\r\n    private _oldObjIDs: number[] = []\r\n    private _differType: string[][] = []\r\n    private _maxNum: number = 0\r\n\r\n    constructor(\r\n        private dataService: JdesignDataService,\r\n        private DUService: JdesignUtil2dService,\r\n        private calService: CalculatorsService\r\n    ) {\r\n        this._differType = this.getAllObjDiffer2DAnd3D()\r\n    }\r\n    /** 打开数据 */\r\n    openData(data: any[], wallDoCb?: () => void, roomDoCb?: () => void, allDoCb?: (maxNum?) => void) {\r\n        this._oldObjIDs = []\r\n        this._maxNum = 0\r\n        /* 墙体更新 */\r\n        for (let i = 0; i < data.length; i++) {\r\n            switch (data[i].type) {\r\n                case 'floorplan':\r\n                    this.reFloorPlan(data[i])\r\n                    break;\r\n                /** cmd没有tpye属性 */\r\n                case undefined:\r\n                    this.reCmd(data[i])\r\n                    break;\r\n                case 'point':\r\n                    //this.rePoint(data[i])\r\n                    this.redoObjBase(this.dataService.points, data[i])\r\n                    // console.log(data[i])\r\n                    break;\r\n                case 'cowall':\r\n                    //this.reCowall(data[i])\r\n                    this.redoObjBase(this.dataService.cowalls, data[i])\r\n                    // console.log(data[i])\r\n                    // this.dataService.doWalls().urgentUpdate()\r\n                    break;\r\n                case 'wall':\r\n                    //this.reWall(data[i])\r\n                    this.redoObjBase(this.dataService.walls, data[i])\r\n                    // console.log(data[i])\r\n                    // this.dataService.doWalls().urgentUpdate()\r\n                    break;\r\n\r\n            }\r\n        }\r\n        if (wallDoCb)\r\n            wallDoCb()\r\n        /* 空间更新 */\r\n        for (let i = 0; i < data.length; i++) {\r\n            switch (data[i].type) {\r\n                case 'room':\r\n                    //this.reRoom(data[i])\r\n                    this.redoObjBase(this.dataService.rooms, data[i])\r\n                    break;\r\n                case 'floor':\r\n                    //this.reFloor(data[i])\r\n                    this.redoObjBase(this.dataService.floors, data[i])\r\n                    break;\r\n                case 'roof':\r\n                    this.redoObjBase(this.dataService.roofs, data[i])\r\n                    break;\r\n            }\r\n        }\r\n        if (roomDoCb)\r\n            roomDoCb()\r\n        /* 家装更新 */\r\n        for (let i = 0; i < data.length; i++) {\r\n            switch (data[i].type) {\r\n                case 'furniture':\r\n                    //this.reFurniture(data[i])\r\n                    this.redoObjBase(this.dataService.furnitures, data[i])\r\n                    this.dataService.furnitures[data[i].id].act3D.move()\r\n                    break;\r\n                case \"build\":\r\n                    this.redoObjBase(this.dataService.builds, data[i])\r\n                    break;\r\n                case 'door':\r\n                    //this.reDoor(data[i])\r\n                    this.redoObjBase(this.dataService.doors, data[i])\r\n                    break;\r\n                case 'win':\r\n                    //this.reWin(data[i])\r\n                    this.redoObjBase(this.dataService.wins, data[i])\r\n                    break;\r\n                case 'cornerWin':\r\n                    this.redoObjBase(this.dataService.cornerWins, data[i])\r\n                    break;\r\n                case \"LWin\":\r\n                    this.redoObjBase(this.dataService.LWins, data[i])\r\n                    break\r\n                case \"UWin\":\r\n                    this.redoObjBase(this.dataService.UWins, data[i])\r\n                    break\r\n\r\n            }\r\n        }\r\n        if (allDoCb)\r\n            allDoCb(this._maxNum)\r\n        /* 所有完成再触发的方法 */\r\n        for (let i = 0; i < data.length; i++) {\r\n            switch (data[i].type) {\r\n                case 'floor':\r\n                    let floor = this.dataService.floors[data[i].id]\r\n                    this._redo3D.doneFloor(floor)\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n\r\n    /** 还原大法基础 */\r\n    redoBase(reDataArr: JDesign[], reData: JDesign, cb?: (obj: JDesign) => void) {\r\n        reDataArr[reData.id] = reData\r\n        reData.strongUpdate()\r\n        // reData.strongUpdate3D()\r\n        if (cb != undefined)\r\n            cb(reData)\r\n    }\r\n\r\n\r\n    getDiffer2DAnd3D(type2D, type3D) {\r\n        // let newType3D = new type3D()\r\n        // let newType2D = new type2D()\r\n        // let key2DArr: boolean[] = []\r\n        // let key3DArr: string[] = []\r\n        // for (let key2D in newType2D) {\r\n        //     if (newType2D[key2D] == undefined && key2D != 'constructor') {\r\n        //         key2DArr[key2D] = true\r\n        //     }\r\n        // }\r\n        // for (let key3D in newType3D) {\r\n        //     if (!key2DArr[key3D] && key3D != 'constructor') {\r\n        //         key3DArr.push(key3D)\r\n        //     }\r\n        // }\r\n        // return key3DArr\r\n        return this.DUService.obj.getDifferClassType(type2D, type3D, { ignoreTypes: [\"constructor\"] })\r\n    }\r\n\r\n    /** 获取所有3d与2d不同数据的类型 */\r\n    getAllObjDiffer2DAnd3D() {\r\n        let arr: string[][] = []\r\n        arr['point'] = this.getDiffer2DAnd3D(SaveType.JPoint, SaveType3D.JPoint3D)\r\n        arr['cowall'] = this.getDiffer2DAnd3D(SaveType.JCowall, SaveType3D.JCowall3D)\r\n        arr['wall'] = this.getDiffer2DAnd3D(SaveType.JWall, SaveType3D.JWall3D)\r\n        arr['room'] = this.getDiffer2DAnd3D(SaveType.JRoom, SaveType3D.JRoom3D)\r\n        arr['floor'] = this.getDiffer2DAnd3D(SaveType.JFloor, SaveType3D.JFloor3D)\r\n        arr['roof'] = this.getDiffer2DAnd3D(SaveType.JRoof, SaveType3D.JRoof3D)\r\n        arr['win'] = this.getDiffer2DAnd3D(SaveType.JWin, SaveType3D.JWin3D)\r\n        arr['bayWin'] = this.getDiffer2DAnd3D(SaveType.JWin, SaveType3D.JBayWin3D)\r\n        arr['door'] = this.getDiffer2DAnd3D(SaveType.JDoor, SaveType3D.JDoor3D)\r\n        arr['build'] = this.getDiffer2DAnd3D(SaveType.JBuild, SaveType3D.JBuild3D)\r\n        arr['furniture'] = this.getDiffer2DAnd3D(SaveType.JFurniture, SaveType3D.JFurniture3D)\r\n        arr['cornerWin'] = this.getDiffer2DAnd3D(SaveType.JCornerWin, SaveType3D.JCornerWin3D)\r\n        arr['LWin'] = this.getDiffer2DAnd3D(SaveType.JLWin, SaveType3D.JLWin3D)\r\n        arr['UWin'] = this.getDiffer2DAnd3D(SaveType.JUWin, SaveType3D.JUWin3D)\r\n        return arr\r\n    }\r\n\r\n    Completion3DData(differType: string[], jsonData, obj) {\r\n\r\n        for (let i = 0; i < differType.length; i++) {\r\n            // console.log(differType[i])\r\n            // console.log(jsonData[differType[i]])\r\n            let newObj = this.DUService.obj.cloneArr(jsonData[differType[i]])\r\n            // console.log(obj.id)\r\n            // console.log(newObj)\r\n            // console.log('==================')\r\n            obj[differType[i]] = jsonData[differType[i]]\r\n        }\r\n    }\r\n\r\n    /** 还原对象大法基础 */\r\n    redoObjBase(reDataArr: JDesign[], reJson) {\r\n        if (reJson.id) {\r\n            let num = this.DUService.cal.getNumFromString(reJson.id)\r\n            if (num > this._maxNum)\r\n                this._maxNum = num\r\n        }\r\n        this._oldObjIDs[reJson.id] = 1\r\n        /** 没有创建=============================================================== */\r\n        if (reDataArr[reJson.id] == undefined) {\r\n            let reData: any = null\r\n            switch (reJson.type) {\r\n                case 'point':\r\n                    reData = new JPoint3D(reJson, this.dataService, this.DUService)\r\n                    reDataArr[reData.id] = reData\r\n                    this.Completion3DData(this._differType['point'], reJson, reData)\r\n                    reData.strongUpdate()\r\n                    this._redo3D.createPoint(reData)\r\n                    return reData\r\n                case 'cowall':\r\n                    reData = new JCowall3D(reJson, this.dataService, this.DUService)\r\n                    reDataArr[reData.id] = reData\r\n                    this.Completion3DData(this._differType['cowall'], reJson, reData)\r\n                    reData.strongUpdate()\r\n                    // this._redo3D.createCowall(reData)\r\n                    return reData\r\n                case 'wall':\r\n                    reData = new JWall3D(reJson, this.dataService, this.DUService)\r\n                    reDataArr[reData.id] = reData\r\n                    this.Completion3DData(this._differType['wall'], reJson, reData)\r\n                    reData.strongUpdate()\r\n                    this._redo3D.createWall(reData)\r\n                    return reData\r\n                case 'room':\r\n                    reData = new JRoom3D(reJson, this.dataService, this.DUService)\r\n                    reDataArr[reData.id] = reData\r\n                    this.Completion3DData(this._differType['room'], reJson, reData)\r\n                    reData.strongUpdate()\r\n                    this._redo3D.createRoom(reData)\r\n                    return reData\r\n                case 'floor':\r\n                    reData = new JFloor3D(reJson, this.dataService, this.DUService)\r\n                    reDataArr[reData.id] = reData\r\n                    this.Completion3DData(this._differType['floor'], reJson, reData)\r\n                    reData.strongUpdate()\r\n                    this._redo3D.createFloor(reData)\r\n                    return reData\r\n                case 'roof':\r\n                    reData = new JRoof3D(reJson, this.dataService, this.DUService)\r\n                    reDataArr[reData.id] = reData\r\n                    this.Completion3DData(this._differType['roof'], reJson, reData)\r\n                    reData.strongUpdate()\r\n                    this._redo3D.createRoof(reData)\r\n                    return reData\r\n                case 'furniture':\r\n                    reData = new JFurniture3D(reJson, this.dataService, this.DUService)\r\n                    this.Completion3DData(this._differType['furniture'], reJson, reData)\r\n                    this.dataService.cache.furniture.createFunc(reData)\r\n                    reData.strongUpdate()\r\n                    this._redo3D.createFurniture(reData)\r\n                    return reData\r\n                case \"build\":\r\n                    reData = new JBuild3D(reJson, this.dataService, this.DUService)\r\n                    this.Completion3DData(this._differType['build'], reJson, reData)\r\n                    this.dataService.cache.build.createFunc(reData)\r\n                    reData.strongUpdate()\r\n                    this._redo3D.createBuild(reData)\r\n                    return reData\r\n                case 'door':\r\n                    reData = new JDoor3D(reJson, this.dataService, this.DUService)\r\n                    this.Completion3DData(this._differType['door'], reJson, reData)\r\n                    this.dataService.cache.door.createFunc(reData)\r\n                    reData.strongUpdate()\r\n                    this._redo3D.createDoor(reData)\r\n                    return reData\r\n                case 'win':\r\n                    if (reJson.isBay) {\r\n                        reData = new JBayWin3D(reJson, this.dataService, this.DUService)\r\n                        this.Completion3DData(this._differType['bayWin'], reJson, reData)\r\n                        this.dataService.cache.win.createFunc(reData)\r\n\r\n                    }\r\n                    else {\r\n                        reData = new JWin3D(reJson, this.dataService, this.DUService)\r\n                        this.Completion3DData(this._differType['win'], reJson, reData)\r\n                        this.dataService.cache.win.createFunc(reData)\r\n                    }\r\n                    reDataArr[reData.id] = reData\r\n                    reData.strongUpdate()\r\n                    this._redo3D.createWin(reData)\r\n                    return reData\r\n                case 'cornerWin':\r\n                    reData = new JCornerWin3D(reJson, this.dataService, this.DUService)\r\n                    reDataArr[reData.id] = reData\r\n                    this.Completion3DData(this._differType['cornerWin'], reJson, reData)\r\n                    this.dataService.cache.cornerWin.createFunc(reData)\r\n                    reData.strongUpdate()\r\n                    this._redo3D.createCornerWin(reData)\r\n                    return reData\r\n                case 'LWin':\r\n                    reData = new JLWin3D(reJson, this.dataService, this.DUService)\r\n                    console.log(reJson)\r\n                    reDataArr[reData.id] = reData\r\n                    this.Completion3DData(this._differType['LWin'], reJson, reData)\r\n                    reData.strongUpdate()\r\n                    this._redo3D.createLWin(reData)\r\n                    return reData\r\n                case 'UWin':\r\n                    reData = new JUWin3D(reJson, this.dataService, this.DUService)\r\n                    reDataArr[reData.id] = reData\r\n                    this.Completion3DData(this._differType['UWin'], reJson, reData)\r\n                    reData.strongUpdate()\r\n                    this._redo3D.createUWin(reData)\r\n                    return reData\r\n            }\r\n        }\r\n        /** 有仅修改========================================================= */\r\n        else {\r\n            let fixData: any = undefined\r\n            /** 数据复制 */\r\n            let copyFunc = (dataArr: any[], cb: (data: JDesign) => void) => {\r\n                for (let key in reJson) {\r\n                    dataArr[reJson.id][key] = reJson[key]\r\n                }\r\n                dataArr[reJson.id].strongUpdate()\r\n                cb(dataArr[reJson.id])\r\n                return dataArr[reJson.id]\r\n            }\r\n            switch (reJson.type) {\r\n                case 'point':\r\n                    fixData = copyFunc(this.dataService.points, this._redo3D.rePoint)\r\n                    return fixData\r\n                case 'cowall':\r\n                    fixData = copyFunc(this.dataService.cowalls, this._redo3D.reCowall)\r\n                    return fixData\r\n                case 'wall':\r\n                    fixData = copyFunc(this.dataService.walls, this._redo3D.reWall)\r\n                    return fixData\r\n                case 'room':\r\n                    fixData = copyFunc(this.dataService.rooms, this._redo3D.reRoom)\r\n                    return fixData\r\n                case 'floor':\r\n                    fixData = copyFunc(this.dataService.floors, this._redo3D.reFloor)\r\n                    return fixData\r\n                case 'roof':\r\n                    fixData = copyFunc(this.dataService.roofs, this._redo3D.reRoof)\r\n                    return fixData\r\n                case 'furniture':\r\n                    fixData = copyFunc(this.dataService.furnitures, this._redo3D.reFurniture)\r\n                    return fixData\r\n                case \"build\":\r\n                    fixData = copyFunc(this.dataService.builds, this._redo3D.reBuild)\r\n                    return fixData\r\n                case 'door':\r\n                    fixData = copyFunc(this.dataService.doors, this._redo3D.reDoor)\r\n                    return fixData\r\n                case 'win':\r\n                    fixData = copyFunc(this.dataService.wins, this._redo3D.reWin)\r\n                    return fixData\r\n                case \"cornerWin\":\r\n                    fixData = copyFunc(this.dataService.cornerWins, this._redo3D.reCornWin)\r\n                    return fixData\r\n                case \"LWin\":\r\n                    fixData = copyFunc(this.dataService.LWins, this._redo3D.reLWin)\r\n                    return fixData\r\n                case \"UWin\":\r\n                    fixData = copyFunc(this.dataService.UWins, this._redo3D.reUWin)\r\n                    return fixData\r\n            }\r\n        }\r\n        return undefined\r\n    }\r\n\r\n    /** 清空数据(清空自动生成数据,墙点空间地板) */\r\n    cleanData() {\r\n        let func = (obj) => {\r\n            for (let key in obj) {\r\n                obj[key].destory3D()\r\n            }\r\n        }\r\n\r\n        /** 点墙空间都必须重新生成 */\r\n        func(this.dataService.points)\r\n        this.dataService.doPoints().clear()\r\n        func(this.dataService.cowalls)\r\n        this.dataService.doCowalls().clear()\r\n        func(this.dataService.walls)\r\n        this.dataService.doWalls().clear()\r\n        func(this.dataService.rooms)\r\n        this.dataService.doRooms().clear()\r\n        func(this.dataService.floors)\r\n        this.dataService.doFloors().clear()\r\n        func(this.dataService.roofs)\r\n        this.dataService.doRoofs().clear()\r\n\r\n    }\r\n\r\n    /** floorPlan还原 */\r\n    private reFloorPlan(readJson) {\r\n        for (let key in readJson) {\r\n            this.dataService.floorplan[key] = readJson[key]\r\n        }\r\n    }\r\n\r\n    /** cmd还原 */\r\n    private reCmd(readJson) {\r\n        this.DUService.obj.redo(this.dataService.cmd, readJson)\r\n        // for (let key in readJson) {\r\n        //     this.dataService.cmd[key] = readJson[key]\r\n        // }\r\n    }\r\n\r\n    /** cache还原 */\r\n    private reCache(readJson) {\r\n        this.DUService.obj.redo(this.dataService.cache, readJson)\r\n        // for (let key in readJson) {\r\n        //     this.dataService.cache[key] = readJson[key]\r\n        // }\r\n    }\r\n\r\n    /** 删除对象(用于还原时,对象多余的情况) */\r\n    delObj(obj: JDesign, cb?: () => void) {\r\n        switch (obj.type) {\r\n            case 'door':\r\n                //let door=<JDoor>DesignData.floorPlan.getChooseObj()\r\n                this.dataService.cache.shortFuncs['delDoor'](this.dataService.doors[obj.id], false)\r\n                break;\r\n            case 'win':\r\n                this.dataService.cache.shortFuncs[\"delWin\"](this.dataService.wins[obj.id], false)\r\n                break;\r\n            case 'furniture':\r\n                this.dataService.cache.shortFuncs[\"delFurn\"](this.dataService.furnitures[obj.id], false)\r\n                break;\r\n            case \"build\":\r\n                this.dataService.cache.shortFuncs[\"delBuild\"](this.dataService.builds[obj.id], false)\r\n                break;\r\n            case \"cornerWin\":\r\n                this.dataService.cache.shortFuncs['delCornWin'](this.dataService.cornerWins[obj.id], false)\r\n                break;\r\n            case \"LWin\":\r\n                this.dataService.cache.shortFuncs['delLUWin'](this.dataService.LWins[obj.id])\r\n                break\r\n            case \"UWin\":\r\n                this.dataService.cache.shortFuncs['delLUWin'](this.dataService.UWins[obj.id])\r\n                break\r\n        }\r\n        if (cb != undefined)\r\n            cb()\r\n    }\r\n\r\n    /** 删除多余对象 仅对于家具,门,窗*/\r\n    delRedundanceObj(data: any[], cb?: () => void) {\r\n        /** 数据判断 */\r\n        let key: string = null\r\n        let func = (obj) => {\r\n            for (key in obj) {\r\n                if (this._oldObjIDs[key] == undefined) {\r\n                    this.delObj(obj[key])\r\n                }\r\n            }\r\n        }\r\n        /** 门 */\r\n        func(this.dataService.doors)\r\n        /** 窗*/\r\n        func(this.dataService.wins)\r\n        /** 家具 */\r\n        func(this.dataService.furnitures)\r\n        /** 建筑 */\r\n        func(this.dataService.builds)\r\n        /** 转角飘窗 */\r\n        func(this.dataService.cornerWins)\r\n        /* L窗 */\r\n        func(this.dataService.LWins)\r\n        func(this.dataService.UWins)\r\n        if (cb != undefined)\r\n            cb()\r\n    }\r\n\r\n}","import { SaveType3D } from '../../../../three/save3D/SaveType3D'\r\nimport { JdesignUtil2dService } from '../../../../services/jdesign-util2d.service';\r\nimport { JdesignDataService } from '../../../../services/jdesign-data.service';\r\nimport { SaveType } from '../../save/SaveType';\r\nimport { JWin } from '../../jdesign/JWin';\r\n\r\nexport class SaveAct {\r\n\r\n    constructor(\r\n        private DUService: JdesignUtil2dService,\r\n        private dataService: JdesignDataService\r\n    ) {\r\n\r\n    }\r\n\r\n    /** 获取保存数据 */\r\n    getSaveData() {\r\n        let obj: any = null\r\n        let svg_data: any[] = []\r\n        /** 数据保存 */\r\n        let save_func = (data, obj, cb?: (data) => void) => {\r\n            let key: string = null\r\n            for (key in obj) {\r\n                if (key != 'constructor') {\r\n                    obj[key] = this.DUService.obj.strongClone(data[key])\r\n                }\r\n            }\r\n            svg_data.push(obj)\r\n            if (cb != undefined)\r\n                cb(obj)\r\n\r\n        }\r\n        /** floorplan */\r\n        obj = new SaveType3D.JFloorPlan3D()\r\n        save_func(this.dataService.floorplan, obj)\r\n        /** cmd */\r\n        obj = new SaveType.JCmd()\r\n        save_func(this.dataService.cmd, obj)\r\n        /** 点 */\r\n        this.saveTypeData(this.dataService.points, (data) => {\r\n            obj = new SaveType3D.JPoint3D()\r\n            save_func(data, obj)\r\n            // console.log(obj)\r\n        })\r\n        /** 有序墙 */\r\n        this.saveTypeData(this.dataService.cowalls, (data) => {\r\n            obj = new SaveType3D.JCowall3D()\r\n            save_func(data, obj)\r\n        })\r\n        /** 墙 */\r\n        this.saveTypeData(this.dataService.walls, (data) => {\r\n            obj = new SaveType3D.JWall3D()\r\n            save_func(data, obj)\r\n        })\r\n        /** 地板 */\r\n        this.saveTypeData(this.dataService.floors, (data) => {\r\n            obj = new SaveType3D.JFloor3D()\r\n            save_func(data, obj)\r\n        })\r\n        /** 天花 */\r\n        this.saveTypeData(this.dataService.roofs, (data) => {\r\n            obj = new SaveType3D.JRoof3D()\r\n            save_func(data, obj)\r\n        })\r\n        /** 空间 */\r\n        this.saveTypeData(this.dataService.rooms, (data) => {\r\n            obj = new SaveType3D.JRoom3D()\r\n            save_func(data, obj)\r\n        })\r\n        /** 门 */\r\n        this.saveTypeData(this.dataService.doors, (data) => {\r\n            obj = new SaveType3D.JDoor3D()\r\n            save_func(data, obj)\r\n        })\r\n        /** 窗 */\r\n        this.saveTypeData(this.dataService.wins, (data: JWin) => {\r\n            obj = data.isBay ? new SaveType3D.JBayWin3D : new SaveType3D.JWin3D()\r\n            save_func(data, obj)\r\n        })\r\n        /** 家具 */\r\n        this.saveTypeData(this.dataService.furnitures, (data) => {\r\n            obj = new SaveType3D.JFurniture3D()\r\n            save_func(data, obj)\r\n        })\r\n        /** 建筑 */\r\n        this.saveTypeData(this.dataService.builds, (data) => {\r\n            obj = new SaveType3D.JBuild3D()\r\n            save_func(data, obj)\r\n        })\r\n        /** 转角飘窗 */\r\n        this.saveTypeData(this.dataService.cornerWins, (data) => {\r\n            obj = new SaveType3D.JCornerWin3D()\r\n            save_func(data, obj)\r\n        })\r\n        /* L型窗 */\r\n        this.saveTypeData(this.dataService.LWins, (data) => {\r\n            obj = new SaveType3D.JLWin3D()\r\n            save_func(data, obj)\r\n        })\r\n        this.saveTypeData(this.dataService.UWins, (data) => {\r\n            obj = new SaveType3D.JUWin3D()\r\n            save_func(data, obj)\r\n        })\r\n        // /** 相机 */\r\n        // this.saveTypeData(this.dataService.cameras, (data) => {\r\n        //     obj = new SaveType3D.JCamera3D()\r\n        //     save_func(data, obj)\r\n        // })\r\n\r\n        // console.log(JSON.stringify(svg_data))\r\n        // console.log(svg_data)\r\n        return svg_data\r\n\r\n    }\r\n\r\n    /** 保存类型数据 */\r\n    private saveTypeData(typeData, cb: (a) => void) {\r\n        for (let key in typeData) {\r\n            cb(typeData[key])\r\n        }\r\n    }\r\n}","import { JdesignDataService } from \"../../../../services/jdesign-data.service\";\r\nimport { JdesignUtil2dService } from \"../../../../services/jdesign-util2d.service\";\r\nimport { CalculatorsService } from \"../../../../services/calculators.service\";\r\nimport { DesignCommon as DC } from '../../class/DesignCommon'\r\nimport { PopDivService } from \"../../../../services/pop-div.service\";\r\n\r\nexport class DrawWallInput {\r\n    constructor(\r\n        private dataService: JdesignDataService,\r\n        private DUService: JdesignUtil2dService,\r\n        private calService: CalculatorsService,\r\n        private popService: PopDivService\r\n    ) {\r\n\r\n    }\r\n\r\n    /**\r\n     * 画墙输入\r\n     * @param line \r\n     * @param distance \r\n     * @param cb 回调完成后,会触发消失\r\n     */\r\n    drawInput(line: DC.Pos[], cb: (pos: DC.Pos) => void) {\r\n        this.popService.inputBoxsCache = []\r\n        let moveLine = this.DUService.pos.getPosTrans(line[0], line[1], -(this.dataService.cmd.cowall.height + (this.dataService.cmd.wall.thickness / 2)))\r\n        let center = this.DUService.pos.getCenterPos(moveLine[0], moveLine[1])\r\n        let distance = this.DUService.pos.getDistance(line[0], line[1])\r\n        distance = Math.round(distance)\r\n        let data = {\r\n            pos: center,\r\n            value: distance,\r\n            index: 15,\r\n            func: (params: number) => {\r\n                let radian = this.DUService.pos.getRadian(line[0], line[1])\r\n                let newPos = this.DUService.pos.getRayPos(this.dataService.cache.wall.ShadowPosArr[0], radian, params)\r\n                cb(newPos)\r\n                this.popService.inputBoxsCache = []\r\n                this.popService.inputBoxs.emit([])\r\n            },\r\n            focus: true\r\n        }\r\n        this.popService.inputBoxsCache.push(data)\r\n        this.popService.setInputBoxs()\r\n    }\r\n}","import { JdesignDataService } from \"../../../../services/jdesign-data.service\";\r\nimport { CalculatorsService } from \"../../../../services/calculators.service\";\r\nimport { JdesignUtil2dService } from \"../../../../services/jdesign-util2d.service\";\r\nimport { JPoint } from \"../../jdesign/JPoint\";\r\nimport { JCowall } from \"../../jdesign/JCowall\";\r\n\r\nexport class MovePointInput {\r\n    constructor(\r\n        private dataService: JdesignDataService,\r\n        private calService: CalculatorsService,\r\n        private DUService: JdesignUtil2dService\r\n    ) {\r\n\r\n    }\r\n\r\n    /* 是否有资格 */\r\n    checkQualification(point: JPoint) {\r\n        let walls = point.getWallArr()\r\n        if (\r\n            walls.length == 2 &&\r\n            walls[0].arcDistance == 0 &&\r\n            walls[1].arcDistance == 0 &&\r\n            this.DUService.pos.isParallelRadian(walls[0].getRadian(), walls[1].getRadian())\r\n        )\r\n            return true\r\n        return false\r\n    }\r\n\r\n    /* 获取所有有序墙输入 */\r\n    getAllCowallInput(point: JPoint, cb?: (distance: number, cowall: JCowall) => void) {\r\n        let a = this.checkQualification(point)\r\n        if (!a)\r\n            return []\r\n        let datas = []\r\n        let cowalls = point.getCowallArr()\r\n        for (let i = 0; i < cowalls.length; i++) {\r\n            cowalls[i].labelDisplay = false\r\n            let value = parseFloat(this.dataService.cache.cowall.inputData[cowalls[i].id].text)\r\n            let displayValue = parseFloat(this.dataService.cache.cowall.inputData[cowalls[i].id].displayText).toFixed(0)\r\n            let data = {\r\n                pos: this.dataService.cache.cowall.inputData[cowalls[i].id].pos,\r\n                value: displayValue,\r\n                index: 15,\r\n                func: (params: any) => {\r\n                    let distance = parseFloat(params) - value\r\n                    cb(distance, cowalls[i])\r\n                }\r\n            }\r\n            datas.push(data)\r\n        }\r\n        return datas\r\n        // let point\r\n    }\r\n}","import { JdesignDataService } from \"../../../../services/jdesign-data.service\";\r\nimport { CalculatorsService } from \"../../../../services/calculators.service\";\r\nimport { JdesignUtil2dService } from \"../../../../services/jdesign-util2d.service\";\r\nimport { JWall } from \"../../jdesign/JWall\";\r\nimport { JCowall } from \"../../jdesign/JCowall\";\r\nimport { DesignCommon as DC } from '../../class/DesignCommon'\r\nimport { JPoint } from \"../../jdesign/JPoint\";\r\n\r\nexport class MoveWallInput {\r\n    constructor(\r\n        private dataService: JdesignDataService,\r\n        private calService: CalculatorsService,\r\n        private DUService: JdesignUtil2dService,\r\n    ) {\r\n\r\n    }\r\n\r\n    /** 获得弧形墙输入数据 */\r\n    getArcInput(wall?: JWall, cb?: () => void) {\r\n        let radian = wall.getRadian()\r\n        let rayPos = this.DUService.pos.getRayPos(wall.circlePos, radian - (Math.PI / 2), Math.abs(wall.arcRadius - (wall.arcDistance / 2)))\r\n        let text = parseInt(wall.arcDistance.toString())\r\n        let data = {\r\n            pos: rayPos,\r\n            value: text,\r\n            index: 15,\r\n            func: (params: any) => {\r\n                wall.transArc(parseFloat(params))\r\n                // this.calService.wall.transArcWall(wall, parseFloat(params))\r\n                if (cb != undefined)\r\n                    cb()\r\n            }\r\n        }\r\n        return data\r\n    }\r\n\r\n    /** 获取点的所有cowall的输入数据 */\r\n    getPointCowallsInput(point: JPoint, cowalls: JCowall[], wallRadian: number, cb?: (distance: number, cowall: JCowall, isStart: boolean) => void) {\r\n        let datas = []\r\n        for (let i = 0; i < cowalls.length; i++) {\r\n            /* 判断是否存在和是否不平行 */\r\n            if (this.dataService.cache.cowall.inputData[cowalls[i].id] != undefined && !this.DUService.pos.isParallelRadian(wallRadian, cowalls[i].getRadian())) {\r\n                /* 隐藏标签 */\r\n                cowalls[i].labelDisplay = false\r\n                // console.log(this.dataService.cache.cowall.inputData,cowalls,cowalls[i].id,this.dataService.cache.cowall.inputData[cowalls[i].id].text)\r\n                let value = parseFloat(this.dataService.cache.cowall.inputData[cowalls[i].id].text|| this.dataService.cache.cowall.inputData[cowalls[i].id].displayText)\r\n                let displayValue = parseFloat(this.dataService.cache.cowall.inputData[cowalls[i].id].displayText).toFixed(0)\r\n                let data = {\r\n                    pos: this.dataService.cache.cowall.inputData[cowalls[i].id].pos,\r\n                    value: displayValue,\r\n                    index: 15,\r\n                    func: (params: any) => {\r\n                      \r\n                        let distance = parseFloat(params) - value\r\n                        let isStart = point.id == cowalls[i].pointIDs[1]\r\n                      \r\n                        cb(distance, cowalls[i], isStart)\r\n                    }\r\n                }\r\n                datas.push(data)\r\n            }\r\n        }\r\n        return datas\r\n    }\r\n\r\n    /** 获取所有cowall输入数据 */\r\n    getAllCowallsInput(wall: JWall, cb?: (distance: number, cowall: JCowall, isStart: boolean) => void) {\r\n        let datas: any[] = []\r\n        let pointArr = wall.getPointArr()\r\n        let mainCowallArr = wall.getCowallArr()\r\n        let wallRadian = wall.getRadian()\r\n        let cowallArrA = pointArr[0].getCowallArr()\r\n        if (cowallArrA != undefined) {\r\n            this.DUService.cal.removeByAttr(cowallArrA, \"id\", mainCowallArr[0])\r\n            this.DUService.cal.removeByAttr(cowallArrA, \"id\", mainCowallArr[1])\r\n            datas.push(...this.getPointCowallsInput(pointArr[0], cowallArrA, wallRadian, cb))\r\n        }\r\n        let cowallArrB = pointArr[1].getCowallArr()\r\n        if (cowallArrB != undefined) {\r\n            this.DUService.cal.removeByAttr(cowallArrB, \"id\", mainCowallArr[0])\r\n            this.DUService.cal.removeByAttr(cowallArrB, \"id\", mainCowallArr[1])\r\n            datas.push(...this.getPointCowallsInput(pointArr[1], cowallArrB, wallRadian, cb))\r\n        }\r\n\r\n        return datas\r\n    }\r\n\r\n    // /** 获取cowall输入数据 */\r\n    // getCowallInput(wall: JWall, cb?: (distance: number, cowall: JCowall, isStart: boolean) => void) {\r\n    //     let datas: any[] = []\r\n    //     let cowallArr: JCowall[] = []\r\n    //     let pointArr\r\n    //     try {\r\n    //         cowallArr = wall.getCowallArr()\r\n    //     }\r\n    //     catch (e) {\r\n    //         console.log(e)\r\n    //         console.log(wall.id)\r\n    //         console.log(wall)\r\n    //         console.log(wall.coedgeID)\r\n    //         // console.log(wall)\r\n    //     }\r\n    //     for (let i = 0; i < cowallArr.length; i++) {\r\n    //         /** 上墙判断 */\r\n    //         let prevCowall = cowallArr[i].getPrevCowall()\r\n    //         if (prevCowall != null &&\r\n    //             this.dataService.cache.cowall.inputData[prevCowall.id] != undefined && !this.DUService.pos.isParallelRadian(prevCowall.getRadian(), cowallArr[i].getRadian())) {\r\n    //             let value = parseInt(this.dataService.cache.cowall.inputData[prevCowall.id].text)\r\n    //             let data = {\r\n    //                 pos: this.dataService.cache.cowall.inputData[prevCowall.id].pos,\r\n    //                 value: value,\r\n    //                 index: 15,\r\n    //                 func: (params: any) => {\r\n    //                     let distance = parseFloat(params) - value\r\n    //                     cb(distance, prevCowall, true)\r\n    //                     // this.changeCoWallLength(value, parseFloat(params), prevCowall, wall, true, cb)\r\n    //                 }\r\n    //             }\r\n    //             datas.push(data)\r\n    //         }\r\n    //         /** 下墙判断 */\r\n    //         let nextCowall = cowallArr[i].getNextCowall()\r\n    //         if (nextCowall != null && this.dataService.cache.cowall.inputData[nextCowall.id] != undefined && !this.DUService.pos.isParallelRadian(nextCowall.getRadian(), cowallArr[i].getRadian())) {\r\n    //             let value = parseInt(this.dataService.cache.cowall.inputData[nextCowall.id].text)\r\n    //             let data = {\r\n    //                 pos: this.dataService.cache.cowall.inputData[nextCowall.id].pos,\r\n    //                 value: value,\r\n    //                 index: 15,\r\n    //                 func: (params: any) => {\r\n    //                     // console.log(params)\r\n    //                     let distance = parseFloat(params) - value\r\n    //                     cb(distance, nextCowall, false)\r\n    //                     // this.changeCoWallLength(value, parseFloat(params), nextCowall, wall, false, cb)\r\n    //                 }\r\n    //             }\r\n    //             datas.push(data)\r\n    //         }\r\n    //     }\r\n    //     return datas\r\n    // }\r\n\r\n    /** 改变墙长度 */\r\n    changeCoWallLength(firstValue: number, lastValue: number, cowall: JCowall, wall: JWall, isPrev: boolean, cb?: () => void) {\r\n        console.log(\"xxx\")\r\n        let a = 1\r\n        if (isPrev)\r\n            a = -1\r\n        let cowallRadian: number = cowall.getRadian()\r\n        let wallRadian: number = wall.getRadian()\r\n        let radian = Math.PI - (a * cowallRadian) + (a * wallRadian)\r\n        let distance = lastValue - firstValue\r\n        distance = distance * Math.sin(radian)\r\n        let pos = { x: Math.cos(wallRadian - (Math.PI / 2)) * distance, y: Math.sin(wallRadian - (Math.PI / 2)) * distance }\r\n        distance = this.dataService.cmd.getDefaultPixel(distance)\r\n        pos = { x: Math.cos(wallRadian - (Math.PI / 2)) * distance, y: Math.sin(wallRadian - (Math.PI / 2)) * distance }\r\n        /** 修改 */\r\n        let movePosArr: DC.Pos[] = this.calService.wall.getVerticalMovePosArr(wall, pos)\r\n        /** 平行墙 */\r\n        if (movePosArr != null) {\r\n            let wallPosArr: DC.Pos[] = wall.getPosArr()\r\n            for (let i = 0; i < wallPosArr.length; i++) {\r\n                wallPosArr[i].x = movePosArr[i].x\r\n                wallPosArr[i].y = movePosArr[i].y\r\n            }\r\n        }\r\n        if (cb != undefined)\r\n            cb()\r\n    }\r\n}","import { JdesignDataService } from \"../../../../services/jdesign-data.service\";\r\nimport { JdesignUtil2dService } from \"../../../../services/jdesign-util2d.service\";\r\nimport { CalculatorsService } from \"../../../../services/calculators.service\";\r\nimport { DrawWallInput } from \"./DrawWallInput\";\r\nimport { PopDivService } from \"../../../../services/pop-div.service\";\r\n\r\nexport class SvgInputEvent {\r\n    constructor(\r\n        private dataService: JdesignDataService,\r\n        private DUService: JdesignUtil2dService,\r\n        private calService: CalculatorsService,\r\n        private popService: PopDivService\r\n    ) {\r\n\r\n    }\r\n\r\n    wallInput = new DrawWallInput(this.dataService, this.DUService, this.calService, this.popService)\r\n}","import { MouseEventService } from \"../../services/mouse-event.service\";\r\nimport { JdesignDataService } from \"../../../../services/jdesign-data.service\";\r\n\r\nexport abstract class EventAbstract {\r\n    private _isMouseMove: boolean = false\r\n    /** 解决鼠标按下误判为移动操作  */\r\n    get isMouseMove() { return this._isMouseMove }\r\n    set isMouseMove(data) { this._isMouseMove = data }\r\n\r\n    constructor(\r\n        public mouseEventService: MouseEventService\r\n    ) {\r\n        this.mouseEventService.getDownEvents().push((e) => {\r\n            this.isMouseMove = false\r\n            if (this.isCondition())\r\n                this.mouseDown(e)\r\n        })\r\n\r\n        this.mouseEventService.getMoveEvents().push((e) => {\r\n            if (this.isCondition()) {\r\n                this.mouseMove(e)\r\n                this.isMouseMove = true\r\n            }\r\n        })\r\n\r\n        this.mouseEventService.getUpEvents().push((e) => {\r\n            if (this.isCondition()) {\r\n                this.mouseUp(e)\r\n                this.isMouseMove = false\r\n            }\r\n        })\r\n    }\r\n\r\n    /** 鼠标按下 */\r\n    abstract mouseDown(e: MouseEvent)\r\n\r\n    /** 鼠标移动 */\r\n    abstract mouseMove(e: MouseEvent)\r\n\r\n    /** 鼠标放开 */\r\n    abstract mouseUp(e: MouseEvent)\r\n\r\n    /** 判断条件 */\r\n    abstract isCondition(): boolean\r\n\r\n}","import { EventAbstract } from \"./EventAbstract\";\r\nimport { MouseEventService } from \"../../services/mouse-event.service\";\r\nimport { DesignCommon as DC } from '../../class/DesignCommon'\r\nimport { JdesignDataService } from \"../../../../services/jdesign-data.service\";\r\nimport { DomUpdateService } from \"../../../../services/dom-update.service\";\r\nimport { CalculatorsService } from \"../../../../services/calculators.service\";\r\nimport { JdesignUtil2dService } from \"../../../../services/jdesign-util2d.service\";\r\nimport { PopDivService } from \"../../../../services/pop-div.service\";\r\nimport { JWall } from \"../../jdesign/JWall\";\r\nimport { JDesign } from \"../../jdesign/JDesign\";\r\nimport { AbsorbLineCache } from \"../../jdesign/JCache\";\r\nimport { JPoint } from \"../../jdesign/JPoint\";\r\n\r\n\r\nexport class SvgDrawRoom extends EventAbstract {\r\n\r\n    private _firstPos: DC.Pos = null\r\n    private _wasCreatRoom: boolean = false\r\n    private _movePos: DC.Pos = null\r\n    private _absorbMsg: AbsorbRooomType = null\r\n    private _firstPoint: JPoint = null\r\n    private _inputNum: number = 0\r\n\r\n    constructor(\r\n        public mouseEventService: MouseEventService,\r\n        private dataService: JdesignDataService,\r\n        private domUpdateService: DomUpdateService,\r\n        private calService: CalculatorsService,\r\n        private DUService: JdesignUtil2dService,\r\n        private popService: PopDivService\r\n    ) {\r\n        super(mouseEventService)\r\n        this.dataService.cache.mode.drawWall.subscribe(() => {\r\n            this.cleanData()\r\n        })\r\n    }\r\n\r\n    isCondition() {\r\n        return this.dataService.cache.common.mode == \"drawRoom\"\r\n    }\r\n\r\n    mouseDown(e: MouseEvent) {\r\n        if (e.which == 1) {\r\n            if (this._firstPos != null) {\r\n                this.createRoom(this._movePos)\r\n                this.cleanData()\r\n            }\r\n            else {\r\n                this._firstPos = this._absorbMsg ? { x: this._absorbMsg.pos.x, y: this._absorbMsg.pos.y } : { x: e.offsetX, y: e.offsetY }\r\n                if (this._absorbMsg != null && this._absorbMsg.obj != null && this._absorbMsg.obj.type == 'point') {\r\n                    this._firstPoint = <JPoint>this._absorbMsg.obj\r\n                }\r\n            }\r\n        }\r\n        else if (e.which == 3) {\r\n            this.setRight(e)\r\n\r\n        }\r\n\r\n    }\r\n\r\n    mouseMove(e: MouseEvent) {\r\n        let pos = { x: e.offsetX, y: e.offsetY }\r\n        if (this.dataService.cache.common.isAbosrb)\r\n            this._absorbMsg = this.getAbsorb(pos)\r\n        /** 不吸附 */\r\n        if (this._absorbMsg == null) {\r\n            this.displayAbosrbLine(null)\r\n        }\r\n        /*吸附, 显示吸附线 */\r\n        else {\r\n            this.displayAbosrbLine(this._absorbMsg)\r\n            pos = this._absorbMsg.pos\r\n        }\r\n        if (this._firstPos != null) {\r\n            this._movePos = pos\r\n            this.setShadow([this._firstPos, this._movePos])\r\n        }\r\n        // this.displayPos(pos)\r\n    }\r\n\r\n    mouseUp() {\r\n        if (this._wasCreatRoom) {\r\n            this.cleanData()\r\n        }\r\n    }\r\n\r\n    /** 显示标注线 */\r\n    displayAbosrbLine(data: AbsorbRooomType) {\r\n        /** 没有吸附 */\r\n        if (data == null || data.obj == null) {\r\n            this.dataService.cache.absorbLines = null\r\n\r\n        }\r\n        else {\r\n            let newData: AbsorbLineCache = {\r\n                pos: data.pos,\r\n                mode: \"point\",\r\n                radius: this.dataService.cache.floorplan.multiple * 8\r\n            }\r\n            this.dataService.cache.absorbLines = [newData]\r\n        }\r\n\r\n        this.domUpdateService.absorbLine.emit()\r\n\r\n    }\r\n\r\n    /** 生成空间 */\r\n    createRoom(pos: DC.Pos) {\r\n        this.setRight(null)\r\n        if (this._firstPoint == null) {\r\n            this._firstPoint = this.calService.point.createPoint({ x: this._firstPos.x, y: this._firstPos.y })\r\n        }\r\n        let lastPoint: JPoint = null\r\n        if (this._absorbMsg != null && this._absorbMsg.obj != null && this._absorbMsg.obj.type == 'point') {\r\n            lastPoint = <JPoint>this._absorbMsg.obj\r\n        }\r\n        else {\r\n            lastPoint = this.calService.point.createPoint(pos)\r\n        }\r\n        let walls = this.calService.wall.getRectWallsByPoint(this._firstPoint, lastPoint)\r\n        let msg = this.calService.wall.overlay.allOverlayAndAllCut(walls)\r\n        walls = msg.collectWalls\r\n        walls = this.DUService.cal.uniqueByAttr(walls, 'id')\r\n        this.calService.cowall.delNoUse()\r\n        let readyMsgs = this.calService.wall.cutRoomReady(walls, true)\r\n        walls.push(...readyMsgs.walls)\r\n        walls = this.DUService.cal.uniqueByAttr(walls, 'id')\r\n        let rooms = this.calService.createRoom.cutRoom(walls, true, readyMsgs.rooms)\r\n        this.calService.room.resetCowalls(rooms)\r\n        this.calService.undoRedo.save()\r\n        this.domUpdateService.svgPoint.emit()\r\n        this.domUpdateService.svgWall.emit()\r\n        this.domUpdateService.svgCowall.emit()\r\n        this.domUpdateService.svgRoom.emit()\r\n        this.dataService.cache.wall.update3D.emit()\r\n        this.dataService.cache.cowall.update3D.emit()\r\n        this._wasCreatRoom = true\r\n        this.cleanData()\r\n        this.setShadow(null)\r\n\r\n    }\r\n\r\n    /** 显示坐标 */\r\n    displayPos(pos: DC.Pos) {\r\n        if (this.dataService.cmd.floorplan.debugPos != null && this.dataService.cmd.floorplan.debugPos != undefined) {\r\n            let data = {\r\n                text: `{x:${pos.x},y:${pos.y}}`,\r\n                position: this.dataService.cmd.floorplan.debugPos\r\n            }\r\n\r\n            this.popService.message.emit(data)\r\n        }\r\n\r\n    }\r\n\r\n    /** 设置右键菜单 */\r\n    setRight(e) {\r\n        if (e == null) {\r\n            this.popService.rightClick.emit(null)\r\n            return false\r\n        }\r\n        let data = {\r\n            position: {\r\n                x: e.clientX,\r\n                y: e.clientY\r\n            },\r\n            body: [\r\n                {\r\n                    icon: this.popService.rigthClickData.退出.ico,\r\n                    text: \"退出\",\r\n                    func: () => {\r\n                        this.setExit()\r\n                    },\r\n                    isShow: false\r\n                },\r\n                {\r\n                    icon: this.popService.rigthClickData.取消.ico,\r\n                    text: \"取消\",\r\n                    func: () => {\r\n                        this.setCancel()\r\n                    },\r\n                    isShow: false\r\n                }\r\n            ]\r\n        }\r\n        this.popService.rightClick.emit(data)\r\n        return true\r\n    }\r\n\r\n    /** 退出 */\r\n    setExit() {\r\n        this.setShadow(null)\r\n        this.cleanData()\r\n        this.displayAbosrbLine(null)\r\n        this.dataService.cache.common.mode = 'normal'\r\n        this.dataService.cache.common.blockON = false\r\n        this.domUpdateService.svgBlock.emit()\r\n    }\r\n\r\n    /** 取消 */\r\n    setCancel() {\r\n        this.setShadow(null)\r\n        this.cleanData()\r\n    }\r\n\r\n    /** 数据清空 */\r\n    cleanData() {\r\n        this._firstPos = null\r\n        this._absorbMsg = null\r\n        this._wasCreatRoom = false\r\n        this._firstPoint = null\r\n        this._inputNum = 0\r\n        this.setShadow(null)\r\n        this.dataService.cache.room.inputData = []\r\n        this.popService.inputBoxs.emit([])\r\n        this.popService.buttons.emit(null)\r\n    }\r\n\r\n    /** 设置影子 */\r\n    setShadow(posArr) {\r\n        this.dataService.cache.room.shadowPosArr = posArr\r\n        this.domUpdateService.svgRoomShadow.emit()\r\n        this.setInputs()\r\n    }\r\n\r\n    /** 设置input */\r\n    setInputs() {\r\n        this.popService.inputBoxsCache = []\r\n        for (let i = 0; i < this.dataService.cache.room.inputData.length; i++) {\r\n            let value = parseInt(this.dataService.cache.room.inputData[i].text)\r\n            let data = {\r\n                pos: this.dataService.cache.room.inputData[i].pos,\r\n                value: value,\r\n                index: 15,\r\n                func: (params: any) => {\r\n                    this._inputNum += 1\r\n                    this.changeLine(params, this.dataService.cache.room.inputData[i].isX)\r\n                    /** 生成空间 */\r\n                    if (i == 1) {\r\n                        this.createRoom(this._movePos)\r\n                        this.cleanData()\r\n                    }\r\n                },\r\n                focus: this._inputNum == i\r\n            }\r\n            this.popService.inputBoxsCache.push(data)\r\n        }\r\n        this.popService.setInputBoxs()\r\n    }\r\n\r\n    /** 改变边 */\r\n    changeLine(num: number, isX: Boolean) {\r\n        /** 水平 */\r\n        if (isX) {\r\n            let ax = this._movePos.x - this._firstPos.x > 0 ? 1 : -1\r\n            let distance = this.dataService.cmd.getDefaultPixel(num)\r\n            distance += this.dataService.cmd.wall.thickness\r\n            this._movePos.x = this._firstPos.x + (distance) * ax\r\n        }\r\n        /** 垂直 */\r\n        else {\r\n            let ay = this._movePos.y - this._firstPos.y > 0 ? 1 : -1\r\n            let distance = this.dataService.cmd.getDefaultPixel(num)\r\n            distance += this.dataService.cmd.wall.thickness\r\n            this._movePos.y = this._firstPos.y + (distance) * ay\r\n        }\r\n        this.setShadow([this._firstPos, this._movePos])\r\n    }\r\n\r\n    /** 获取吸附 */\r\n    getAbsorb(pos: DC.Pos) {\r\n        let absorbMsg: AbsorbRooomType = { obj: null, pos: pos }\r\n        let minDistance = this.dataService.cmd.floorplan.absorb.minDistance\r\n        /** 优先点吸附 */\r\n        let pointsMsg = this.calService.transData.getPointPosArr()\r\n        let pointAbosrbMsg = this.calService.absorb.posAndPointPosArr(pos, minDistance, pointsMsg)\r\n        if (pointAbosrbMsg != null) {\r\n            absorbMsg.obj = pointAbosrbMsg.point\r\n            absorbMsg.pos = pointAbosrbMsg.pos\r\n            return absorbMsg\r\n        }\r\n        /** 再判断墙吸附 */\r\n        let walls = this.calService.transData.getUnArcWalls()\r\n        let wallsMsg = this.calService.transData.getWallCenterLines(walls)\r\n        let wallAbsorbMsg = this.calService.absorb.posAndWalls(pos, minDistance, false, wallsMsg)\r\n        if (wallAbsorbMsg != null) {\r\n            absorbMsg.obj = wallAbsorbMsg.wall\r\n            absorbMsg.pos = wallAbsorbMsg.pos\r\n            return absorbMsg\r\n        }\r\n\r\n        return absorbMsg\r\n    }\r\n\r\n\r\n}\r\n\r\nexport class AbsorbRooomType {\r\n    obj: JPoint | JWall;\r\n    pos: DC.Pos\r\n}\r\n","import { MouseEventService } from \"../../services/mouse-event.service\";\r\nimport { EventAbstract } from \"./EventAbstract\";\r\nimport { JdesignDataService } from \"../../../../services/jdesign-data.service\";\r\nimport { DesignCommon as DC } from \"../../class/DesignCommon\"\r\nimport { JPoint } from \"../../jdesign/JPoint\";\r\nimport { DomUpdateService } from \"../../../../services/dom-update.service\";\r\nimport { JdesignUtil2dService } from \"../../../../services/jdesign-util2d.service\";\r\nimport { JWall } from \"../../jdesign/JWall\";\r\nimport { PopDivService } from \"../../../../services/pop-div.service\";\r\nimport { CalculatorsService } from \"../../../../services/calculators.service\";\r\nimport { AbsorbLineCache } from \"../../jdesign/JCache\";\r\nimport { AbsorbWallType, DrawWallAbsorb } from \"../absorb/DrawWallAbsorb\";\r\nimport { DrawWallInput } from \"../input/DrawWallInput\";\r\n\r\nexport class SvgDrawWall extends EventAbstract {\r\n\r\n    private _shadowMove: boolean = true\r\n    /** 画墙开始的第一个坐标 画墙开始就不变了*/\r\n    private _firstPos: DC.Pos = null\r\n    /** 画墙开始的上一个的坐标,跟随到最后 */\r\n    private _prevPos: DC.Pos = null\r\n    private _absorbMsg: AbsorbWallType = null\r\n    private _prevAbsorbMsg: AbsorbWallType = null\r\n    /** 吸附线数据 */\r\n    private _absorbLineData: AbsorbLineCache[] = []\r\n    private _lastPoint: JPoint = null\r\n    private _shadowPosArr: DC.Pos[] = null\r\n\r\n    constructor(\r\n        public mouseEventService: MouseEventService,\r\n        private dataService: JdesignDataService,\r\n        private domUpdateService: DomUpdateService,\r\n        private DUService: JdesignUtil2dService,\r\n        private popService: PopDivService,\r\n        private calService: CalculatorsService,\r\n        private wallAbsorb: DrawWallAbsorb,\r\n        private wallInput: DrawWallInput\r\n    ) {\r\n        super(mouseEventService)\r\n        this.dataService.cache.mode.drawWall.subscribe(() => {\r\n            this.cleanData()\r\n        })\r\n        this.dataService.cache.shortFuncs['drawWallByInput'] = (pos: DC.Pos) => {\r\n            this._shadowPosArr[1] = pos\r\n            this.setShadow(this._shadowPosArr)\r\n            this._absorbMsg.pos = pos\r\n            this._absorbMsg.obj = null\r\n            this.popService.inputBoxsCache = []\r\n        }\r\n        /** 墙翻转 */\r\n        this.dataService.cache.shortFuncs['wallOut'] = () => {\r\n            this.dataService.cache.wall.location = -this.dataService.cache.wall.location\r\n            this.setShadow(this._shadowPosArr)\r\n        }\r\n    }\r\n\r\n    mouseUp(e: MouseEvent) {\r\n    }\r\n\r\n    mouseDown(e: MouseEvent) {\r\n        // console.log('down')\r\n        if (e.which == 1) {\r\n            if (!this._prevAbsorbMsg || !this.DUService.pos.isSamePos(this._prevAbsorbMsg.pos, this._absorbMsg.pos))\r\n                try {\r\n                    this.drawAct([this._prevAbsorbMsg, this._absorbMsg])\r\n                }\r\n                catch (e) {\r\n                    console.log(e)\r\n                    this.errorCmd('计算出错,请重新画过')\r\n                }\r\n\r\n        }\r\n        else if (e.which == 3) {\r\n            this.setRightMenu(e)\r\n        }\r\n        this.setShadow(undefined)\r\n        this.popService.inputBoxs.emit([])\r\n    }\r\n\r\n    mouseMove(e: MouseEvent) {\r\n        /** 设置吸附数据 */\r\n        let data = this.wallAbsorb.getAbsorbData([this._prevAbsorbMsg ? this._prevAbsorbMsg.pos : null, { x: e.offsetX, y: e.offsetY }], this._lastPoint ? [this._lastPoint] : [], this.dataService.cache.wall.isOrthogonal)\r\n        this._absorbLineData = data.absorbLineData\r\n        this._absorbMsg = data.absorbMsg\r\n        /** 显示吸附线 */\r\n        this.displayAbosrbLines(this._absorbLineData)\r\n        // console.log('move')\r\n        /*如果已经有点,则显示影子墙 */\r\n        if (this._prevPos != null) {\r\n            /** 有吸附 */\r\n            if (this._absorbMsg != null) {\r\n                this._shadowPosArr = [this._prevPos, this._absorbMsg.pos]\r\n                this.setShadow(this._shadowPosArr)\r\n            }\r\n            /** 没有吸附 */\r\n            else {\r\n                this._shadowPosArr = [this._prevPos, { x: e.offsetX, y: e.offsetY }]\r\n                this.setShadow(this._shadowPosArr)\r\n            }\r\n        }\r\n        else {\r\n            this.setShadow(null)\r\n        }\r\n    }\r\n\r\n    /** 转化坐标(用于内外反转墙,中线返回原值)\r\n     * @param isresvse 是否反推运算(从边算中心)) 默认false,\r\n     */\r\n    transPos(posArr: DC.Pos[], thickness: number, isresvse: boolean = false) {\r\n        let a = this.dataService.cache.wall.location\r\n        if (isresvse)\r\n            a = -a\r\n        switch (a) {\r\n            case 0:\r\n                return posArr\r\n            case 1:\r\n                return this.DUService.pos.getPosTrans(posArr[0], posArr[1], -thickness)\r\n            case -1:\r\n                return this.DUService.pos.getPosTrans(posArr[0], posArr[1], thickness)\r\n        }\r\n    }\r\n\r\n    /** 画墙动作 */\r\n    drawAct(absorbMsgs: AbsorbWallType[]) {\r\n        /** 是否应该保存房型图数据 */\r\n        let isSave: boolean = false\r\n        if (!absorbMsgs[0] && !absorbMsgs[1])\r\n            return false\r\n        this._prevPos = absorbMsgs[1].pos\r\n        /** 第一个点坐标产生 */\r\n        if (this._firstPos == null) {\r\n            this._firstPos = absorbMsgs[1].pos\r\n            this._prevAbsorbMsg = absorbMsgs[1]\r\n            if (absorbMsgs[1].obj != null && absorbMsgs[1].obj.type == 'point')\r\n                this._lastPoint = <JPoint>absorbMsgs[1].obj\r\n            return null\r\n        }\r\n        /** 必须要有首点才开始画墙 */\r\n        if (this._firstPos != null) {\r\n            isSave = true\r\n        }\r\n        let msg = this.drawWall(absorbMsgs)\r\n        let mainWall = msg.wall\r\n        let mainPoint = mainWall.getPoint(1)\r\n        /** 分空间 */\r\n        let overMsg = this.calService.wall.overlay.allOverlayAndAllCut([mainWall])\r\n        let walls = [...overMsg.collectWalls]\r\n        walls.push(...overMsg.useWalls)\r\n        this.calService.wall.removeNoUseWalls(walls)\r\n        this.calService.cowall.delNoUse()\r\n        let readyMsgs = this.calService.wall.cutRoomReady(walls, false)\r\n        let rooms = this.calService.createRoom.cutRoom(walls, true, readyMsgs.rooms)\r\n        this.calService.room.resetCowalls()\r\n        /** 更新保存 */\r\n        // this.calService.cornerWin.listAbsorb()  \r\n        this.strongUpdate()\r\n        if (isSave)\r\n            this.calService.undoRedo.save()\r\n        this.setShadow(null)\r\n        /** 碰到墙或者点 结束画墙动作 */\r\n        if (this._absorbMsg.obj != null) {\r\n            this.cleanData()\r\n            return false\r\n        }\r\n        /** 为下面继续画墙做准备 */\r\n        mainWall = mainPoint.getWallArr()[0]\r\n        if (!mainWall) {\r\n            this.cleanData()\r\n            return false\r\n        }\r\n        let mainPointArr = mainWall.getPointArr()\r\n        let transPosArr = this.transPos([mainPointArr[0].pos, mainPointArr[1].pos], this.dataService.cmd.wall.thickness / 2)\r\n        this._prevPos = transPosArr[1]\r\n        /** 接上一个点,保存下次使用 */\r\n        this._prevAbsorbMsg = { pos: absorbMsgs[1].pos, obj: mainPointArr[1] }\r\n        this._lastPoint = mainPointArr[1]\r\n        return true\r\n    }\r\n\r\n    /** 设置影子 */\r\n    setShadow(posArr: DC.Pos[]) {\r\n        this.dataService.cache.wall.ShadowPosArr = posArr\r\n        this.domUpdateService.svgWallShadow.emit()\r\n        this.domUpdateService.svgCowallShadow.emit()\r\n        if (posArr && !this.DUService.pos.isSamePos(posArr[1], posArr[0]))\r\n            this.wallInput.drawInput(posArr, (pos) => {\r\n                this._absorbMsg = {\r\n                    pos: pos,\r\n                    obj: null\r\n                }\r\n                let distance = this.DUService.pos.getDistance(this._absorbMsg.pos, this._prevAbsorbMsg.pos)\r\n                this.drawAct([this._prevAbsorbMsg, this._absorbMsg])\r\n            })\r\n    }\r\n\r\n    isCondition() {\r\n        return this.dataService.cache.common.mode == 'drawWall'\r\n    }\r\n\r\n    /** 画点,返回两个点 */\r\n    drawPoint(absorbMsgs: AbsorbWallType[]) {\r\n        let newWallPoints: JPoint[] = []\r\n        let cutWalls: JPoint[][] = []\r\n        let location = this.dataService.cache.wall.location\r\n        let halfThickness = this.dataService.cmd.wall.thickness / 2\r\n        let shadowPosArr = [absorbMsgs[0].pos, absorbMsgs[1].pos]\r\n        /** 从吸附线获取数据 */\r\n        for (let i = 0; i < absorbMsgs.length; i++) {\r\n            /** 有吸附 */\r\n            if (absorbMsgs[i].obj != null) {\r\n                /** 点吸附 */\r\n                if (absorbMsgs[i].obj.type == 'point') {\r\n                    let point = <JPoint>absorbMsgs[i].obj\r\n                    let centerPosArr = this.transPos(shadowPosArr, halfThickness, true)\r\n                    /** 相同坐标,直接取点 */\r\n                    if (this.DUService.pos.isSamePos(centerPosArr[i], point.pos)) {\r\n                        newWallPoints.push(point)\r\n                    }\r\n                    /** 存在内外墙不搭得情况 */\r\n                    else {\r\n                        let newPoint = this.getOutWallIntersectPoint(point, shadowPosArr, i)\r\n                        newWallPoints.push(newPoint)\r\n                    }\r\n                }\r\n                /** 墙吸附 */\r\n                else {\r\n                    let wall = <JWall>absorbMsgs[i].obj\r\n                    let posArr = this.transPos(shadowPosArr, halfThickness, true)\r\n                    let point: JPoint = undefined\r\n                    let wallPointArr = wall.getPointArr()\r\n                    for (let m = 0; m < wallPointArr.length; m++) {\r\n                        if (this.DUService.pos.isSamePos(absorbMsgs[i].pos, wallPointArr[m].pos, 0.01)) {\r\n                            point = wallPointArr[m]\r\n                            break\r\n                        }\r\n                    }\r\n                    if (!point)\r\n                        point = this.calService.point.createPoint(posArr[i])\r\n                    this.calService.wall.cut.cutByPoint(wall, point)\r\n                    newWallPoints.push(point)\r\n                }\r\n            }\r\n            /** 没有吸附 */\r\n            else {\r\n                let centerPosArr = this.transPos(shadowPosArr, halfThickness, true)\r\n                let point = this.calService.point.createPoint(centerPosArr[i])\r\n                newWallPoints.push(point)\r\n            }\r\n        }\r\n        /** 切割原来的墙 */\r\n        for (let key in cutWalls) {\r\n            this.calService.wall.cut.cutsByPoints(this.dataService.walls[key], ...cutWalls[key])\r\n        }\r\n        return newWallPoints\r\n    }\r\n\r\n    /** 画墙 返回墙和切割墙或者与点融合的点 */\r\n    drawWall(absorbMsgs: AbsorbWallType[]) {\r\n        let points = this.drawPoint(absorbMsgs)\r\n        /** 产生新的 */\r\n        let cowall = this.calService.cowall.createCowall([points[0].id, points[1].id])\r\n\r\n        /** 创建新的wall */\r\n        let wall: JWall = this.calService.wall.createWall(cowall.id)\r\n        cowall.edgeID = wall.id\r\n        return {\r\n            wall: wall,\r\n            points: points\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 获取内外墙与墙相交的点\r\n     * @param point \r\n     * @param line \r\n     * @param index \r\n     */\r\n    getOutWallIntersectPoint(point: JPoint, line: DC.Pos[], index: number) {\r\n        let centerPosArr = this.transPos(line, this.dataService.cmd.wall.thickness / 2, true)\r\n        let wallArr = point.getWallArr()\r\n        let minIntersectPos: DC.Pos = undefined\r\n        /** 仅有一个墙不用切割墙 */\r\n        if (wallArr.length == 1) {\r\n            let wallPosArr = wallArr[0].getPosArr()\r\n            minIntersectPos = this.DUService.pos.getIntersect(wallPosArr[0], wallPosArr[1], centerPosArr[0], centerPosArr[1])\r\n            if (minIntersectPos) {\r\n                point.pos = minIntersectPos\r\n                return point\r\n            }\r\n        }\r\n        /** 多个墙需要切割墙 */\r\n        else {\r\n            let intersectWall: JWall = undefined\r\n            let isWallLine: boolean = false\r\n            let minDistance: number = undefined\r\n            for (let i = 0; i < wallArr.length; i++) {\r\n                let wallPosArr = wallArr[i].getPosArr()\r\n                let wallRadian = this.DUService.pos.getRadian(wallPosArr[0], wallPosArr[1])\r\n                let lineRadian = this.DUService.pos.getRadian(centerPosArr[0], wallPosArr[0])\r\n                /** 平行线可能 */\r\n                if (this.DUService.pos.isParallelRadian(wallRadian, lineRadian)) {\r\n                    isWallLine = true\r\n                    intersectWall = wallArr[i]\r\n                    break\r\n                }\r\n                /** 相交可能 */\r\n                else {\r\n                    let intersectPos = this.DUService.pos.getIntersect(wallPosArr[0], wallPosArr[1], centerPosArr[0], centerPosArr[1], false)\r\n                    if (intersectPos) {\r\n                        let distance = this.DUService.pos.getDistance(intersectPos, line[1])\r\n                        if (!minDistance || distance < minDistance) {\r\n                            minIntersectPos = intersectPos\r\n                            intersectWall = wallArr[i]\r\n                            minDistance = distance\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            /** 平行线可能 */\r\n            if (isWallLine) {\r\n                return point\r\n            }\r\n            /** 相交则移点 */\r\n            else if (minIntersectPos) {\r\n                let newPoint = this.calService.point.createPoint(minIntersectPos)\r\n                this.calService.wall.cut.cutByPoint(intersectWall, newPoint)\r\n                return newPoint\r\n            }\r\n        }\r\n        /** 不相交则产生新墙连接 */\r\n        let newPoint = this.calService.point.createPoint(centerPosArr[index])\r\n        let cowall = this.calService.cowall.createCowall([point.id, newPoint.id])\r\n        let wall = this.calService.wall.createWall(cowall.id)\r\n        cowall.edgeID = wall.id\r\n        return newPoint\r\n    }\r\n\r\n    /** 清空数据 */\r\n    cleanData() {\r\n        this._firstPos = null\r\n        this._prevPos = null\r\n        this._prevAbsorbMsg = null\r\n        this._absorbMsg = null\r\n        this._absorbLineData = null\r\n        this._lastPoint = null\r\n        this._shadowPosArr = null\r\n        this.dataService.cache.absorbLines = []\r\n        this.domUpdateService.absorbLine.emit()\r\n    }\r\n\r\n    /** 右键菜单 */\r\n    setRightMenu(e) {\r\n        let inputData = {\r\n            text: '墙厚',\r\n            valueArr: this.dataService.cmd.wall.thickness,\r\n            func: (e) => {\r\n                this.dataService.cmd.wall.thickness = parseInt(e.target.value)\r\n                this.popService.rightClick.emit(null)\r\n                //  = this._wallThickness\r\n                // console.log(inputData)\r\n            }\r\n        }\r\n        let data = {\r\n            position: {\r\n                x: e.clientX,\r\n                y: e.clientY\r\n            },\r\n            body: [\r\n                {\r\n                    icon: this.popService.rigthClickData.取消.ico,\r\n                    text: \"取消\",\r\n                    func: () => {\r\n                        this.setCancel()\r\n                    },\r\n                    isShow: false\r\n                },\r\n                {\r\n                    icon: this.popService.rigthClickData.退出.ico,\r\n                    text: \"退出\",\r\n                    func: () => {\r\n                        this.setExit()\r\n                    },\r\n                    isShow: false\r\n                },\r\n                {\r\n                    icon: this.popService.rigthClickData.退出.ico,\r\n                    text: \"墙翻转\",\r\n                    func: () => {\r\n                        this.dataService.cache.shortFuncs['wallOut']()\r\n                    },\r\n                    isShow: false\r\n                }\r\n            ],\r\n            input: inputData,\r\n            isWall: true\r\n        }\r\n        this.popService.rightClick.emit(data)\r\n    }\r\n\r\n    /** 退出 */\r\n    setExit() {\r\n        // this.setCowallSort()\r\n        this.setShadow(null)\r\n        this.cleanData()\r\n        this.dataService.cache.common.mode = \"normal\"\r\n        this.dataService.cache.common.blockON = false\r\n        this.domUpdateService.svgBlock.emit()\r\n    }\r\n\r\n    /** 取消 */\r\n    setCancel() {\r\n        // this.setCowallSort()\r\n        this.setShadow(null)\r\n        this.cleanData()\r\n    }\r\n\r\n    errorCmd(text: string) {\r\n        this.calService.undoRedo.setPresent()\r\n        this.calService.undoRedo.setPresent()\r\n        this.calService.undoRedo.setPresent()\r\n        this.strongUpdate()\r\n        this.dataService.cache.common.choose = this.dataService.floorplan\r\n        this.cleanData()\r\n        this.dataService.cache.common.isAbosrb = true\r\n        alert(text)\r\n        return false\r\n    }\r\n\r\n    /** 强制更新 */\r\n    strongUpdate() {\r\n        let points = this.dataService.doPoints().arr()\r\n        let a = this.calService.point.fixSamePosPoints(points)\r\n        this.domUpdateService.svgPoint.emit()\r\n        this.domUpdateService.svgWall.emit()\r\n        this.domUpdateService.svgCowall.emit()\r\n        this.domUpdateService.svgRoom.emit()\r\n        this.dataService.cache.floorplan.dataEmit.emit()\r\n        this.dataService.cache.wall.update3D.emit()\r\n        this.dataService.cache.cowall.update3D.emit()\r\n    }\r\n\r\n    /** 显示吸附线 null为消失*/\r\n    displayAbosrbLines(data) {\r\n        this.dataService.cache.absorbLines = data\r\n        this.domUpdateService.absorbLine.emit()\r\n    }\r\n}\r\n\r\n\r\n\r\n","import { EventAbstract } from \"./EventAbstract\";\r\nimport { MouseEventService } from \"../../services/mouse-event.service\";\r\nimport { JdesignDataService } from \"../../../../services/jdesign-data.service\";\r\nimport { DomUpdateService } from \"../../../../services/dom-update.service\";\r\nimport { JdesignUtil2dService } from \"../../../../services/jdesign-util2d.service\";\r\nimport { PopDivService } from \"../../../../services/pop-div.service\";\r\nimport { CalculatorsService } from \"../../../../services/calculators.service\";\r\nimport { DesignCommon as DC } from '../../class/DesignCommon'\r\nimport { JRoom } from \"../../jdesign/JRoom\";\r\n\r\nexport class SvgMoveBack extends EventAbstract {\r\n\r\n    constructor(\r\n        public mouseEventService: MouseEventService,\r\n        private dataService: JdesignDataService,\r\n        private domUpdateService: DomUpdateService,\r\n        private DUService: JdesignUtil2dService,\r\n        private popService: PopDivService,\r\n        private calService: CalculatorsService\r\n    ) {\r\n        super(mouseEventService)\r\n        this.dataService.cache.mode.drawWall.subscribe(() => {\r\n            this.dataService.cache.common.mode = 'normal'\r\n            // this.cleanData()\r\n        })\r\n        // console.log('%cSvgMoveBack', \"color:#ff0000\")\r\n    }\r\n\r\n    isCondition() {\r\n        if (\r\n            this.dataService.cache.common.mode == 'normal' &&\r\n            this.dataService.cache.common.choose != null &&\r\n            (this.dataService.cache.common.choose.type == 'floorplan' || this.dataService.cache.common.choose.type == 'room')\r\n        )\r\n            return true\r\n        else\r\n            return false\r\n    }\r\n\r\n    mouseDown(e: MouseEvent) {\r\n        this.popService.inputBoxs.emit([])\r\n        this.popService.buttons.emit(null)\r\n    }\r\n\r\n    mouseMove(e: MouseEvent) {\r\n        if (this.dataService.cache.common.firstPos != null && this.isMouseMove) {\r\n            switch (this.dataService.floorplan.mode) {\r\n                case 'back':\r\n                    if (this.dataService.cache.common.choose.type == 'room' && this.dataService.cache.common.chooseOtherMsg == 'text') {\r\n                        this.roomTextMove(e)\r\n                    }\r\n                    else {\r\n                        this.backMove(e)\r\n                    }\r\n                    break;\r\n                case 'backImg':\r\n                    this.backImgMove(e)\r\n                    break;\r\n            }\r\n        }\r\n        else if (this.dataService.floorplan.mode == 'backImg') {\r\n            this.dataService.cache.common.firstPos = {\r\n                x: e.offsetX,\r\n                y: e.offsetY\r\n            }\r\n        }\r\n    }\r\n\r\n    mouseUp() {\r\n        this.dataService.floorplan.mode = 'back'\r\n        this.dataService.cache.common.firstPos = null\r\n        this.dataService.cache.common.blockON = false\r\n        this.domUpdateService.svgBlock.emit()\r\n    }\r\n\r\n    /** 格子移动 */\r\n    backMove(e: MouseEvent) {\r\n        let plusPos = { x: e.offsetX - this.dataService.cache.common.firstPos.x, y: e.offsetY - this.dataService.cache.common.firstPos.y }\r\n        let mulit = this.dataService.cmd.floorplan.zoom\r\n        this.dataService.cmd.floorplan.top += plusPos.y * mulit\r\n        this.dataService.cmd.floorplan.left += plusPos.x * mulit\r\n        this.domUpdateService.mainSvg.emit()\r\n        this.dataService.cache.common.firstPos = { x: e.offsetX, y: e.offsetY }\r\n    }\r\n\r\n    /** 空间文字移动 */\r\n    roomTextMove(e: MouseEvent) {\r\n        let plusPos = { x: e.offsetX - this.dataService.cache.common.firstPos.x, y: e.offsetY - this.dataService.cache.common.firstPos.y }\r\n        // let mulit = this.dataService.cmd.floorplan.zoom\r\n        let room = <JRoom>this.dataService.cache.common.choose\r\n        room.isAutoMoveAreaPos = false\r\n        if (room.displayPos) {\r\n            room.displayPos.y += plusPos.y\r\n            room.displayPos.x += plusPos.x\r\n        }\r\n        this.domUpdateService.svgRoom.emit()\r\n        this.dataService.cache.common.firstPos = { x: e.offsetX, y: e.offsetY }\r\n    }\r\n\r\n    /** 背景图移动 */\r\n    backImgMove(e: MouseEvent) {\r\n        let plusPos = { x: e.offsetX - this.dataService.cache.common.firstPos.x, y: e.offsetY - this.dataService.cache.common.firstPos.y }\r\n        let mulit = this.dataService.cmd.floorplan.zoom\r\n        this.dataService.floorplan.backImg.top += plusPos.y\r\n        this.dataService.floorplan.backImg.left += plusPos.x\r\n\r\n        this.domUpdateService.svgBack.emit()\r\n        this.dataService.cache.common.firstPos = { x: e.offsetX, y: e.offsetY }\r\n    }\r\n\r\n}","import { EventAbstract } from \"./EventAbstract\";\r\nimport { MouseEventService } from \"../../services/mouse-event.service\";\r\nimport { JdesignDataService } from \"../../../../services/jdesign-data.service\";\r\nimport { DomUpdateService } from \"../../../../services/dom-update.service\";\r\nimport { JdesignUtil2dService } from \"../../../../services/jdesign-util2d.service\";\r\nimport { PopDivService } from \"../../../../services/pop-div.service\";\r\nimport { CalculatorsService } from \"../../../../services/calculators.service\";\r\nimport { CornerWinCal } from \"../../calculator/cornerWin.cal\";\r\nimport { DesignCommon as DC } from '../../class/DesignCommon'\r\nimport { JCornerWin } from \"../../jdesign/JCornerWin\";\r\n\r\nexport class SvgMoveCWin extends EventAbstract {\r\n\r\n    private _obj: JCornerWin = null\r\n    private _pos: DC.Pos = null\r\n    private _distancePos: DC.Pos = { x: 0, y: 0 }\r\n    private _absortMsg: DC.AbsorbMsg = null\r\n    private _cachePos: DC.Pos = null\r\n\r\n    constructor(\r\n        public mouseEventService: MouseEventService,\r\n        private dataService: JdesignDataService,\r\n        private domService: DomUpdateService,\r\n        private DUService: JdesignUtil2dService,\r\n        private popService: PopDivService,\r\n        private calService: CalculatorsService\r\n    ) {\r\n        super(mouseEventService)\r\n        this.dataService.cache.cornerWin.move = (obj: JCornerWin, pos: DC.Pos) => {\r\n            this.moveObj(obj, pos)\r\n            obj.act3D.move()\r\n            this.domService.svgCornerWin.emit()\r\n        }\r\n        this.dataService.cache.cornerWin.moveEnd = (obj: JCornerWin) => {\r\n            this.dataService.cache.floorplan.createAndMove = false\r\n            this.dataService.cache.common.blockON = false\r\n            this.dataService.cache.common.firstPos = null\r\n            switch (obj.mode) {\r\n                case \"move\":\r\n                    this.dataService.cache.cornerWin.hideAllCircle = false\r\n                    break;\r\n            }\r\n            // obj.act3D.end()\r\n            this.strongUpdate()\r\n            this.calService.undoRedo.save()\r\n            obj.strongUpdate3D()\r\n            this.cleanData()\r\n        }\r\n    }\r\n\r\n    mouseDown() {\r\n    }\r\n\r\n    mouseMove(e: MouseEvent) {\r\n        this._obj = <JCornerWin>this.dataService.cache.common.choose\r\n        /** 已经获取了第一次点击坐标误差,可以移动了,(初始化时不需要获取误差坐标) */\r\n        if (this.dataService.cache.common.firstPos == null) {\r\n            this._pos = {\r\n                x: e.offsetX + this._distancePos.x,\r\n                y: e.offsetY + this._distancePos.y\r\n            }\r\n            switch (this._obj.mode) {\r\n                case \"move\":\r\n                    this.moveObj(this._obj, this._pos)\r\n                    this._obj.act3D.move()\r\n                    break\r\n                case \"leftMove\":\r\n                    this.moveLeftSide(this._obj, this._pos)\r\n                    this._obj.act3D.change()\r\n                    break\r\n                case \"downMove\":\r\n                    this.moveDownSide(this._obj, this._pos)\r\n                    this._obj.act3D.change()\r\n                    break\r\n                case \"rightMove\":\r\n                    this.moveRightSide(this._obj, this._pos)\r\n                    this._obj.act3D.change()\r\n                    break\r\n                case \"upMove\":\r\n                    this.moveUpSide(this._obj, this._pos)\r\n                    this._obj.act3D.change()\r\n                    break\r\n            }\r\n\r\n        }\r\n\r\n        /** 平常移动第一次点击,需要获取点击的坐标误差 */\r\n        else {\r\n            this._distancePos = {\r\n                x: this._obj.pos.x - e.offsetX,\r\n                y: this._obj.pos.y - e.offsetY\r\n            }\r\n            this.dataService.cache.common.firstPos = null\r\n        }\r\n        this.CWUpdate()\r\n    }\r\n\r\n    mouseUp() {\r\n        this._obj = <JCornerWin>this.dataService.cache.common.choose\r\n        this.dataService.cache.cornerWin.moveEnd(this._obj)\r\n    }\r\n\r\n    isCondition() {\r\n        return this.dataService.cache.common.mode == 'normal' && this.dataService.cache.common.choose != null && this.dataService.cache.common.choose.type == \"cornerWin\"\r\n    }\r\n\r\n    /** 强制更新 */\r\n    strongUpdate() {\r\n        this.domService.svgBlock.emit()\r\n        this.domService.svgPoint.emit()\r\n        this.domService.svgCowall.emit()\r\n        this.domService.svgWall.emit()\r\n        this.domService.svgRoom.emit()\r\n        this.domService.svgCornerWin.emit()\r\n    }\r\n\r\n    /** 转角飘窗更新 */\r\n    CWUpdate() {\r\n        this.domService.svgCornerWin.emit()\r\n    }\r\n\r\n    /** 数据初始化 */\r\n    cleanData() {\r\n        this._pos = null\r\n        this._distancePos = { x: 0, y: 0 }\r\n        this._cachePos = null\r\n        this._obj = undefined\r\n    }\r\n\r\n    /** 移动状态 */\r\n    moveObj(obj: JCornerWin, pos: DC.Pos) {\r\n        this.dataService.cache.cornerWin.hideAllCircle = true\r\n        let msg = this.getAbsorb(pos)\r\n        if (msg.point != null) {\r\n            this.calService.cornerWin.unionPoint(obj, msg.point)\r\n        }\r\n        else {\r\n            this.calService.cornerWin.disconnectPoint(obj)\r\n            obj.pos = msg.pos\r\n        }\r\n    }\r\n\r\n    /** 移动边 */\r\n    moveSide(obj: JCornerWin, pos: DC.Pos, radian: number, cb: (obj: JCornerWin, distance: number) => void) {\r\n        if (this._cachePos == null) {\r\n            this._cachePos = pos\r\n            return false\r\n        }\r\n        let distance = this.calService.pos.getMoveSideDistance(this._cachePos, pos, radian)\r\n        cb(obj, distance)\r\n        this._cachePos = pos\r\n        return true\r\n    }\r\n\r\n    /** 移动左边 */\r\n    moveLeftSide(obj: JCornerWin, pos: DC.Pos) {\r\n        return this.moveSide(obj, pos, obj.LRadian, (obj, distance) => {\r\n            obj.LDepth += distance\r\n        })\r\n    }\r\n\r\n    /** 移动下边 */\r\n    moveDownSide(obj: JCornerWin, pos: DC.Pos) {\r\n        return this.moveSide(obj, pos, obj.DRadian, (obj, distance) => {\r\n            obj.DDepth += distance\r\n        })\r\n    }\r\n\r\n    /** 移动右边 */\r\n    moveRightSide(obj: JCornerWin, pos: DC.Pos) {\r\n        return this.moveSide(obj, pos, obj.DRadian - (Math.PI / 2), (obj, distance) => {\r\n            obj.DWidth += distance\r\n        })\r\n    }\r\n\r\n    /** 移动左边 */\r\n    moveUpSide(obj: JCornerWin, pos: DC.Pos) {\r\n        return this.moveSide(obj, pos, obj.LRadian + (Math.PI / 2), (obj, distance) => {\r\n            obj.LWidth += distance\r\n        })\r\n    }\r\n\r\n    /** 吸附 */\r\n    getAbsorb(pos: DC.Pos) {\r\n        let distance = this.dataService.cmd.floorplan.absorb.minDistance * 2\r\n        let pointArr = this.calService.point.getPointsByOnlyNumWalls(2)\r\n        let pointsMsg = this.calService.transData.getPointPosArr(pointArr)\r\n        let absorbMsg = this.calService.absorb.posAndPointPosArr(pos, distance, pointsMsg)\r\n        return {\r\n            pos: absorbMsg ? absorbMsg.point.pos : pos,\r\n            point: absorbMsg ? absorbMsg.point : null\r\n        }\r\n    }\r\n\r\n}","import { EventAbstract } from \"./EventAbstract\";\r\nimport { MouseEventService } from \"../../services/mouse-event.service\";\r\nimport { JdesignDataService } from \"../../../../services/jdesign-data.service\";\r\nimport { DomUpdateService } from \"../../../../services/dom-update.service\";\r\nimport { JdesignUtil2dService } from \"../../../../services/jdesign-util2d.service\";\r\nimport { PopDivService } from \"../../../../services/pop-div.service\";\r\nimport { CalculatorsService } from \"../../../../services/calculators.service\";\r\nimport { JDoor } from \"../../jdesign/JDoor\";\r\nimport { JDWAbstract } from \"../../jdesign/JDWAbstract\";\r\nimport { DesignCommon as DC } from '../../class/DesignCommon'\r\nimport { JWall } from \"../../jdesign/JWall\";\r\nimport { DWAbsorb } from \"../absorb/DWAbsorb\";\r\n\r\nexport class SvgMoveDW extends EventAbstract {\r\n\r\n    private _pos: DC.Pos = null\r\n    private _distancePos: DC.Pos = { x: 0, y: 0 }\r\n    private _cachePos: DC.Pos = undefined\r\n\r\n    constructor(\r\n        public mouseEventService: MouseEventService,\r\n        private dataService: JdesignDataService,\r\n        private domService: DomUpdateService,\r\n        private DUService: JdesignUtil2dService,\r\n        private popService: PopDivService,\r\n        private calService: CalculatorsService,\r\n        private dwAbsorb: DWAbsorb\r\n    ) {\r\n        super(mouseEventService)\r\n        this.dataService.cache.doorWin.moveEnd = (obj: JDWAbstract) => {\r\n            this.dataService.cache.floorplan.createAndMove = false\r\n            this.dataService.cache.common.blockON = false\r\n            this.dataService.cache.common.firstPos = null\r\n            let wall = obj.getwall()\r\n            obj.act3D.end()\r\n            this.strongUpdate()\r\n            this.calService.undoRedo.save()\r\n            this.cleanData()\r\n            this.setInputs(obj)\r\n        }\r\n\r\n        this.dataService.cache.doorWin.move = (obj: JDWAbstract, pos?) => {\r\n            /** 如果有坐标 */\r\n            if (pos != undefined) {\r\n                let absorbMsg: {\r\n                    pos: DC.Pos;\r\n                    wall: JWall;\r\n                    radian: number;\r\n                } = undefined\r\n                if (this.dataService.cache.common.isAbosrb)\r\n                    absorbMsg = this.dwAbsorb.getAbsorb(pos, obj.size.height)\r\n                /** 没有吸附 */\r\n                if (absorbMsg == undefined) {\r\n                    obj.pos = pos\r\n                    obj.type == 'door' ? this.calService.door.delWall(obj) :\r\n                        this.calService.win.delWall(obj)\r\n                }\r\n                /** 吸附 */\r\n                else {\r\n                    /** 直墙 */\r\n                    if (absorbMsg.wall.arcDistance == 0) {\r\n                        obj.pos = absorbMsg.pos\r\n                        obj.type == 'door' ?\r\n                            this.calService.door.unionWall(obj, absorbMsg.wall) :\r\n                            this.calService.win.unionWall(obj, absorbMsg.wall)\r\n                    }\r\n                    /** 弧墙 */\r\n                    else {\r\n                        obj.pos = absorbMsg.pos\r\n                        obj.type == 'door' ?\r\n                            this.calService.door.unionWall(obj, absorbMsg.wall) :\r\n                            this.calService.win.unionWall(obj, absorbMsg.wall)\r\n                        obj.radian = absorbMsg.radian + (Math.PI / 2)\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                if (obj.wallID != undefined) {\r\n                    pos = obj.getPosByWall()\r\n                    obj.pos = pos\r\n                }\r\n            }\r\n            this.setInputs(obj)\r\n            this.DWUpdate()\r\n            obj.act3D.move()\r\n        }\r\n    }\r\n\r\n    mouseUp(e: MouseEvent) {\r\n        let obj = <JDWAbstract>this.dataService.cache.common.choose\r\n        if (this.isMouseMove || this.dataService.cache.floorplan.createAndMove) {\r\n            this.dataService.cache.doorWin.moveEnd(obj)\r\n            this.dataService.cache.common.choose = obj\r\n        }\r\n        else {\r\n            this.dataService.cache.floorplan.createAndMove = false\r\n            this.dataService.cache.common.blockON = false\r\n            this.dataService.cache.common.firstPos = null\r\n            this.strongUpdate()\r\n            this.cleanData()\r\n            this.setInputs(obj)\r\n        }\r\n    }\r\n\r\n    mouseDown(e: MouseEvent) {\r\n\r\n    }\r\n\r\n    mouseMove(e: MouseEvent) {\r\n        let obj = <JDWAbstract>this.dataService.cache.common.choose\r\n        /** 已经获取了第一次点击坐标误差,可以移动了,(初始化时不需要获取误差坐标) */\r\n        if (this.dataService.cache.common.firstPos == null) {\r\n            this._pos = {\r\n                x: e.offsetX + this._distancePos.x,\r\n                y: e.offsetY + this._distancePos.y\r\n            }\r\n            this.moveAction(obj, this._pos)\r\n            // this.dataService.cache.doorWin.move(obj, this._pos)\r\n        }\r\n\r\n        /** 平常移动第一次点击,需要获取点击的坐标误差 */\r\n        else {\r\n            this._distancePos = {\r\n                x: obj.pos.x - e.offsetX,\r\n                y: obj.pos.y - e.offsetY\r\n            }\r\n            this.dataService.cache.common.firstPos = null\r\n        }\r\n    }\r\n\r\n    isCondition() {\r\n        return this.dataService.cache.common.mode == 'normal' && this.dataService.cache.common.choose != null && (this.dataService.cache.common.choose.type == \"door\" || this.dataService.cache.common.choose.type == \"win\")\r\n    }\r\n\r\n    /** 强制更新 */\r\n    strongUpdate() {\r\n        this.domService.svgBlock.emit()\r\n        this.domService.svgPoint.emit()\r\n        this.domService.svgCowall.emit()\r\n        this.domService.svgWall.emit()\r\n        this.domService.svgRoom.emit()\r\n    }\r\n\r\n    /** 门窗更新 */\r\n    DWUpdate() {\r\n        this.domService.svgDoor.emit()\r\n        this.domService.svgWin.emit()\r\n    }\r\n\r\n    /** 数据初始化 */\r\n    cleanData() {\r\n        this._pos = null\r\n        this._cachePos = undefined\r\n        this._distancePos = { x: 0, y: 0 }\r\n    }\r\n\r\n    moveAction(obj: JDWAbstract, pos: DC.Pos) {\r\n        if (this._cachePos == null) {\r\n            this._cachePos = pos\r\n            return false\r\n        }\r\n        let distance = 0\r\n        switch (obj.mode) {\r\n            case \"leftMove\":\r\n                distance = this.calService.pos.getMoveSideDistance(this._cachePos, pos, obj.radian)\r\n                obj.size.width -= distance\r\n                obj.pos = this.DUService.pos.getRayPos(obj.pos, obj.radian, distance / 2)\r\n                this.dataService.cache.doorWin.move(obj, obj.pos)\r\n                break\r\n            case \"rightMove\":\r\n                distance = this.calService.pos.getMoveSideDistance(this._cachePos, pos, obj.radian)\r\n                obj.size.width += distance\r\n                obj.pos = this.DUService.pos.getRayPos(obj.pos, obj.radian, distance / 2)\r\n                this.dataService.cache.doorWin.move(obj, obj.pos)\r\n                break\r\n            default:\r\n                this.dataService.cache.doorWin.move(obj, this._pos)\r\n                break;\r\n        }\r\n        this._cachePos = pos\r\n    }\r\n\r\n    /** 设置输入 */\r\n    setInputs(obj: JDWAbstract) {\r\n        /** 如果在three层不显示 */\r\n        if ((this.dataService.cache.common.choose && this.dataService.cache.common.choose.id != obj.id) || this.dataService.cache.thumbnail.three.zIndex < this.dataService.cache.thumbnail.svg.zIndex) {\r\n            this.popService.inputBoxs.emit(null)\r\n            return false\r\n        }\r\n        /** 如果对象没又墙不显示 */\r\n        if (obj != null && obj.wallID != null) {\r\n            this.setButtons(obj)\r\n            let datas = []\r\n            for (let i = 0; i < this.dataService.cache.doorWin.labelData.length; i++) {\r\n                let data = {\r\n                    pos: this.dataService.cache.doorWin.labelData[i].pos,\r\n                    index: 15,\r\n                    value: this.dataService.cache.doorWin.labelData[i].text,\r\n                    func: (params: any) => {\r\n\r\n                    }\r\n                }\r\n                datas.push(data)\r\n            }\r\n            /** 重构方法====================== */\r\n            /** 修改尺寸 */\r\n            if (datas.length > 0) {\r\n                datas[0].func = (params: any) => {\r\n                    this.fixWidth(obj, params)\r\n                    this.calService.undoRedo.save()\r\n                }\r\n                datas[1].func = (params: any) => {\r\n                    this.rightMove(obj, this.dataService.cache.doorWin.labelData[1].text, params)\r\n                    this.calService.undoRedo.save()\r\n                }\r\n                datas[2].func = (params: any) => {\r\n                    this.leftMove(obj, this.dataService.cache.doorWin.labelData[2].text, params)\r\n                    this.calService.undoRedo.save()\r\n                }\r\n            }\r\n            this.popService.inputBoxsCache = datas\r\n            this.popService.setInputBoxs()\r\n        }\r\n        else {\r\n            this.popService.buttons.emit(null)\r\n            this.popService.inputBoxs.emit(null)\r\n        }\r\n        return true\r\n    }\r\n\r\n    /** 修改尺寸 */\r\n    fixWidth(obj: JDWAbstract, width: number) {\r\n        let pixelWidth = this.dataService.cmd.getDefaultPixel(width)\r\n        obj.size.width = pixelWidth\r\n        // this.strongUpdate()\r\n        this.DWUpdate()\r\n        this.dataService.cache.doorWin.move(obj, obj.pos)\r\n        this.setInputs(obj)\r\n    }\r\n\r\n    /** 左移动 */\r\n    leftMove(obj: JDWAbstract, firstDistance: number, lastDistance: number) {\r\n        let distance = this.dataService.cmd.getDefaultPixel(lastDistance - firstDistance)\r\n        obj.pos = this.DUService.pos.getRayPos(obj.pos, obj.radian, distance)\r\n        // this.strongUpdate()\r\n        this.DWUpdate()\r\n        this.dataService.cache.doorWin.move(obj, obj.pos)\r\n        this.setInputs(obj)\r\n    }\r\n\r\n    /** 右移动 */\r\n    rightMove(obj: JDWAbstract, firstDistance: number, lastDistance: number) {\r\n        let distance = this.dataService.cmd.getDefaultPixel(lastDistance - firstDistance)\r\n        obj.pos = this.DUService.pos.getRayPos(obj.pos, obj.radian + Math.PI, distance)\r\n        // this.strongUpdate()\r\n        this.DWUpdate()\r\n        this.dataService.cache.doorWin.move(obj, obj.pos)\r\n        this.setInputs(obj)\r\n    }\r\n\r\n    /** 设置按钮 */\r\n    setButtons(obj: JDWAbstract) {\r\n        if (this.dataService.cache.thumbnail.three.zIndex < this.dataService.cache.thumbnail.svg.zIndex) {\r\n            this.popService.buttons.emit(null)\r\n            return false\r\n        }\r\n        let rayPos = this.DUService.pos.getRayPos(obj.pos, obj.radian + (Math.PI / 2), this.dataService.cmd.door.buttonHeight)\r\n        let data = {\r\n            outArea: {\r\n                position: rayPos,\r\n                rotate: (obj.radian + (Math.PI / 2)) * 180 / Math.PI,\r\n                index: 15\r\n            },\r\n            content: [{\r\n                icon: \"#icon-doorWinOut\",\r\n                text: '翻转',\r\n                func: (params) => {\r\n                    obj.out = !obj.out\r\n                    obj.strongUpdate3D()\r\n                    this.DWUpdate()\r\n                }\r\n            }, {\r\n                icon: \"#icon-doorWinMirror\",\r\n                text: '翻转',\r\n                func: (params) => {\r\n                    obj.mirror = !obj.mirror\r\n                    obj.strongUpdate3D()\r\n                    this.DWUpdate()\r\n                }\r\n            }]\r\n        }\r\n        this.popService.buttonsCache = data\r\n        this.popService.setButtons()\r\n        return true\r\n    }\r\n\r\n}\r\n","import { EventAbstract } from \"./EventAbstract\";\r\nimport { MouseEventService } from \"../../services/mouse-event.service\";\r\nimport { JdesignDataService } from \"../../../../services/jdesign-data.service\";\r\nimport { DomUpdateService } from \"../../../../services/dom-update.service\";\r\nimport { JdesignUtil2dService } from \"../../../../services/jdesign-util2d.service\";\r\nimport { PopDivService } from \"../../../../services/pop-div.service\";\r\nimport { CalculatorsService } from \"../../../../services/calculators.service\";\r\nimport { JFurniture } from \"../../jdesign/JFurniture\";\r\nimport { DesignCommon as DC } from '../../class/DesignCommon'\r\nimport { JWall } from \"../../jdesign/JWall\";\r\nimport { JGeometry } from \"../../jdesign/JGeometry\";\r\nimport { JBuild } from \"../../jdesign/JBuild\";\r\n\r\nexport class SvgMoveGeometry extends EventAbstract {\r\n\r\n    private _pos: DC.Pos = null\r\n    private _distancePos: DC.Pos = { x: 0, y: 0 }\r\n    private _absortMsg\r\n    private _radian: number = null\r\n\r\n    constructor(\r\n        public mouseEventService: MouseEventService,\r\n        private dataService: JdesignDataService,\r\n        private domService: DomUpdateService,\r\n        private DUService: JdesignUtil2dService,\r\n        private popService: PopDivService,\r\n        private calService: CalculatorsService\r\n    ) {\r\n        super(mouseEventService)\r\n        this.setMove()\r\n        this.setMoveEnd()\r\n\r\n    }\r\n\r\n    /** 设置移动 */\r\n    setMove() {\r\n\r\n        let rotateFunc = (obj: JGeometry, radian: number) => {\r\n            obj.radian = radian\r\n            obj.act3D.move()\r\n            this.geometryUpdate()\r\n        }\r\n\r\n        let moveFunc = (obj: JFurniture, pos: DC.Pos) => {\r\n            switch (obj.mode) {\r\n                case \"move\":\r\n                    this.moveAct(obj, pos)\r\n                    break;\r\n                case \"rotate\":\r\n                    this.rotateAct(obj, pos)\r\n                    break;\r\n            }\r\n            // console.log(obj.pos)\r\n            obj.act3D.move()\r\n            this.geometryUpdate()\r\n        }\r\n\r\n        this.dataService.cache.furniture.rotate = (obj: JFurniture, radian: number) => {\r\n            rotateFunc(obj, radian)\r\n        }\r\n        this.dataService.cache.build.rotate = (obj: JBuild, radian: number) => {\r\n            rotateFunc(obj, radian)\r\n        }\r\n\r\n        this.dataService.cache.furniture.move = (obj: JFurniture, pos: DC.Pos) => {\r\n            moveFunc(obj, pos)\r\n        }\r\n        this.dataService.cache.build.move = (obj: JBuild, pos: DC.Pos) => {\r\n            moveFunc(obj, pos)\r\n        }\r\n    }\r\n\r\n    setMoveEnd() {\r\n        let moveEndFunc = (obj: JGeometry) => {\r\n            this.dataService.cache.floorplan.createAndMove = false\r\n            this.dataService.cache.common.blockON = false\r\n            this.dataService.cache.common.firstPos = null\r\n            obj.act3D.end()\r\n            this.strongUpdate()\r\n            this.calService.undoRedo.save()\r\n            this.cleanData()\r\n        }\r\n        this.dataService.cache.furniture.moveEnd = (obj: JFurniture) => {\r\n            moveEndFunc(obj)\r\n        }\r\n        this.dataService.cache.build.moveEnd = (obj: JBuild) => {\r\n            moveEndFunc(obj)\r\n        }\r\n    }\r\n\r\n\r\n    mouseDown() { }\r\n\r\n    mouseUp(e: MouseEvent) {\r\n        let obj = <JGeometry>this.dataService.cache.common.choose\r\n        switch (obj.type) {\r\n            case \"furniture\":\r\n                this.dataService.cache.furniture.moveEnd(obj)\r\n                break;\r\n            case \"build\":\r\n                this.dataService.cache.build.moveEnd(obj)\r\n                break;\r\n        }\r\n\r\n    }\r\n\r\n    mouseMove(e: MouseEvent) {\r\n        let obj = <JGeometry>this.dataService.cache.common.choose\r\n        let pos = { x: e.offsetX, y: e.offsetY }\r\n        switch (obj.type) {\r\n            case \"furniture\":\r\n                this.dataService.cache.furniture.move(obj, pos)\r\n                break;\r\n            case \"build\":\r\n                this.dataService.cache.build.move(obj, pos)\r\n                break;\r\n        }\r\n\r\n    }\r\n\r\n    isCondition() {\r\n        return this.dataService.cache.common.mode == 'normal' && this.dataService.cache.common.choose && (this.dataService.cache.common.choose.type == \"furniture\" || this.dataService.cache.common.choose.type == \"build\")\r\n    }\r\n\r\n    /** 吸附 */\r\n    getAbsorb(obj: JGeometry, pos: DC.Pos) {\r\n        let distance = obj.getPixR()\r\n        let walls = this.calService.transData.getUnArcWalls()\r\n        let wallsMsg = this.calService.transData.getWallOutLines(walls)\r\n        let msg = this.calService.absorb.posAndWallOutLines(pos, distance, wallsMsg)\r\n        if (msg == null)\r\n            return null\r\n\r\n        return {\r\n            pos: msg.pos,\r\n            wall: msg.wall,\r\n            isOutLine: msg.isOutLine\r\n        }\r\n    }\r\n\r\n    /** 强制更新 */\r\n    strongUpdate() {\r\n        this.domService.svgBlock.emit()\r\n        this.domService.svgPoint.emit()\r\n        this.domService.svgCowall.emit()\r\n        this.domService.svgWall.emit()\r\n        this.domService.svgRoom.emit()\r\n    }\r\n\r\n    /** 数据初始化 */\r\n    cleanData() {\r\n        this._pos = null\r\n        this._distancePos = { x: 0, y: 0 }\r\n        this._radian = null\r\n    }\r\n\r\n    /** 家具更新 */\r\n    geometryUpdate() {\r\n        this.domService.svgGeometry.emit()\r\n    }\r\n\r\n    /** 移动 */\r\n    moveAct(obj: JGeometry, pos: DC.Pos) {\r\n        /** 一般是初始化的时候 */\r\n        if (this.dataService.cache.common.firstPos == null) {\r\n            this._pos = {\r\n                x: pos.x + this._distancePos.x,\r\n                y: pos.y + this._distancePos.y\r\n            }\r\n            let absorbMsg: {\r\n                pos: DC.Pos;\r\n                wall: JWall;\r\n                isOutLine: boolean;\r\n            } = undefined\r\n            if (this.dataService.cache.common.isAbosrb)\r\n                absorbMsg = this.getAbsorb(obj, this._pos)\r\n            /** 不吸附 */\r\n            if (absorbMsg == null) {\r\n                obj.pos = this._pos\r\n            }\r\n            else {\r\n                let posArr = absorbMsg.wall.getPosArr()\r\n                let newPos = this.DUService.pos.getRightAngleIntersect(absorbMsg.pos, posArr[0], posArr[1])\r\n                obj.pos = this.calService.geometry.getPosByWall(obj, absorbMsg.wall, newPos, absorbMsg.isOutLine)\r\n                this.calService.geometry.unionWall(obj, absorbMsg.wall, absorbMsg.isOutLine)\r\n            }\r\n        }\r\n        /** 平常移动时 */\r\n        else {\r\n            this._distancePos = {\r\n                x: obj.pos.x - pos.x,\r\n                y: obj.pos.y - pos.y\r\n            }\r\n            this.dataService.cache.common.firstPos = null\r\n        }\r\n    }\r\n\r\n    /** 旋转 */\r\n    rotateAct(obj: JGeometry, pos: DC.Pos) {\r\n        if (this.dataService.cache.common.firstPos != null) {\r\n            this._radian = this.DUService.pos.getRadian(obj.pos, { x: pos.x, y: pos.y })\r\n            this.dataService.cache.common.firstPos = null\r\n        }\r\n        let radian = this.DUService.pos.getRadian(obj.pos, { x: pos.x, y: pos.y })\r\n        obj.radian += radian - this._radian\r\n        this._radian = radian\r\n    }\r\n}\r\n","import { EventAbstract } from \"./EventAbstract\";\r\nimport { MouseEventService } from \"../../services/mouse-event.service\";\r\nimport { JdesignDataService } from \"../../../../services/jdesign-data.service\";\r\nimport { DomUpdateService } from \"../../../../services/dom-update.service\";\r\nimport { JdesignUtil2dService } from \"../../../../services/jdesign-util2d.service\";\r\nimport { PopDivService } from \"../../../../services/pop-div.service\";\r\nimport { CalculatorsService } from \"../../../../services/calculators.service\";\r\nimport { DWAbsorb } from \"../absorb/DWAbsorb\";\r\nimport { JLWin } from \"../../jdesign/JLWin\";\r\nimport { DesignCommon as DC } from '../../class/DesignCommon'\r\nimport { JUWin } from \"../../jdesign/JUWin\";\r\n\r\n\r\nexport class SvgMoveLUWin extends EventAbstract {\r\n\r\n    private _distancePos: DC.Pos = { x: 0, y: 0 }\r\n    private _pos: DC.Pos = null\r\n    constructor(\r\n        public mouseEventService: MouseEventService,\r\n        private dataService: JdesignDataService,\r\n        private domService: DomUpdateService,\r\n        private DUService: JdesignUtil2dService,\r\n        private popService: PopDivService,\r\n        private calService: CalculatorsService\r\n    ) {\r\n        super(mouseEventService)\r\n    }\r\n    isCondition() {\r\n        return this.dataService.cache.common.mode == 'normal' && this.dataService.cache.common.choose != null && (this.dataService.cache.common.choose.type == \"LWin\" || this.dataService.cache.common.choose.type == \"UWin\")\r\n    }\r\n\r\n    mouseMove(e: MouseEvent) {\r\n        let originPos = { x: e.offsetX, y: e.offsetY }\r\n        let obj = <any>this.dataService.cache.common.choose\r\n        if (this.dataService.cache.common.firstPos == null) {\r\n\r\n            this._pos = {\r\n                x: originPos.x + this._distancePos.x,\r\n                y: originPos.y + this._distancePos.y\r\n            }\r\n            switch (obj.type) {\r\n                case \"LWin\":\r\n                    this.moveLWin(<JLWin>obj, this._pos, originPos)\r\n                    break;\r\n                case \"UWin\":\r\n                    this.moveUWin(<JUWin>obj, this._pos, originPos)\r\n                    break;\r\n            }\r\n            this.domService.allSvg.emit()\r\n        }\r\n        /** 平常移动第一次点击,需要获取点击的坐标误差 */\r\n        else {\r\n            this._distancePos = {\r\n                x: obj.pos.x - originPos.x,\r\n                y: obj.pos.y - originPos.y\r\n            }\r\n            this.dataService.cache.common.firstPos = null\r\n        }\r\n    }\r\n\r\n    mouseDown(e: MouseEvent) { }\r\n\r\n    mouseUp(e: MouseEvent) {\r\n        this._pos = undefined\r\n        this._distancePos = { x: 0, y: 0 }\r\n        this.dataService.cache.common.choose = this.dataService.cache.common.choose\r\n        this.dataService.cache.common.blockON = false\r\n        this.dataService.cache.floorplan.createAndMove = false\r\n        this.dataService.cache.common.blockON = false\r\n        this.dataService.cache.common.firstPos = null\r\n        this.domService.allSvg.emit()\r\n        this.calService.undoRedo.save()\r\n    }\r\n\r\n    /** L窗移动 */\r\n    moveLWin(obj: JLWin, pos: DC.Pos, originPos: DC.Pos) {\r\n        switch (obj.mode) {\r\n            default:\r\n                let msg = this.getLWinAbsorb(obj, pos)\r\n                if (msg.point != null) {\r\n                    this.calService.LWin.unionPoint(obj, msg.point)\r\n                }\r\n                else {\r\n                    this.calService.LWin.disconnectPoint(obj)\r\n                    obj.pos = msg.pos\r\n                }\r\n                break;\r\n            case \"leftMove\":\r\n                this.moveLWinLeft(obj, originPos)\r\n                break\r\n            case \"rightMove\":\r\n                this.moveLWinRight(obj, originPos)\r\n                break\r\n\r\n        }\r\n\r\n    }\r\n\r\n    /* 移动L型窗左边 */\r\n    moveLWinLeft(obj: JLWin, pos: DC.Pos) {\r\n        let walls = this.calService.LWin.getLeftAndRightWall(obj)\r\n        let distance = this.DUService.pos.getTwoPosRadianDistance(pos, obj.pos, walls[0].getRadian())\r\n        obj.j2d.params['leftWidth'].formula = distance - (walls[1].thickness / 2)\r\n    }\r\n\r\n    /* 移动L型窗右边 */\r\n    moveLWinRight(obj: JLWin, pos: DC.Pos) {\r\n        let walls = this.calService.LWin.getLeftAndRightWall(obj)\r\n        let distance = this.DUService.pos.getDistance(pos, obj.pos)\r\n        obj.j2d.params['rightWidth'].formula = distance - (walls[0].thickness / 2)\r\n    }\r\n\r\n    /* U窗移动 */\r\n    moveUWin(obj: JUWin, pos: DC.Pos, originPos: DC.Pos) {\r\n        switch (obj.mode) {\r\n            default:\r\n                let msg = this.getUWinAbsorb(obj, pos)\r\n                if (msg.wall) {\r\n                    this.calService.UWin.unionWall(obj, msg.wall)\r\n                }\r\n                else {\r\n                    this.calService.UWin.disconnectWall(obj)\r\n                    obj.pos = pos\r\n                }\r\n                break\r\n            case \"leftMove\":\r\n                this.moveUWinLeft(obj, originPos)\r\n                break\r\n            case \"rightMove\":\r\n                this.moveUWinRight(obj, originPos)\r\n                break\r\n        }\r\n\r\n    }\r\n\r\n    /* 移动U型窗左边 */\r\n    moveUWinLeft(obj: JUWin, pos: DC.Pos) {\r\n        let wall = obj.getCenterWall()\r\n        let leftWall = obj.getLeftWall()\r\n        let distance = this.DUService.pos.getTwoPosRadianDistance(pos, obj.pos, leftWall.getRadian())\r\n        obj.j2d.params['leftWidth'].formula = distance - (wall.thickness / 2)\r\n    }\r\n\r\n    /* 移动U型窗右边 */\r\n    moveUWinRight(obj: JUWin, pos: DC.Pos) {\r\n        let wall = obj.getCenterWall()\r\n        let rightWall = obj.getRightWall()\r\n        let otherPos = wall.getPosArr()[1]\r\n        let distance = this.DUService.pos.getTwoPosRadianDistance(pos, otherPos, rightWall.getRadian())\r\n        obj.j2d.params['rightWidth'].formula = distance - (wall.thickness / 2)\r\n    }\r\n\r\n\r\n    /** L窗吸附 */\r\n    getLWinAbsorb(obj: JLWin, pos: DC.Pos) {\r\n        let distance = this.dataService.cmd.floorplan.absorb.minDistance * 2\r\n        let pointArr = this.calService.point.getPointsByOnlyNumWalls(2)\r\n        let pointsMsg = this.calService.transData.getPointPosArr(pointArr)\r\n        let absorbMsg = this.calService.absorb.posAndPointPosArr(pos, distance, pointsMsg)\r\n        return {\r\n            pos: absorbMsg ? absorbMsg.point.pos : pos,\r\n            point: absorbMsg ? absorbMsg.point : undefined\r\n        }\r\n    }\r\n\r\n    /* U型窗吸附 */\r\n    getUWinAbsorb(obj: JUWin, pos: DC.Pos) {\r\n        let rayPos = this.DUService.pos.getRayPos(pos, obj.centerRadian, obj.j2d.params[\"centerWidth\"].formula)\r\n        let line = [pos, rayPos]\r\n        let distance = this.dataService.cmd.floorplan.absorb.minDistance * 2\r\n        let walls = this.calService.UWin.getUWinAbsorbWalls()\r\n        let wallsMsg = this.calService.transData.getWallCenterLines(walls)\r\n        let absorbMsg = this.calService.absorb.lineAndWalls(line, distance, wallsMsg)\r\n        return {\r\n            wall: absorbMsg ? absorbMsg.wall : undefined,\r\n            distance: absorbMsg ? absorbMsg.distance : undefined\r\n        }\r\n    }\r\n\r\n}\r\n","import { EventAbstract } from \"./EventAbstract\";\r\nimport { MouseEventService } from \"../../services/mouse-event.service\";\r\nimport { JdesignDataService } from \"../../../../services/jdesign-data.service\";\r\nimport { CalculatorsService } from \"../../../../services/calculators.service\";\r\nimport { DomUpdateService } from \"../../../../services/dom-update.service\";\r\nimport { PopDivService } from \"../../../../services/pop-div.service\";\r\nimport { JdesignUtil2dService } from \"../../../../services/jdesign-util2d.service\";\r\nimport { DesignCommon as DC } from '../../class/DesignCommon'\r\nimport { JPoint } from \"../../jdesign/JPoint\";\r\nimport { JWall } from \"../../jdesign/JWall\";\r\nimport { JCowall } from \"../../jdesign/JCowall\";\r\nimport { MovePointInput } from \"../input/MovePointInput\";\r\n\r\nexport class SvgMovePoint extends EventAbstract {\r\n    private _absorbMsg: AbsorbType = undefined\r\n    private _mouseMoveOn: boolean = false\r\n    private _pointInput: MovePointInput = new MovePointInput(this.dataService, this.calService, this.DUService)\r\n    constructor(\r\n        public mouseEventService: MouseEventService,\r\n        private dataService: JdesignDataService,\r\n        private calService: CalculatorsService,\r\n        private domService: DomUpdateService,\r\n        private popService: PopDivService,\r\n        private DUService: JdesignUtil2dService\r\n    ) {\r\n        super(mouseEventService)\r\n    }\r\n\r\n    isCondition() {\r\n        return this.dataService.cache.common.mode == 'normal' && this.dataService.cache.common.choose && this.dataService.cache.common.choose.type == \"point\"\r\n    }\r\n\r\n    mouseDown(e: MouseEvent) {\r\n    }\r\n\r\n    mouseMove(e: MouseEvent) {\r\n        if (this.isOverTwoWalls(<JPoint>this.dataService.cache.common.choose)) {\r\n            let data = {\r\n                text: \"点连接墙>2,不能移动\",\r\n                time: 3\r\n            }\r\n            this.popService.cueInfo.emit(data)\r\n        }\r\n        else {\r\n            if (this.dataService.cache.common.firstPos && this.isMouseMove) {\r\n                this._mouseMoveOn = true\r\n                let obj = <JPoint>this.dataService.cache.common.choose\r\n                let pos = { x: e.offsetX, y: e.offsetY }\r\n                try {\r\n                    this.moveAct(obj, pos)\r\n                }\r\n                catch (e) {\r\n                    console.log(e)\r\n                    this.errorCmd()\r\n                    this.dataService.cache.common.choose = this.dataService.floorplan\r\n                    return false\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    getAbsorb(obj: JPoint, pos: DC.Pos) {\r\n        let msg: AbsorbType = { pos: { x: pos.x, y: pos.y } }\r\n        let distance = this.dataService.cmd.floorplan.absorb.minDistance\r\n        /** 点吸附 */\r\n        let points = this.dataService.doPoints().arr(obj)\r\n        let pointsMsg = this.calService.transData.getPointPosArr(points)\r\n        let pointAbsorbMsg = this.calService.absorb.posAndPointPosArr(pos, distance, pointsMsg)\r\n        if (pointAbsorbMsg) {\r\n            msg.obj = pointAbsorbMsg.point\r\n            msg.pos = pointAbsorbMsg.pos\r\n            return msg\r\n        }\r\n        /** 点垂直吸附 */\r\n        let pointsVerticalMsg = this.calService.transData.getPointVerticalLines(points)\r\n        let pointVerticalAbsorbMsg = this.DUService.absorb.pointAndLines(pos, pointsVerticalMsg.lines, true, distance)\r\n        if (pointVerticalAbsorbMsg != undefined) {\r\n            msg.pos.x = pointsVerticalMsg.points[pointVerticalAbsorbMsg.index].pos.x\r\n            msg.vPos = pointsVerticalMsg.points[pointVerticalAbsorbMsg.index].pos\r\n        }\r\n        /** 点水平吸附 */\r\n        let pointHorizonMsg = this.calService.transData.getPointHorizontalLines(points)\r\n        let pointHorizonAbsorbMsg = this.DUService.absorb.pointAndLines(pos, pointHorizonMsg.lines, true, distance)\r\n        if (pointHorizonAbsorbMsg != undefined) {\r\n            msg.pos.y = pointHorizonMsg.points[pointHorizonAbsorbMsg.index].pos.y\r\n            msg.hPos = pointHorizonMsg.points[pointHorizonAbsorbMsg.index].pos\r\n        }\r\n        /** 墙吸附 */\r\n        let walls = obj.getWallArr()\r\n        walls = this.dataService.doWalls().arr(...walls)\r\n        walls = this.calService.transData.getUnArcWalls(walls)\r\n        let wallsMsg = this.calService.transData.getWallCenterLines(walls)\r\n        let wallMsg = this.calService.absorb.posAndWalls(msg.pos, distance, false, wallsMsg)\r\n        if (wallMsg) {\r\n            msg.pos = wallMsg.pos\r\n            msg.obj = wallMsg.wall\r\n        }\r\n        /** 没有返回undefined */\r\n        return msg\r\n    }\r\n\r\n    /* 移动的动作 */\r\n    moveAct(obj: JPoint, pos: DC.Pos) {\r\n        this._absorbMsg = undefined\r\n        if (this.dataService.cache.common.isAbosrb)\r\n            this._absorbMsg = this.getAbsorb(obj, pos)\r\n        /** 有吸附 */\r\n        if (this._absorbMsg && this._absorbMsg.obj) {\r\n            obj.pos = this._absorbMsg.pos\r\n        }\r\n        /** 没吸附 */\r\n        else {\r\n            obj.pos = this._absorbMsg ? this._absorbMsg.pos : pos\r\n        }\r\n        this.setAbsorbLine(this._absorbMsg)\r\n        this.domService.allSvg.emit()\r\n    }\r\n\r\n    setAbsorbLine(absorbMsg: AbsorbType) {\r\n        let data = []\r\n        if (!absorbMsg) {\r\n            this.dataService.cache.absorbLines = []\r\n            this.domService.absorbLine.emit()\r\n            return false\r\n        }\r\n        if (absorbMsg.obj) {\r\n            /** 点 */\r\n            if (absorbMsg.obj.type == 'point') {\r\n                data.push({\r\n                    pos: absorbMsg.pos,\r\n                    radius: this.dataService.cache.floorplan.multiple * 8,\r\n                    mode: 'point'\r\n                })\r\n            }\r\n            /** 墙 */\r\n            else if (absorbMsg.obj.type == 'wall') {\r\n                let wall: JWall = absorbMsg.obj\r\n                let radian = wall.getRadian()\r\n                data.push({\r\n                    pos: absorbMsg.pos,\r\n                    radian: radian,\r\n                    mode: 'line'\r\n                })\r\n            }\r\n        }\r\n        /** 垂直线 */\r\n        if (absorbMsg.vPos) {\r\n            data.push({\r\n                pos: absorbMsg.vPos,\r\n                radian: Math.PI / 2,\r\n                mode: 'line'\r\n            })\r\n        }\r\n        /** 水平线 */\r\n        if (absorbMsg.hPos) {\r\n            data.push({\r\n                pos: absorbMsg.hPos,\r\n                radian: 0,\r\n                mode: 'line'\r\n            })\r\n        }\r\n\r\n        this.dataService.cache.absorbLines = data\r\n        this.domService.absorbLine.emit()\r\n    }\r\n\r\n    setAbosrb() {\r\n\r\n    }\r\n\r\n    moveEnd(obj: JPoint) {\r\n        let walls = obj.getWallArr()\r\n        if (this._absorbMsg) {\r\n            /** 吸附 */\r\n            if (this._absorbMsg.obj) {\r\n                /** 点 */\r\n                if (this._absorbMsg.obj.type == 'point') {\r\n                    this.calService.point.transPoint(obj, this._absorbMsg.obj)\r\n                }\r\n                else if (this._absorbMsg.obj.type == 'wall') {\r\n                    this.calService.wall.cut.cutByPoint(this._absorbMsg.obj, obj)\r\n                }\r\n            }\r\n            this.calService.wall.cutRoomReady(walls)\r\n            let msg = this.calService.wall.overlay.allOverlayAndAllCut(walls)\r\n            walls = msg.collectWalls\r\n            this.calService.cowall.delNoUse()\r\n            this.calService.createRoom.cutRoom(walls)\r\n            this.calService.room.resetCowalls()\r\n        }\r\n    }\r\n\r\n    dataInit() {\r\n        this.dataService.cache.common.blockON = false\r\n        this.dataService.cache.common.firstPos = null\r\n        this.dataService.cache.absorbLines = []\r\n        this.domService.absorbLine.emit()\r\n        this.dataService.cache.common.choose = this.dataService.floorplan\r\n        this._absorbMsg = undefined\r\n        this._mouseMoveOn = false\r\n    }\r\n\r\n    mouseUp() {\r\n        let obj = <JPoint>this.dataService.cache.common.choose\r\n        if (this._mouseMoveOn) {\r\n            try {\r\n                this.moveEnd(obj)\r\n            }\r\n            catch (e) {\r\n                console.log(e)\r\n                this.errorCmd()\r\n                return false\r\n            }\r\n            this.dataInit()\r\n            this.domService.allSvg.emit()\r\n            this.dataService.cache.wall.update3D.emit()\r\n            this.dataService.cache.cowall.update3D.emit()\r\n            this.calService.undoRedo.save()\r\n        }\r\n        else {\r\n            this.dataInit()\r\n            this.domService.allSvg.emit()\r\n            this.setInput(obj)\r\n        }\r\n    }\r\n\r\n    /** 是否有超过两面墙 */\r\n    isOverTwoWalls(point: JPoint) {\r\n        let walls = point.getWallArr()\r\n        if (walls.length > 2)\r\n            return true\r\n        return false\r\n    }\r\n\r\n    errorCmd() {\r\n        this.calService.undoRedo.setPresent()\r\n        this.dataInit()\r\n        this.domService.allSvg.emit()\r\n        this.dataService.cache.wall.update3D.emit()\r\n        this.dataService.cache.cowall.update3D.emit()\r\n    }\r\n\r\n    /* 设置输入框 */\r\n    setInput(obj: JPoint) {\r\n        let cbFunc = (distance: number, cowall: JCowall) => {\r\n            this.dataService.cache.common.isAbosrb = false\r\n            this.dataService.cache.common.choose = obj\r\n            this._absorbMsg = undefined\r\n            this._mouseMoveOn = true\r\n            let a = cowall.pointIDs[0] == obj.id\r\n            let radian = a ? cowall.getRadian() + Math.PI : cowall.getRadian()\r\n            let movePos = this.DUService.pos.getRayPos(obj.pos, radian, distance)\r\n            obj.pos = movePos\r\n            this.mouseUp()\r\n            this.dataService.cache.common.isAbosrb = true\r\n            this.setInput(obj)\r\n        }\r\n        let datas = this._pointInput.getAllCowallInput(obj, cbFunc)\r\n        this.popService.inputBoxsCache = datas\r\n        this.popService.setInputBoxs()\r\n\r\n    }\r\n}\r\n\r\nclass AbsorbType {\r\n    obj?: any;\r\n    pos: DC.Pos;\r\n    vPos?: DC.Pos;\r\n    hPos?: DC.Pos;\r\n}","import { EventAbstract } from \"./EventAbstract\";\r\nimport { MouseEventService } from \"../../services/mouse-event.service\";\r\nimport { JdesignDataService } from \"../../../../services/jdesign-data.service\";\r\nimport { DesignCommon as DC } from '../../class/DesignCommon'\r\nimport { JWall } from \"../../jdesign/JWall\";\r\nimport { CalculatorsService } from \"../../../../services/calculators.service\";\r\nimport { DomUpdateService } from \"../../../../services/dom-update.service\";\r\nimport { PopDivService } from \"../../../../services/pop-div.service\";\r\nimport { JdesignUtil2dService } from \"../../../../services/jdesign-util2d.service\";\r\nimport { JCowall } from \"../../jdesign/JCowall\";\r\nimport { JPoint } from \"../../jdesign/JPoint\";\r\nimport { JRoom } from \"../../jdesign/JRoom\";\r\nimport { MoveWallAbsorb } from \"../absorb/MoveWallAbsorb\";\r\nimport { MoveWallInput } from \"../input/MoveWallinput\";\r\n\r\nexport class SvgMoveWall extends EventAbstract {\r\n    private _wallRadian: number = undefined\r\n    private _otherWallArr: JWall[] = []\r\n    private _isWallMove: boolean = false\r\n    private _parallelRadian: number = Math.PI / 180 * 5\r\n    private _firstLine: DC.Pos[] = undefined\r\n    private _inputEvent = new MoveWallInput(this.dataService, this.calService, this.DUService)\r\n    private _testInt = 0\r\n    constructor(\r\n        public mouseEventService: MouseEventService,\r\n        private dataService: JdesignDataService,\r\n        private calService: CalculatorsService,\r\n        private domService: DomUpdateService,\r\n        private popService: PopDivService,\r\n        private DUService: JdesignUtil2dService,\r\n        private wallAbsorb: MoveWallAbsorb,\r\n    ) {\r\n        super(mouseEventService)\r\n        this.dataService.cache.shortFuncs['setWallInput'] = (obj: JWall) => {\r\n            this.setInputs(obj)\r\n        }\r\n    }\r\n\r\n    isCondition() {\r\n        return this.dataService.cache.common.mode == 'normal' && this.dataService.cache.common.choose != null && this.dataService.cache.common.choose.type == \"wall\"\r\n    }\r\n\r\n    mouseDown(e: MouseEvent) {\r\n    }\r\n\r\n    mouseMove(e: MouseEvent) {\r\n        if (this.isArcRelated(<JWall>this.dataService.cache.common.choose)) {\r\n            let data = {\r\n                text: \"跟弧形墙相关,不能移动\",\r\n                time: 3\r\n            }\r\n            this.popService.cueInfo.emit(data)\r\n        }\r\n        else {\r\n            if (this.dataService.cache.common.firstPos && this.isMouseMove && this._firstLine) {\r\n                this._isWallMove = true\r\n                let plusPos = { x: e.offsetX - this.dataService.cache.common.firstPos.x, y: e.offsetY - this.dataService.cache.common.firstPos.y }\r\n                let wall = <JWall>this.dataService.cache.common.choose\r\n                if (this._wallRadian == undefined)\r\n                    this._wallRadian = wall.getRadian()\r\n                try {\r\n                    this._otherWallArr = this.setWallMove(plusPos, wall)\r\n                    wall = <JWall>this.dataService.cache.common.choose\r\n                    this.setInputs(wall)\r\n                    this.dataService.cache.floorplan.dataEmit.emit({ cornerWin: true })\r\n                    this.strongUpdate()\r\n\r\n                }\r\n                catch (e) {\r\n                    console.log(e)\r\n                    this.errorCmd(\"墙移动运算失败,请重新移动\")\r\n                    this.dataService.cache.common.choose = this.dataService.floorplan\r\n                    return false\r\n                }\r\n\r\n            }\r\n        }\r\n\r\n        if (!this._firstLine) {\r\n            let wall = <JWall>this.dataService.cache.common.choose\r\n            this._firstLine = wall.getPosArr()\r\n        }\r\n    }\r\n\r\n    mouseUp() {\r\n        let wall = <JWall>this.dataService.cache.common.choose\r\n        /** 移动了才触发 */\r\n        if (this._isWallMove) {\r\n            try {\r\n                // this.calService.wall.removeDistanceWalls(1, this._otherWallArr)\r\n                this.calService.wall.removeNoUseWalls(this._otherWallArr)\r\n                let readyMsg = this.calService.wall.cutRoomReady(this._otherWallArr, false)\r\n                let msg = this.calService.wall.overlay.allOverlayAndAllCut(this._otherWallArr, wall)\r\n                if (!msg) {\r\n                    return this.errorCmd(\"'墙切割失败,请重新画过'\")\r\n                }\r\n                this._otherWallArr.push(wall)\r\n                this._otherWallArr.push(...msg.collectWalls)\r\n                this._otherWallArr.push(...msg.roomWalls)\r\n                let newReadyMsg = this.calService.wall.cutRoomReady(this._otherWallArr)\r\n                for (let key in newReadyMsg) {\r\n                    readyMsg[key] = newReadyMsg[key]\r\n                }\r\n                this._otherWallArr = this.DUService.cal.uniqueByAttr(this._otherWallArr, 'id')\r\n                let testPoints: JPoint[] = this.dataService.doPoints().arr()\r\n                this.calService.point.fixSamePosPoints(testPoints)\r\n                this.calService.cowall.delNoUse()\r\n                this.calService.wall.removeNoUseWalls(this._otherWallArr)\r\n                // let ids = this.DUService.cal.getNewAttrArray(this._otherWallArr, 'id')\r\n                // console.log(ids)\r\n                // if (this._testInt == 0) {\r\n                let newRooms = this.calService.createRoom.cutRoom(this._otherWallArr, true, readyMsg.rooms)\r\n                /** 空间分割失败 */\r\n                if (!newRooms) {\r\n                    return this.errorCmd(\"'错误分空间,请重新画过'\")\r\n                }\r\n                // }\r\n                // this._testInt++\r\n                this.calService.room.resetCowalls()\r\n                this.calService.point.delNoUse()\r\n                this.calService.room.resetRoomsCowallIDs()\r\n                this.dataInit()\r\n                this.dataService.cache.floorplan.dataEmit.emit()\r\n                this.calService.cowall.checkRoomExist()\r\n                this.strongUpdate()\r\n                let chooseWall = <JWall>this.dataService.cache.common.choose\r\n                if (this.dataService.walls[chooseWall.id]) {\r\n                    this.setInputs(chooseWall)\r\n                }\r\n                this.dataService.cache.wall.update3D.emit()\r\n                this.dataService.cache.cowall.update3D.emit()\r\n                this.calService.undoRedo.save()\r\n                return true\r\n            }\r\n            catch (e) {\r\n                console.log(e)\r\n                return this.errorCmd(\"'移动失败,请重新画过'\")\r\n            }\r\n        }\r\n        this.dataInit()\r\n        wall = <JWall>this.dataService.cache.common.choose\r\n        this.dataService.cache.floorplan.dataEmit.emit()\r\n        this.setInputs(wall)\r\n        this.strongUpdate()\r\n        return false\r\n    }\r\n\r\n    errorCmd(text: string) {\r\n        this.calService.undoRedo.setPresent()\r\n        this.dataInit()\r\n        this.strongUpdate()\r\n        this.dataService.cache.wall.update3D.emit()\r\n        this.dataService.cache.cowall.update3D.emit()\r\n        this.dataService.cache.common.choose = this.dataService.floorplan\r\n        alert(text)\r\n        return false\r\n    }\r\n\r\n    /** 是否弧墙关联 */\r\n    isArcRelated(wall: JWall) {\r\n        if (wall.arcDistance != 0)\r\n            return true\r\n        let otherWalls = wall.getNearWallArr()\r\n        for (let i = 0; i < otherWalls.length; i++) {\r\n            if (otherWalls[i].arcDistance != 0)\r\n                return true\r\n        }\r\n        return false\r\n    }\r\n\r\n    /** 数据初始化 */\r\n    dataInit() {\r\n        this.dataService.cache.common.blockON = false\r\n        this.dataService.cache.common.firstPos = null\r\n        this._wallRadian = undefined\r\n        this._isWallMove = false\r\n        this._firstLine = undefined\r\n        this.setAbsorbLine()\r\n        this.domService.svgBlock.emit()\r\n    }\r\n\r\n    /** 输入框显示(没有wall,表示清空) */\r\n    setInputs(wall?: JWall) {\r\n        if (\r\n            !this.dataService.cache.common.choose || this.dataService.cache.common.choose.type != 'wall' ||\r\n            this.dataService.cache.thumbnail.three.zIndex < this.dataService.cache.thumbnail.svg.zIndex ||\r\n            !wall) {\r\n            this.popService.inputBoxs.emit([])\r\n            return false\r\n        }\r\n        let updateFunc = () => {\r\n            this.strongUpdate()\r\n            this.setInputs(wall)\r\n            this.calService.undoRedo.save()\r\n        }\r\n        let cbFunc = (distance: number, cowall: JCowall, isStart: boolean) => {\r\n            this.dataService.cache.common.isAbosrb = false\r\n            this._isWallMove = true\r\n            this._firstLine = wall.getPosArr()\r\n            this._wallRadian = wall.getRadian()\r\n            let radian = isStart ? cowall.getRadian() : cowall.getRadian() - Math.PI\r\n            let newPlusPos = this.DUService.pos.getPlusPos(distance, radian)\r\n            this._otherWallArr = this.setWallMove(newPlusPos, wall)\r\n            // let walls = this.dataService.doWalls().arr()\r\n            // for (let i = 0; i < walls.length; i++) {\r\n            //     walls[i].urgentUpdate.emit()\r\n            // }\r\n            this.mouseUp()\r\n            this.dataService.cache.common.isAbosrb = true\r\n        }\r\n        let datas = this.isArcRelated(wall) ? [] : this._inputEvent.getAllCowallsInput(wall, cbFunc)\r\n        if (wall.arcDistance != 0) {\r\n            let data = this._inputEvent.getArcInput(wall, updateFunc)\r\n            datas.push(data)\r\n        }\r\n        this.popService.inputBoxsCache = datas\r\n        this.popService.setInputBoxs()\r\n        return true\r\n    }\r\n\r\n    /** 更新 */\r\n    strongUpdate() {\r\n        this.popService.buttons.emit(null)\r\n        this.domService.allSvg.emit()\r\n    }\r\n\r\n    /** 设置移动墙 */\r\n    setWallMove(plusPos: DC.Pos, wall: JWall) {\r\n        let movePosArr: DC.Pos[] = [{ x: this._firstLine[0].x + plusPos.x, y: this._firstLine[0].y + plusPos.y }, { x: this._firstLine[1].x + plusPos.x, y: this._firstLine[1].y + plusPos.y }]\r\n        let msg = this.wallAbsorb.getAbsorb(movePosArr, wall)\r\n        movePosArr = msg.line\r\n        this.setAbsorbLine(msg.absorbData)\r\n        let moveWallArr: JWall[] = []\r\n        if (movePosArr != null) {\r\n            /** 检测头============================ */\r\n            let handMsg = this.getWallHandMsg(wall, this._wallRadian)\r\n            wall = <JWall>this.dataService.cache.common.choose\r\n            /** 检测尾================================= */\r\n            let endMsg = this.getWallEndMsg(wall, this._wallRadian)\r\n            /** 修改移动 */\r\n            let otherWallArr = this.setWallChange(wall, this._wallRadian, movePosArr, handMsg, endMsg)\r\n            /** 修复门窗 */\r\n            this.setDoors(wall)\r\n            this.setWins(wall)\r\n            return otherWallArr\r\n        }\r\n        return []\r\n    }\r\n\r\n    /** 修改移动,返回修改的墙体 */\r\n    setWallChange(wall: JWall, wallRadian: number, movePosArr: DC.Pos[], handWall: JWall, endWall: JWall) {\r\n        /** 都没有墙 */\r\n        if (!handWall && !endWall) {\r\n            this.NoWallMove(movePosArr, wall)\r\n            return []\r\n        }\r\n        /** 头为空 */\r\n        else if (!handWall) {\r\n            this.onlyOneWallMove(movePosArr, wall, wallRadian, endWall, false)\r\n            return [endWall]\r\n        }\r\n        /** 尾为空 */\r\n        else if (!endWall) {\r\n            this.onlyOneWallMove(movePosArr, wall, wallRadian, handWall, true)\r\n            return [handWall]\r\n        }\r\n        /** 两头都不为空 */\r\n        this.TwoWallMove(movePosArr, wall, wallRadian, handWall, endWall)\r\n        return [handWall, endWall]\r\n    }\r\n\r\n    /** 获取墙改变信息 */\r\n    getWallMoveMsg(wall: JWall, point: JPoint, radian: number, isHand: boolean) {\r\n        let nearWallArr = point.getWallArr()\r\n        /** 排除自己 */\r\n        this.DUService.cal.removeByAttr(nearWallArr, 'id', wall.id)\r\n        /** 没有其他墙 */\r\n        if (nearWallArr.length == 0)\r\n            return undefined\r\n        let otherWall = nearWallArr[0]\r\n        let otherRadian = this.getWallRadian(otherWall)\r\n        /** 切割方法 */\r\n        let cutFunc = (newRadian: number) => {\r\n            let cut = this.calService.wall.cut.cutByPer(wall, isHand ? 0 : 1)\r\n            let mainWall = isHand ? wall : cut.wall\r\n            let otherWall = isHand ? cut.wall : wall\r\n            otherWall.calFlag = radian\r\n            /** 标记弧度 */\r\n            mainWall.calFlag = newRadian\r\n            this.dataService.cache.common.choose = otherWall\r\n            return mainWall\r\n        }\r\n        /** 只有一面墙 */\r\n        if (nearWallArr.length == 1) {\r\n            /** 不平行 */\r\n            if (this.DUService.pos.isParallelRadian(otherRadian, radian, this._parallelRadian)) {\r\n                otherWall = cutFunc(otherRadian + (Math.PI / 2))\r\n            }\r\n            /** 标记弧度 */\r\n            if (otherWall.calFlag == undefined) {\r\n                otherWall.calFlag = otherRadian\r\n            }\r\n            return otherWall\r\n        }\r\n        /** 有两面墙 */\r\n        if (nearWallArr.length == 2) {\r\n            let otherWallB = nearWallArr[1]\r\n            let otherRoomLen = otherWall.getRoomArr().length\r\n            let otherRoomLenB = otherWallB.getRoomArr().length\r\n            /** 必须两个墙有且仅有一个空间 */\r\n            if (otherRoomLen >= 1 || otherRoomLenB >= 1) {\r\n                let otherRadianB = this.getWallRadian(otherWallB)\r\n                /** 必须平行 */\r\n                if (this.DUService.pos.isParallelRadian(otherRadian, otherRadianB, this._parallelRadian)) {\r\n                    /** 标记弧度 */\r\n                    if (otherWall.calFlag == undefined) {\r\n                        otherWall.calFlag = otherRadian\r\n                    }\r\n                    return otherWall\r\n                }\r\n            }\r\n        }\r\n        /** 有多面墙 */\r\n        let isParallel = this.DUService.pos.isParallelRadian(otherRadian, radian, this._parallelRadian)\r\n        /** 寻找不平行的墙 */\r\n        if (isParallel) {\r\n            let index = 1\r\n            while (isParallel && index < nearWallArr.length) {\r\n                otherWall = nearWallArr[index]\r\n                otherRadian = this.getWallRadian(otherWall)\r\n                isParallel = this.DUService.pos.isParallelRadian(otherRadian, radian, this._parallelRadian)\r\n                index++\r\n            }\r\n        }\r\n        /** 如果只有平行的墙,则增加弧度90 */\r\n        if (isParallel) {\r\n            otherRadian = radian + (Math.PI / 2)\r\n        }\r\n        otherWall = cutFunc(otherRadian)\r\n        return otherWall\r\n    }\r\n\r\n    private getWallRadian(wall: JWall) {\r\n        if (wall.calFlag == undefined) {\r\n            let radian = wall.getRadian()\r\n            wall.calFlag = radian\r\n        }\r\n        return wall.calFlag\r\n    }\r\n\r\n    /**\r\n     * 墙头改变信息=========================================\r\n     * @param wall 鼠标点击移动的墙\r\n     * @param movePosArr 移动的坐标组\r\n     * @param radian 移动墙移动前的弧度\r\n     */\r\n    getWallHandMsg(wall: JWall, radian: number) {\r\n        let handPoint = wall.getPoint(0)\r\n        return this.getWallMoveMsg(wall, handPoint, radian, true)\r\n    }\r\n\r\n    /**\r\n     * 墙尾改变信息================================================================\r\n     * @param wall 鼠标点击移动的墙\r\n     * @param movePosArr 移动的坐标组\r\n     * @param radian 移动墙移动前的弧度\r\n     */\r\n    getWallEndMsg(wall: JWall, radian: number) {\r\n        let endPoint = wall.getPoint(1)\r\n        return this.getWallMoveMsg(wall, endPoint, radian, false)\r\n    }\r\n\r\n    /** 没有墙移动 */\r\n    NoWallMove(movePosArr: DC.Pos[], wall: JWall) {\r\n        let PointArr = wall.getPointArr()\r\n        PointArr[0].pos = { x: movePosArr[0].x, y: movePosArr[0].y }\r\n        PointArr[1].pos = { x: movePosArr[1].x, y: movePosArr[1].y }\r\n    }\r\n\r\n    /** 只有一个点有墙移动 */\r\n    onlyOneWallMove(movePosArr: DC.Pos[], wall: JWall, wallRadian: number, otherWall: JWall, isHandIntersect: boolean) {\r\n        /** 获取相交点 */\r\n        let intersectPos = this.getIntersectMoveWallPos(movePosArr, wallRadian, otherWall)\r\n        let pointArr = wall.getPointArr()\r\n        /** 修改其他移动点 */\r\n        if (isHandIntersect) {\r\n            pointArr[1].pos = this.DUService.pos.getRightAngleIntersect(pointArr[1].pos, movePosArr[0], movePosArr[1])\r\n            pointArr[0].pos = intersectPos\r\n        }\r\n        else {\r\n            pointArr[0].pos = this.DUService.pos.getRightAngleIntersect(pointArr[0].pos, movePosArr[0], movePosArr[1])\r\n            pointArr[1].pos = intersectPos\r\n        }\r\n    }\r\n\r\n    /** 两墙移动 */\r\n    TwoWallMove(movePosArr: DC.Pos[], wall: JWall, wallRadian: number, handWall: JWall, EndWall: JWall) {\r\n        let handIntersect = this.getIntersectMoveWallPos(movePosArr, wallRadian, handWall)\r\n        let endIntersect = this.getIntersectMoveWallPos(movePosArr, wallRadian, EndWall)\r\n        let pointArr = wall.getPointArr()\r\n        pointArr[0].pos = handIntersect\r\n        pointArr[1].pos = endIntersect\r\n    }\r\n\r\n    /** 获取墙移动的相交点 */\r\n    getIntersectMoveWallPos(movePosArr: DC.Pos[], wallRadian: number, otherWall: JWall) {\r\n        let newMovePosArr = [movePosArr[0], this.DUService.pos.getRayPos(movePosArr[0], wallRadian, 10)]\r\n        let otherPosArr: DC.Pos[] = []\r\n        /** 如果calFlag为空,则通过墙中心线获取切割线 */\r\n        if (otherWall.calFlag == undefined) {\r\n            otherPosArr = otherWall.getPosArr()\r\n        }\r\n        /** 如果calFlag则通过弧度获取切割线 */\r\n        else {\r\n            otherPosArr = [otherWall.getPoint(0).pos]\r\n            let rayPos = this.DUService.pos.getRayPos(otherPosArr[0], otherWall.calFlag, 10)\r\n            otherPosArr.push(rayPos)\r\n        }\r\n        /** 获取相交点 */\r\n        let intersectPos = this.DUService.pos.getIntersect(newMovePosArr[0], newMovePosArr[1], otherPosArr[0], otherPosArr[1])\r\n        return intersectPos\r\n    }\r\n\r\n\r\n    /** 设置门吸附移动 */\r\n    setDoors(wall: JWall) {\r\n        let doors = wall.getDoorArr()\r\n        for (let i = 0; i < doors.length; i++) {\r\n            this.dataService.cache.doorWin.move(doors[i])\r\n        }\r\n    }\r\n\r\n    /** 设置窗吸附移动 */\r\n    setWins(wall: JWall) {\r\n        let wins = wall.getWinArr()\r\n        for (let i = 0; i < wins.length; i++) {\r\n            this.dataService.cache.doorWin.move(wins[i])\r\n\r\n        }\r\n    }\r\n\r\n    /** 设置吸附线 */\r\n    setAbsorbLine(data?) {\r\n        if (data) {\r\n            this.dataService.cache.absorbLines = [data]\r\n            this.domService.absorbLine.emit()\r\n        }\r\n        else {\r\n            this.dataService.cache.absorbLines = []\r\n            this.domService.absorbLine.emit()\r\n        }\r\n    }\r\n\r\n}\r\n\r\nclass WallMoveMsg {\r\n    wall: JWall;\r\n    room?: JRoom;\r\n    wallNum: number;\r\n}","import { DesignCommon as DC } from '../../../class/DesignCommon'\r\nimport { EventAbstract } from '../EventAbstract';\r\nimport { MouseEventService } from '../../../services/mouse-event.service';\r\nimport { JdesignDataService } from '../../../../../services/jdesign-data.service';\r\nimport { DomUpdateService } from '../../../../../services/dom-update.service';\r\nimport { JdesignUtil2dService } from '../../../../../services/jdesign-util2d.service';\r\nimport { PopDivService } from '../../../../../services/pop-div.service';\r\nimport { CalculatorsService } from '../../../../../services/calculators.service';\r\nimport { JParamsModel } from '../../../jdesign/JParamsModel';\r\nimport { SvgMoveParamsModelCal } from './svgMoveParamsModelCal';\r\nimport { SvgParamsMoveParamsModelType } from './SvgParamsMoveParamsModelType';\r\n\r\n\r\n/* 参数化模型移动 */\r\nexport class SvgMoveParamsModel extends EventAbstract {\r\n    private _distancePos: DC.Pos = { x: 0, y: 0 }\r\n    private _pos: DC.Pos = null\r\n    private _cal = new SvgMoveParamsModelCal(this.dataService, this.domService, this.DUService, this.popService, this.calService)\r\n    private _paramsMoveType = new SvgParamsMoveParamsModelType(this.dataService, this.domService, this.DUService, this.popService, this.calService)\r\n    private _prevPos: DC.Pos = undefined\r\n    constructor(\r\n        public mouseEventService: MouseEventService,\r\n        private dataService: JdesignDataService,\r\n        private domService: DomUpdateService,\r\n        private DUService: JdesignUtil2dService,\r\n        private popService: PopDivService,\r\n        private calService: CalculatorsService\r\n    ) {\r\n        super(mouseEventService)\r\n    }\r\n\r\n    isCondition() {\r\n        return this.dataService.cache.common.mode == 'normal' && this.dataService.cache.common.choose != null && this.dataService.cache.common.choose.type == \"paramsModel\"\r\n    }\r\n\r\n\r\n    mouseDown(e) {\r\n\r\n    }\r\n\r\n    mouseUp(e) {\r\n        this._pos = undefined\r\n        this._prevPos = undefined\r\n        this._distancePos = { x: 0, y: 0 }\r\n        this.dataService.cache.common.choose = this.dataService.cache.common.choose\r\n        this.dataService.cache.common.blockON = false\r\n        this.dataService.cache.floorplan.createAndMove = false\r\n        this.dataService.cache.common.blockON = false\r\n        this.dataService.cache.common.firstPos = null\r\n        this.domService.allSvg.emit()\r\n        this.calService.undoRedo.save()\r\n    }\r\n\r\n    mouseMove(e) {\r\n        let originPos = { x: e.offsetX, y: e.offsetY }\r\n        let obj = <JParamsModel>this.dataService.cache.common.choose\r\n        if (this.dataService.cache.common.firstPos == null) {\r\n            this._pos = {\r\n                x: originPos.x + this._distancePos.x,\r\n                y: originPos.y + this._distancePos.y\r\n            }\r\n            if (obj.mode != 'paramsMove') {\r\n                this.transMove(obj, this._pos, originPos)\r\n            }\r\n            else {\r\n                this.parmasMove(obj, this._pos, originPos)\r\n            }\r\n            this.domService.allSvg.emit()\r\n            this._prevPos = { x: originPos.x, y: originPos.y }\r\n        }\r\n        /** 平常移动第一次点击,需要获取点击的坐标误差 */\r\n        else {\r\n            this._distancePos = {\r\n                x: obj.pos.x - originPos.x,\r\n                y: obj.pos.y - originPos.y\r\n            }\r\n            this.dataService.cache.common.firstPos = null\r\n        }\r\n    }\r\n\r\n    /* 移动 */\r\n    transMove(obj: JParamsModel, transPos: DC.Pos, originPos: DC.Pos) {\r\n        switch (obj.absorbData.type) {\r\n            case \"pointAnd2Walls\":\r\n                this._cal.pointAnd2Walls(obj, transPos)\r\n                break;\r\n            case \"wallAnd2walls\":\r\n                this._cal.wallAnd2walls(obj, transPos)\r\n                break;\r\n            default:\r\n                this._cal.defaultMove(obj, transPos)\r\n                break\r\n        }\r\n    }\r\n\r\n    /* 参数化移动 */\r\n    parmasMove(obj: JParamsModel, transPos: DC.Pos, originPos: DC.Pos) {\r\n        if (this._prevPos) {\r\n            switch (obj.movePointData.type) {\r\n                case \"linearMove\":\r\n                    this._paramsMoveType.linerMove(obj, originPos, this._prevPos)\r\n                    break;\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n\r\n}","import { JdesignDataService } from \"../../../../../services/jdesign-data.service\";\r\nimport { DomUpdateService } from \"../../../../../services/dom-update.service\";\r\nimport { JdesignUtil2dService } from \"../../../../../services/jdesign-util2d.service\";\r\nimport { PopDivService } from \"../../../../../services/pop-div.service\";\r\nimport { CalculatorsService } from \"../../../../../services/calculators.service\";\r\nimport { JParamsModel } from \"../../../jdesign/JParamsModel\";\r\nimport { DesignCommon as DC } from '../../../class/DesignCommon'\r\n\r\n/* 参数化模型吸附类型 */\r\nexport class SvgMoveParamsModelAbsorbType {\r\n    constructor(\r\n        private dataService: JdesignDataService,\r\n        private domService: DomUpdateService,\r\n        private DUService: JdesignUtil2dService,\r\n        private popService: PopDivService,\r\n        private calService: CalculatorsService\r\n    ) {\r\n    }\r\n\r\n    /* 获取替换的参数 */\r\n    protected getReplaceData(obj: JParamsModel) {\r\n        let data = {\r\n            \"x\": obj.absorbData.pos.x,\r\n            \"y\": obj.absorbData.pos.y,\r\n            \"r\": obj.absorbData.radian\r\n        }\r\n        return data\r\n    }\r\n\r\n    /* 获取真实角度 */\r\n    getRealPos(obj: JParamsModel) {\r\n        let replaceData = this.getReplaceData(obj)\r\n        let x = obj.absorbData.realPosX\r\n        let y = obj.absorbData.realPosY\r\n        for (let key in replaceData) {\r\n            if (x)\r\n                x = this.DUService.parseJ2D.replace(x, key, replaceData[key])\r\n            if (y)\r\n                y = this.DUService.parseJ2D.replace(y, key, replaceData[key])\r\n        }\r\n        let pos = { x: x ? eval(x) : obj.absorbData.pos.x, y: y ? eval(y) : obj.absorbData.pos.y }\r\n        return pos\r\n    }\r\n\r\n    /* 获取真实弧度 */\r\n    getRealRadian(obj: JParamsModel) {\r\n        let replaceData = this.getReplaceData(obj)\r\n        let r = obj.absorbData.realRadian\r\n        for (let key in replaceData) {\r\n            if (r)\r\n                r = this.DUService.parseJ2D.replace(r, key, replaceData[key])\r\n        }\r\n        let newR = r ? eval(r) : obj.absorbData.radian\r\n        return newR\r\n    }\r\n\r\n    /* 点和两个墙 */\r\n    pointAnd2Walls(obj: JParamsModel, pos: DC.Pos) {\r\n        let pointArr = this.calService.point.getPointsByOnlyNumWalls(2)\r\n        let pointsMsg = this.calService.transData.getPointPosArr(pointArr)\r\n        let absorbMsg = this.calService.absorb.posAndPointPosArr(pos, obj.absorbData.minDistance, pointsMsg)\r\n        if (absorbMsg && absorbMsg.point) {\r\n            obj.absorbData.objID = absorbMsg.point.id\r\n            obj.absorbData.pos = absorbMsg.point.pos\r\n        }\r\n        else {\r\n            obj.absorbData.objID = undefined\r\n            obj.absorbData.pos = pos\r\n        }\r\n        obj.pos = this.getRealPos(obj)\r\n    }\r\n\r\n    /* 三墙居中 */\r\n    wallAnd2walls(obj: JParamsModel, pos: DC.Pos) {\r\n        let distance = obj.absorbData.objID == undefined ? obj.originJ2d.params[obj.absorbData.calParams[\"centerWidth\"]].formula : obj.j2d.params[obj.absorbData.calParams[\"centerWidth\"]].formula\r\n        let rayPos = this.DUService.pos.getRayPos(pos, obj.radian, distance)\r\n        let line = [pos, rayPos]\r\n        let walls = this.calService.wall.getOneLinkWalls()\r\n        walls = this.calService.wall.getUnArcWalls(walls)\r\n        walls = this.calService.wall.getRoomWalls(walls)\r\n        let wallsMsg = this.calService.transData.getWallCenterLines(walls)\r\n        let absorbMsg = this.calService.absorb.lineAndWalls(line, obj.absorbData.minDistance, wallsMsg)\r\n        if (absorbMsg && absorbMsg.wall) {\r\n            obj.absorbData.objID = absorbMsg.wall.id\r\n            let point = absorbMsg.wall.getPoint(0)\r\n            obj.absorbData.pos = { x: point.pos.x, y: point.pos.y }\r\n        }\r\n        else {\r\n            obj.absorbData.objID = undefined\r\n            obj.absorbData.pos = pos\r\n        }\r\n        obj.pos = this.getRealPos(obj)\r\n    }\r\n}","import { JdesignDataService } from \"../../../../../services/jdesign-data.service\";\r\nimport { DomUpdateService } from \"../../../../../services/dom-update.service\";\r\nimport { JdesignUtil2dService } from \"../../../../../services/jdesign-util2d.service\";\r\nimport { PopDivService } from \"../../../../../services/pop-div.service\";\r\nimport { CalculatorsService } from \"../../../../../services/calculators.service\";\r\nimport { JParamsModel } from \"../../../jdesign/JParamsModel\";\r\nimport { DesignCommon as DC } from '../../../class/DesignCommon'\r\n\r\n/* 参数化模型移动时移动类型 */\r\nexport class SvgParamsMoveParamsModelType {\r\n    constructor(\r\n        private dataService: JdesignDataService,\r\n        private domService: DomUpdateService,\r\n        private DUService: JdesignUtil2dService,\r\n        private popService: PopDivService,\r\n        private calService: CalculatorsService\r\n    ) {\r\n\r\n    }\r\n\r\n    /* 线性移动 */\r\n    linerMove(obj: JParamsModel, presentPos: DC.Pos, prevPos: DC.Pos) {\r\n        let newRadian = obj.radian - obj.movePointData.radian\r\n        let distance = this.DUService.pos.getTwoPosRadianDistance(presentPos, prevPos, newRadian + Math.PI, false)\r\n        console.log(distance)\r\n        distance += parseFloat(obj.j2d.params[obj.movePointData.tag].formula) + obj.movePointData.add\r\n        console.log(distance)\r\n        obj.j2d.params[obj.movePointData.tag].formula = distance\r\n    }\r\n}","import { JdesignDataService } from \"../../../../../services/jdesign-data.service\";\r\nimport { DomUpdateService } from \"../../../../../services/dom-update.service\";\r\nimport { JdesignUtil2dService } from \"../../../../../services/jdesign-util2d.service\";\r\nimport { PopDivService } from \"../../../../../services/pop-div.service\";\r\nimport { CalculatorsService } from \"../../../../../services/calculators.service\";\r\nimport { SvgMoveParamsModelAbsorbType } from \"./SvgMoveParamsModelAbsorbType\";\r\nimport { DesignCommon as DC } from '../../../class/DesignCommon'\r\nimport { JParamsModel } from \"../../../jdesign/JParamsModel\";\r\nimport { JWall } from \"../../../jdesign/JWall\";\r\n\r\n/* 参数化模型吸附运算 */\r\nexport class SvgMoveParamsModelCal {\r\n    protected _absorb = new SvgMoveParamsModelAbsorbType(this.dataService, this.domService, this.DUService, this.popService, this.calService)\r\n    constructor(\r\n        private dataService: JdesignDataService,\r\n        private domService: DomUpdateService,\r\n        private DUService: JdesignUtil2dService,\r\n        private popService: PopDivService,\r\n        private calService: CalculatorsService\r\n    ) {\r\n    }\r\n\r\n    /* 设置j2d吸附参数 */\r\n    private setJ2dAbsorbParams(obj: JParamsModel, calParamsName: string, value: any) {\r\n        if (obj.absorbData.calParams == undefined)\r\n            return false\r\n        if (obj.absorbData.calParams[calParamsName] == undefined)\r\n            return false\r\n        if (obj.j2d.params[obj.absorbData.calParams[calParamsName]] == undefined)\r\n            return false\r\n        obj.j2d.params[obj.absorbData.calParams[calParamsName]].formula = value\r\n        return true\r\n    }\r\n\r\n    /* 点和双墙 */\r\n    pointAnd2Walls(obj: JParamsModel, pos: DC.Pos) {\r\n        this._absorb.pointAnd2Walls(obj, pos)\r\n        let point = obj.getAbsorbObj()\r\n        if (point) {\r\n            let walls = this.calService.point.getLeftAndRightWall(point)\r\n            /* 弧度计算 */\r\n            let a = this.calService.point.isOppositeRayPoint(point, walls[0])\r\n            let leftRadian = walls[0].getRadian()\r\n            leftRadian = a ? leftRadian + Math.PI : leftRadian\r\n            a = this.calService.point.isOppositeRayPoint(point, walls[1])\r\n            let rightRadian = walls[1].getRadian()\r\n            rightRadian = a ? rightRadian + Math.PI : rightRadian\r\n            /* 赋予弧度值 */\r\n            obj.absorbData.radian = rightRadian\r\n            obj.radian = this._absorb.getRealRadian(obj)\r\n            let b = -rightRadian + leftRadian\r\n            // console.log(b * 180 / Math.PI)\r\n            /* 设置j2d参数 */\r\n            this.setJ2dAbsorbParams(obj, 'leftThickness', walls[0].thickness)\r\n            this.setJ2dAbsorbParams(obj, 'rightThickness', walls[1].thickness)\r\n            this.setJ2dAbsorbParams(obj, 'radian', b)\r\n        }\r\n    }\r\n\r\n    /* 三墙居中 */\r\n    wallAnd2walls(obj: JParamsModel, pos: DC.Pos) {\r\n        this._absorb.wallAnd2walls(obj, pos)\r\n        let centerWall = <JWall>obj.getAbsorbObj()\r\n        if (centerWall) {\r\n            /* 弧度 */\r\n            let centerCowall = centerWall.getCowall()\r\n            let centerRadian = centerCowall.getRadian()\r\n            obj.absorbData.radian = centerRadian\r\n            obj.radian = this._absorb.getRealRadian(obj)\r\n            /* 中间 */\r\n            this.setJ2dAbsorbParams(obj, 'centerThickness', centerWall.thickness)\r\n            this.setJ2dAbsorbParams(obj, 'centerWidth', centerWall.getInLineDistance())\r\n            /* 左边 */\r\n            let prevCowall = centerCowall.getPrevCowall()\r\n            let prevWall = prevCowall.getWall()\r\n            let prevRadian = prevCowall.getRadian() + Math.PI\r\n            this.setJ2dAbsorbParams(obj, 'leftThickness', prevWall.thickness)\r\n            this.setJ2dAbsorbParams(obj, 'leftRadian', -centerRadian + prevRadian)\r\n            /* 右边 */\r\n            let nextCowall = centerCowall.getNextCowall()\r\n            let nextWall = nextCowall.getWall()\r\n            let nextRadian = nextCowall.getRadian()\r\n            this.setJ2dAbsorbParams(obj, 'rightThickness', nextWall.thickness)\r\n            this.setJ2dAbsorbParams(obj, 'rightRadian', centerRadian + Math.PI - nextRadian)\r\n        }\r\n    }\r\n\r\n    defaultMove(obj: JParamsModel, pos: DC.Pos) {\r\n        obj.pos = { x: pos.x, y: pos.y }\r\n    }\r\n}","import { MouseEventService } from \"../../services/mouse-event.service\";\r\nimport { JdesignDataService } from \"../../../../services/jdesign-data.service\";\r\nimport { DomUpdateService } from \"../../../../services/dom-update.service\";\r\nimport { JdesignUtil2dService } from \"../../../../services/jdesign-util2d.service\";\r\nimport { CalculatorsService } from \"../../../../services/calculators.service\";\r\nimport { PopDivService } from \"../../../../services/pop-div.service\";\r\nimport { SvgDrawWall } from \"./SvgDrawWall\";\r\nimport { SvgMoveWall } from \"./SvgMoveWall\";\r\nimport { SvgDrawRoom } from \"./SvgDrawRoom\";\r\nimport { SvgMoveBack } from \"./SvgMoveBack\";\r\nimport { SvgMoveDW } from \"./SvgMoveDW\";\r\nimport { SvgMoveGeometry } from \"./SvgMoveGeometry\";\r\nimport { SvgMoveCWin } from \"./SvgMoveCWin\";\r\nimport { SvgMoveCamera } from \"./svgMoveCamera\";\r\nimport { SvgAbsorbEvent } from \"../absorb/svg.absorb.event\";\r\nimport { SvgInputEvent } from \"../input/svg.input.event\";\r\nimport { SvgMovePoint } from \"./SvgMovePoint\";\r\nimport { SvgMoveLUWin } from \"./SvgMoveLUWin\";\r\nimport { SvgMoveParamsModel } from \"./paramsModel/SvgMoveParamsModel\";\r\n\r\nexport class SvgMouseEvent {\r\n\r\n    constructor(\r\n        private mouseEventService: MouseEventService,\r\n        private dataService: JdesignDataService,\r\n        private domService: DomUpdateService,\r\n        private DUService: JdesignUtil2dService,\r\n        private calService: CalculatorsService,\r\n        private popService: PopDivService,\r\n        private svgAbsorbEvent: SvgAbsorbEvent,\r\n        private svgInputEvent: SvgInputEvent\r\n    ) {\r\n        let moveParamsModel = new SvgMoveParamsModel(this.mouseEventService, this.dataService, this.domService, this.DUService, this.popService, this.calService)\r\n        let drawWall = new SvgDrawWall(this.mouseEventService, this.dataService, this.domService, this.DUService, this.popService, this.calService, svgAbsorbEvent.drawWallAbsorb, svgInputEvent.wallInput)\r\n        let moveWall = new SvgMoveWall(this.mouseEventService, this.dataService, this.calService, this.domService, this.popService, this.DUService, this.svgAbsorbEvent.moveWallAbosrb)\r\n        let drawRoom = new SvgDrawRoom(this.mouseEventService, this.dataService, this.domService, this.calService, this.DUService, this.popService)\r\n        let moveBack = new SvgMoveBack(this.mouseEventService, this.dataService, this.domService, this.DUService, this.popService, this.calService)\r\n        let moveDW = new SvgMoveDW(this.mouseEventService, this.dataService, this.domService, this.DUService, this.popService, this.calService, this.svgAbsorbEvent.dwAbsorb)\r\n        let moveGeometry = new SvgMoveGeometry(this.mouseEventService, this.dataService, this.domService, this.DUService, this.popService, this.calService)\r\n        let moveCornerWin = new SvgMoveCWin(this.mouseEventService, this.dataService, this.domService, this.DUService, this.popService, this.calService)\r\n        let moveCamera = new SvgMoveCamera(this.mouseEventService, this.dataService, this.domService, this.DUService, this.popService, this.calService)\r\n        let movePoint = new SvgMovePoint(this.mouseEventService, this.dataService, this.calService, this.domService, this.popService, this.DUService)\r\n        let moveLUWin = new SvgMoveLUWin(this.mouseEventService, this.dataService, this.domService, this.DUService, this.popService, this.calService)\r\n    }\r\n\r\n}","import { EventAbstract } from \"./EventAbstract\";\r\nimport { MouseEventService } from \"../../services/mouse-event.service\";\r\nimport { JdesignDataService } from \"../../../../services/jdesign-data.service\";\r\nimport { DomUpdateService } from \"../../../../services/dom-update.service\";\r\nimport { JdesignUtil2dService } from \"../../../../services/jdesign-util2d.service\";\r\nimport { PopDivService } from \"../../../../services/pop-div.service\";\r\nimport { CalculatorsService } from \"../../../../services/calculators.service\";\r\nimport { DesignCommon as DC } from '../../class/DesignCommon'\r\n\r\nexport class SvgMoveCamera extends EventAbstract {\r\n\r\n    private _radian: number = null\r\n\r\n    constructor(\r\n        public mouseEventService: MouseEventService,\r\n        private dataService: JdesignDataService,\r\n        private domService: DomUpdateService,\r\n        private DUService: JdesignUtil2dService,\r\n        private popService: PopDivService,\r\n        private calService: CalculatorsService\r\n    ) {\r\n        super(mouseEventService)\r\n        this.dataService.cache.mode.drawWall.subscribe(() => {\r\n            this.dataService.cache.common.mode = 'normal'\r\n            // this.cleanData()\r\n        })\r\n        // console.log('%cSvgMoveBack', \"color:#ff0000\")\r\n    }\r\n\r\n    isCondition() {\r\n        if (\r\n            this.dataService.cache.common.mode == 'normal' &&\r\n            this.dataService.cache.common.choose != null &&\r\n            this.dataService.cache.common.choose.type == 'camera'\r\n        )\r\n            return true\r\n        else\r\n            return false\r\n    }\r\n\r\n    mouseDown(e: MouseEvent) {\r\n        this.popService.inputBoxs.emit([])\r\n        this.popService.buttons.emit(null)\r\n    }\r\n\r\n    mouseMove(e: MouseEvent) {\r\n        if (this.dataService.cache.common.firstPos != null) {\r\n            switch (this.dataService.camera.mode) {\r\n                case 'move':\r\n                    this.moveCamera(e)\r\n                    break;\r\n                case 'rotate':\r\n                    this.rotateCamera(e)\r\n                    break;\r\n            }\r\n            this.dataService.camera.strongUpdate3D()\r\n            this.dataService.cache.common.firstPos = { x: e.offsetX, y: e.offsetY }\r\n        }\r\n\r\n    }\r\n\r\n    /** 移动摄像机 */\r\n    moveCamera(e: MouseEvent) {\r\n        let plusPos = { x: e.offsetX - this.dataService.cache.common.firstPos.x, y: e.offsetY - this.dataService.cache.common.firstPos.y }\r\n        this.dataService.camera.pos = {\r\n            x: this.dataService.camera.pos.x + plusPos.x,\r\n            y: this.dataService.camera.pos.y + plusPos.y,\r\n        }\r\n        this.domService.svgCamera.emit()\r\n    }\r\n\r\n    /** 旋转摄像机 */\r\n    rotateCamera(e: MouseEvent) {\r\n        let radian = this.DUService.pos.getRadian(this.dataService.camera.pos, { x: e.offsetX, y: e.offsetY })\r\n        if (this._radian != null) {\r\n            this.dataService.camera.radian += radian - this._radian\r\n        }\r\n        this._radian = radian\r\n        this.domService.svgCamera.emit()\r\n\r\n    }\r\n\r\n    mouseUp() {\r\n        this._radian = null\r\n        this.dataService.floorplan.mode = 'back'\r\n        this.dataService.cache.common.firstPos = null\r\n        this.dataService.cache.common.blockON = false\r\n        this.domService.svgBlock.emit()\r\n    }\r\n\r\n\r\n}","import { JdesignDataService } from \"../../../services/jdesign-data.service\";\r\nimport { JdesignUtil2dService } from \"../../../services/jdesign-util2d.service\";\r\nimport { CalculatorsService } from \"../../../services/calculators.service\";\r\nimport { JLWinTypeInit, JLWin } from \"../jdesign/JLWin\";\r\nimport { JLWin3D } from \"../../../three/jDesign3D/JLWin3D\";\r\nimport { JPoint } from \"../jdesign/JPoint\";\r\n\r\nexport class LWinCal {\r\n    constructor(\r\n        private dataService: JdesignDataService,\r\n        private DUService: JdesignUtil2dService,\r\n        private calService: CalculatorsService,\r\n    ) {\r\n\r\n    }\r\n\r\n    createNew(obj: JLWinTypeInit) {\r\n        let LWin = new JLWin3D(obj, this.dataService, this.DUService)\r\n        this.dataService.cache.LWin.createFunc(LWin)\r\n        return LWin\r\n    }\r\n\r\n    /** 合并点 */\r\n    unionPoint(obj: JLWin, point: JPoint) {\r\n        obj.pointID = point.id\r\n        obj.pos = point.pos\r\n    }\r\n\r\n    /** 分开点 */\r\n    disconnectPoint(obj: JLWin) {\r\n        obj.pointID = undefined\r\n    }\r\n\r\n    /* 获取左右墙 */\r\n    getLeftAndRightWall(obj: JLWin) {\r\n        let point = obj.getPoint()\r\n        if (!point)\r\n            return undefined\r\n        let walls = point.getWallArr()\r\n        let radianA = walls[0].getRadian()\r\n        let radianB = walls[1].getRadian()\r\n        radianA = this.calService.point.getWallOrCowallRadianByPoint(point, walls[0])\r\n        radianB = this.calService.point.getWallOrCowallRadianByPoint(point, walls[1])\r\n        let newRadian = radianA - radianB\r\n        newRadian = this.DUService.pos.getAbsRadian(newRadian, false)\r\n        if (newRadian >= 0) {\r\n            return [walls[0], walls[1]]\r\n        }\r\n        else {\r\n            return [walls[1], walls[0]]\r\n        }\r\n    }\r\n\r\n    /* 遍历吸附 */\r\n    listAbosrb() {\r\n        for (let key in this.dataService.LWins) {\r\n            let LWin = this.dataService.LWins[key]\r\n            let point = LWin.getPoint()\r\n            if (point) {\r\n                let walls = point.getWallArr()\r\n                if (walls.length != 2 || walls[0].arcDistance != 0 || walls[0].arcDistance != 0) {\r\n                    this.disconnectPoint(LWin)\r\n                }\r\n                else {\r\n                    this.unionPoint(LWin, point)\r\n                }\r\n            }\r\n            else {\r\n                this.disconnectPoint(LWin)\r\n            }\r\n        }\r\n    }\r\n}","import { JdesignDataService } from \"../../../services/jdesign-data.service\";\r\nimport { JdesignUtil2dService } from \"../../../services/jdesign-util2d.service\";\r\nimport { CalculatorsService } from \"../../../services/calculators.service\";\r\nimport { DesignCommon as DC } from '../class/DesignCommon'\r\nimport { JPoint } from \"../jdesign/JPoint\";\r\nimport { JWall } from \"../jdesign/JWall\";\r\nimport { JDesign } from \"../jdesign/JDesign\";\r\nimport { TransPointPosArr, TransWallLines, TransPointLines, TransArcWallLines } from \"./transData.cal\";\r\n\r\n\r\nexport class AdsorbCal {\r\n\r\n    constructor(\r\n        private dataService: JdesignDataService,\r\n        private DUService: JdesignUtil2dService,\r\n        private calService: CalculatorsService\r\n    ) {\r\n\r\n    }\r\n\r\n    /**\r\n     * 点坐标与墙吸附\r\n     * @param pos \r\n     * @param minDistance \r\n     * @param isStraight\r\n     * @param wallsMsg \r\n     * @returns 没有墙或者没有吸附返回undefined\r\n     */\r\n    posAndWalls(pos: DC.Pos, minDistance: number, isStraight: boolean, wallsMsg: TransWallLines) {\r\n        /** 没有墙,返回undefined */\r\n        if (wallsMsg.lines.length == 0)\r\n            return undefined\r\n        let absorbMsg = this.DUService.absorb.pointAndLines(pos, wallsMsg.lines, isStraight, minDistance)\r\n        /** 没有吸附,返回undefined */\r\n        if (absorbMsg == undefined)\r\n            return undefined\r\n\r\n        return {\r\n            wall: wallsMsg.walls[absorbMsg.index],\r\n            pos: absorbMsg.pos,\r\n            distance: absorbMsg.distance\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 点墙轮廓吸附\r\n     * @param pos \r\n     * @param minDistance \r\n     * @param wallsMsg \r\n     * @returns 没有墙或者没有吸附返回undefined\r\n     */\r\n    posAndWallOutLines(pos: DC.Pos, minDistance: number, wallsMsg: TransWallLines) {\r\n        /** 没有墙,返回undefined */\r\n        if (wallsMsg.lines.length == 0)\r\n            return undefined\r\n        let absorbMsg = this.DUService.absorb.pointAndLines(pos, wallsMsg.lines, false, minDistance)\r\n        /** 没有吸附,返回undefined */\r\n        if (absorbMsg == undefined)\r\n            return undefined\r\n        return {\r\n            wall: wallsMsg.walls[absorbMsg.index],\r\n            distance: absorbMsg.distance,\r\n            pos: absorbMsg.pos,\r\n            /** 是否为外线(轮廓线上下)  */\r\n            isOutLine: absorbMsg.index % 2 == 1 ? true : false\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 线垂直水平吸附\r\n     * @param lineStart \r\n     * @param lineEnd \r\n     * @param minDistance \r\n     * @returns mode水平为'h',垂直为'v'\r\n     */\r\n    lineAndVerticalLine(lineStart: DC.Pos, lineEnd: DC.Pos, minDistance: number) {\r\n        /** 水平 */\r\n        let hPos = this.DUService.absorb.lineAndRadian(lineStart, lineEnd, 0, minDistance)\r\n        if (hPos != undefined) {\r\n            let distance = this.DUService.pos.getDistance(hPos, lineEnd)\r\n            return {\r\n                pos: hPos,\r\n                mode: 'h',\r\n                distance: distance\r\n            }\r\n        }\r\n        /** 垂直 */\r\n        let vPos = this.DUService.absorb.lineAndRadian(lineStart, lineEnd, Math.PI / 2, minDistance)\r\n        if (vPos != undefined) {\r\n            let distance = this.DUService.pos.getDistance(vPos, lineEnd)\r\n            return {\r\n                pos: vPos,\r\n                mode: \"v\",\r\n                distance: distance\r\n            }\r\n        }\r\n        return undefined\r\n    }\r\n\r\n    /**\r\n     * 坐标与点垂直吸附\r\n     * @param pos \r\n     * @param minDistance \r\n     * @param pointsMsg \r\n     */\r\n    posAndVerticalPoints(pos: DC.Pos, minDistance: number, pointsMsg: TransPointLines) {\r\n        /** 没有点,返回undefined */\r\n        if (pointsMsg.lines.length == 0)\r\n            return undefined\r\n        let absorbMsg = this.DUService.absorb.pointAndLines(pos, pointsMsg.lines, true, minDistance)\r\n        /** 没有吸附,返回undefined */\r\n        if (absorbMsg == undefined)\r\n            return undefined\r\n        return {\r\n            point: pointsMsg.points[absorbMsg.index],\r\n            distance: absorbMsg.distance,\r\n            pos: absorbMsg.pos\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * 点与点数组信息吸附\r\n     * @param pos \r\n     * @param minDistance \r\n     * @param pointPosArr \r\n     * @returns 没有点或者没有吸附返回undefined\r\n     */\r\n    posAndPointPosArr(pos: DC.Pos, minDistance: number, pointPosArr: TransPointPosArr) {\r\n        /** 如果没有点,返回undefined */\r\n        if (pointPosArr.posArr.length == 0)\r\n            return undefined\r\n        let absorbMsg = this.DUService.absorb.pointAndPoints(pos, pointPosArr.posArr, minDistance)\r\n        /** 没有吸附,返回undefined */\r\n        if (absorbMsg == undefined)\r\n            return undefined\r\n        return {\r\n            point: pointPosArr.points[absorbMsg.index],\r\n            pos: absorbMsg.pos,\r\n            distance: absorbMsg.distance\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 点与墙所有轮廓直线吸附\r\n     * @param pos \r\n     * @param minDistance \r\n     * @param wallsMsg \r\n     * @returns undefined\r\n     */\r\n    posAndVerticalWallAllLines(pos: DC.Pos, minDistance: number, wallsMsg: TransWallLines) {\r\n        let absorbMsg = this.DUService.absorb.pointAndLines(pos, wallsMsg.lines, true, minDistance)\r\n        if (absorbMsg) {\r\n            let data = {\r\n                wall: wallsMsg.walls[absorbMsg.index],\r\n                distance: absorbMsg.distance,\r\n                pos: absorbMsg.pos,\r\n                line: wallsMsg.lines[absorbMsg.index]\r\n            }\r\n            return data\r\n        }\r\n        return undefined\r\n    }\r\n\r\n    /* 线与墙的吸附 */\r\n    lineAndWalls(line: DC.Pos[], rectDistance: number, wallsMsg: TransWallLines) {\r\n        let absorbMsg = this.DUService.absorb.lineAndLine(line, wallsMsg.lines, rectDistance)\r\n        if (absorbMsg) {\r\n            let data = {\r\n                wall: wallsMsg.walls[absorbMsg.index],\r\n                line: wallsMsg.lines[absorbMsg.index],\r\n                distance: absorbMsg.distance,\r\n                pos: absorbMsg.pos,\r\n            }\r\n            return data\r\n        }\r\n        return undefined\r\n    }\r\n\r\n}\r\n\r\nclass WallAbsorb {\r\n    wall: JWall;\r\n    /** 为和墙的交点 */\r\n    pos: DC.Pos;\r\n    out: boolean;\r\n    radian: number;\r\n    distance: number;\r\n}\r\n\r\nexport class AbosrbMsg {\r\n    pos: DC.Pos;\r\n    obj: JDesign;\r\n    absorbLineData: any[];\r\n    mode: string;\r\n    radius?: number;\r\n}\r\n\r\nexport class AbsorbLine {\r\n    pos: DC.Pos;\r\n    absorbObj: JDesign;\r\n    isContinuous?: boolean;\r\n}","import { JdesignDataService } from \"../../../services/jdesign-data.service\";\r\nimport { JdesignUtil2dService } from \"../../../services/jdesign-util2d.service\";\r\nimport { CalculatorsService } from \"../../../services/calculators.service\";\r\n\r\nexport class BuildCal {\r\n    constructor(\r\n        private dataService: JdesignDataService,\r\n        private DUService: JdesignUtil2dService,\r\n        private calService: CalculatorsService,\r\n    ) {\r\n\r\n    }\r\n}","import { CalculatorsService } from \"../../../services/calculators.service\";\r\nimport { JdesignDataService } from \"../../../services/jdesign-data.service\";\r\nimport { JdesignUtil2dService } from \"../../../services/jdesign-util2d.service\";\r\nimport { JCornerWin3D } from \"../../../three/jDesign3D/JCornerWin3D\";\r\nimport { JCornerWin, JCornerWinInitType } from \"../jdesign/JCornerWin\";\r\nimport { DesignCommon as DC } from '../class/DesignCommon'\r\nimport { JPoint } from \"../jdesign/JPoint\";\r\nimport { JWall } from \"../jdesign/JWall\";\r\n\r\nexport class CornerWinCal {\r\n\r\n    constructor(\r\n        private calService: CalculatorsService,\r\n        private dataService: JdesignDataService,\r\n        private DUService: JdesignUtil2dService\r\n    ) {\r\n\r\n    }\r\n\r\n    /** 新建 */\r\n    createNew(obj: JCornerWinInitType) {\r\n        this.dataService.cache.floorplan.createAndMove = true\r\n        let win = new JCornerWin3D(obj, this.dataService, this.DUService)\r\n        this.dataService.cache.cornerWin.createFunc(win)\r\n        return win\r\n    }\r\n\r\n    /** 与点合体 point必须只有两个cowall*/\r\n    unionPoint(obj: JCornerWin, point: JPoint) {\r\n        if (!point)\r\n            return false\r\n        let cowallArr = point.getCowallArr()\r\n        if (cowallArr[0].getPointEnd().id != point.id) {\r\n            cowallArr = [cowallArr[1], cowallArr[0]]\r\n        }\r\n        /** 设置弧度 */\r\n        obj.LRadian = cowallArr[0].getRadian() + Math.PI\r\n        obj.DRadian = cowallArr[1].getRadian()\r\n        /** 设置坐标 */\r\n        let posArr = this.calService.cowall.getInPosArr(cowallArr[1])\r\n        obj.pos = posArr[0]\r\n        /** 设置点对象 */\r\n        obj.pointID = point.id\r\n        point.cornWinID = obj.id\r\n        /** 设置墙对象 */\r\n        let wallA = cowallArr[0].getWall()\r\n        wallA.cornWinIDs.push(obj.id)\r\n        wallA.cornWinIDs = this.DUService.cal.unique(wallA.cornWinIDs)\r\n        let wallB = cowallArr[1].getWall()\r\n        wallB.cornWinIDs.push(obj.id)\r\n        wallB.cornWinIDs = this.DUService.cal.unique(wallB.cornWinIDs)\r\n        return true\r\n    }\r\n\r\n    removePoint(obj: JCornerWin, point: JPoint) {\r\n        /** 设置点对象 */\r\n        obj.pointID = null\r\n        point.cornWinID = null\r\n        /** 设置墙 */\r\n        let wallArr = point.getWallArr()\r\n        this.DUService.cal.removeByValue(wallArr[0].cornWinIDs, obj.id)\r\n        this.DUService.cal.removeByValue(wallArr[1].cornWinIDs, obj.id)\r\n    }\r\n\r\n    /** 分离 */\r\n    disconnectPoint(obj: JCornerWin) {\r\n        let point = obj.getPoint()\r\n        if (point) {\r\n            this.removePoint(obj, point)\r\n        }\r\n        obj.LRadian = Math.PI\r\n        obj.DRadian = Math.PI / 2\r\n        obj.pointID = null\r\n        return true\r\n    }\r\n\r\n    /** 删除  */\r\n    del(obj: JCornerWin) {\r\n        this.delWall(obj)\r\n        obj.destory3D()\r\n        delete this.dataService.cornerWins[obj.id]\r\n    }\r\n\r\n\r\n    /** 删除墙 */\r\n    delWall(obj: JCornerWin) {\r\n        for (let key in this.dataService.walls) {\r\n            let wall = <JWall>this.dataService.walls[key]\r\n            let a = this.DUService.cal.isInclude(wall.cornWinIDs, obj.id)\r\n            if (a >= 0) {\r\n                wall.cornWinIDs.splice(a, 1);\r\n            }\r\n        }\r\n    }\r\n\r\n    /** 遍历吸附加载 */\r\n    listAbsorb() {\r\n        let cornerWins: JCornerWin3D[] = this.dataService.doCornerWins().arr()\r\n        for (let i = 0; i < cornerWins.length; i++) {\r\n            let point = cornerWins[i].getPoint()\r\n            if (point) {\r\n                let walls = point.getWallArr()\r\n                if (walls.length != 2 || walls[0].arcDistance != 0 || walls[0].arcDistance != 0) {\r\n                    this.disconnectPoint(cornerWins[i])\r\n                }\r\n                else {\r\n                    this.disconnectPoint(cornerWins[i])\r\n                    this.unionPoint(cornerWins[i], point)\r\n                    this.dataService.cache.cornerWin.move(cornerWins[i], { x: point.pos.x, y: point.pos.y })\r\n                    cornerWins[i].act3D.end()\r\n                }\r\n            }\r\n            else {\r\n                this.disconnectPoint(cornerWins[i])\r\n            }\r\n            // this.dataService.cache.cornerWin.moveEnd(cornerWins[i])\r\n        }\r\n    }\r\n\r\n}","import { CalculatorsService } from \"../../../services/calculators.service\";\r\nimport { JdesignDataService } from \"../../../services/jdesign-data.service\";\r\nimport { JCowall } from \"../jdesign/JCowall\";\r\nimport { JWall } from \"../jdesign/JWall\";\r\nimport { DesignCommon as DC } from '../class/DesignCommon'\r\nimport { JdesignUtil2dService } from \"../../../services/jdesign-util2d.service\";\r\nimport { JPoint } from \"../jdesign/JPoint\";\r\nimport { JCowall3D } from \"../../../three/jDesign3D/JCowall3D\";\r\nimport { JRoom } from \"../jdesign/JRoom\";\r\n\r\nexport class CowallCal {\r\n    constructor(\r\n        private calService: CalculatorsService,\r\n        private dataService: JdesignDataService,\r\n        private DUService: JdesignUtil2dService\r\n    ) {\r\n\r\n    }\r\n\r\n    /** 是否同点 */\r\n    isSamePos(cowall: JCowall) {\r\n        let posArr = cowall.getPosArr()\r\n        let a = this.DUService.pos.isSamePos(posArr[0], posArr[1])\r\n        return a\r\n    }\r\n\r\n    /** 判断墙是否同序 */\r\n    isSameSort(cowall: JCowall) {\r\n        let wall: JWall = cowall.getWall()\r\n        if (wall.coedgeID == cowall.id) {\r\n            return true\r\n        }\r\n        else\r\n            return false\r\n    }\r\n\r\n    /** 获取有序墙一边坐标 */\r\n    private getHalfPosArr(cowall: JCowall, out: boolean) {\r\n        let wall: JWall = cowall.getWall()\r\n        let pathArr: DC.Pos[][] = this.calService.wall.getOutLine(wall)\r\n        if (pathArr == null)\r\n            return null\r\n        let posArr: DC.Pos[] = null\r\n        if (out == (wall.coedgeID == cowall.id)) {\r\n            posArr = [pathArr[1][1], pathArr[0][0]]\r\n        } else {\r\n            posArr = [pathArr[0][1], pathArr[1][0]]\r\n        }\r\n        return posArr\r\n    }\r\n\r\n    /** 获取外有序墙坐标 */\r\n    getOutPosArr(cowall: JCowall) {\r\n        return this.getHalfPosArr(cowall, true)\r\n    }\r\n\r\n    /** 获取内有序墙坐标 */\r\n    getInPosArr(cowall: JCowall) {\r\n        return this.getHalfPosArr(cowall, false)\r\n    }\r\n\r\n\r\n    /** 获取外有序墙长度 */\r\n    getOutLength(cowall: JCowall) {\r\n        let posArr: DC.Pos[] = this.getOutPosArr(cowall)\r\n        let distance = this.DUService.pos.getDistance(posArr[0], posArr[1])\r\n        return distance\r\n    }\r\n\r\n    /** 获取内有序墙长度 */\r\n    getInLength(cowall: JCowall) {\r\n        let posArr: DC.Pos[] = this.getInPosArr(cowall)\r\n        let distance = this.DUService.pos.getDistance(posArr[0], posArr[1])\r\n        return distance\r\n    }\r\n\r\n    /** 删除关联的点(会触发联动) */\r\n    delPointID(cowall: JCowall) {\r\n        let pointArr: JPoint[] = cowall.getPointArr()\r\n        for (let i = 0; i < pointArr.length; i++) {\r\n            /** 找到相同的位置 */\r\n            let int = this.DUService.cal.isInclude(pointArr[i].cowallIDs, cowall.id)\r\n            if (int != null)\r\n                pointArr[i].cowallIDs.splice(int, 1)\r\n        }\r\n    }\r\n\r\n    /** 删除room 会触发room运算器联动 */\r\n    delRoom(cowall: JCowall) {\r\n        let room = cowall.getRoom()\r\n        if (room) {\r\n            this.calService.room.delCowallID(room)\r\n            this.calService.room.del(room)\r\n        }\r\n\r\n    }\r\n\r\n    /** 删除上下关系 */\r\n    delPrevNext(cowall: JCowall) {\r\n        let prevCowall: JCowall = cowall.getPrevCowall()\r\n        if (prevCowall != null && prevCowall != undefined && prevCowall.nextID == cowall.id)\r\n            prevCowall.nextID = null\r\n        let nextCowall: JCowall = cowall.getNextCowall()\r\n        if (nextCowall != null && nextCowall != undefined && nextCowall.prevID == cowall.id)\r\n            nextCowall.prevID = null\r\n    }\r\n\r\n    /** 删除floorplan */\r\n    delFloorplan(cowall: JCowall) {\r\n        let int = this.DUService.cal.isInclude(this.dataService.floorplan.cowallIDs, cowall.id)\r\n        if (int != null) {\r\n            this.dataService.floorplan.cowallIDs.splice(int, 1)\r\n        }\r\n    }\r\n\r\n    getNearCowalls(cowall: JCowall) {\r\n        let pointArr = cowall.getPointArr()\r\n        let cowalls = pointArr[0].getCowallArr()\r\n        cowalls.push(...pointArr[1].getCowallArr())\r\n        this.DUService.cal.removeByAttr(cowalls, 'id', cowall.id)\r\n        return cowalls\r\n    }\r\n\r\n    /** 删除父系关联(指空间或者floorplan关联) */\r\n    delParent(cowall: JCowall) {\r\n        // console.log(cowall.id)\r\n        // console.log('del parent')\r\n        if (cowall.roomID != null) {\r\n            this.delRoom(cowall)\r\n            this.delFloorplan(cowall)\r\n        } else {\r\n            this.delFloorplan(cowall)\r\n        }\r\n    }\r\n\r\n    /** 删除上下关系集合 */\r\n    delPrevNexts(...cowalls: JCowall[]) {\r\n        for (let i = 0; i < cowalls.length; i++) {\r\n            this.delPrevNext(cowalls[i])\r\n        }\r\n    }\r\n\r\n    /** 删掉wall索引,如果有反cowall,会自动设wall到cowall 删除成功则返回true*/\r\n    delWallID(cowall: JCowall) {\r\n        let wall = cowall.getWall()\r\n        if (wall.coedgeID == cowall.id) {\r\n            if (cowall.partnerID != null)\r\n                wall.coedgeID = cowall.partnerID\r\n            else\r\n                return false\r\n        }\r\n        cowall.edgeID = null\r\n        return true\r\n    }\r\n\r\n    /** 删除(会删除彼此的partnerID) */\r\n    del(cowall: JCowall) {\r\n        // this.dataService.cache.cowall.update3D.emit()\r\n        cowall.destory3D()\r\n        let oppCowall = cowall.getOppsiteCowall()\r\n        if (oppCowall != null)\r\n            oppCowall.partnerID = null\r\n        delete this.dataService.cowalls[cowall.id]\r\n    }\r\n\r\n\r\n    /** 设置新的空间号 */\r\n    setNewRoomID(cowalls: JCowall[], roomID: string) {\r\n        for (let i = 0; i < cowalls.length; i++) {\r\n            cowalls[i].roomID = roomID\r\n        }\r\n    }\r\n\r\n    /** 设置calFlag */\r\n    resetCalFlag(cowallArr: JCowall[], flag: number) {\r\n        for (let i = 0; i < cowallArr.length; i++) {\r\n            cowallArr[i].calFlag = flag\r\n        }\r\n    }\r\n\r\n    /** 上下合并(一般用于点合并使用) 会造成空间联动 */\r\n    setPrevNextCombine(cowall: JCowall) {\r\n        let prevCowall = cowall.getPrevCowall()\r\n        let nextCowall = cowall.getNextCowall()\r\n        /** 都有情况下 */\r\n        if (prevCowall != null && nextCowall != null) {\r\n            prevCowall.nextID = nextCowall.id\r\n            nextCowall.prevID = prevCowall.id\r\n            if (cowall.roomID != null) {\r\n                let room = cowall.getRoom()\r\n                room.resetCowallIDs(prevCowall)\r\n                cowall.roomID = null\r\n            }\r\n        }\r\n        /** 只有其中一个有 */\r\n        else if (prevCowall != null) {\r\n            prevCowall.nextID = null\r\n        }\r\n        else if (nextCowall != null) {\r\n            nextCowall.prevID = null\r\n        }\r\n        cowall.prevID = null\r\n        cowall.nextID = null\r\n    }\r\n\r\n    /** 绝对删除(会触发联动)) */\r\n    absDel(cowall: JCowall) {\r\n        this.delPrevNext(cowall)\r\n        this.delPointID(cowall)\r\n        this.delWallID(cowall)\r\n        this.delParent(cowall)\r\n        this.del(cowall)\r\n    }\r\n\r\n    /** 删除不用的cowall */\r\n    delNoUse(cowalls?: JCowall[]) {\r\n        if (!cowalls) {\r\n            cowalls = this.dataService.doCowalls().arr()\r\n        }\r\n        for (let i = cowalls.length - 1; i >= 0; i--) {\r\n            if (!cowalls[i].roomID && cowalls[i].partnerID) {\r\n                this.absDel(cowalls[i])\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    /** 单cowall反向化 已经是双向cowall无效 */\r\n    changeOppsite(cowall: JCowall) {\r\n        /** 双向cowall无效 */\r\n        if (cowall.partnerID != null)\r\n            return null\r\n\r\n        /** 生成反墙 */\r\n        let newCowall = this.createOppositeCowall(cowall)\r\n\r\n        /** 删除点联系 */\r\n        this.delPointID(cowall)\r\n\r\n        /** 删除原来cowall上下关系 */\r\n        this.delPrevNext(cowall)\r\n\r\n        /** 删除原来空间 */\r\n        this.delRoom(cowall)\r\n\r\n        /** 改变wall的索引 */\r\n        let wall: JWall = cowall.getWall()\r\n        wall.coedgeID = newCowall.id\r\n        newCowall.edgeID = wall.id\r\n        newCowall.partnerID = null\r\n\r\n        this.dataService.cache.cowall.oppsiteUpdate.emit([cowall, newCowall])\r\n\r\n        /** 删除原来的cowall */\r\n        this.del(cowall)\r\n        return newCowall\r\n\r\n    }\r\n\r\n    /** 获取cowall数组 */\r\n    getCowallsByIDs(cowallIDs: string[]) {\r\n        let cowallArr: JCowall[] = []\r\n        for (let i = 0; i < cowallIDs.length; i++) {\r\n            cowallArr.push(this.dataService.cowalls[cowallIDs[i]])\r\n        }\r\n        return cowallArr\r\n    }\r\n\r\n    /** 设置顺序 sort正序为true,circle闭合为true 返回cowallIDs*/\r\n    setSort(sort: boolean, circle: boolean, ...cowalls: JCowall[]): string[] {\r\n\r\n        let cowallIDs: string[] = []\r\n        if (cowalls.length < 2)\r\n            return cowallIDs\r\n\r\n        /** 先删除上下关系 */\r\n        this.delPrevNexts(...cowalls)\r\n\r\n        /** 正序 */\r\n        if (sort) {\r\n            cowalls[0].nextID = cowalls[1].id\r\n            cowallIDs.push(cowalls[0].id)\r\n\r\n            for (let i = 1; i < cowalls.length - 1; i++) {\r\n                cowalls[i].nextID = cowalls[i + 1].id\r\n                cowalls[i].prevID = cowalls[i - 1].id\r\n                cowallIDs.push(cowalls[i].id)\r\n            }\r\n\r\n            cowalls[cowalls.length - 1].prevID = cowalls[cowalls.length - 2].id\r\n            cowallIDs.push(cowalls[cowalls.length - 1].id)\r\n\r\n            if (circle) {\r\n                cowalls[0].prevID = cowalls[cowalls.length - 1].id\r\n                cowalls[cowalls.length - 1].nextID = cowalls[0].id\r\n            }\r\n        }\r\n        /** 逆序 */\r\n        else {\r\n            cowalls[0].prevID = cowalls[1].id\r\n            cowallIDs.splice(0, 0, cowalls[0].id)\r\n\r\n            for (let i = 1; i < cowalls.length - 1; i++) {\r\n                cowalls[i].prevID = cowalls[i + 1].id\r\n                cowalls[i].nextID = cowalls[i - 1].id\r\n                cowallIDs.splice(0, 0, cowalls[i].id)\r\n            }\r\n\r\n            cowalls[cowalls.length - 1].nextID = cowalls[cowalls.length - 2].id\r\n            cowallIDs.splice(0, 0, cowalls[cowalls.length - 1].id)\r\n\r\n            if (circle) {\r\n                cowalls[0].nextID = cowalls[cowalls.length - 1].id\r\n                cowalls[cowalls.length - 1].prevID = cowalls[0].id\r\n            }\r\n        }\r\n        return cowallIDs\r\n    }\r\n\r\n    /** 产生新的cowall */\r\n    createCowall(pointIDs: string[]) {\r\n        let cowall: JCowall = new JCowall3D({ pointIDs: pointIDs }, this.dataService, this.DUService)\r\n        return cowall\r\n    }\r\n\r\n    /** 生成反cowall 如果有反cowall返回null */\r\n    createOppositeCowall(cowall: JCowall) {\r\n        if (cowall.partnerID != null)\r\n            return null\r\n        let newCowall: JCowall = new JCowall3D(\r\n            {\r\n                pointIDs: [cowall.pointIDs[1], cowall.pointIDs[0]],\r\n                edgeID: cowall.edgeID,\r\n                partnerID: cowall.id\r\n            }, this.dataService, this.DUService)\r\n        return newCowall\r\n    }\r\n\r\n    /** 判断点在墙上的坐标内外 */\r\n    isOutPos(cowall: JCowall, pos: DC.Pos) {\r\n        let posArr = cowall.getPosArr()\r\n        let area = this.DUService.pos.getArea(pos, ...posArr)\r\n        if (area < 0)\r\n            return true\r\n        else\r\n            return false\r\n    }\r\n\r\n    /** 检测是否与相邻的边重叠(prev,next) */\r\n    checkParallelByNear(cowall: JCowall) {\r\n        let radian = cowall.getRadian()\r\n        let prevCowall = cowall.getPrevCowall()\r\n        let nextCowall = cowall.getNextCowall()\r\n        let msg = {\r\n            /** cowall的上cowall */\r\n            prev: null,\r\n            prevDistance: null,\r\n            /** cowall的下cowall */\r\n            next: null,\r\n            nextDistance: null\r\n        }\r\n        /** 判断上边 */\r\n        if (prevCowall != null) {\r\n            let prevRadian = prevCowall.getRadian()\r\n            if (this.DUService.pos.isParallelRadian(radian, prevRadian)) {\r\n                let startPoint = cowall.getPointEnd()\r\n                let checkLine = prevCowall.getPosArr()\r\n                let distance = this.DUService.pos.getDistance(startPoint.pos, this.DUService.pos.getPointToLinePos(startPoint.pos, checkLine[0], checkLine[1]))\r\n                msg.prevDistance = distance\r\n                msg.prev = prevCowall\r\n            }\r\n        }\r\n        /** 判断下边 */\r\n        if (nextCowall != null) {\r\n            let nextRadian = nextCowall.getRadian()\r\n            if (this.DUService.pos.isParallelRadian(radian, nextRadian)) {\r\n                let endPoint = cowall.getPointStart()\r\n                let checkLine = nextCowall.getPosArr()\r\n                let distance = this.DUService.pos.getDistance(endPoint.pos, this.DUService.pos.getPointToLinePos(endPoint.pos, checkLine[0], checkLine[1]))\r\n                msg.nextDistance = distance\r\n                msg.next = nextCowall\r\n            }\r\n        }\r\n        return msg\r\n    }\r\n\r\n    /** 有序墙合体 cowallA依附cowallB合并成cowallB;\r\n     * cowallA和cowallB必须是连着,否则返回false不作为;\r\n     * 成功后cowallA会自当删除;\r\n     * @param cowallA 必须没有反向索引, 否则返回false 不作为\r\n     */\r\n    combineCowalls(cowallA: JCowall, cowallB: JCowall) {\r\n        if (cowallA.partnerID != null) {\r\n            console.log(cowallA.partnerID)\r\n            return false\r\n        }\r\n        if (cowallA.prevID == cowallB.id) {\r\n            cowallB.nextID = cowallA.nextID\r\n            let nextCowall = cowallA.getNextCowall()\r\n            nextCowall.prevID = cowallB.id\r\n            nextCowall.pointIDs = [cowallB.pointIDs[1], nextCowall.pointIDs[1]]\r\n            let room = cowallA.getRoom()\r\n            if (room != null) {\r\n                this.DUService.cal.removeByValue(room.cowallIDs, cowallA.id)\r\n            }\r\n            let wall = cowallA.getWall()\r\n            this.calService.wall.delDepend(wall)\r\n            this.delPointID(cowallA)\r\n            delete this.dataService.points[cowallA.pointIDs[1]]\r\n            delete this.dataService.walls[wall.id]\r\n            delete this.dataService.cowalls[cowallA.id]\r\n            return true\r\n\r\n        }\r\n        else if (cowallA.nextID == cowallB.id) {\r\n            cowallB.prevID = cowallA.prevID\r\n            let prevCowall = cowallA.getPrevCowall()\r\n            prevCowall.nextID = cowallB.id\r\n            prevCowall.pointIDs = [prevCowall.pointIDs[0], cowallB.pointIDs[0]]\r\n            let room = cowallA.getRoom()\r\n            if (room != null) {\r\n                this.DUService.cal.removeByValue(room.cowallIDs, cowallA.id)\r\n            }\r\n            let wall = cowallA.getWall()\r\n            this.calService.wall.delDepend(wall)\r\n            this.delPointID(cowallA)\r\n            delete this.dataService.points[cowallA.pointIDs[0]]\r\n            delete this.dataService.walls[wall.id]\r\n            delete this.dataService.cowalls[cowallA.id]\r\n            return true\r\n        }\r\n        else {\r\n            return false\r\n        }\r\n\r\n    }\r\n\r\n    /** 切割有序墙 有别与cutWall,不产生反cowall;\r\n     * 新的cowall值得是从原点到距离切割的那部分\r\n     * @param reversed cowall从头或者从尾切割,false为从头切割\r\n     */\r\n    cutCowall(cowall: JCowall, per: number, reversed: boolean = false) {\r\n        let pointStart = cowall.getPointStart()\r\n        let pointEnd = cowall.getPointEnd()\r\n        let distance = this.DUService.pos.getDistance(pointStart.pos, pointEnd.pos)\r\n        let distancePer = distance * per\r\n        let radian = this.DUService.pos.getRadian(pointStart.pos, pointEnd.pos)\r\n        let newCowall: JCowall = null\r\n        let newPoint: JPoint = null\r\n        /** 从头切割 */\r\n        if (!reversed) {\r\n            let rayPos = this.DUService.pos.getRayPos(pointStart.pos, radian, distancePer)\r\n            newPoint = this.calService.point.createPoint({ x: pointStart.pos.x, y: pointStart.pos.y })\r\n            pointStart.pos = rayPos\r\n            newCowall = this.calService.cowall.createCowall([newPoint.id, pointStart.id])\r\n            let prevCowall = cowall.getPrevCowall()\r\n            if (prevCowall != null) {\r\n                prevCowall.pointIDs = [prevCowall.pointIDs[0], newPoint.id]\r\n                cowall.prevID = newCowall.id\r\n                newCowall.prevID = prevCowall.id\r\n                prevCowall.nextID = newCowall.id\r\n                newCowall.nextID = cowall.id\r\n            }\r\n\r\n\r\n        }\r\n        /** 从尾切割 */\r\n        else {\r\n            let rayPos = this.DUService.pos.getRayPos(pointEnd.pos, radian + Math.PI, distancePer)\r\n            newPoint = this.calService.point.createPoint({ x: pointEnd.pos.x, y: pointEnd.pos.y })\r\n            pointEnd.pos = rayPos\r\n            newCowall = this.calService.cowall.createCowall([pointEnd.id, newPoint.id])\r\n            let nextCowall = cowall.getNextCowall()\r\n            if (nextCowall != null) {\r\n                nextCowall.pointIDs = [newPoint.id, nextCowall.pointIDs[1]]\r\n                cowall.nextID = newCowall.id\r\n                newCowall.nextID = nextCowall.id\r\n                nextCowall.prevID = newCowall.id\r\n                newCowall.prevID = cowall.id\r\n            }\r\n        }\r\n        newCowall.roomID = cowall.roomID\r\n        let newWall = this.calService.wall.createWall(newCowall.id)\r\n        newCowall.edgeID = newWall.id\r\n        let room = cowall.getRoom()\r\n        if (room != null) {\r\n            room.cowallIDs.push(newCowall.id)\r\n        }\r\n        return {\r\n            wall: newWall,\r\n            cowall: newCowall,\r\n            point: newPoint\r\n        }\r\n    }\r\n\r\n    /** 检测是否重边 */\r\n    checkpolymerization(cowall: JCowall) {\r\n        let pointStart = cowall.getPointStart()\r\n        let pointEnd = cowall.getPointEnd()\r\n        let oppsiteCowall = cowall.getOppsiteCowall()\r\n        let startCowallArr = pointStart.getCowallArr()\r\n        this.DUService.cal.removeByAttr(startCowallArr, 'id', cowall.id)\r\n        let endCowallArr = pointEnd.getCowallArr()\r\n        this.DUService.cal.removeByAttr(endCowallArr, 'id', cowall.id)\r\n        if (oppsiteCowall != null) {\r\n            this.DUService.cal.removeByAttr(startCowallArr, 'id', oppsiteCowall.id)\r\n            this.DUService.cal.removeByAttr(endCowallArr, 'id', oppsiteCowall.id)\r\n        }\r\n        let radian = cowall.getRadian()\r\n\r\n        let msg: {\r\n            start: JCowall;\r\n            /** cowall包括得到的cowall */\r\n            startInclude: boolean;\r\n            end: JCowall;\r\n            /** cowall包括得到的cowall */\r\n            endInclude: boolean;\r\n        } = { start: null, end: null, startInclude: false, endInclude: false }\r\n\r\n        /** 开始点 */\r\n        for (let i = 0; i < startCowallArr.length; i++) {\r\n            let cowallRadian = startCowallArr[i].getRadian()\r\n            let a = this.DUService.pos.isParallelRadian(radian, cowallRadian)\r\n            if (a) {\r\n                let pointArr = startCowallArr[i].getPointArr()\r\n                let samePos: DC.Pos = null\r\n                let checkPosArr: DC.Pos[] = []\r\n                if (pointArr[0].id == pointStart.id) {\r\n                    samePos = pointArr[0].pos\r\n                    checkPosArr = [pointArr[1].pos, pointEnd.pos]\r\n                }\r\n                else {\r\n                    samePos = pointArr[1].pos\r\n                    checkPosArr = [pointArr[0].pos, pointEnd.pos]\r\n                }\r\n\r\n                if (this.DUService.pos.isInLine(samePos, checkPosArr[0], checkPosArr[1])) {\r\n                    msg.startInclude = true\r\n                    msg.start = startCowallArr[i]\r\n                    break;\r\n                }\r\n                else if (this.DUService.pos.isInLine(samePos, checkPosArr[1], checkPosArr[0])) {\r\n                    msg.startInclude = false\r\n                    msg.start = startCowallArr[i]\r\n                    break;\r\n                }\r\n\r\n            }\r\n        }\r\n\r\n        /** 结束点 */\r\n        for (let i = 0; i < endCowallArr.length; i++) {\r\n            let cowallRadian = endCowallArr[i].getRadian()\r\n            let a = this.DUService.pos.isParallelRadian(radian, cowallRadian)\r\n            if (a) {\r\n                let pointArr = endCowallArr[i].getPointArr()\r\n                let samePos: DC.Pos = null\r\n                let checkPosArr: DC.Pos[] = []\r\n                if (pointArr[0].id == pointEnd.id) {\r\n                    samePos = pointArr[0].pos\r\n                    checkPosArr = [pointArr[1].pos, pointStart.pos]\r\n                }\r\n                else {\r\n                    samePos = pointArr[1].pos\r\n                    checkPosArr = [pointArr[0].pos, pointStart.pos]\r\n                }\r\n\r\n                if (this.DUService.pos.isInLine(samePos, checkPosArr[0], checkPosArr[1])) {\r\n                    msg.endInclude = true\r\n                    msg.end = endCowallArr[i]\r\n                    break;\r\n                }\r\n                else if (this.DUService.pos.isInLine(samePos, checkPosArr[1], checkPosArr[0])) {\r\n                    msg.endInclude = false\r\n                    msg.end = endCowallArr[i]\r\n                    break;\r\n                }\r\n\r\n            }\r\n        }\r\n\r\n        return msg\r\n    }\r\n\r\n    /* 检测空间是否存在 */\r\n    checkRoomExist(cowalls?: JCowall[]) {\r\n        if (!cowalls) {\r\n            cowalls = this.dataService.doCowalls().arr()\r\n        }\r\n        for (let i = 0; i < cowalls.length; i++) {\r\n            let roomID = cowalls[i].roomID\r\n            if (!roomID) {\r\n                let room: JRoom = this.dataService.rooms[roomID]\r\n                if (!room) {\r\n                    cowalls[i].roomID = undefined\r\n                }\r\n            }\r\n        }\r\n    }\r\n}","import { JdesignDataService } from \"../../../services/jdesign-data.service\";\r\nimport { JdesignUtil2dService } from \"../../../services/jdesign-util2d.service\";\r\nimport { JRoom } from \"../jdesign/JRoom\";\r\nimport { JCowall } from \"../jdesign/JCowall\";\r\nimport { JPoint } from \"../jdesign/JPoint\";\r\nimport { CalculatorsService } from \"../../../services/calculators.service\";\r\nimport { DesignCommon as DC } from '../class/DesignCommon'\r\nimport { JCowall3D } from \"../../../three/jDesign3D/JCowall3D\";\r\nimport { rooms } from \"../../../data/design.data\";\r\nimport { JWall } from \"../jdesign/JWall\";\r\nimport { CreateRoomDelCal } from \"./createRoom.del.cal\";\r\nimport { combineAll } from \"rxjs/operators\";\r\n\r\n/** 生成新空间运算器\r\n * 步骤如下:\r\n * 1.先收集线端的数据\r\n * 2.通过局部遍历判断收集可以产生新空间的线段\r\n * 3.非空间有序墙必不能存在有反序墙\r\n */\r\nexport class CreateRoomCalExtends extends CreateRoomDelCal {\r\n\r\n    private _lineID: number = 0\r\n\r\n\r\n    /** 获取id */\r\n    protected get lineID() {\r\n        this._lineID++\r\n        return this._lineID\r\n    }\r\n\r\n    /** 使用过的floorplan */\r\n    private _useFloorPlanLines: { co: boolean, OCo: boolean }[] = []\r\n    protected get useFloorPlanLines() { return this._useFloorPlanLines }\r\n    protected set useFloorPlanLines(data) { this._useFloorPlanLines = data }\r\n\r\n    /** 单墙线 */\r\n    private _floorPlanLines: RoomLine[] = []\r\n    /** 单墙线 */\r\n    protected get floorPlanLines() { return this._floorPlanLines }\r\n    protected set floorPlanLines(data) { this._floorPlanLines = data }\r\n\r\n    /** 外空间线 */\r\n    private _roomsOutLines: RoomLine[] = []\r\n    /** 外空间线 */\r\n    protected get roomsOutLines() { return this._roomsOutLines }\r\n    protected set roomsOutLines(data) { this._roomsOutLines = data }\r\n\r\n    /** 内空间线 */\r\n    private _roomsInLines: RoomLine[][] = []\r\n    /** 内空间线 */\r\n    protected get roomsInLines() { return this._roomsInLines }\r\n    protected set roomsInLines(data) { this._roomsInLines = data }\r\n\r\n    /** 对象线组合 */\r\n    private _objLines: RoomLine[] = []\r\n    /** 对象线组合 */\r\n    protected get objLines() { return this._objLines }\r\n    protected set objLines(data) { this._objLines = data }\r\n\r\n    /** 盒子收集器 */\r\n    private _boxesCache: JBox[] = []\r\n    /** 盒子收集器 */\r\n    protected get boxesCache() { return this._boxesCache }\r\n    protected set boxesCache(data) { this._boxesCache = data }\r\n\r\n    constructor(\r\n        protected dataService: JdesignDataService,\r\n        protected DUService: JdesignUtil2dService,\r\n        protected calService: CalculatorsService\r\n    ) {\r\n        super(dataService, DUService, calService)\r\n    }\r\n\r\n    /** 数据清空 */\r\n    cleanData() {\r\n        this.objLines = []\r\n        this.floorPlanLines = []\r\n        this.roomsInLines = []\r\n        this.roomsOutLines = []\r\n        this.useFloorPlanLines = []\r\n    }\r\n\r\n    /** 将lines数组编程对象数组 */\r\n    addLinesToObj(...lines: RoomLine[]) {\r\n        for (let i = 0; i < lines.length; i++) {\r\n            let id: string = this.getobjLineName(lines[i])\r\n            this.objLines[id] = lines[i]\r\n            /** 有空间依赖的 */\r\n            if (lines[i].roomID != null) {\r\n                /** 在空间外 */\r\n                if (lines[i].cowallID == null) {\r\n                    this.roomsOutLines[id] = lines[i]\r\n                    lines[i].type = 'roomsOutLine'\r\n                }\r\n                /** 在空间内 */\r\n                else {\r\n                    /** 没有空间索引,需要新创建 */\r\n                    if (this.roomsInLines[lines[i].roomID] == undefined) {\r\n                        this.roomsInLines[lines[i].roomID] = []\r\n                    }\r\n                    this.roomsInLines[lines[i].roomID][id] = lines[i]\r\n                    lines[i].type = 'roomsInLine'\r\n                }\r\n            }\r\n            /** 没有空间依赖,一定是单墙 */\r\n            else {\r\n                this.floorPlanLines[id] = lines[i]\r\n                lines[i].type = 'floorPlanLine'\r\n            }\r\n        }\r\n    }\r\n\r\n    /** 删除lines */\r\n    delLines(lines: RoomLine[]) {\r\n        for (let i = 0; i < lines.length; i++) {\r\n            // console.log(i)\r\n            let id: string = this.getobjLineName(lines[i])\r\n            /** 删除总的 */\r\n            delete this.objLines[id]\r\n            /** 有空间依赖的 */\r\n            if (lines[i].roomID != null) {\r\n                /** 在空间外 */\r\n                if (lines[i].cowallID == null) {\r\n                    delete this.roomsOutLines[id]\r\n                }\r\n                /** 在空间内 */\r\n                else {\r\n                    delete this.roomsInLines[lines[i].roomID][id]\r\n                }\r\n            }\r\n            /** 没有空间依赖,一定是单墙 */\r\n            else {\r\n                /** 记录单墙使用 */\r\n                let newCowallID: string = undefined\r\n                let coNum: number = undefined\r\n                // try {\r\n                coNum = this.floorPlanLines[id].cowallID == null ? -1 : 1\r\n                newCowallID = coNum == 1 ? this.floorPlanLines[id].cowallID : this.floorPlanLines[id].OCowallID\r\n                // }\r\n                // catch (e) {\r\n                //     console.log('---------------------')\r\n                //     console.log(lines)\r\n                //     console.log(e)\r\n                //     return false\r\n                // }\r\n                if (this.useFloorPlanLines[newCowallID] == undefined) {\r\n                    this.useFloorPlanLines[newCowallID] = {\r\n                        co: coNum == 1 ? true : false,\r\n                        OCo: coNum != 1 ? true : false\r\n                    }\r\n                } else {\r\n                    coNum == 1 ? this.useFloorPlanLines[newCowallID].co = true :\r\n                        this.useFloorPlanLines[newCowallID].OCo = true\r\n                }\r\n                delete this.floorPlanLines[id]\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n    /** 获取line的在objline名字 */\r\n    getobjLineName(line: RoomLine) {\r\n        let id: string = line.cowallID != null ? line.cowallID : 'o' + line.OCowallID\r\n        return id\r\n    }\r\n\r\n    /** 通过cowall获取line */\r\n    getLineByCowall(cowall: JCowall) {\r\n        let line = this.objLines[cowall.id]\r\n        return line\r\n    }\r\n\r\n    /** 初始化使用的线段 \r\n     * console调试用,调试请开启\r\n    */\r\n    initLines() {\r\n        this.cleanData()\r\n        let lines = this.getCowallsLine()\r\n        // console.log(`线的个数:${lines.length}`)\r\n        this.objLines = []\r\n        this.addLinesToObj(...lines)\r\n        let arrID: string[] = []\r\n        for (let key in this._roomsOutLines) {\r\n            arrID.push(key)\r\n        }\r\n        // console.log('外空间')\r\n        // console.log(arrID)\r\n        // arrID = []\r\n        // for (let keyA in this._roomsInLines) {\r\n        //     for (let keyB in this._roomsInLines[keyA]) {\r\n        //         arrID.push(keyB)\r\n        //     }\r\n        // }\r\n        // console.log('内空间')\r\n        // console.log(arrID)\r\n        // arrID = []\r\n        // for (let key in this._floorPlanLines) {\r\n        //     arrID.push(key)\r\n        // }\r\n        // console.log('表空间')\r\n        // console.log(arrID)\r\n    }\r\n\r\n    /** 收集所有cowall的线段 */\r\n    getCowallsLine() {\r\n        let datas: RoomLine[] = []\r\n        let key: string = null\r\n        for (key in this.dataService.cowalls) {\r\n            let cowall: JCowall = this.dataService.cowalls[key]\r\n            let newData: RoomLine = {\r\n                pointIDs: [cowall.getPointStart().id, cowall.getPointEnd().id],\r\n                cowallID: cowall.id,\r\n                OCowallID: null,\r\n                wallID: cowall.edgeID,\r\n                roomID: cowall.roomID,\r\n                id: this.lineID\r\n            }\r\n            datas.push(newData)\r\n            /** 没有partnerID意味着没有反序墙,需要模拟反序线 */\r\n            if (cowall.partnerID == null) {\r\n                newData = {\r\n                    pointIDs: [cowall.getPointEnd().id, cowall.getPointStart().id],\r\n                    cowallID: null,\r\n                    OCowallID: cowall.id,\r\n                    wallID: cowall.edgeID,\r\n                    roomID: cowall.roomID,\r\n                    id: this.lineID\r\n                }\r\n\r\n                datas.push(newData)\r\n            }\r\n            // if (this.dataService.cowalls[key].partnerID == null) {\r\n            // }\r\n        }\r\n        return datas\r\n    }\r\n\r\n    /** 是否存在相同的线 */\r\n    isSameLine(line: RoomLine, lineArr: RoomLine[]) {\r\n        return this.DUService.cal.isIncludeByAttr('id', line.id, ...lineArr)\r\n    }\r\n\r\n    /** 找线规则 */\r\n    getFindLines(box: JBox) {\r\n        let line = box.lines[box.lines.length - 1]\r\n        let lines: RoomLine[] = []\r\n\r\n        /** 规则 */\r\n        let ruleFunc = (keyLine: RoomLine) => {\r\n            let a =\r\n                /** 必须相连 */\r\n                keyLine.pointIDs[0] == line.pointIDs[1] &&\r\n                /** 不能是反线 */\r\n                keyLine.pointIDs[1] != line.pointIDs[0]\r\n            return a\r\n        }\r\n        /** 在空间内产生的空间===================================== */\r\n        if (box.out == 2) {\r\n            /** 可能会经过内空间 */\r\n            for (let key in this.roomsInLines[box.roomID]) {\r\n                if (ruleFunc(this.roomsInLines[box.roomID][key]))\r\n                    lines.push(this.roomsInLines[box.roomID][key])\r\n            }\r\n            /** 也有可能会经过单墙 */\r\n            for (let key in this.floorPlanLines) {\r\n                if (ruleFunc(this.floorPlanLines[key]))\r\n                    lines.push(this.floorPlanLines[key])\r\n            }\r\n        }\r\n        /** 在空间外部产生的空间=========================== */\r\n        else if (box.out == 1) {\r\n            /** 可能会经过外空间 */\r\n            for (let key in this.roomsOutLines) {\r\n                if (ruleFunc(this.roomsOutLines[key]))\r\n                    lines.push(this.roomsOutLines[key])\r\n            }\r\n            /** 也有可能会经过单墙 */\r\n            for (let key in this.floorPlanLines) {\r\n                if (ruleFunc(this.floorPlanLines[key]))\r\n                    lines.push(this.floorPlanLines[key])\r\n            }\r\n        }\r\n        /** 不清楚情况遍历全部=========================== */\r\n        else if (box.out == 0) {\r\n            for (let key in this.objLines) {\r\n                if (ruleFunc(this.objLines[key]))\r\n                    lines.push(this.objLines[key])\r\n            }\r\n        }\r\n        return lines\r\n    }\r\n\r\n    /** 下条线规则 */\r\n    nextLineRule(box: JBox, line: RoomLine) {\r\n        let a = true\r\n        return a\r\n        /** 符合规则====================================== */\r\n        /** 在外面 */\r\n        // if (box.out) {\r\n        //     /** 在外面的线可以有空间索引,但cowall索引必须为空,因为不在空间内 */\r\n        //     if (\r\n        //         (line.roomID != null && line.cowallID == null) ||\r\n        //         /** 线没有空间索引时,判断不了,所以为true */\r\n        //         line.roomID == null\r\n        //     ) {\r\n        //         return true\r\n        //     }\r\n        //     else {\r\n        //         return false\r\n        //     }\r\n        // }\r\n        // /** 线在里面 */\r\n        // else if (box.roomID == line.roomID || line.roomID == null) {\r\n        //     return true\r\n        // }\r\n        // /** 不符合规则============================ */\r\n        // else {\r\n        //     return false\r\n        // }\r\n    }\r\n\r\n    /** 获取反向线 (linesObj为对象数组) */\r\n    getOppsiteLine(line: RoomLine, linesObj: RoomLine[]): RoomLine {\r\n        if (line.cowallID == null) {\r\n            return linesObj[line.OCowallID]\r\n        }\r\n        else {\r\n            return linesObj['o' + line.cowallID]\r\n        }\r\n    }\r\n\r\n    /** 获取反向线数组 (linesObj为对象数组) */\r\n    getOppsiteLines(lines: RoomLine[], linesObj: RoomLine[]) {\r\n        let newLines: RoomLine[] = []\r\n        for (let i = 0; i < lines.length; i++) {\r\n            newLines.push(this.getOppsiteLine(lines[i], linesObj))\r\n        }\r\n        return newLines\r\n    }\r\n\r\n\r\n    /** 通过line改写box属性规则 */\r\n    lineChangeBox(box: JBox, line: RoomLine) {\r\n        /** 判断盒子与空间的联系 */\r\n        if (line.roomID != null) {\r\n            /** 判断盒子是否与空间关联 */\r\n            if (box.roomID == null)\r\n                box.roomID = line.roomID\r\n            /** 判断盒子是否在空间里面 */\r\n            if (line.cowallID != null)\r\n                box.out = 2\r\n            /** 在空间外 */\r\n            else {\r\n                box.out = 1\r\n            }\r\n        }\r\n        box.lines.push(line)\r\n        return true\r\n    }\r\n\r\n    /** 获取尾部插入线 点和线的首点比较,返回线下标,没有返回null */\r\n    getEndPointIntersect(pointID: string, lines: RoomLine[]) {\r\n        for (let i = 0; i < lines.length; i++) {\r\n            if (pointID == lines[i].pointIDs[0])\r\n                return i\r\n        }\r\n        return null\r\n    }\r\n\r\n    /** 是否包围原来空间 */\r\n    isInCludeRoom(box: JBox) {\r\n        let roomID = box.lines[0].roomID\r\n        if (roomID != null) {\r\n            let same = this.DUService.cal.isSameArrByAttr(box.lines, 'roomID')\r\n            if (same)\r\n                return true\r\n        }\r\n        return false\r\n    }\r\n\r\n    /** 通过面积获取box */\r\n    getBoxByArea(boxes: JBox[]) {\r\n        let posArr: DC.Pos[] = []\r\n        let minArea: number = null\r\n        let minBox: JBox = null\r\n        for (let i = 0; i < boxes.length; i++) {\r\n            let area = this.getBoxArea(boxes[i])\r\n            if (area > 0 && (minArea == null || minArea > area)) {\r\n                minArea = area\r\n                minBox = boxes[i]\r\n            }\r\n        }\r\n        return minBox\r\n    }\r\n\r\n    /** 获取box面积 */\r\n    getBoxArea(box: JBox) {\r\n        let posArr: DC.Pos[] = []\r\n        /** 获取计算面积的点 */\r\n        for (let i = 0; i < box.lines.length; i++) {\r\n            posArr.push(this.dataService.points[box.lines[i].pointIDs[0]].pos)\r\n        }\r\n        /** 计算面积 */\r\n        let area = this.DUService.pos.getArea(...posArr)\r\n        return area\r\n    }\r\n\r\n    /** 通过盒子删除空间 */\r\n    delRoomsByroomIDs(roomIDs: string[]) {\r\n        roomIDs = this.DUService.cal.unique(roomIDs)\r\n        for (let i = 0; i < roomIDs.length; i++) {\r\n            let room = <JRoom>this.dataService.rooms[roomIDs[i]]\r\n            if (room) {\r\n                let cowallArr = room.getCowallArr()\r\n                for (let i = 0; i < cowallArr.length; i++) {\r\n                    if (combineAll[i] && cowallArr[i].roomID == room.id) {\r\n                        cowallArr[i].roomID = null\r\n                    }\r\n                }\r\n                this.calService.room.del(room)\r\n            }\r\n        }\r\n    }\r\n\r\n    /** 删除错误空间单墙 */\r\n    delRoomErrFloorPlanCowalls(rooms: JRoom[]) {\r\n        for (let i = 0; i < rooms.length; i++) {\r\n            // console.log(rooms[i].id)\r\n            let cowalls = rooms[i].getCowallArrBySort()\r\n            for (let j = 0; j < cowalls.length; j++) {\r\n                let oppositeCowall = cowalls[j].getOppsiteCowall()\r\n                // console.log(oppositeCowall)\r\n                if (oppositeCowall != null) {\r\n                    if (oppositeCowall.roomID == null) {\r\n                        // console.log('sss')\r\n                        let wall = oppositeCowall.getWall()\r\n                        wall.coedgeID = cowalls[j].id\r\n                        cowalls[j].edgeID = wall.id\r\n                        // this.calService.cowall.delFloorplan(oppositeCowall)\r\n                        // this.calService.cowall.delPrevNext(oppositeCowall)\r\n                        // this.calService.cowall.delPointID(oppositeCowall)\r\n                        // this.calService.cowall.delWallID(oppositeCowall)\r\n                        // this.calService.cowall.del(oppositeCowall)\r\n                        this.calService.cowall.absDel(oppositeCowall)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /** 删除错误单墙 */\r\n    delFloorplanErrCowalls() {\r\n        for (let key in this.useFloorPlanLines) {\r\n            if (this.useFloorPlanLines[key].OCo && !this.useFloorPlanLines[key].co) {\r\n\r\n                let cowall: JCowall = this.dataService.cowalls[key]\r\n                let OCowall = cowall.getOppsiteCowall()\r\n                // console.log(OCowall.id)\r\n                let wall: JWall = cowall.getWall()\r\n                wall.coedgeID = OCowall.id\r\n                OCowall.edgeID = wall.id\r\n\r\n                // /** 删除 */\r\n                this.calService.cowall.delPrevNext(cowall)\r\n                this.calService.cowall.delPointID(cowall)\r\n                this.calService.cowall.delFloorplan(cowall)\r\n                this.calService.cowall.del(cowall)\r\n            }\r\n        }\r\n    }\r\n\r\n    /** 删除错误单墙prevNext */\r\n    delFloorplanErrCowallsNP() {\r\n        for (let i = 0; i < this.dataService.floorplan.cowallIDs.length; i++) {\r\n\r\n            let key = this.dataService.floorplan.cowallIDs[i]\r\n            let cowall: JCowall = this.dataService.cowalls[key]\r\n            // console.log(key)\r\n            // console.log(cowall)\r\n            if (cowall) {\r\n                let prevCowall = cowall.getPrevCowall()\r\n                if (prevCowall != null && prevCowall != undefined && prevCowall.nextID != cowall.id) {\r\n                    cowall.prevID = null\r\n                }\r\n                let nextCowall = cowall.getNextCowall()\r\n                if (nextCowall != null && nextCowall != undefined && nextCowall.prevID != cowall.id) {\r\n                    cowall.nextID = null\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /* 删除使用过的线 */\r\n    delNoUseLine(line: RoomLine) {\r\n        let id = this.getobjLineName(line)\r\n        switch (line.type) {\r\n            case \"roomsOutLine\":\r\n                delete this.roomsOutLines[id]\r\n                break\r\n            case \"floorPlanLine\":\r\n                delete this.floorPlanLines[id]\r\n                break\r\n        }\r\n    }\r\n}\r\n\r\nexport class RoomLine {\r\n    pointIDs: string[];\r\n    cowallID: string;\r\n    wallID: string;\r\n    roomID: string;\r\n    /** cowall为空,这个必须有值 */\r\n    OCowallID: string;\r\n    /** 新建cowall的数据id,便于搜寻  */\r\n    newCowallID?: string;\r\n    id: number;\r\n    type?: string;\r\n}\r\n\r\n/** 闭合盒子还未形成空间,有形成空间元素 */\r\nexport class JBox {\r\n    /** 线段集合,带顺序 */\r\n    lines: RoomLine[];\r\n    /** 是否与空间关联,一旦确定不再更改 */\r\n    roomID: string;\r\n    /** 开始点标记,这样好查出算法问题 */\r\n    start: string;\r\n    /** 是否在空间里面,0为未知,1为在外,2为在内 */\r\n    out: number;\r\n    /** 0为未闭合,1为已经闭合,2为已经没路了 */\r\n    done: number;\r\n    /** id */\r\n    id: number;\r\n}\r\n\r\n/** 被选中的盒子 */\r\nexport class ChoosedBox {\r\n    area: number;\r\n\r\n}","import { JdesignDataService } from \"../../../services/jdesign-data.service\";\r\nimport { JdesignUtil2dService } from \"../../../services/jdesign-util2d.service\";\r\nimport { JRoom } from \"../jdesign/JRoom\";\r\nimport { JCowall } from \"../jdesign/JCowall\";\r\nimport { JPoint } from \"../jdesign/JPoint\";\r\nimport { CalculatorsService } from \"../../../services/calculators.service\";\r\nimport { DesignCommon as DC } from '../class/DesignCommon'\r\nimport { CreateRoomCalExtends, JBox, RoomLine } from \"./createRoom.cal.extends\";\r\nimport { JWall } from \"../jdesign/JWall\";\r\nimport { RoomReadyType } from \"./room.cal\";\r\nimport { JFloor } from \"../jdesign/JFloor\";\r\nimport { JRoof } from \"../jdesign/JRoof\";\r\n\r\n/** 生成新空间运算器\r\n * 步骤如下:\r\n * 1.先收集线端的数据\r\n * 2.通过局部遍历判断收集可以产生新空间的线段\r\n * 3.非空间有序墙必不能存在有反序墙\r\n */\r\nexport class CreateRoomCal extends CreateRoomCalExtends {\r\n\r\n\r\n    constructor(\r\n        protected dataService: JdesignDataService,\r\n        protected DUService: JdesignUtil2dService,\r\n        protected calService: CalculatorsService\r\n    ) {\r\n        super(dataService, DUService, calService)\r\n    }\r\n\r\n    checkBoxStart(box: JBox) {\r\n        let line = box.lines[0]\r\n        let id = this.getobjLineName(line)\r\n        if (line.roomID != null) {\r\n            /** 在空间外 */\r\n            if (line.cowallID == null) {\r\n                if (this.roomsOutLines[id] == undefined)\r\n                    return false\r\n            }\r\n            /** 在空间内 */\r\n            else {\r\n                if (this.roomsInLines[id] == undefined)\r\n                    return false\r\n            }\r\n        }\r\n        else {\r\n            if (this.floorPlanLines[id] == undefined)\r\n                return false\r\n        }\r\n        return true\r\n    }\r\n\r\n\r\n    /** 切割空间\r\n     * console是调试用的,调试请开启\r\n     */\r\n    cutRoom(cutWalls: JWall[], isDelParallel: boolean = false, roomReadyMsgs?: RoomReadyType[]) {\r\n        // console.time('xx')\r\n        this.initLines()\r\n        let startBoxes = this.getLineStart(cutWalls)\r\n        let roomIDs: string[] = []\r\n        let newRooms: JRoom[] = []\r\n        // console.log(`开始线数: ${startBoxes.length}`)\r\n        /* 开始寻找空间 */\r\n        for (let i = 0; i < startBoxes.length; i++) {\r\n            let newBoxes = [startBoxes[i]]\r\n            let check = this.checkBoxStart(newBoxes[0])\r\n            if (!check)\r\n                continue\r\n            let a = this.findCircleBox(newBoxes)\r\n            let circleBox = this.getBoxByArea(a)\r\n            if (circleBox != null) {\r\n                try {\r\n                    // console.log(this.DUService.cal.getNewAttrArray(circleBox.lines, 'wallID'))\r\n                    // console.log('======================')\r\n                    let room = this.getCreateRoomByBox(circleBox, roomReadyMsgs)\r\n                    newRooms.push(room)\r\n                    this.delLines(circleBox.lines)\r\n                    if (circleBox.roomID != null && circleBox.out == 2)\r\n                        roomIDs.push(circleBox.roomID)\r\n                    // console.log(room.cowallIDs)\r\n                    // console.log('rrrrrrrrrrrrrrrrrrrrrrrrrrrrrr')\r\n                }\r\n                catch (e) {\r\n                    console.log(e)\r\n                    console.log(circleBox)\r\n                    return undefined\r\n                }\r\n\r\n            }\r\n        }\r\n        /* 找到新的空间 */\r\n        // console.log(`产生空间数量:${newRooms.length}`)\r\n        if (newRooms.length != 0) {\r\n            this.delRoomsByroomIDs(roomIDs)\r\n            this.delFloorplanErrCowalls()\r\n            this.delFloorplanErrCowallsNP()\r\n            this.delRoomErrFloorPlanCowalls(newRooms)\r\n        }\r\n        /** 删除平行墙 */\r\n        if (isDelParallel) {\r\n            for (let i = 0; i < newRooms.length; i++) {\r\n                this.calService.room.delParallel(newRooms[i])\r\n            }\r\n        }\r\n        return newRooms\r\n        // console.timeEnd('xx')\r\n    }\r\n\r\n    /** 交点开始 */\r\n    getLineStart(cutWalls: JWall[]) {\r\n        /** 收集到的闭合盒子,还不是空间 */\r\n        let boxes: JBox[] = []\r\n        let box: JBox = null\r\n        let setBoxesfunc = (cowall: JCowall) => {\r\n            let line: RoomLine = this.getLineByCowall(cowall)\r\n            box = {\r\n                lines: [line],\r\n                roomID: line.roomID,\r\n                start: cowall.getPointStart().id,\r\n                out: 0,\r\n                done: 0,\r\n                id: this.lineID\r\n            }\r\n            boxes.push(box)\r\n            // console.log(line.cowallID)\r\n            // console.log(line.OCowallID)\r\n            // console.log('===========')\r\n            line = this.getOppsiteLine(line, this.objLines)\r\n            if (line != undefined) {\r\n                box = {\r\n                    lines: [line],\r\n                    roomID: line.roomID,\r\n                    start: cowall.getPointEnd().id,\r\n                    out: 0,\r\n                    done: 0,\r\n                    id: this.lineID\r\n                }\r\n                boxes.push(box)\r\n            }\r\n        }\r\n\r\n        /** cutWall部分 */\r\n        for (let i = 0; i < cutWalls.length; i++) {\r\n            let cowall = cutWalls[i].getCowall()\r\n            let pointArr = cowall.getPointArr()\r\n            let need = true\r\n            for (let i = 0; i < pointArr.length; i++) {\r\n                if (pointArr[i].cowallIDs.length == 1) {\r\n                    need = false\r\n                    break\r\n                }\r\n            }\r\n            need ? setBoxesfunc(cowall) : null\r\n        }\r\n\r\n        return boxes\r\n    }\r\n\r\n    /** 寻找闭合盒子组合 findFunc为寻找规则 */\r\n    getnextLinesByBoxes(boxes: JBox[]) {\r\n        let length: number = boxes.length - 1\r\n        let circleBoxes: JBox[] = []\r\n        for (let i = length; i >= 0; i--) {\r\n            /** 已经闭合或者没有出路就不要寻找了 */\r\n            if (boxes[i].done == 0) {\r\n                /** 分支线 */\r\n                let BranchLines: RoomLine[] = this.getFindLines(boxes[i])\r\n                /** 对要加工的lines进行加工 */\r\n                if (BranchLines.length != 0) {\r\n                    /** 将导入到box里面 */\r\n                    let circleBox = this.boxesAddBranchLines(boxes, i, ...BranchLines)\r\n                    if (circleBox != null)\r\n                        circleBoxes.push(circleBox)\r\n                }\r\n                /** 如果没有分支线,即没有了点没有路可以走了 */\r\n                else {\r\n                    boxes[i].done = 2\r\n                    /** 删除作废的盒子 */\r\n                    boxes.splice(i, 1)\r\n                }\r\n            }\r\n            /** 已经是没路 */\r\n            else if (boxes[i].done == 2) {\r\n                /** 删除作废的盒子 */\r\n                boxes.splice(i, 1)\r\n            }\r\n        }\r\n        return circleBoxes\r\n    }\r\n\r\n    /** 寻找闭合盒子 */\r\n    findCircleBox(boxes: JBox[]) {\r\n        let newBoxes: JBox[] = []\r\n        let circleBoxes = this.getnextLinesByBoxes(boxes)\r\n        newBoxes.push(...circleBoxes)\r\n        let findInt = 30\r\n        while (boxes.length != 0) {\r\n            circleBoxes = this.getnextLinesByBoxes(boxes)\r\n            newBoxes.push(...circleBoxes)\r\n        }\r\n        return newBoxes\r\n    }\r\n\r\n    // /** 点寻找盒子 */\r\n    // pointFindBoxes(point: JPoint, lines: RoomLine[]) {\r\n    //     let start = this.getLineStart(point, lines)\r\n    //     let newBoxes: JBox[] = []\r\n    //     let circleBoxes = this.getCircleBoxes(start.boxes, lines)\r\n    //     newBoxes.push(...circleBoxes)\r\n    //     while (start.boxes.length != 0) {\r\n    //         circleBoxes = this.getCircleBoxes(start.boxes, lines)\r\n    //         newBoxes.push(...circleBoxes)\r\n    //     }\r\n    //     return newBoxes\r\n    // }\r\n\r\n    /** 将要导入的line导入到box, boxInt指向boxes数组下标 形成闭合删除数组原来的并返回闭合盒子 */\r\n    boxesAddBranchLines(boxes: JBox[], boxInt: number, ...lines: RoomLine[]) {\r\n        let circleLineInt: number = null\r\n        let addLineInt: number[] = []\r\n        let circleBox: JBox = null\r\n        for (let i = lines.length - 1; i >= 0; i--) {\r\n            /** 检查插入情况 */\r\n            let a = this.getEndPointIntersect(lines[i].pointIDs[1], boxes[boxInt].lines)\r\n            /** 没有插入 */\r\n            if (a == null) {\r\n                addLineInt.push(i)\r\n            }\r\n            /** 刚好插入到原点形成闭合 */\r\n            else if (a == 0) {\r\n                circleLineInt = i\r\n                addLineInt.push(i)\r\n            }\r\n        }\r\n        /** 添加线 */\r\n        if (addLineInt.length != 0) {\r\n            /** 先添加需要分支的 */\r\n            for (let i = 1; i < addLineInt.length; i++) {\r\n                let newBox: JBox = this.DUService.obj.clone(boxes[boxInt])\r\n                boxes.push(newBox)\r\n                this.lineChangeBox(newBox, lines[addLineInt[i]])\r\n                if (circleLineInt == addLineInt[i]) {\r\n                    newBox.done = 1\r\n                    circleBox = newBox\r\n                    boxes.splice(-1, 1)\r\n                }\r\n            }\r\n            /** 再添加不分支的 */\r\n            this.lineChangeBox(boxes[boxInt], lines[addLineInt[0]])\r\n            if (circleLineInt == addLineInt[0]) {\r\n                boxes[boxInt].done = 1\r\n                circleBox = boxes[boxInt]\r\n                boxes.splice(boxInt, 1)\r\n            }\r\n        }\r\n        else {\r\n            boxes[boxInt].done = 2\r\n        }\r\n\r\n        return circleBox\r\n\r\n    }\r\n\r\n    /** 通过盒子产生新的空间 */\r\n    getCreateRoomByBox(box: JBox, roomReadyMsgs?: RoomReadyType[]) {\r\n        let room = this.getRoomByRoomReadyMsgs(box, roomReadyMsgs)\r\n        let cowallArr: JCowall[] = []\r\n        let cowallIDArr: string[] = []\r\n        let cowall: JCowall = null\r\n        for (let i = 0; i < box.lines.length; i++) {\r\n            /** cowall为反墙 */\r\n            if (box.lines[i].cowallID == null) {\r\n                cowall = this.dataService.cowalls[box.lines[i].OCowallID]\r\n                cowall = this.calService.cowall.createOppositeCowall(cowall)\r\n                try {\r\n                    box.lines[i].newCowallID = cowall.id\r\n                }\r\n                catch (e) {\r\n                    console.log('=================================================')\r\n                    console.log(JSON.stringify(box.lines[i]))\r\n                    cowall = this.dataService.cowalls[box.lines[i].OCowallID]\r\n                    console.log(cowall.getOppsiteCowall().id)\r\n                    console.log(i)\r\n                    console.log(e)\r\n                    return undefined\r\n                }\r\n            }\r\n            else {\r\n                cowall = this.dataService.cowalls[box.lines[i].cowallID]\r\n            }\r\n            if (i != 0) {\r\n                cowall.prevID = cowallArr[i - 1].id\r\n                cowallArr[i - 1].nextID = cowall.id\r\n            }\r\n            cowallArr.push(cowall)\r\n            cowallIDArr.push(cowall.id)\r\n            // cowall.roomID = room.id\r\n            // console.log(cowall.id)\r\n            // console.log(room.id)\r\n            // console.log('===============')\r\n        }\r\n        room.cowallIDs = cowallIDArr\r\n        cowallArr[0].prevID = cowallArr[cowallArr.length - 1].id\r\n        cowallArr[cowallArr.length - 1].nextID = cowallArr[0].id\r\n        return room\r\n    }\r\n\r\n    /** 通过空间准备信息获取room */\r\n    getRoomByRoomReadyMsgs(box: JBox, roomReadyMsgs?: RoomReadyType[]) {\r\n        /*  */\r\n        let getRoomByMsgFunc = (msg) => {\r\n            let cloneData = this.DUService.obj.clone(msg.roomData)\r\n            cloneData.cowallIDs = []\r\n            cloneData.isAutoMoveAreaPos = true\r\n            let room = <JRoom>this.calService.undoRedo.redoSingleData(this.dataService.rooms, cloneData)\r\n            cloneData = this.DUService.obj.clone(msg.floorData)\r\n            let floor = <JFloor>this.calService.undoRedo.redoSingleData(this.dataService.floors, cloneData)\r\n            cloneData = this.DUService.obj.clone(msg.roofData)\r\n            let roof = <JRoof>this.calService.undoRedo.redoSingleData(this.dataService.roofs, cloneData)\r\n            // let newData = this.calService.room.createRoom(msg.roomData, msg.floorData, msg.roofData)\r\n            room.floorID = floor.id\r\n            room.roofID = roof.id\r\n            floor.roomID = room.id\r\n            roof.roomID = room.id\r\n            return room\r\n        }\r\n        let getRoomByBoxFunc = () => {\r\n            if (box.roomID != undefined) {\r\n                let room = this.dataService.rooms[box.roomID]\r\n                if (room) {\r\n                    let msg = this.calService.room.copyRoom(room)\r\n                    let newRoom = getRoomByMsgFunc(msg)\r\n                    return newRoom\r\n                }\r\n            }\r\n            let room = this.calService.room.createRoom({ cowallIDs: [] }).room\r\n            return room\r\n        }\r\n        /* 没有准备资料 */\r\n        if (!roomReadyMsgs) {\r\n            return getRoomByBoxFunc()\r\n        }\r\n        let roomInts: number[] = []\r\n        /* 收集 */\r\n        for (let i = 0; i < box.lines.length; i++) {\r\n            for (let key in roomReadyMsgs) {\r\n                if (this.DUService.cal.isInclude(roomReadyMsgs[key].cowallIDs, box.lines[i].cowallID) != undefined) {\r\n                    if (roomInts[roomReadyMsgs[key].roomID] == undefined)\r\n                        roomInts[roomReadyMsgs[key].roomID] = 0\r\n                    roomInts[roomReadyMsgs[key].roomID]++\r\n                }\r\n            }\r\n        }\r\n        /* 统计 */\r\n        let maxMsg: {\r\n            key: string,\r\n            int: number\r\n        } = undefined\r\n        for (let key in roomInts) {\r\n            if (!maxMsg || maxMsg.int < roomInts[key]) {\r\n                maxMsg = { key: key, int: roomInts[key] }\r\n            }\r\n        }\r\n        /* 创建 */\r\n        if (!maxMsg) {\r\n            return getRoomByBoxFunc()\r\n        }\r\n        else {\r\n            let msg: RoomReadyType = roomReadyMsgs[maxMsg.key]\r\n            let room = getRoomByMsgFunc(msg)\r\n            return room\r\n        }\r\n    }\r\n\r\n}\r\n\r\n","import { JdesignDataService } from \"../../../services/jdesign-data.service\";\r\nimport { JdesignUtil2dService } from \"../../../services/jdesign-util2d.service\";\r\nimport { CalculatorsService } from \"../../../services/calculators.service\";\r\nimport { JWall } from \"../jdesign/JWall\";\r\nimport { JCowall } from \"../jdesign/JCowall\";\r\nimport { JRoom } from \"../jdesign/JRoom\";\r\n\r\n/**\r\n * 删除后创建空间计算器\r\n * @class calFlag:0没有,1要使用,2删除,3已使用\r\n */\r\nexport class CreateRoomDelCal {\r\n\r\n    constructor(\r\n        protected dataService: JdesignDataService,\r\n        protected DUService: JdesignUtil2dService,\r\n        protected calService: CalculatorsService\r\n    ) {\r\n\r\n    }\r\n\r\n    /** 删除平行墙创建新的空间 */\r\n    createRoomByDelWall(delWall: JWall) {\r\n        let roomArr = delWall.getRoomArr()\r\n        let delWallCowalls: JCowall[] = delWall.getCowallArr()\r\n        /** 收集需要运算的wall */\r\n        let calWalls: JWall[] = []\r\n        for (let i = 0; i < roomArr.length; i++) {\r\n            calWalls.push(...roomArr[i].getWallArr())\r\n        }\r\n        /** 去掉重复 */\r\n        calWalls = this.DUService.cal.uniqueByAttr(calWalls, 'id')\r\n        /** 去掉需要删除的wall */\r\n        this.DUService.cal.removeByAttr(calWalls, 'id', delWall.id)\r\n        /** 删除原来的空间 */\r\n        for (let i = 0; i < delWallCowalls.length; i++) {\r\n            this.calService.cowall.delRoom(delWallCowalls[i])\r\n        }\r\n        /** 删除要删除的墙 */\r\n        this.calService.wall.absDel(delWall)\r\n        /** 收集要运算的cowall */\r\n        let calCowalls = this.calService.transData.getCowallsByWalls(calWalls)\r\n        /** 删除多余cowall,分空间算法严谨,不能有多余的从wall */\r\n        this.calService.cowall.delNoUse(calCowalls)\r\n        /** 分空间 */\r\n        let newRooms = this.calService.createRoom.cutRoom(calWalls)\r\n        /** 去掉平行墙 */\r\n        for (let i = 0; i < newRooms.length; i++) {\r\n            this.calService.room.delParallel(newRooms[i])\r\n        }\r\n        /** 去掉不用的点(没有任何依赖) */\r\n        this.calService.point.delNoUse()\r\n    }\r\n\r\n}","import { JdesignDataService } from \"../../../services/jdesign-data.service\";\r\nimport { JdesignUtil2dService } from \"../../../services/jdesign-util2d.service\";\r\nimport { CalculatorsService } from \"../../../services/calculators.service\";\r\nimport { DoorWinCal } from \"./doorWin.cal\";\r\nimport { JDoor, JDoorInitType } from \"../jdesign/JDoor\";\r\nimport { DesignCommon as DC } from '../class/DesignCommon'\r\nimport { JDoor3D } from \"../../../three/jDesign3D/JDoor3D\";\r\nimport { JWall } from \"../jdesign/JWall\";\r\n\r\nexport class DoorCal extends DoorWinCal {\r\n\r\n    constructor(\r\n        protected dataService: JdesignDataService,\r\n        protected DUService: JdesignUtil2dService,\r\n        protected calService: CalculatorsService\r\n    ) {\r\n        super(dataService, DUService, calService)\r\n    }\r\n\r\n    /** 获取普通门的path坐标集合 */\r\n    getNormalPath(door: JDoor, pos?: DC.Pos) {\r\n        pos = pos == undefined ? door.pos : pos\r\n        let size = door.getPixSize()\r\n        let rectPosArr: DC.Pos[] = this.DUService.pos.getRectPosByCenter(pos, size)\r\n        return rectPosArr\r\n    }\r\n\r\n    /** 获取普通门的path字符串 */\r\n    getNormalPathString(door: JDoor, pos?: DC.Pos) {\r\n        let path = this.getNormalPath(door, pos)\r\n        let pathString = this.DUService.svg.getPath(true, ...path)\r\n        return pathString\r\n    }\r\n\r\n    /** 产生新的门 暂时是测试阶段*/\r\n    createNewNormal(obj: JDoorInitType) {\r\n        this.dataService.cache.floorplan.createAndMove = true\r\n        let door = new JDoor3D(obj, this.dataService, this.DUService)\r\n        this.dataService.cache.door.createFunc(door)\r\n        return door\r\n    }\r\n\r\n    /** 删除 */\r\n    del(door: JDoor) {\r\n        door.destory3D()\r\n        delete this.dataService.doors[door.id]\r\n    }\r\n\r\n    protected wallChange(door: JDoor, wall: JWall) {\r\n        wall.doorIDs.push(door.id)\r\n        wall.doorIDs = this.DUService.cal.unique(wall.doorIDs)\r\n    }\r\n\r\n    /** 遍历加载吸附 */\r\n    listAbosrb() {\r\n        this.commmonListAbosrb('door')\r\n    }\r\n\r\n}","import { JdesignDataService } from \"../../../services/jdesign-data.service\";\r\nimport { JdesignUtil2dService } from \"../../../services/jdesign-util2d.service\";\r\nimport { CalculatorsService } from \"../../../services/calculators.service\";\r\nimport { JDWAbstract } from \"../jdesign/JDWAbstract\";\r\nimport { JWall } from \"../jdesign/JWall\";\r\nimport { JDoor } from \"../jdesign/JDoor\";\r\nimport { JWin } from \"../jdesign/JWin\";\r\nimport { DesignCommon as DC } from '../class/DesignCommon'\r\n\r\nexport abstract class DoorWinCal {\r\n    constructor(\r\n        protected dataService: JdesignDataService,\r\n        protected DUService: JdesignUtil2dService,\r\n        protected calService: CalculatorsService\r\n    ) {\r\n\r\n    }\r\n\r\n    /** 墙体改变 */\r\n    protected abstract wallChange(obj: JDWAbstract, wall: JWall);\r\n\r\n\r\n    /** 与墙合体 */\r\n    unionWall(obj: JDWAbstract, wall: JWall) {\r\n        obj.wallID = wall.id\r\n        obj.radian = wall.getRadian()\r\n        this.wallChange(obj, wall)\r\n        let distance = wall.getDistance()\r\n        let newDistance = this.DUService.pos.getDistance(obj.pos, wall.getCowall().getPointStart().pos)\r\n        obj.distancePer = newDistance / distance\r\n        obj.size.height = this.dataService.cmd.getPixelTransLength(wall.thickness, 'mm')\r\n    }\r\n\r\n    /** 删除墙 */\r\n    delWall(obj: JDWAbstract) {\r\n        if (obj.wallID == null)\r\n            return null\r\n        let wall = obj.getwall()\r\n        let IDs = obj.getWallDWIDs()\r\n        if (IDs != undefined) {\r\n            this.DUService.cal.removeByValue(obj.getWallDWIDs(), obj.id)\r\n            obj.wallID = null\r\n            return wall\r\n        }\r\n        return undefined\r\n    }\r\n\r\n    /** 根据墙改变改变其属性 */\r\n    changeOnWall(obj: JDWAbstract) {\r\n        if (obj.wallID == null)\r\n            return null\r\n        let wall = obj.getwall()\r\n        let distance = wall.getDistance()\r\n        let radian = wall.getRadian()\r\n        let posStart = wall.getCowall().getPointStart().pos\r\n        let pos = this.DUService.pos.getRayPos(posStart, radian, distance * obj.distancePer)\r\n        obj.size.height = this.dataService.cmd.getPixelTransLength(wall.thickness, 'mm')\r\n        return true\r\n    }\r\n\r\n    /** 获取墙体里最近的坐标组,为两个 */\r\n    getNearPosArr(obj: JDWAbstract) {\r\n        if (obj.wallID == null)\r\n            return null\r\n        let wall = obj.getwall()\r\n        let cowall = wall.getCowall()\r\n        let objArr: JDWAbstract[] = []\r\n        objArr.push(...wall.getDoorArr())\r\n        objArr.push(...wall.getWinArr())\r\n\r\n        let sameInt = this.DUService.cal.isIncludeByAttr('id', obj.id, ...objArr)\r\n        sameInt != null ? objArr.splice(sameInt, 1) : null\r\n        let posArr: DC.Pos[] = []\r\n        let cowallInPosArr: DC.Pos[] = this.calService.cowall.getInPosArr(cowall)\r\n        /** 平移内线坐标 */\r\n        cowallInPosArr = this.DUService.pos.getPosTrans(cowallInPosArr[0], cowallInPosArr[1], wall.thickness / 2)\r\n\r\n        posArr.push(...this.DUService.cal.getNewAttrArray(objArr, 'pos'))\r\n\r\n        let msg = this.DUService.pos.getNearPosArr(obj.pos, cowallInPosArr[1], posArr)\r\n        if (msg.endPos == null)\r\n            msg.endPos = cowallInPosArr[1]\r\n        else {\r\n            msg.endPos = this.DUService.pos.getRayPos(msg.endPos, cowall.getRadian(), -objArr[msg.endInt].getPixSize().width / 2)\r\n        }\r\n        if (msg.StartPos == null)\r\n            msg.StartPos = cowallInPosArr[0]\r\n        else {\r\n            msg.StartPos = this.DUService.pos.getRayPos(msg.StartPos, cowall.getRadian(), objArr[msg.startInt].getPixSize().width / 2)\r\n        }\r\n        return msg\r\n    }\r\n\r\n    /** 遍历加载吸附(通用版) */\r\n    protected commmonListAbosrb(type: string) {\r\n        let objs: JDWAbstract[] = []\r\n        if (type == 'door') {\r\n            objs = this.dataService.doDoors().arr()\r\n        }\r\n        else if (type == 'win') {\r\n            objs = this.dataService.doWins().arr()\r\n        }\r\n        for (let i = 0; i < objs.length; i++) {\r\n            if (objs[i].wallID != undefined && this.dataService.walls[objs[i].wallID] != undefined) {\r\n                let pos = objs[i].pos\r\n                let wallID = objs[i].wallID\r\n                objs[i].wallID = undefined\r\n                this.dataService.cache.doorWin.move(objs[i], objs[i].pos)\r\n                objs[i].wallID = wallID\r\n                this.dataService.cache.doorWin.move(objs[i], objs[i].pos)\r\n            }\r\n            else {\r\n                objs[i].wallID = undefined\r\n            }\r\n        }\r\n        // this.dataService.cache.doorWin.moveEnd(objs[i])\r\n    }\r\n\r\n\r\n}","import { JdesignDataService } from \"../../../services/jdesign-data.service\";\r\nimport { JdesignUtil2dService } from \"../../../services/jdesign-util2d.service\";\r\nimport { CalculatorsService } from \"../../../services/calculators.service\";\r\nimport { JCowall } from \"../jdesign/JCowall\";\r\nimport { DesignCommon as DC } from '../class/DesignCommon'\r\n\r\nexport class FloorplanCal {\r\n    constructor(\r\n        private dataService: JdesignDataService,\r\n        private DUService: JdesignUtil2dService,\r\n        private calService: CalculatorsService\r\n    ) {\r\n\r\n    }\r\n\r\n    cleanOppositeCowall() {\r\n        let oppositeCowalls: JCowall[][] = []\r\n        let cowallFlag: number[] = []\r\n\r\n        /** 获取相反cowall组 */\r\n        for (let i = this.dataService.floorplan.cowallIDs.length - 1; i >= 0; i--) {\r\n            let cowallID: string = this.dataService.floorplan.cowallIDs[i]\r\n            if (cowallFlag[cowallID] != 1) {\r\n                let cowall: JCowall = this.dataService.cowalls[cowallID]\r\n                if (cowall.partnerID != null) {\r\n                    cowallFlag[cowall.partnerID] = 1\r\n                    let oppositeCowall = cowall.getOppsiteCowall()\r\n                    oppositeCowalls.push([cowall, oppositeCowall])\r\n                }\r\n            }\r\n        }\r\n\r\n        let delFunc = (changeCowall: JCowall, delCowall: JCowall) => {\r\n            let wall = changeCowall.getWall()\r\n            wall.coedgeID = changeCowall.id\r\n            changeCowall.edgeID = wall.id\r\n\r\n            this.calService.cowall.delPrevNext(delCowall)\r\n            this.calService.cowall.delPointID(delCowall)\r\n            this.calService.cowall.delParent(delCowall)\r\n            this.calService.cowall.del(delCowall)\r\n        }\r\n\r\n        /** 删除其中一个 */\r\n        for (let i = 0; i < oppositeCowalls.length; i++) {\r\n            if (oppositeCowalls[i][0].roomID != null) {\r\n                delFunc(oppositeCowalls[i][0], oppositeCowalls[i][1])\r\n            }\r\n            else if (oppositeCowalls[i][1].roomID != null) {\r\n                delFunc(oppositeCowalls[i][1], oppositeCowalls[i][0])\r\n            }\r\n            else if (oppositeCowalls[i][0].prevID != null || oppositeCowalls[i][0].nextID != null) {\r\n                delFunc(oppositeCowalls[i][0], oppositeCowalls[i][1])\r\n            }\r\n            else {\r\n                delFunc(oppositeCowalls[i][1], oppositeCowalls[i][0])\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * 获取矩形值\r\n     *@returns (左上,右上,右下,左下),没有返回[]\r\n     */\r\n    getRectPosArr() {\r\n        let points = this.dataService.doPoints().arr()\r\n        if (points.length < 2)\r\n            return []\r\n        let maxX = points[0].pos.x\r\n        let minX = points[0].pos.x\r\n        let maxY = points[0].pos.y\r\n        let minY = points[0].pos.y\r\n        for (let i = 1; i < points.length; i++) {\r\n            if (points[i].pos.x > maxX) {\r\n                maxX = points[i].pos.x\r\n            }\r\n            if (points[i].pos.x < minX) {\r\n                minX = points[i].pos.x\r\n            }\r\n            if (points[i].pos.y > maxY) {\r\n                maxY = points[i].pos.y\r\n            }\r\n            if (points[i].pos.y < minY) {\r\n                minY = points[i].pos.y\r\n            }\r\n        }\r\n        let LUPos: DC.Pos = { x: minX, y: minY }\r\n        let RUPos: DC.Pos = { x: maxX, y: minY }\r\n        let LDPos: DC.Pos = { x: minX, y: maxY }\r\n        let RDPos: DC.Pos = { x: maxX, y: maxY }\r\n        return [LUPos, RUPos, RDPos, LDPos]\r\n    }\r\n}","import { CalculatorsService } from \"../../../services/calculators.service\";\r\nimport { JdesignDataService } from \"../../../services/jdesign-data.service\";\r\nimport { JdesignUtil2dService } from \"../../../services/jdesign-util2d.service\";\r\nimport { JFurniture } from \"../jdesign/JFurniture\";\r\nimport { JFurniture3D } from \"../../../three/jDesign3D/JFurniture3D\";\r\nimport { DesignCommon as DC } from '../class/DesignCommon'\r\nimport { JWall } from \"../jdesign/JWall\";\r\n\r\nexport class FurnitureCal {\r\n\r\n    constructor(\r\n        private dataService: JdesignDataService,\r\n        private DUService: JdesignUtil2dService,\r\n        private calService: CalculatorsService,\r\n    ) {\r\n\r\n    }\r\n\r\n    \r\n\r\n}","import { JdesignDataService } from \"../../../services/jdesign-data.service\";\r\nimport { JdesignUtil2dService } from \"../../../services/jdesign-util2d.service\";\r\nimport { CalculatorsService } from \"../../../services/calculators.service\";\r\nimport { JGeometry, JGeometryInit } from \"../jdesign/JGeometry\";\r\nimport { JGeometry3D } from \"../../../three/jDesign3D/JGeometry3D\";\r\nimport { JWall } from \"../jdesign/JWall\";\r\nimport { DesignCommon as DC } from '../class/DesignCommon'\r\nimport { JFurniture } from \"../jdesign/JFurniture\";\r\nimport { JFurniture3D } from \"../../../three/jDesign3D/JFurniture3D\";\r\nimport { JBuild } from \"../jdesign/JBuild\";\r\nimport { JBuild3D } from \"../../../three/jDesign3D/JBuild3D\";\r\n\r\nexport class GeometryCal {\r\n    constructor(\r\n        private dataService: JdesignDataService,\r\n        private DUService: JdesignUtil2dService,\r\n        private calService: CalculatorsService,\r\n    ) {\r\n\r\n    }\r\n\r\n    /** 新建新的物体,暂时为测试用 */\r\n    createNew(type: string, obj: JGeometryInit) {\r\n        switch (type) {\r\n            case 'furniture':\r\n                this.dataService.cache.floorplan.createAndMove = true\r\n                let furniture: JFurniture = new JFurniture3D(obj, this.dataService, this.DUService)\r\n                this.dataService.cache.furniture.createFunc(furniture)\r\n                return furniture\r\n            case \"build\":\r\n                this.dataService.cache.floorplan.createAndMove = true\r\n                let build: JBuild = new JBuild3D(obj, this.dataService, this.DUService)\r\n                this.dataService.cache.build.createFunc(build)\r\n                return build\r\n        }\r\n\r\n    }\r\n\r\n    /** 获取框 */\r\n    getBox(geometry: JGeometry, pos?: DC.Pos) {\r\n        let radian = pos == undefined ? 0 : geometry.radian\r\n        pos == undefined ? pos = { x: 0, y: 0 } : null\r\n        let posArr = this.DUService.pos.getRectPosByCenter(pos, geometry.getPixSize(), radian)\r\n        return posArr\r\n    }\r\n\r\n    /** 获取path */\r\n    getPath(geometry: JGeometry) {\r\n        let posArr = this.getBox(geometry)\r\n        let path = this.DUService.svg.getPath(true, ...posArr)\r\n        return path\r\n    }\r\n\r\n    /** 改变墙 */\r\n    wallChange(geometry: JGeometry, wall: JWall) {\r\n        wall.geometryIDs.push(geometry.id)\r\n        wall.geometryIDs = this.DUService.cal.unique(wall.geometryIDs)\r\n    }\r\n\r\n    /** 与墙合体 */\r\n    unionWall(geometry: JGeometry, wall: JWall, out: boolean) {\r\n        let a = out ? -1 : 1\r\n        geometry.wallID = wall.id\r\n        geometry.radian = wall.getRadian()\r\n        this.wallChange(geometry, wall)\r\n        let distance = wall.getDistance()\r\n        /** 底部中心坐标 */\r\n        let pos = this.DUService.pos.getRayPos(geometry.pos, geometry.radian + Math.PI, a * (geometry.size.height / 2 + wall.thickness / 2))\r\n        let newDistance = this.DUService.pos.getDistance(pos, wall.getCowall().getPointStart().pos)\r\n        geometry.distancePer = newDistance / distance\r\n        geometry.radian = wall.getRadian() + (a == 1 ? 0 : Math.PI)\r\n        geometry.wallOut = out\r\n    }\r\n\r\n    /** 通过墙的交点获取当前墙的位置 (点坐标必须在墙上,用在吸附上) */\r\n    getPosByWall(geometry: JGeometry, wall: JWall, pos: DC.Pos, out: boolean) {\r\n        let a = out ? -1 : 1\r\n        let radian = wall.getRadian()\r\n        let newPos = this.DUService.pos.getRayPos(pos, radian + (Math.PI / 2), a * ((wall.thickness / 2) + (geometry.getPixSize().height / 2)))\r\n        return newPos\r\n    }\r\n\r\n    del(obj: JGeometry) {\r\n        obj.destory3D()\r\n        console.log(obj.type)\r\n        switch (obj.type) {\r\n            case 'furniture':\r\n                delete this.dataService.furnitures[obj.id]\r\n                break;\r\n            case \"build\":\r\n                delete this.dataService.builds[obj.id]\r\n        }\r\n\r\n    }\r\n}","import { CalculatorsService } from \"../../../services/calculators.service\";\r\nimport { JdesignUtil2dService } from \"../../../services/jdesign-util2d.service\";\r\nimport { JdesignDataService } from \"../../../services/jdesign-data.service\";\r\nimport { JCowall } from \"../jdesign/JCowall\";\r\n\r\nexport class LineCal {\r\n\r\n    constructor(\r\n        private calService: CalculatorsService,\r\n        private dataService: JdesignDataService,\r\n        private utilService: JdesignUtil2dService\r\n    ) {\r\n\r\n    }\r\n\r\n    /** 通过cowall 获取线段带点 */\r\n    getLinesBycowalls(...cowalls: JCowall[]) {\r\n        let lines: [string, string][] = []\r\n        for (let i = 0; i < cowalls.length; i++) {\r\n            \r\n        }\r\n    }\r\n}","import { JdesignDataService } from \"../../../services/jdesign-data.service\";\r\nimport { JdesignUtil2dService } from \"../../../services/jdesign-util2d.service\";\r\nimport { CalculatorsService } from \"../../../services/calculators.service\";\r\nimport { JParamsModelInitType } from \"../jdesign/JParamsModel\";\r\nimport { JParamsModel3D } from \"../../../three/jDesign3D/JParamsModel3D\";\r\n\r\nexport class ParamsModelCal {\r\n    constructor(\r\n        private dataService: JdesignDataService,\r\n        private DUService: JdesignUtil2dService,\r\n        private calService: CalculatorsService,\r\n    ) {\r\n\r\n    }\r\n    createNew(obj: JParamsModelInitType) {\r\n        let data = new JParamsModel3D(obj, this.dataService, this.DUService)\r\n        // this.dataService.cache.win.createFunc(LWin)\r\n        return data\r\n    }\r\n}","import { CalculatorsService } from \"../../../services/calculators.service\";\r\nimport { JdesignDataService } from \"../../../services/jdesign-data.service\";\r\nimport { JPoint } from \"../jdesign/JPoint\";\r\nimport { DesignCommon as DC } from \"../class/DesignCommon\"\r\nimport { JWall } from \"../jdesign/JWall\";\r\nimport { JdesignUtil2dService } from \"../../../services/jdesign-util2d.service\";\r\nimport { points } from \"../../../data/design.data\";\r\nimport { JPoint3D } from \"../../../three/jDesign3D/JPoint3D\";\r\nimport { JCowall } from \"../jdesign/JCowall\";\r\nimport { JRoom } from \"../jdesign/JRoom\";\r\n\r\nexport class PointCal {\r\n\r\n    constructor(\r\n        private calService: CalculatorsService,\r\n        private dataService: JdesignDataService,\r\n        private DUService: JdesignUtil2dService\r\n    ) {\r\n\r\n    }\r\n    posUtil = this.DUService.pos\r\n\r\n    /** 获取只有两个墙的点数组 */\r\n    getPointsByOnlyNumWalls(wallNum: number, points?: JPoint[]) {\r\n        let onlyPoints: JPoint[] = []\r\n        points == undefined ? points = this.dataService.points : null\r\n        for (let key in points) {\r\n            let point = points[key]\r\n            let walls = point.getWallArr()\r\n            if (walls.length == wallNum)\r\n                onlyPoints.push(point)\r\n        }\r\n        return onlyPoints\r\n    }\r\n\r\n    /** 获取射线组 */\r\n    getRayLineArr(point: JPoint): PointLine[] {\r\n        let wallArr: JWall[] = point.getWallArr()\r\n        // console.log(wallArr)\r\n        let lineArr: PointLine[] = []\r\n        let pointArr: JPoint[] = null\r\n        for (let i = 0; i < wallArr.length; i++) {\r\n            pointArr = wallArr[i].getPointArr()\r\n            if (pointArr[0].id == point.id) {\r\n                lineArr.push({ wall: wallArr[i], points: [pointArr[0], pointArr[1]] })\r\n            }\r\n            else {\r\n                lineArr.push({ wall: wallArr[i], points: [pointArr[1], pointArr[0]] })\r\n            }\r\n        }\r\n        return lineArr\r\n    }\r\n\r\n    /**\r\n     * 获取线相邻\r\n     * @param pointStart \r\n     * @param pointEnd \r\n     * @param overLay 是否包括重叠线,默认为true\r\n     */\r\n    getNearLineArr(pointStart: JPoint, pointEnd: JPoint, overLay: boolean = true): PointLine[] {\r\n        let radianL: number = null\r\n        let radianR: number = null\r\n        /** L */\r\n        let lineL: PointLine = null\r\n        /** R */\r\n        let lineR: PointLine = null\r\n        let startRadian = this.posUtil.getRadian(pointStart.pos, pointEnd.pos)\r\n\r\n        let radian: number = null\r\n        let newRadianL: number = null\r\n        let newRadianR: number = null\r\n        let lineArr: PointLine[] = this.getRayLineArr(pointStart)\r\n\r\n        for (let i = 0; i < lineArr.length; i++) {\r\n            if (lineArr[i].points[1].id != pointEnd.id) {\r\n                radian = this.posUtil.getRadian(lineArr[i].points[0].pos, lineArr[i].points[1].pos)\r\n                if (overLay || !this.DUService.pos.isSameRadian(radian >= 0 ? radian : radian + (Math.PI * 2), startRadian >= 0 ? startRadian : startRadian + (Math.PI * 2))) {\r\n                    newRadianL = startRadian - radian\r\n                    if (newRadianL < 0)\r\n                        newRadianL += Math.PI * 2\r\n                    if (radianL == null || newRadianL < radianL) {\r\n                        radianL = newRadianL\r\n                        lineL = lineArr[i]\r\n                    }\r\n\r\n                    newRadianR = radian - startRadian\r\n                    if (newRadianR < 0)\r\n                        newRadianR += Math.PI * 2\r\n                    if (radianR == null || newRadianR < radianR) {\r\n                        radianR = newRadianR\r\n                        lineR = lineArr[i]\r\n                    }\r\n                }\r\n\r\n            }\r\n        }\r\n\r\n        let msg = [lineL, lineR]\r\n        return msg\r\n    }\r\n\r\n    /**\r\n     * 转移点(移动完的点可以用delNoUse删除)\r\n     * @param movePoint 要移动的点\r\n     * @param targetPoint 移动到的目标点\r\n     * @returns 返回已经修改的cowall数组和两点一样但未修改的cowall数组,相同点返回undefined\r\n     */\r\n    transPoint(movePoint: JPoint, targetPoint: JPoint, errorValue: number = 0.01) {\r\n        /** 相同点,返回undefined */\r\n        if (movePoint.id == targetPoint.id)\r\n            return undefined\r\n        /** 删除cowall方法 */\r\n        let delCowallFunc = (cowall: JCowall) => {\r\n            let prevCowall = cowall.getPrevCowall()\r\n            if (prevCowall)\r\n                prevCowall.nextID = cowall.nextID\r\n            let nextCowall = cowall.getNextCowall()\r\n            if (nextCowall)\r\n                nextCowall.prevID = cowall.prevID\r\n            let room = cowall.getRoom()\r\n            if (room)\r\n                room.resetCowallIDs(prevCowall)\r\n            cowall.prevID = undefined\r\n            cowall.nextID = undefined\r\n            /** 如果有反cowall,仅删除cowall */\r\n            if (cowall.partnerID) {\r\n                this.calService.cowall.absDel(cowall)\r\n            }\r\n            /** 没有反cowall,直接删除墙 */\r\n            else {\r\n                let wall = cowall.getWall()\r\n                this.calService.wall.absDel(wall)\r\n            }\r\n        }\r\n        /** 开始运算 */\r\n        let cowallArr = movePoint.getCowallArr()\r\n        let fixCowalls: JCowall[] = []\r\n        let pointCowallIDs: string[] = []\r\n        for (let i = 0; i < cowallArr.length; i++) {\r\n            /** 移动点 */\r\n            if (cowallArr[i].pointIDs[0] == movePoint.id) {\r\n                /** 如果有序墙两点与其两点完全相同,则直接删除 */\r\n                if (cowallArr[i].pointIDs[1] == targetPoint.id ||\r\n                    this.DUService.pos.isSamePos(cowallArr[i].getPointEnd().pos, targetPoint.pos, errorValue)) {\r\n                    pointCowallIDs.push(cowallArr[i].id)\r\n                    delCowallFunc(cowallArr[i])\r\n                }\r\n                else {\r\n                    cowallArr[i].pointIDs = [targetPoint.id, cowallArr[i].pointIDs[1]]\r\n                    fixCowalls.push(cowallArr[i])\r\n                }\r\n            }\r\n            else {\r\n                /** 如果有序墙两点与其两点完全相同,则直接删除 */\r\n                if (cowallArr[i].pointIDs[0] == targetPoint.id ||\r\n                    this.DUService.pos.isSamePos(cowallArr[i].getPointStart().pos, targetPoint.pos, errorValue)) {\r\n                    pointCowallIDs.push(cowallArr[i].id)\r\n                    delCowallFunc(cowallArr[i])\r\n                }\r\n                else {\r\n                    cowallArr[i].pointIDs = [cowallArr[i].pointIDs[0], targetPoint.id]\r\n                    fixCowalls.push(cowallArr[i])\r\n                }\r\n            }\r\n\r\n\r\n        }\r\n        return {\r\n            /** 两点相同但未修改的cowall数组  */\r\n            pointCowallIDs: pointCowallIDs,\r\n            /** 已经移点的cowall数组 */\r\n            fixCowalls: fixCowalls\r\n        }\r\n    }\r\n\r\n    /** 产生新的点 */\r\n    createPoint(pos: DC.Pos) {\r\n        let point: JPoint = new JPoint3D({ pos: pos }, this.dataService, this.DUService)\r\n        return point\r\n    }\r\n\r\n    /** 获取所在的空间 */\r\n    getRooms(point: JPoint) {\r\n        let cowalls: JCowall[] = point.getCowallArr()\r\n        let newRooms: JRoom[] = []\r\n        for (let i = 0; i < cowalls.length; i++) {\r\n            let room = cowalls[i].getRoom()\r\n            if (room != null)\r\n                newRooms.push(room)\r\n        }\r\n        return newRooms\r\n    }\r\n\r\n    /** 删除 */\r\n    del(point: JPoint) {\r\n        delete this.dataService.points[point.id]\r\n    }\r\n\r\n    /** 删除cowallID */\r\n\r\n    /** 批量获取cowall对象 */\r\n    getCowallArr(...pointArr: JPoint[]) {\r\n        let cowallIDs: string[] = []\r\n        for (let i = 0; i < pointArr.length; i++) {\r\n            cowallIDs.push(...pointArr[i].cowallIDs)\r\n        }\r\n        cowallIDs = this.DUService.cal.unique(cowallIDs)\r\n        let cowalls: JCowall[] = []\r\n        for (let i = 0; i < cowallIDs.length; i++) {\r\n            cowalls.push(<JCowall>this.dataService.cowalls[cowallIDs[i]])\r\n        }\r\n        return cowalls\r\n    }\r\n\r\n    /** 批量获取wall对象 */\r\n    getWallArr(...pointArr: JPoint[]) {\r\n        let wallIDs: string[] = []\r\n        let cowalls: JCowall[] = this.getCowallArr(...pointArr)\r\n        for (let i = 0; i < cowalls.length; i++) {\r\n            wallIDs.push(cowalls[i].edgeID)\r\n        }\r\n        wallIDs = this.DUService.cal.unique(wallIDs)\r\n        let walls: JWall[] = []\r\n        for (let i = 0; i < wallIDs.length; i++) {\r\n            walls.push(<JWall>this.dataService.walls[wallIDs[i]])\r\n        }\r\n        return walls\r\n    }\r\n\r\n    /** 批量获取room对象 */\r\n    getRoomArr(...pointArr: JPoint[]) {\r\n        let roomIDs: string[] = []\r\n        let cowalls = this.getCowallArr(...pointArr)\r\n        for (let i = 0; i < cowalls.length; i++) {\r\n            roomIDs.push(cowalls[i].roomID)\r\n        }\r\n        roomIDs = this.DUService.cal.unique(roomIDs)\r\n        let rooms: JRoom[] = []\r\n        for (let i = 0; i < roomIDs.length; i++) {\r\n            rooms.push(<JRoom>this.dataService.rooms[roomIDs[i]])\r\n        }\r\n        return rooms\r\n    }\r\n\r\n    /** 合并墙 必须只有两个墙且平行\r\n     * @param point xx\r\n     */\r\n    combineWalls(point: JPoint) {\r\n        let wallArr = point.getWallArr()\r\n        if (wallArr.length != 2)\r\n            return false\r\n        let positiveCowall: JCowall = null\r\n        let reverseCowall: JCowall = null\r\n        let cowallArr = wallArr[0].getCowallArr()\r\n        /** 匹配cowall */\r\n        for (let i = 0; i < cowallArr.length; i++) {\r\n            if (cowallArr[i].getPointEnd().id == point.id) {\r\n                positiveCowall = cowallArr[i]\r\n            } else {\r\n                reverseCowall = cowallArr[i]\r\n            }\r\n        }\r\n\r\n        /** 获取最后的点 */\r\n        let secondPointArr = wallArr[1].getPointArr()\r\n        let lastPoint = secondPointArr[0].id == point.id ? secondPointArr[1] : secondPointArr[0]\r\n        /** 正序 */\r\n        if (positiveCowall != null) {\r\n            if (!positiveCowall.reversed)\r\n                positiveCowall.pointIDs = [positiveCowall.pointIDs[0], lastPoint.id]\r\n            else\r\n                positiveCowall.pointIDs = [lastPoint.id, positiveCowall.pointIDs[1]]\r\n        }\r\n\r\n        /** 反序 */\r\n        if (reverseCowall != null) {\r\n            if (!reverseCowall.reversed)\r\n                reverseCowall.pointIDs = [lastPoint.id, reverseCowall.pointIDs[1]]\r\n            else\r\n                reverseCowall.pointIDs = [reverseCowall.pointIDs[0], lastPoint.id]\r\n        }\r\n\r\n        /** 获取最后的cowall组 */\r\n        let lastCowallArr = wallArr[1].getCowallArr()\r\n        for (let i = 0; i < lastCowallArr.length; i++) {\r\n            let endPoint = lastCowallArr[i].getPointEnd()\r\n            /** 反序 */\r\n            if (endPoint.id == point.id) {\r\n                let prevCowall = lastCowallArr[i].getPrevCowall()\r\n                /** 如果有则替换关联 */\r\n                if (reverseCowall != null) {\r\n                    reverseCowall.prevID = lastCowallArr[i].prevID\r\n                    if (prevCowall)\r\n                        prevCowall.nextID = reverseCowall.id\r\n                }\r\n                /** 如果没有则删除关联 */\r\n                else {\r\n                    if (prevCowall)\r\n                        prevCowall.nextID = null\r\n                }\r\n\r\n            }\r\n            /** 正序 */\r\n            else {\r\n                let nextCowall = lastCowallArr[i].getNextCowall()\r\n                /** 如果有则替换关联 */\r\n                if (positiveCowall != null) {\r\n                    positiveCowall.nextID = lastCowallArr[i].nextID\r\n                    if (nextCowall)\r\n                        nextCowall.prevID = positiveCowall.id\r\n                }\r\n                /** 如果没有则删除关联 */\r\n                else {\r\n                    if (nextCowall)\r\n                        nextCowall.prevID = null\r\n                }\r\n            }\r\n            this.calService.cowall.delPointID(lastCowallArr[i])\r\n            this.calService.cowall.del(lastCowallArr[i])\r\n            let room = lastCowallArr[i].getRoom()\r\n            if (room != null)\r\n                this.DUService.cal.removeByValue(room.cowallIDs, lastCowallArr[i].id)\r\n        }\r\n        this.calService.point.del(point)\r\n        this.calService.wall.delDepend(wallArr[1])\r\n        delete this.dataService.walls[wallArr[1].id]\r\n    }\r\n\r\n    /** 两点获取cowall */\r\n    getSameCowallArr(pointA: JPoint, pointB: JPoint) {\r\n        let cowallArrA = pointA.getCowallArr()\r\n        let cowallArrB = pointB.getCowallArr()\r\n        let newCowallArr: JCowall[] = []\r\n        for (let i = 0; i < cowallArrA.length; i++) {\r\n            for (let j = 0; j < cowallArrB.length; j++) {\r\n                if (cowallArrA[i].id == cowallArrB[j].id) {\r\n                    newCowallArr.push(cowallArrA[i])\r\n                }\r\n            }\r\n        }\r\n        return newCowallArr\r\n    }\r\n\r\n    /**\r\n     * 连着的线段是否重边\r\n     * 如果不重边返回null;\r\n     * 一样长返回'same',更加长'long',更加短返回'short'\r\n     * @param pointLink 连接点\r\n     * @param pointA 一般指原来的点\r\n     * @param pointB 一般指需要对照的点\r\n     * @param errorValue 误差值\r\n     */\r\n    checkOverlayByLink(pointLink: JPoint, pointA: JPoint, pointB: JPoint, errorValue: number = 0.0001) {\r\n\r\n        let vectorA = this.DUService.pos.vector2D(pointA.pos).sub(pointLink.pos)\r\n        let vectorB = this.DUService.pos.vector2D(pointB.pos).sub(pointLink.pos)\r\n\r\n        let radianA = vectorA.radian()\r\n        let radianB = vectorB.radian()\r\n\r\n\r\n        /** 是否同向 */\r\n        let msg = this.DUService.pos.isSameRadian(radianA, radianB)\r\n        if (msg) {\r\n            // console.log(pointA.id)\r\n            // console.log(pointB.id)\r\n            // console.log(pointLink.id)\r\n            // console.log('=============')\r\n            let lengthA = vectorA.length()\r\n            let lengthB = vectorB.length()\r\n            if (lengthA > lengthB - errorValue && lengthA < lengthB + errorValue) {\r\n                return 'same'\r\n            }\r\n            else if (lengthA > lengthB) {\r\n                return 'long'\r\n            }\r\n            else {\r\n                return 'short'\r\n            }\r\n        }\r\n        return null\r\n    }\r\n\r\n    /** 两点找wall 找不到返回null */\r\n    getWallByTwoPoint(pointA: JPoint, pointB: JPoint) {\r\n        for (let key in this.dataService.walls) {\r\n            let cowall = this.dataService.walls[key].getCowall()\r\n            if ((cowall.pointIDs[0] == pointA.id && cowall.pointIDs[1] == pointB.id) || (cowall.pointIDs[1] == pointA.id && cowall.pointIDs[0] == pointB.id)) {\r\n                return this.dataService.walls[key]\r\n            }\r\n        }\r\n        return null\r\n    }\r\n\r\n    /** 删除不使用的点 */\r\n    delNoUse() {\r\n        for (let key in this.dataService.points) {\r\n            if (this.dataService.points[key].cowallIDs.length == 0) {\r\n                this.del(this.dataService.points[key])\r\n            }\r\n        }\r\n    }\r\n\r\n    /** 修复坐标相同的点 */\r\n    fixSamePosPoints(points: JPoint[], errorValue: number = 0.01) {\r\n        let check = false\r\n        for (let i = points.length - 1; i >= 0; i--) {\r\n            for (let j = i - 1; j >= 0; j--) {\r\n                if (this.DUService.pos.isSamePos(points[i].pos, points[j].pos, errorValue)) {\r\n                    check = true\r\n                    this.transPoint(points[j], points[i])\r\n                    points.splice(j, 1)\r\n                    i--\r\n                    if (i < 0)\r\n                        break\r\n                }\r\n            }\r\n        }\r\n        return check\r\n    }\r\n\r\n    /* 重置空间cowalls */\r\n    resetRoomsCowalls(point: JPoint) {\r\n        let cowalls = point.getCowallArr()\r\n        for (let i = 0; i < cowalls.length; i++) {\r\n            let room = cowalls[i].getRoom()\r\n            if (room) {\r\n                room.resetCowallIDs(cowalls[i])\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n    * 是否和射线反方向\r\n    * @param point 由此点射出的射线\r\n    * @param obj \r\n    */\r\n    isOppositeRayPoint(point: JPoint, obj: JWall | JCowall) {\r\n        let otherPoint = obj.getPointArr()\r\n        if (otherPoint[0].id == point.id)\r\n            return false\r\n        return true\r\n    }\r\n\r\n    /**\r\n     * 获取墙或者弧形墙相对点弧度\r\n     * @param point 由此点射出算弧度\r\n     * @param obj \r\n     */\r\n    getWallOrCowallRadianByPoint(point: JPoint, obj: JWall | JCowall) {\r\n        let a = this.isOppositeRayPoint(point, obj) ? Math.PI : 0\r\n        return obj.getRadian() + a\r\n    }\r\n\r\n    /* 获取左右墙 */\r\n    getLeftAndRightWall(point: JPoint) {\r\n        if (!point)\r\n            return undefined\r\n        let walls = point.getWallArr()\r\n        if (walls.length != 2)\r\n            return undefined\r\n        let radianA = walls[0].getRadian()\r\n        let radianB = walls[1].getRadian()\r\n        radianA = this.calService.point.getWallOrCowallRadianByPoint(point, walls[0])\r\n        radianB = this.calService.point.getWallOrCowallRadianByPoint(point, walls[1])\r\n        let newRadian = radianA - radianB\r\n        newRadian = this.DUService.pos.getAbsRadian(newRadian, false)\r\n        if (newRadian >= 0) {\r\n            return [walls[0], walls[1]]\r\n        }\r\n        else {\r\n            return [walls[1], walls[0]]\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n}\r\n\r\nexport class PointLine {\r\n    wall: JWall;\r\n    points: JPoint[];\r\n}","import { JdesignDataService } from \"../../../services/jdesign-data.service\";\r\nimport { JdesignUtil2dService } from \"../../../services/jdesign-util2d.service\";\r\nimport { CalculatorsService } from \"../../../services/calculators.service\";\r\nimport { DesignCommon as DC } from '../class/DesignCommon'\r\nimport { JPoint, JPointInitType } from \"../jdesign/JPoint\";\r\nimport { JWall } from \"../jdesign/JWall\";\r\n\r\n/** 作用于坐标之间的运算 */\r\nexport class PosCal {\r\n\r\n    constructor(\r\n        private dataService: JdesignDataService,\r\n        private DUService: JdesignUtil2dService,\r\n        private calService: CalculatorsService\r\n    ) {\r\n\r\n    }\r\n\r\n    /** 获取坐标与点最接近的距离 */\r\n    getPosToPointMin(pos: DC.Pos, points: JPoint[]) {\r\n        let minDistance: number = null\r\n        let distance: number = null\r\n        let minPoint: JPoint = null\r\n        let key: string = null\r\n\r\n        for (key in points) {\r\n\r\n            distance = this.DUService.pos.getDistance(pos, points[key].pos)\r\n            if (minDistance == null || minDistance > distance) {\r\n                minDistance = distance\r\n                minPoint = points[key]\r\n            }\r\n        }\r\n        return {\r\n            distance: minDistance,\r\n            point: minPoint\r\n        }\r\n    }\r\n\r\n    /** 获取坐标与点的弧度值 */\r\n    getPosToPointRadian(pos: DC.Pos, points: JPoint[]): { radian: number, point: JPoint }[] {\r\n        let datas: { radian: number, point: JPoint }[] = []\r\n        let radian: number = null\r\n\r\n        let key: string = null\r\n\r\n        for (key in points) {\r\n\r\n\r\n            radian = this.DUService.pos.getRadian(pos, points[key].pos)\r\n            datas.push({ radian: radian, point: points[key] })\r\n        }\r\n        return datas\r\n    }\r\n\r\n    /** 获取坐标与点的最近弧度值 */\r\n    getPosToPointRadianMin(pos: DC.Pos, radians: number[], points: JPoint[]) {\r\n        let datas = this.getPosToPointRadian(pos, points)\r\n        let distance: number = null\r\n        let minInt: number = null\r\n        let minDistance: number = null\r\n        for (let i = 0; i < datas.length; i++) {\r\n            for (let j = 0; j < radians.length; j++) {\r\n                distance = Math.abs(radians[j] - datas[i].radian)\r\n                if (minDistance == null || minDistance > distance) {\r\n                    minInt = i\r\n                    minDistance = distance\r\n                }\r\n            }\r\n        }\r\n\r\n        if (minInt == null)\r\n            return null\r\n        return datas[minInt]\r\n\r\n\r\n    }\r\n\r\n    /**\r\n     * 获取拉动边的距离(有正反值)\r\n     * @param posStart \r\n     * @param posEnd \r\n     * @param radian (判断正反)\r\n     */\r\n    getMoveSideDistance(posStart: DC.Pos, posEnd: DC.Pos, radian: number) {\r\n        let vector = { x: posEnd.x - posStart.x, y: posEnd.y - posStart.y }\r\n        let leftRayPos = this.DUService.pos.getRayPos({ x: 0, y: 0 }, radian, 10)\r\n        let a = this.DUService.pos.vector2D(vector).Multiply(leftRayPos)\r\n        let distance: number = this.DUService.pos.vector2D(vector).projection(leftRayPos).length()\r\n        /** 正向 */\r\n        if (a < 0) {\r\n            distance *= -1\r\n        }\r\n        return distance\r\n    }\r\n\r\n    /** 获取坐标与点的最近水平线 */\r\n    getPosToPointHorizontal(pos: DC.Pos, points: JPoint[]) {\r\n        return this.getPosToPointRadianMin(pos, [0, Math.PI, -Math.PI], points)\r\n    }\r\n\r\n    /** 获取坐标与点的最近垂直线 */\r\n    getPosToPointVertical(pos: DC.Pos, points: JPoint[]) {\r\n        return this.getPosToPointRadianMin(pos, [Math.PI / 2, Math.PI * 1.5, -Math.PI / 2, -Math.PI * 1.5], points)\r\n    }\r\n\r\n    /** 获取坐标垂直距离最近的墙 */\r\n    getPosRightAngleToWall(pos: DC.Pos, walls: JWall[]) {\r\n\r\n        let sameInt: number = null\r\n        let minDistance: number = null\r\n        let minWall: JWall = null\r\n        let distance: number = null\r\n        let linePosArr: DC.Pos[] = []\r\n        let key: string = null\r\n\r\n        for (key in walls) {\r\n\r\n            linePosArr = walls[key].getPosArr()\r\n            if (!this.DUService.pos.isSamePos(linePosArr[0], linePosArr[1])) {\r\n                distance = this.DUService.pos.getRightAngleDistance(pos, linePosArr[0], linePosArr[1])\r\n                if (minDistance == null || distance < minDistance) {\r\n                    minDistance = distance\r\n                    minWall = walls[key]\r\n                }\r\n            }\r\n        }\r\n\r\n        return {\r\n            wall: minWall,\r\n            distance: minDistance,\r\n        }\r\n    }\r\n\r\n    /** 获取坐标到墙的最小线段 */\r\n    getPosToWall(pos: DC.Pos, walls: JWall[]) {\r\n\r\n        let sameInt: number = null\r\n        let minDistance: number = null\r\n        let minWall: JWall = null\r\n        let distance: number = null\r\n        let interectPos: DC.Pos = null\r\n        let linePosArr: DC.Pos[] = []\r\n        let key: string = null\r\n\r\n        for (key in walls) {\r\n\r\n            linePosArr = walls[key].getPosArr()\r\n            if (!this.DUService.pos.isSamePos(linePosArr[0], linePosArr[1])) {\r\n                interectPos = this.DUService.pos.getPointToLinePos(pos, linePosArr[0], linePosArr[1])\r\n                distance = this.DUService.pos.getDistance(pos, interectPos)\r\n                if (minDistance == null || distance < minDistance) {\r\n                    minDistance = distance\r\n                    minWall = walls[key]\r\n                }\r\n            }\r\n        }\r\n\r\n        return {\r\n            wall: minWall,\r\n            distance: minDistance,\r\n        }\r\n    }\r\n\r\n\r\n}","import { DesignCommon as DC } from '../class/DesignCommon'\r\nimport { JPoint } from '../jdesign/JPoint';\r\nimport { JdesignDataService } from '../../../services/jdesign-data.service';\r\nimport { JPoint3D } from '../../../three/jDesign3D/JPoint3D';\r\nimport { JdesignUtil2dService } from '../../../services/jdesign-util2d.service';\r\nimport { JWall } from '../jdesign/JWall';\r\nimport { JCowall } from '../jdesign/JCowall';\r\nimport { JCowall3D } from '../../../three/jDesign3D/JCowall3D';\r\nimport { JWall3D } from '../../../three/jDesign3D/JWall3D';\r\nimport { CalculatorsService } from '../../../services/calculators.service';\r\nimport { JRoom, JRoomInitType } from '../jdesign/JRoom';\r\nimport { JRoom3D } from '../../../three/jDesign3D/JRoom3D';\r\nimport { JFloor, JFloorInitType } from '../jdesign/JFloor';\r\nimport { JFloor3D } from '../../../three/jDesign3D/JFloor3D';\r\nimport { JRoof, JRoofInitType } from '../jdesign/JRoof';\r\nimport { JRoof3D } from '../../../three/jDesign3D/JRoof3D';\r\nimport { SaveType3D } from '../../../three/save3D/SaveType3D';\r\n\r\nexport class RoomCal {\r\n    constructor(\r\n        private dataService: JdesignDataService,\r\n        private DUService: JdesignUtil2dService,\r\n        private calService: CalculatorsService\r\n    ) {\r\n\r\n    }\r\n\r\n    /** 创建新的空间 */\r\n    createRoomByPosArr(...posArr: DC.Pos[]) {\r\n        let points: JPoint[] = []\r\n        let point: JPoint = null\r\n        /** 增加点 */\r\n        for (let i = 0; i < posArr.length; i++) {\r\n            point = new JPoint3D({ pos: posArr[i] }, this.dataService, this.DUService)\r\n            points.push(point)\r\n        }\r\n\r\n        /** 增加wall和cowall */\r\n        let walls: JWall[] = []\r\n        let cowalls: JCowall[] = []\r\n        let wall: JWall = null\r\n        let cowall: JCowall = null\r\n        for (let i = 0; i < points.length - 1; i++) {\r\n            cowall = new JCowall3D({ pointIDs: [points[i].id, points[i + 1].id] }, this.dataService, this.DUService)\r\n            wall = new JWall3D({ coedgeID: cowall.id }, this.dataService, this.DUService)\r\n            cowall.edgeID = wall.id\r\n            cowalls.push(cowall)\r\n            walls.push(wall)\r\n        }\r\n        /** 最后一个 */\r\n        cowall = new JCowall3D({ pointIDs: [points[points.length - 1].id, points[0].id] }, this.dataService, this.DUService)\r\n        wall = new JWall3D({ coedgeID: cowall.id }, this.dataService, this.DUService)\r\n        cowall.edgeID = wall.id\r\n        cowalls.push(cowall)\r\n        walls.push(wall)\r\n\r\n        /** 判断面积\r\n         * 正反序 */\r\n        let cowallIDs: string[] = []\r\n        let area: number = this.DUService.pos.getArea(...posArr)\r\n        if (area > 0) {\r\n            for (let i = 0; i < cowalls.length; i++) {\r\n                cowallIDs.push(cowalls[i].id)\r\n            }\r\n            this.calService.cowall.setSort(true, true, ...cowalls)\r\n        } else {\r\n            for (let i = 0; i < cowalls.length; i++) {\r\n                cowallIDs.splice(0, 0, cowalls[i].id)\r\n                cowalls[i].pointIDs = [cowalls[i].pointIDs[1], cowalls[i].pointIDs[0]]\r\n            }\r\n            this.calService.cowall.setSort(false, true, ...cowalls)\r\n        }\r\n\r\n        /** 创建空间 */\r\n        let room: JRoom = this.createRoom({ cowallIDs: cowallIDs }).room\r\n        return {\r\n            points: points,\r\n            cowalls: cowalls,\r\n            walls: walls,\r\n            room: room\r\n        }\r\n    }\r\n\r\n    /** 通过矩形创建空间 \r\n     * 返回生成新的数据点墙有序墙空间 */\r\n    createRoomByRect(posStart: DC.Pos, posEnd: DC.Pos) {\r\n        let posArr: DC.Pos[] = this.DUService.pos.getRectByTwoPos(posStart, posEnd)\r\n        return this.createRoomByPosArr(...posArr)\r\n    }\r\n\r\n    /** 获取内墙坐标集合 */\r\n    getInPosArr(room: JRoom) {\r\n        let cowalls: JCowall[] = room.getCowallArrBySort()\r\n        let posArr: DC.Pos[] = []\r\n        let inPos: DC.Pos = null\r\n        for (let i = 0; i < cowalls.length; i++) {\r\n            inPos = this.calService.cowall.getInPosArr(cowalls[i])[0]\r\n            if (posArr.length == 0 || !this.DUService.pos.isSamePos(inPos, posArr[posArr.length - 1]))\r\n                posArr.push(inPos)\r\n        }\r\n        return posArr\r\n    }\r\n\r\n    /** 获取面积 */\r\n    getArea(room: JRoom) {\r\n        let inPosArr: DC.Pos[] = this.getInPosArr(room)\r\n        let area: number = this.DUService.pos.getArea(...inPosArr)\r\n        return area\r\n    }\r\n\r\n    /** 新建空间\r\n     *  返回生成空间和地板 */\r\n    createRoom(roomObj: JRoomInitType, floorObj?: JFloorInitType, roofObj?: JRoofInitType) {\r\n        let room: JRoom = new JRoom3D(roomObj, this.dataService, this.DUService)\r\n        let floor: JFloor = new JFloor3D(floorObj ? floorObj : { roomID: room.id }, this.dataService, this.DUService)\r\n\r\n        let roof: JRoof = new JRoof3D(roofObj ? roofObj : { roomID: room.id }, this.dataService, this.DUService)\r\n\r\n        room.roofID = roof.id\r\n        room.floorID = floor.id\r\n        floor.roomID = room.id\r\n        roof.roomID = room.id\r\n\r\n        return {\r\n            room: room,\r\n            floor: floor,\r\n            roof: roof\r\n        }\r\n    }\r\n\r\n    /** 删除cowall cowall不根据顺序获取 */\r\n    delCowallID(room: JRoom) {\r\n        let cowalls = room.getCowallArr()\r\n        for (let i = 0; i < cowalls.length; i++) {\r\n            if (cowalls[i])\r\n                cowalls[i].roomID = null\r\n        }\r\n        room.cowallIDs = []\r\n    }\r\n\r\n    /** 重置空间有序墙序列 */\r\n    resetRoomsCowallIDs() {\r\n        for (let key in this.dataService.rooms) {\r\n            let room = <JRoom>this.dataService.rooms[key]\r\n            let cowalls = room.getCowallArr()\r\n            let newCowallIDs: string[] = []\r\n            for (let i = cowalls.length - 1; i >= 0; i--) {\r\n                if (cowalls[i]) {\r\n                    newCowallIDs.splice(0, 0, cowalls[i].id)\r\n                }\r\n            }\r\n            room.cowallIDs = newCowallIDs\r\n        }\r\n\r\n    }\r\n\r\n    /** 删除空间 */\r\n    del(room: JRoom) {\r\n        this.dataService.floors[room.floorID].destory3D()\r\n        this.dataService.roofs[room.roofID].destory3D()\r\n        this.dataService.rooms[room.id].destory3D()\r\n        delete this.dataService.floors[room.floorID]\r\n        delete this.dataService.roofs[room.roofID]\r\n        delete this.dataService.rooms[room.id]\r\n    }\r\n\r\n    /** 获取跟floorplan关联的点 */\r\n    getFloorplanPoints(room: JRoom) {\r\n        let points: JPoint[] = room.getPointArr()\r\n        let floorplanPoints: JPoint[] = []\r\n        for (let i = 0; i < points.length; i++) {\r\n            let cowalls: JCowall[] = points[i].getCowallArr()\r\n            for (let j = 0; j < cowalls.length; j++) {\r\n                if (cowalls[j].roomID == null || cowalls[j].roomID == undefined) {\r\n                    floorplanPoints.push(points[i])\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return points\r\n    }\r\n\r\n    /** 获取空间中心点 */\r\n    getCenter(room: JRoom, distance: number) {\r\n        let posArr = this.getInPosArr(room)\r\n        let firstPos: DC.Pos = null\r\n        for (let i = 0; i < posArr.length++; i++) {\r\n\r\n        }\r\n    }\r\n\r\n    /** 空间反向 */\r\n    setOppsite(room: JRoom) {\r\n        let cowallArr = room.getCowallArrBySort()\r\n        for (let i = 0; i < cowallArr.length; i++) {\r\n            cowallArr[i].pointIDs = [cowallArr[i].pointIDs[1], cowallArr[i].pointIDs[0]]\r\n            let oldPrev = cowallArr[i].prevID\r\n            let oldNext = cowallArr[i].nextID\r\n            cowallArr[i].prevID = oldNext\r\n            cowallArr[i].nextID = oldPrev\r\n        }\r\n    }\r\n\r\n    /** 删除平行墙 只要有平行墙会循环加一 */\r\n    delParallel(room: JRoom) {\r\n        let cowallArr = room.getCowallArrBySort()\r\n        cowallArr.push(cowallArr[0])\r\n        for (let i = 0; i < cowallArr.length - 1; i++) {\r\n            if ((cowallArr[i].partnerID != null && cowallArr[i + 1].partnerID != null) || (cowallArr[i].partnerID == null && cowallArr[i + 1].partnerID == null)) {\r\n                let pointA = cowallArr[i].getPointEnd()\r\n                let pointWallArr = pointA.getWallArr()\r\n                if (pointWallArr.length == 2) {\r\n                    let radianA = cowallArr[i].getRadian()\r\n                    let radianB = cowallArr[i + 1].getRadian()\r\n                    /* 判断墙是否一样的 */\r\n                    if (\r\n                        this.DUService.pos.isSameRadian(radianA, radianB) &&\r\n                        cowallArr[i].getWall().thickness == cowallArr[i + 1].getWall().thickness &&\r\n                        cowallArr[i].getWall().wallType == cowallArr[i + 1].getWall().wallType\r\n                    ) {\r\n                        let wallA = cowallArr[i].getWall()\r\n                        let wallB = cowallArr[i + 1].getWall()\r\n                        let msg = this.calService.wall.overlay.combineWalls(wallA, wallB)\r\n                        if (msg) {\r\n                            return this.delParallel(room)\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    copyRoom(room: JRoom) {\r\n        let copyFunc = (oldObj, newObj) => {\r\n            for (let key in newObj) {\r\n                if (key != 'constructor' && key != 'id') {\r\n                    newObj[key] = this.DUService.obj.clone(oldObj[key])\r\n                }\r\n            }\r\n        }\r\n        let roomObj = new SaveType3D.JRoom3D()\r\n        copyFunc(room, roomObj)\r\n        let floorObj = new SaveType3D.JFloor3D()\r\n        copyFunc(room.getFloor(), floorObj)\r\n        let roofObj = new SaveType3D.JRoof3D()\r\n        copyFunc(room.getRoof(), roofObj)\r\n        let data: RoomReadyType = {\r\n            roomData: roomObj,\r\n            floorData: floorObj,\r\n            roofData: roofObj,\r\n            roomID: room.id,\r\n            cowallIDs: this.DUService.obj.clone(room.cowallIDs)\r\n        }\r\n        return data\r\n    }\r\n\r\n    /** 分空间 */\r\n    cutRoom(walls: JWall[]) {\r\n\r\n    }\r\n\r\n    /* 重置cowalls */\r\n    resetCowalls(rooms?: JRoom[]) {\r\n        if (!rooms)\r\n            rooms = this.dataService.doRooms().arr()\r\n        for (let i = 0; i < rooms.length; i++) {\r\n            let room = rooms[i]\r\n            room.cowallIDs = this.DUService.obj.clone(room.cowallIDs)\r\n        }\r\n    }\r\n\r\n    /* 删除不存在的room */\r\n    delNoUseRooms(rooms?: JRoom[]) {\r\n        let roomIDs: string[] = []\r\n        if (!rooms)\r\n            rooms = this.dataService.doRooms().arr()\r\n        for (let i = 0; i < rooms.length; i++) {\r\n            /* 判断是否存在 */\r\n            let check = false\r\n            let cowalls = rooms[i].getCowallArr()\r\n            if (rooms[i].id == 'room67') {\r\n                console.log(this.DUService.cal.getNewAttrArray(cowalls, 'id'))\r\n                console.log(this.DUService.cal.getNewAttrArray(cowalls, 'roomID'))\r\n            }\r\n            for (let j = 0; j < cowalls.length; j++) {\r\n                if (cowalls[j] && cowalls[j].roomID == rooms[i].id) {\r\n                    check = true\r\n                    break\r\n                }\r\n            }\r\n            if (!check) {\r\n                roomIDs.push(rooms[i].id)\r\n                this.del(rooms[i])\r\n            }\r\n        }\r\n        return roomIDs\r\n    }\r\n\r\n}\r\nexport class RoomReadyType {\r\n    roomData: any;\r\n    floorData?: any;\r\n    roofData?: any;\r\n    cowallIDs: string[];\r\n    roomID: string;\r\n}","import { CalculatorsService } from \"../../../services/calculators.service\";\r\nimport { JdesignDataService } from \"../../../services/jdesign-data.service\";\r\nimport { JdesignUtil2dService } from \"../../../services/jdesign-util2d.service\";\r\nimport { DesignCommon as DC } from \"../class/DesignCommon\"\r\nimport { JWall } from \"../jdesign/JWall\";\r\nimport { JPoint } from \"../jdesign/JPoint\";\r\nimport { ArcLineType } from \"../Util/AbsorbUtil\";\r\nimport { JCowall } from \"../jdesign/JCowall\";\r\n\r\nexport class TransDataCal {\r\n    constructor(\r\n        private calService: CalculatorsService,\r\n        private dataService: JdesignDataService,\r\n        private DUService: JdesignUtil2dService\r\n    ) {\r\n\r\n    }\r\n\r\n    /**\r\n     * 公共获取墙的轮廓线段方法\r\n     * @param cb \r\n     * @param walls \r\n     */\r\n    private commonWallOutLines(cb: (path: DC.Pos[][], wall: JWall) => void, walls?: JWall[]) {\r\n        walls == undefined ? walls = this.dataService.walls : null\r\n        for (let key in walls) {\r\n            let wall = walls[key]\r\n            let path = wall.outLine\r\n            /** 有可能没更新 */\r\n            if (!path) {\r\n                path = this.calService.wall.getOutLine(wall)\r\n            }\r\n            if (path)\r\n                cb(path, wall)\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 筛选线(通过弧度平行)\r\n     * @param outLineArr \r\n     * @param radian \r\n     * @param isSame 保存模式(只保存相同的或者只保存非相同的)\r\n     */\r\n    chooseLinesByRadian(outLineArr: TransWallLines, radian: number, isSame: boolean) {\r\n        let newOutLineArr: TransWallLines = { lines: [], walls: [], locations: [], radians: [] }\r\n        let len = outLineArr.radians.length\r\n        for (let i = len - 1; i >= 0; i--) {\r\n            let same = this.DUService.pos.isParallelRadian(outLineArr.radians[i], radian)\r\n            if (same == isSame) {\r\n                for (let key in outLineArr) {\r\n                    newOutLineArr[key].push(outLineArr[key][i])\r\n                }\r\n            }\r\n        }\r\n        return newOutLineArr\r\n    }\r\n\r\n    /**\r\n     * 获取墙三叉神经线\r\n     * @param walls \r\n     * @returns  @returns locations(1为内线,-1为外线,0为中线)\r\n     */\r\n    getWallThreeLines(walls?: JWall[]) {\r\n        let outLineArr: TransWallLines = { lines: [], walls: [], locations: [], radians: [] }\r\n        this.commonWallOutLines((path: DC.Pos[][], wall: JWall) => {\r\n            let posArr = wall.getPosArr()\r\n            outLineArr.lines.push(posArr)\r\n            outLineArr.lines.push([path[0][1], path[1][0]])\r\n            outLineArr.lines.push([path[1][1], path[0][0]])\r\n            outLineArr.walls.push(wall)\r\n            outLineArr.walls.push(wall)\r\n            outLineArr.walls.push(wall)\r\n            outLineArr.locations.push(0)\r\n            outLineArr.locations.push(1)\r\n            outLineArr.locations.push(-1)\r\n            let radian = wall.getRadian()\r\n            outLineArr.radians.push(radian)\r\n            outLineArr.radians.push(radian)\r\n            outLineArr.radians.push(radian)\r\n        }, walls)\r\n        return outLineArr\r\n    }\r\n\r\n    /** 获取墙的上下轮廓线段数组(内线为正,外线为反[内线,外线])\r\n     * @returns 返回的lines和walls是一一对应的\r\n     * @returns locations(1为内线,-1为外线)\r\n     */\r\n    getWallOutLines(walls?: JWall[]) {\r\n        let outLineArr: TransWallLines = { lines: [], walls: [], locations: [], radians: [] }\r\n        this.commonWallOutLines((path: DC.Pos[][], wall: JWall) => {\r\n            outLineArr.lines.push([path[0][1], path[1][0]])\r\n            outLineArr.lines.push([path[1][1], path[0][0]])\r\n            outLineArr.walls.push(wall)\r\n            outLineArr.walls.push(wall)\r\n            outLineArr.locations.push(1)\r\n            outLineArr.locations.push(-1)\r\n            let radian = wall.getRadian()\r\n            outLineArr.radians.push(radian)\r\n            outLineArr.radians.push(radian)\r\n        }, walls)\r\n        return outLineArr\r\n    }\r\n\r\n    /**\r\n     * 获取墙开头起点轮廓线数组lineA[左上,左下],lineB[右上,右下]\r\n     * @param walls 返回的lines和walls是一一对应的\r\n     * @returns locations -1为左,1为右\r\n     */\r\n    getWallSELines(walls?: JWall[]) {\r\n        let outLineArr: TransWallLines = { lines: [], walls: [], locations: [], radians: [] }\r\n        this.commonWallOutLines((path: DC.Pos[][], wall: JWall) => {\r\n            outLineArr.lines.push([path[0][0], path[0][1]])\r\n            outLineArr.lines.push([path[1][1], path[1][0]])\r\n            outLineArr.walls.push(wall)\r\n            outLineArr.walls.push(wall)\r\n            outLineArr.locations.push(-1)\r\n            outLineArr.locations.push(1)\r\n            let radian = wall.getRadian()\r\n            radian = radian + (Math.PI / 2)\r\n            outLineArr.radians.push(radian)\r\n            outLineArr.radians.push(radian)\r\n        }, walls)\r\n        return outLineArr\r\n    }\r\n\r\n    /**\r\n     * 获取墙的所有轮廓线\r\n     * @param walls 返回的lines和walls是一一对应的\r\n     * @returns locations(2为内线,-2为外线,-1为左线,1为右线)\r\n     */\r\n    getWallAllLines(walls?: JWall[]) {\r\n        let outLineArr: TransWallLines = { lines: [], walls: [], locations: [], radians: [] }\r\n        this.commonWallOutLines((path: DC.Pos[][], wall: JWall) => {\r\n            outLineArr.lines.push([path[0][1], path[1][0]])\r\n            outLineArr.lines.push([path[1][1], path[0][0]])\r\n            outLineArr.lines.push([path[0][0], path[0][1]])\r\n            outLineArr.lines.push([path[1][1], path[1][0]])\r\n            outLineArr.walls.push(wall)\r\n            outLineArr.walls.push(wall)\r\n            outLineArr.walls.push(wall)\r\n            outLineArr.walls.push(wall)\r\n            outLineArr.locations.push(2)\r\n            outLineArr.locations.push(-2)\r\n            outLineArr.locations.push(-1)\r\n            outLineArr.locations.push(1)\r\n            let radian = wall.getRadian()\r\n            let vRadian = radian + (Math.PI / 2)\r\n            outLineArr.radians.push(radian)\r\n            outLineArr.radians.push(radian)\r\n            outLineArr.radians.push(vRadian)\r\n            outLineArr.radians.push(vRadian)\r\n        }, walls)\r\n        return outLineArr\r\n    }\r\n\r\n    /** 获取墙的中线数组\r\n     *  @returns 返回的lines和walls是一一对应的\r\n     */\r\n    getWallCenterLines(walls?: JWall[]) {\r\n        let centerArr: TransWallLines = { lines: [], walls: [] }\r\n        walls == undefined ? walls = this.dataService.walls : null\r\n        for (let key in walls) {\r\n            let wall = walls[key]\r\n            let line = wall.getPosArr()\r\n            centerArr.lines.push(line)\r\n            centerArr.walls.push(wall)\r\n        }\r\n        return centerArr\r\n    }\r\n\r\n    /** 获取墙的所有轮廓线段点数组\r\n     *  @returns 返回的posArr和points是一一对应的\r\n     */\r\n    getWallOutLinePosArr(outLines: TransWallLines) {\r\n        let outPosArr: TransPointPosArr = { posArr: [], points: [] }\r\n\r\n        for (let i = 0; i < outLines.lines.length; i = i + 2) {\r\n            let wall = outLines.walls[i]\r\n            let pointArr = wall.getPointArr()\r\n            /** 内线 */\r\n            outPosArr.posArr.push(outLines.lines[i][0])\r\n            outPosArr.points.push(pointArr[0])\r\n            outPosArr.posArr.push(outLines.lines[i][1])\r\n            outPosArr.points.push(pointArr[1])\r\n            /** 外线 */\r\n            outPosArr.posArr.push(outLines.lines[i + 1][0])\r\n            outPosArr.points.push(pointArr[1])\r\n            outPosArr.posArr.push(outLines.lines[i + 1][1])\r\n            outPosArr.points.push(pointArr[0])\r\n\r\n        }\r\n        return outPosArr\r\n    }\r\n\r\n    /** 获取点坐标数组\r\n     * @returns  返回的posArr和points是一一对应的\r\n      */\r\n    getPointPosArr(points?: JPoint[]) {\r\n        let pointPosArr: TransPointPosArr = { posArr: [], points: [] }\r\n        points == undefined ? points = this.dataService.points : null\r\n        for (let key in points) {\r\n            let point = points[key]\r\n            pointPosArr.posArr.push(point.pos)\r\n            pointPosArr.points.push(point)\r\n        }\r\n        return pointPosArr\r\n    }\r\n\r\n    /**\r\n     * 获取点射线(默认从点出发)\r\n     * @param points \r\n     * @param isReverse 是否相反,默认false,从点出发,如果为true,则为射线最终返回点\r\n     */\r\n    getPointRayLines(points?: JPoint[], isReverse: boolean = false) {\r\n        let rayLines: { lines: DC.Pos[][], walls: JWall[], isReverses: boolean[] } = { lines: [], walls: [], isReverses: [] }\r\n        points == undefined ? points = this.dataService.points : null\r\n        for (let key in points) {\r\n            let point = points[key]\r\n            let walls = point.getWallArr()\r\n            for (let i = 0; i < walls.length; i++) {\r\n                let wallPointArr = walls[i].getPointArr()\r\n                let line: DC.Pos[] = []\r\n                let reverse: boolean = false\r\n                /** 头相同 */\r\n                if (wallPointArr[0].id == point.id && !isReverse) {\r\n                    line = [wallPointArr[0].pos, wallPointArr[1].pos]\r\n\r\n                }\r\n                /** 尾相同 */\r\n                else {\r\n                    line = [wallPointArr[1].pos, wallPointArr[0].pos]\r\n                    reverse = true\r\n                }\r\n                /** 是否相反 */\r\n                if (isReverse) {\r\n                    line = [line[1], line[0]]\r\n                    reverse = !reverse\r\n                }\r\n                rayLines.walls.push(walls[i])\r\n                rayLines.lines.push(line)\r\n                rayLines.isReverses.push(reverse)\r\n            }\r\n        }\r\n        return rayLines\r\n    }\r\n\r\n    /**\r\n     * 获取点十字垂直线数组\r\n     * @param points \r\n     * @returns\r\n     */\r\n    getPointCrossLines(points?: JPoint[]) {\r\n        let pointLines: TransPointLines = { lines: [], points: [] }\r\n        let verticalLines = this.getPointVerticalLines(points)\r\n        let horizonLines = this.getPointHorizontalLines(points)\r\n        pointLines.lines.push(...verticalLines.lines)\r\n        pointLines.points.push(...verticalLines.points)\r\n        pointLines.lines.push(...horizonLines.lines)\r\n        pointLines.points.push(...horizonLines.points)\r\n        return pointLines\r\n    }\r\n\r\n    /**\r\n     * 获取点垂直线数组\r\n     * @param points \r\n     * @returns\r\n     */\r\n    getPointVerticalLines(points?: JPoint[]) {\r\n        let pointLines: TransPointLines = { lines: [], points: [] }\r\n        points == undefined ? points = this.dataService.points : null\r\n        for (let key in points) {\r\n            let point = points[key]\r\n            let rayPos = this.DUService.pos.getRayPos(point.pos, Math.PI / 2, 10)\r\n            pointLines.lines.push([point.pos, rayPos])\r\n            pointLines.points.push(point)\r\n        }\r\n        return pointLines\r\n    }\r\n\r\n    /**\r\n     * 获取点外垂直线数组\r\n     * @param points \r\n     * @returns\r\n     */\r\n    getOutPointtVerticalLines(walls: JWall[]) {\r\n        let pointLines: TransPointLines = { lines: [], points: [] }\r\n        for (let key in walls) {\r\n            let wall = walls[key]\r\n            let pointArr = wall.getPointArr()\r\n            /** 左 */\r\n            let rayPos = this.DUService.pos.getRayPos(pointArr[0].pos, Math.PI / 2, 10)\r\n            pointLines.lines.push([pointArr[0].pos, rayPos])\r\n            pointLines.points.push(pointArr[0])\r\n            rayPos = this.DUService.pos.getRayPos(wall.outLine[0][0], Math.PI / 2, 10)\r\n            pointLines.lines.push([wall.outLine[0][0], rayPos])\r\n            pointLines.points.push(pointArr[0])\r\n            rayPos = this.DUService.pos.getRayPos(wall.outLine[0][1], Math.PI / 2, 10)\r\n            pointLines.lines.push([wall.outLine[0][1], rayPos])\r\n            pointLines.points.push(pointArr[0])\r\n            /** 右 */\r\n            rayPos = this.DUService.pos.getRayPos(pointArr[1].pos, Math.PI / 2, 10)\r\n            pointLines.lines.push([pointArr[1].pos, rayPos])\r\n            pointLines.points.push(pointArr[1])\r\n            rayPos = this.DUService.pos.getRayPos(wall.outLine[1][0], Math.PI / 2, 10)\r\n            pointLines.lines.push([wall.outLine[1][0], rayPos])\r\n            pointLines.points.push(pointArr[1])\r\n            rayPos = this.DUService.pos.getRayPos(wall.outLine[1][1], Math.PI / 2, 10)\r\n            pointLines.lines.push([wall.outLine[1][1], rayPos])\r\n            pointLines.points.push(pointArr[1])\r\n        }\r\n        return pointLines\r\n    }\r\n\r\n    /**\r\n     * 获取点水平线数组\r\n     * @param points \r\n     * @returns\r\n     */\r\n    getPointHorizontalLines(points?: JPoint[]) {\r\n        let pointLines: TransPointLines = { lines: [], points: [] }\r\n        points == undefined ? points = this.dataService.points : null\r\n        for (let key in points) {\r\n            let point = points[key]\r\n            let rayPos = this.DUService.pos.getRayPos(point.pos, 0, 10)\r\n            pointLines.lines.push([point.pos, rayPos])\r\n            pointLines.points.push(point)\r\n        }\r\n        return pointLines\r\n    }\r\n\r\n    /**\r\n     * 获取点外水平线数组\r\n     * @param points \r\n     * @returns\r\n     */\r\n    getOutPointHorizontalLines(walls: JWall[]) {\r\n        let pointLines: TransPointLines = { lines: [], points: [] }\r\n        for (let key in walls) {\r\n            let wall = walls[key]\r\n            let pointArr = wall.getPointArr()\r\n            /** 左 */\r\n            let rayPos = this.DUService.pos.getRayPos(pointArr[0].pos, 0, 10)\r\n            pointLines.lines.push([pointArr[0].pos, rayPos])\r\n            pointLines.points.push(pointArr[0])\r\n            rayPos = this.DUService.pos.getRayPos(wall.outLine[0][0], 0, 10)\r\n            pointLines.lines.push([wall.outLine[0][0], rayPos])\r\n            pointLines.points.push(pointArr[0])\r\n            rayPos = this.DUService.pos.getRayPos(wall.outLine[0][1], 0, 10)\r\n            pointLines.lines.push([wall.outLine[0][1], rayPos])\r\n            pointLines.points.push(pointArr[0])\r\n            /** 右 */\r\n            rayPos = this.DUService.pos.getRayPos(pointArr[1].pos, 0, 10)\r\n            pointLines.lines.push([pointArr[1].pos, rayPos])\r\n            pointLines.points.push(pointArr[1])\r\n            rayPos = this.DUService.pos.getRayPos(wall.outLine[1][0], 0, 10)\r\n            pointLines.lines.push([wall.outLine[1][0], rayPos])\r\n            pointLines.points.push(pointArr[1])\r\n            rayPos = this.DUService.pos.getRayPos(wall.outLine[1][1], 0, 10)\r\n            pointLines.lines.push([wall.outLine[1][1], rayPos])\r\n            pointLines.points.push(pointArr[1])\r\n        }\r\n        return pointLines\r\n    }\r\n\r\n    /** 获取线段集合的弧度集合 */\r\n    getRadiansByLines(lines: DC.Pos[][]) {\r\n        let radians: number[] = []\r\n        for (let i = 0; i < lines.length; i++) {\r\n            radians.push(this.DUService.pos.getRadian(lines[i][0], lines[i][1]))\r\n        }\r\n        return radians\r\n    }\r\n\r\n    /** 获取所有弧形墙 */\r\n    getArcWalls() {\r\n        let walls: JWall[] = []\r\n        for (let key in this.dataService.walls) {\r\n            let wall = this.dataService.walls[key]\r\n            if (wall.arcDistance != 0)\r\n                walls.push(wall)\r\n        }\r\n        return walls\r\n    }\r\n\r\n    /** 获取弧形线信息 */\r\n    getArcLines(walls?: JWall[]) {\r\n        walls = walls ? walls : this.getArcWalls()\r\n        let linesMsg: TransArcWallLines = { lines: [], walls: [] }\r\n        for (let i = 0; i < walls.length; i++) {\r\n            let posArr = walls[i].getPosArr()\r\n            let line: ArcLineType = {\r\n                radius: walls[i].arcRadius,\r\n                lineStart: posArr[0],\r\n                lineEnd: posArr[1],\r\n                circlePos: walls[i].circlePos\r\n            }\r\n            linesMsg.lines.push(line)\r\n            linesMsg.walls.push(walls[i])\r\n        }\r\n        return linesMsg\r\n    }\r\n\r\n    /** 获取所有非弧形墙 */\r\n    getUnArcWalls(walls?: JWall[]) {\r\n        let noArcWalls: JWall[] = []\r\n        if (!walls)\r\n            walls = this.dataService.walls\r\n        for (let key in walls) {\r\n            let wall = walls[key]\r\n            if (wall.arcDistance == 0)\r\n                noArcWalls.push(wall)\r\n        }\r\n        return noArcWalls\r\n    }\r\n\r\n    /** 通过wall获取cowall */\r\n    getCowallsByWalls(walls: JWall[]) {\r\n        let cowalls: JCowall[] = []\r\n        for (let i = 0; i < walls.length; i++) {\r\n            cowalls.push(...walls[i].getCowallArr())\r\n        }\r\n        return cowalls\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class TransWallLines {\r\n    lines: DC.Pos[][];\r\n    walls: JWall[];\r\n    /** 位置(一般0为中线,1为内线,-1为外线) */\r\n    locations?: number[]\r\n    /** 弧度值 */\r\n    radians?: number[]\r\n}\r\n\r\nexport class TransArcWallLines {\r\n    lines: ArcLineType[];\r\n    walls: JWall[]\r\n}\r\n\r\nexport class TransPointPosArr {\r\n    posArr: DC.Pos[];\r\n    points: JPoint[];\r\n}\r\n\r\nexport class TransPointLines {\r\n    lines: DC.Pos[][];\r\n    points: JPoint[];\r\n}","import { JdesignDataService } from \"../../../services/jdesign-data.service\";\r\nimport { JdesignUtil2dService } from \"../../../services/jdesign-util2d.service\";\r\nimport { CalculatorsService } from \"../../../services/calculators.service\";\r\nimport { JUWinTypeInit, JUWin } from \"../jdesign/JUWin\";\r\nimport { JUWin3D } from \"../../../three/jDesign3D/JUWin3D\";\r\nimport { JWall } from \"../jdesign/JWall\";\r\n\r\nexport class UWinCal {\r\n    constructor(\r\n        private dataService: JdesignDataService,\r\n        private DUService: JdesignUtil2dService,\r\n        private calService: CalculatorsService,\r\n    ) {\r\n\r\n    }\r\n\r\n    createNew(obj: JUWinTypeInit) {\r\n        let uWin = new JUWin3D(obj, this.dataService, this.DUService)\r\n        this.dataService.cache.UWin.createFunc(uWin)\r\n        return uWin\r\n    }\r\n\r\n    /** 合并墙 */\r\n    unionWall(obj: JUWin, wall: JWall) {\r\n        obj.centerWallID = wall.id\r\n        let posArr = wall.getPosArr()\r\n        obj.pos = { x: posArr[0].x, y: posArr[0].y }\r\n        obj.radian = wall.getRadian()\r\n    }\r\n\r\n    /** 分开墙 */\r\n    disconnectWall(obj: JUWin) {\r\n        obj.centerWallID = undefined\r\n    }\r\n\r\n\r\n    /* 获取U型窗吸附用的墙 */\r\n    getUWinAbsorbWalls() {\r\n        let absorbWalls: JWall[] = []\r\n        let walls = this.calService.transData.getUnArcWalls()\r\n        for (let i = 0; i < walls.length; i++) {\r\n            let roomArr = walls[i].getRoomArr()\r\n            if (roomArr && roomArr.length == 1) {\r\n                let pointArr = walls[i].getPointArr()\r\n                if (pointArr[0].getWallArr().length == 2 && pointArr[1].getWallArr().length == 2) {\r\n                    absorbWalls.push(walls[i])\r\n                }\r\n            }\r\n\r\n        }\r\n        return absorbWalls\r\n    }\r\n\r\n    /* 遍历吸附 */\r\n    listAbosrb() {\r\n        for (let key in this.dataService.UWins) {\r\n            let uWin = this.dataService.UWins[key]\r\n            let wall = uWin.getCenterWall()\r\n            if (wall) {\r\n                let pointArr = wall.getPointArr()\r\n                if (pointArr[0].getWallArr().length != 2 || pointArr[1].getWallArr().length != 2) {\r\n                    this.disconnectWall(uWin)\r\n                }\r\n                else {\r\n                    this.unionWall(uWin, wall)\r\n                }\r\n            }\r\n            else {\r\n                this.disconnectWall(uWin)\r\n            }\r\n        }\r\n    }\r\n\r\n}","import { JdesignDataService } from \"../../../services/jdesign-data.service\";\r\nimport { SaveAct } from \"../act/common/SaveAct\";\r\nimport { JdesignUtil2dService } from \"../../../services/jdesign-util2d.service\";\r\nimport { OpenAct } from \"../act/common/OpenAct\";\r\nimport { CalculatorsService } from \"../../../services/calculators.service\";\r\n\r\nexport class UndoRedoCal {\r\n    private _saveAct = new SaveAct(this.DUService, this.dataService)\r\n    private _openAct = new OpenAct(this.dataService, this.DUService, this.calService)\r\n    private _saveID: number = 0\r\n    private get saveID() {\r\n        this._saveID++;\r\n        return this._saveID\r\n    }\r\n\r\n    constructor(private dataService: JdesignDataService,\r\n        private DUService: JdesignUtil2dService,\r\n        private calService: CalculatorsService,\r\n        private saveInt: number) {\r\n        // this.save()\r\n    }\r\n\r\n    /** 保存(包括删除还原数据操作等) */\r\n    save() {\r\n        this.onlySave()\r\n        this.cleanRedo()\r\n    }\r\n\r\n    readData() {\r\n        let data = {\r\n            id: this.saveID,\r\n            data: this._saveAct.getSaveData()\r\n        }\r\n        return data\r\n    }\r\n\r\n    /** 仅保存 */\r\n    onlySave() {\r\n        let data = this.readData()\r\n        this.dataService.cache.undoData.push(data)\r\n        if (this.dataService.cache.undoData.length > this.saveInt) {\r\n            this.dataService.cache.undoData.splice(0, 1)\r\n        }\r\n    }\r\n\r\n    /** 打开数据 */\r\n    open(openData, wallCb?: () => void, roomCb?: () => void, allCb?: (maxNum?) => void) {\r\n        this._openAct.cleanData()\r\n        this._openAct.openData(openData.data, wallCb, roomCb, allCb)\r\n        this._openAct.delRedundanceObj(openData.data)\r\n        this.dataService.cache.undoData.push(openData)\r\n        this.callDo()\r\n    }\r\n\r\n    /** 还原 */\r\n    redo(wallCb?: () => void, roomCb?: () => void, allCb?: (maxNum?) => void) {\r\n        let length = this.dataService.cache.redoData.length\r\n        if (length > 0) {\r\n            // let undoData = this.dataService.cache.redoData[length - 2]\r\n            let openData = this.dataService.cache.redoData[length - 1]\r\n            this._openAct.cleanData()\r\n            this._openAct.openData(openData.data, wallCb, roomCb, allCb)\r\n            this._openAct.delRedundanceObj(openData.data)\r\n            this.dataService.cache.undoData.push(openData)\r\n            this.dataService.cache.redoData.splice(-1, 1)\r\n            this.callDo()\r\n        }\r\n\r\n    }\r\n\r\n    /** 恢复当前操作 */\r\n    setPresent(wallCb?: () => void, roomCb?: () => void, allCb?: (maxNum?) => void) {\r\n        let length = this.dataService.cache.undoData.length\r\n        let openData = this.dataService.cache.undoData[length - 1]\r\n        // console.log(openData)\r\n        this._openAct.cleanData()\r\n        this._openAct.openData(openData.data, wallCb, roomCb, allCb)\r\n        this._openAct.delRedundanceObj(openData.data)\r\n        this.callDo()\r\n    }\r\n\r\n    /** 撤销 */\r\n    undo(wallCb?: () => void, roomCb?: () => void, allCb?: (maxNum?) => void) {\r\n        let length = this.dataService.cache.undoData.length\r\n        if (length > 1) {\r\n            let redoData = this.dataService.cache.undoData[length - 1]\r\n            let openData = this.dataService.cache.undoData[length - 2]\r\n            this._openAct.cleanData()\r\n            this._openAct.openData(openData.data, wallCb, roomCb, allCb)\r\n            this._openAct.delRedundanceObj(openData.data)\r\n            this.dataService.cache.redoData.push(redoData)\r\n            this.dataService.cache.undoData.splice(-2, 2)\r\n            this.onlySave()\r\n            this.callDo()\r\n            // this.dataService.cache.common.firstPos = null\r\n        }\r\n    }\r\n\r\n    /** 还原清空 */\r\n    cleanRedo() {\r\n        this.dataService.cache.redoData = []\r\n    }\r\n\r\n    /** 完成后回调 */\r\n    callDo() {\r\n        this.dataService.cache.common.choose = this.dataService.floorplan\r\n    }\r\n\r\n    /** 测试用的 */\r\n    testClean() {\r\n        this._openAct.cleanData()\r\n    }\r\n\r\n    /* 还原单独数据 */\r\n    redoSingleData(jdata, dataJson) {\r\n        return this._openAct.redoObjBase(jdata, dataJson)\r\n    }\r\n\r\n}","import { JdesignDataService } from \"../../../services/jdesign-data.service\";\r\nimport { CalculatorsService } from \"../../../services/calculators.service\";\r\nimport { DesignCommon as DC } from '../class/DesignCommon'\r\nimport { JdesignUtil2dService } from \"../../../services/jdesign-util2d.service\";\r\nimport { JWall } from \"../jdesign/JWall\";\r\nimport { JPoint } from \"../jdesign/JPoint\";\r\nimport { JCowall } from \"../jdesign/JCowall\";\r\nimport { JPoint3D } from \"../../../three/jDesign3D/JPoint3D\";\r\nimport { JCowall3D } from \"../../../three/jDesign3D/JCowall3D\";\r\nimport { JRoom } from \"../jdesign/JRoom\";\r\nimport { JWall3D } from \"../../../three/jDesign3D/JWall3D\";\r\nimport { WallOverlayCal } from \"./wall.overlay.cal\";\r\nimport { WallCutCal } from \"./wall.cut.cal\";\r\nimport { WallOverCutCal } from \"./wall.overCut.cal\";\r\nimport { SaveType3D } from \"../../../three/save3D/SaveType3D\";\r\nimport { RoomReadyType } from \"./room.cal\";\r\n\r\nexport class WallCal {\r\n\r\n    constructor(\r\n        private calService: CalculatorsService,\r\n        private dataService: JdesignDataService,\r\n        private DUService: JdesignUtil2dService\r\n    ) {\r\n\r\n    }\r\n\r\n    cut = new WallCutCal(this.calService, this.dataService, this.DUService)\r\n    overlay = new WallOverCutCal(this.calService, this.dataService, this.DUService)\r\n\r\n    /** 获取墙轮廓\r\n     * @returns 以从左往右为标准,坐标数组为: [[左上,左下],[右下,右上]]\r\n     */\r\n    getOutLine(wall: JWall): DC.Pos[][] {\r\n        let wallPointArr = wall.getPointArr()\r\n        if (this.DUService.pos.isSamePos(wallPointArr[0].pos, wallPointArr[1].pos, 0.1))\r\n            return undefined\r\n        let msg = this.getNearestWalls(wall)\r\n        let wallRadian = wall.getRadian()\r\n        let wallPosArr = [wallPointArr[0].pos, wallPointArr[1].pos]\r\n        let halfThickness = wall.thickness / 2\r\n        let wallULine = this.DUService.pos.getPosTrans(wallPosArr[0], wallPosArr[1], halfThickness)\r\n        let wallDLine = this.DUService.pos.getPosTrans(wallPosArr[0], wallPosArr[1], -halfThickness)\r\n        /**\r\n         * 获取坐标方法\r\n         * @param lineMsg 相交线信息\r\n         * @param wallLine 墙射线\r\n         * @param isLineDown 相交线是上线还是下线\r\n         * @param wallRadian 墙射线方向弧度\r\n         * @param isWallDown 墙是上面还是下面\r\n         * @param noNum 没有相交取哪个墙射线哪个点\r\n         */\r\n        let getPosFunc = (\r\n            lineMsg: LineMsgType,\r\n            wallLine: DC.Pos[],\r\n            isLineDown: boolean,\r\n            wallRadian: number,\r\n            isWallDown: boolean,\r\n            noNum: number) => {\r\n            if (lineMsg != undefined) {\r\n                let a = isLineDown ? -1 : 1\r\n                let LUhalfDistance = lineMsg.wall.thickness / 2 * a\r\n                let intersectLine = lineMsg.line\r\n                intersectLine = this.DUService.pos.getPosTrans(intersectLine[0], intersectLine[1], LUhalfDistance)\r\n                /** 主墙和相交墙都是弧墙 */\r\n                if (wall.arcDistance != 0 && lineMsg.wall.arcDistance != 0) {\r\n                    let a = isWallDown ? -1 : 1\r\n                    let halfWallThickness = wall.thickness / 2\r\n                    let halfLineThickness = lineMsg.wall.thickness / 2\r\n                    /** 相交 */\r\n                    let posArr = this.DUService.pos.getArcArcIntersect(wall.arcRadius + (halfWallThickness * a), wall.circlePos, lineMsg.wall.arcRadius + (halfLineThickness * a), lineMsg.wall.circlePos)\r\n                    /** 获取最近的点 */\r\n                    let distanceA = this.DUService.pos.getPowDistance(posArr[0], intersectLine[0])\r\n                    let distanceB = this.DUService.pos.getPowDistance(posArr[1], intersectLine[0])\r\n                    return posArr[distanceA > distanceB ? 1 : 0]\r\n                }\r\n                /** 主墙为弧墙 */\r\n                else if (wall.arcDistance != 0) {\r\n                    let a = isWallDown ? -1 : 1\r\n                    /** 相交 */\r\n                    let posArr = this.DUService.pos.getArcLineIntersect(intersectLine[0], intersectLine[1], wall.arcRadius + halfThickness * a, wall.circlePos)\r\n                    /** 获取最近的点 */\r\n                    let distanceA = this.DUService.pos.getPowDistance(posArr[0], intersectLine[0])\r\n                    let distanceB = this.DUService.pos.getPowDistance(posArr[1], intersectLine[0])\r\n                    return posArr[distanceA > distanceB ? 1 : 0]\r\n                }\r\n                /** 相交墙为弧墙 */\r\n                else if (lineMsg.wall.arcDistance != 0) {\r\n                    let b = isWallDown ? -1 : 1\r\n                    let c = wallPointArr[noNum].id == lineMsg.wall.getPointArr()[noNum == 0 ? 1 : 0].id ? b : -b\r\n                    let wallLine = this.DUService.pos.getPosTrans(wallPosArr[0], wallPosArr[1], wall.thickness / 2 * b)\r\n                    /** 相交 */\r\n                    let posArr = this.DUService.pos.getArcLineIntersect(wallLine[0], wallLine[1],\r\n                        lineMsg.wall.arcRadius + (lineMsg.wall.thickness / 2 * c), lineMsg.wall.circlePos)\r\n                    /** 获取最近的点 */\r\n                    let distanceA = this.DUService.pos.getPowDistance(posArr[0], wallLine[noNum])\r\n                    let distanceB = this.DUService.pos.getPowDistance(posArr[1], wallLine[noNum])\r\n                    return posArr[distanceA > distanceB ? 1 : 0]\r\n                }\r\n                /** 都是直墙 */\r\n                else {\r\n                    if (!wallLine) {\r\n                        return wallPosArr[noNum]\r\n                    }\r\n                    else if (!intersectLine) {\r\n                        return wallLine[noNum]\r\n                    }\r\n                    let a = this.DUService.pos.isParallelRadian(wallRadian, lineMsg.radian, 0.1)\r\n                    let intersectPos = a ? undefined : this.DUService.pos.getIntersect(wallLine[0], wallLine[1], intersectLine[0], intersectLine[1])\r\n                    if (intersectPos)\r\n                        return intersectPos\r\n                    else {\r\n                        return wallLine[noNum]\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                /** 不是弧形墙 */\r\n                if (wall.arcDistance == 0)\r\n                    return wallLine[noNum]\r\n                /** 弧形墙 */\r\n                else {\r\n                    let radian = this.DUService.pos.getRadian(wall.circlePos, wallPosArr[noNum])\r\n                    let a = isWallDown ? -1 : 1\r\n                    let rayPos = this.DUService.pos.getRayPos(wallPosArr[noNum], radian, a * wall.thickness / 2)\r\n                    return rayPos\r\n                }\r\n            }\r\n        }\r\n        /** 获取坐标 */\r\n        let LUPos = getPosFunc(msg.LU, wallULine, true, wallRadian, false, 0)\r\n        let LDPos = getPosFunc(msg.LD, wallDLine, false, wallRadian, true, 0)\r\n        let RUPos = getPosFunc(msg.RU, wallULine, false, wallRadian - Math.PI, false, 1)\r\n        let RDPos = getPosFunc(msg.RD, wallDLine, true, wallRadian - Math.PI, true, 1)\r\n        return [[LUPos, LDPos], [RDPos, RUPos]]\r\n    }\r\n\r\n    // getDisplayOutLine(wall: JWall) {\r\n    //     let pointArr = wall.getPointArr()\r\n\r\n\r\n    // }\r\n\r\n    /**\r\n     * 获得弧线的点,仅限于内部使用,两个墙必须连接,否则报错\r\n     * @param arcWall \r\n     * @param inLine \r\n     * @param outLine\r\n     */\r\n    private getArcOutLineIntesect(arcWall: JWall, inLine: DC.Pos[], outLine: DC.Pos[]) {\r\n        let halfThickness = arcWall.thickness / 2\r\n        let inPosArr = this.DUService.pos.getArcLineIntersect(inLine[0], inLine[1], arcWall.arcRadius - halfThickness, arcWall.circlePos)\r\n        let outPosArr = this.DUService.pos.getArcLineIntersect(outLine[0], outLine[1], arcWall.arcRadius + halfThickness, arcWall.circlePos)\r\n        return {\r\n            inLine: inPosArr,\r\n            outLine: outPosArr\r\n        }\r\n    }\r\n\r\n    /** 删除不存在的墙数组 */\r\n    removeNoUseWalls(wallArr: JWall[]) {\r\n        for (let i = wallArr.length - 1; i >= 0; i--) {\r\n            if (this.dataService.walls[wallArr[i].id] == undefined) {\r\n                // this.DUService.out.redLog('空wall')\r\n                wallArr.splice(i, 1)\r\n            }\r\n        }\r\n    }\r\n\r\n    /** 删除少于长度的墙 */\r\n    removeDistanceWalls(minDistance: number, walls?: JWall[]) {\r\n        walls = walls ? walls : this.dataService.walls\r\n        for (let key in walls) {\r\n            let distance = walls[key].getDistance()\r\n            if (distance < minDistance) {\r\n                let pointArr = walls[key].getPointArr()\r\n                this.calService.point.transPoint(pointArr[0], pointArr[1])\r\n            }\r\n        }\r\n    }\r\n\r\n    /** 获取平行墙移动坐标 */\r\n    getVerticalMovePosArr(wall: JWall, plusPos: DC.Pos): DC.Pos[] {\r\n        let cowall: JCowall = wall.getCowall()\r\n        let radian: number = cowall.getRadian()\r\n        if (radian != null) {\r\n            let prevCowall: JCowall = cowall.getPrevCowall()\r\n            let nextCowall: JCowall = cowall.getNextCowall()\r\n            let posArr: DC.Pos[] = cowall.getPosArr()\r\n            let movePosArr: DC.Pos[] = [\r\n                { x: posArr[0].x + plusPos.x, y: posArr[0].y + plusPos.y },\r\n                { x: posArr[1].x + plusPos.x, y: posArr[1].y + plusPos.y }\r\n            ]\r\n            /** 完全没有边牵住 */\r\n            if (prevCowall == null && nextCowall == null) {\r\n                return movePosArr\r\n            }\r\n            let prevPos: DC.Pos = null\r\n            let nextPos: DC.Pos = null\r\n            /** 有边牵住 */\r\n            if (prevCowall != null) {\r\n                // let prevRadian = prevCowall.getRadian()\r\n                let prevPosArr: DC.Pos[] = prevCowall.getPosArr()\r\n                prevPos = this.DUService.pos.getIntersect(movePosArr[0], movePosArr[1], prevPosArr[0], prevPosArr[1])\r\n            }\r\n            if (nextCowall != null) {\r\n                let nextPosArr: DC.Pos[] = nextCowall.getPosArr()\r\n                nextPos = this.DUService.pos.getIntersect(movePosArr[0], movePosArr[1], nextPosArr[0], nextPosArr[1])\r\n            }\r\n            /** 只有一条边牵制 */\r\n            /** 墙两点重合 */\r\n            let newPervPos: DC.Pos = null\r\n            let newNextPos: DC.Pos = null\r\n            if (prevPos == null) {\r\n                let verticalPos = this.DUService.pos.getRayPos(posArr[0], radian + (Math.PI / 2), 10)\r\n                newPervPos = this.DUService.pos.getIntersect(posArr[0], verticalPos, movePosArr[0], movePosArr[1])\r\n            }\r\n            if (nextPos == null) {\r\n                let verticalPos = this.DUService.pos.getRayPos(posArr[1], radian + (Math.PI / 2), 10)\r\n                newNextPos = this.DUService.pos.getIntersect(posArr[1], verticalPos, movePosArr[0], movePosArr[1])\r\n            }\r\n            /** 两边牵住 */\r\n            return [newPervPos != null ? newPervPos : prevPos, newNextPos != null ? newNextPos : nextPos]\r\n        }\r\n        return null\r\n    }\r\n\r\n    /** 设置运算标识 */\r\n    setWallsCalFlag(calFlag: number) {\r\n        for (let key in this.dataService.walls)\r\n            this.dataService.walls[key].calFlag = calFlag\r\n    }\r\n\r\n    /** 删除同点的墙 */\r\n    removeSamePointWalls(walls: JWall[], errorValue: number = 0) {\r\n        for (let i = walls.length - 1; i >= 0; i--) {\r\n            let posArr = walls[i].getPosArr()\r\n            if (this.DUService.pos.isSamePos(posArr[0], posArr[1], errorValue)) {\r\n                walls.splice(i, 1)\r\n            }\r\n        }\r\n    }\r\n\r\n    arcInit() {\r\n        for (let key in this.dataService.walls) {\r\n            let wall = this.dataService.walls[key]\r\n            if (wall.arcDistance != 0 && !wall.arcRadius) {\r\n                wall.transArc()\r\n            }\r\n        }\r\n    }\r\n\r\n    /** 获取周边最近的墙(用来算轮廓) */\r\n    getNearestWalls(wall: JWall) {\r\n        let pointArr = wall.getPointArr()\r\n        let wallRadian = this.DUService.pos.getRadian(pointArr[0].pos, pointArr[1].pos)\r\n        /** 获取射线 */\r\n        let LLines = this.calService.transData.getPointRayLines([pointArr[0]])\r\n        let index = this.DUService.cal.isIncludeByAttr('id', wall.id, ...LLines.walls)\r\n        LLines.lines.splice(index, 1)\r\n        LLines.walls.splice(index, 1)\r\n        LLines.isReverses.splice(index, 1)\r\n        let RLines = this.calService.transData.getPointRayLines([pointArr[1]])\r\n        index = this.DUService.cal.isIncludeByAttr('id', wall.id, ...RLines.walls)\r\n        RLines.lines.splice(index, 1)\r\n        RLines.walls.splice(index, 1)\r\n        RLines.isReverses.splice(index, 1)\r\n        /** 获取最近上下射线组方法\r\n         * @param mainRadian 墙的方向弧度\r\n         * @param linesMsg 线段信息数组\r\n         */\r\n        let getFunc = (mainRadian: number, linesMsg: {\r\n            lines: DC.Pos[][];\r\n            walls: JWall[];\r\n            isReverses: boolean[];\r\n        }, isReverse: boolean) => {\r\n            let upLine: LineMsgType = undefined\r\n            let downLine: LineMsgType = undefined\r\n            for (let i = 0; i < linesMsg.lines.length; i++) {\r\n                let line = linesMsg.lines[i]\r\n                let lineRadian = this.DUService.pos.getRadian(line[0], line[1])\r\n                let differenceRadian = lineRadian - mainRadian\r\n                differenceRadian = this.DUService.pos.getAbsRadian(differenceRadian, true)\r\n                /** 判断上面 */\r\n                /** upLine没值,直接取值 */\r\n                if (upLine == undefined) {\r\n                    upLine = { wall: linesMsg.walls[i], line: line, radian: lineRadian, differenceRadian: differenceRadian, isReverse: linesMsg.isReverses[i] }\r\n                }\r\n                /** 夹角弧度比较大,直接取值 */\r\n                else if (differenceRadian > upLine.differenceRadian) {\r\n                    upLine = { wall: linesMsg.walls[i], line: line, radian: lineRadian, differenceRadian: differenceRadian, isReverse: linesMsg.isReverses[i] }\r\n                }\r\n                /** 判断下面 */\r\n                /** downLine没值,直接取值 */\r\n                if (downLine == undefined) {\r\n                    downLine = { wall: linesMsg.walls[i], line: line, radian: lineRadian, differenceRadian: differenceRadian, isReverse: linesMsg.isReverses[i] }\r\n                }\r\n                /** 夹角比较小,直接取值 */\r\n                else if (differenceRadian < downLine.differenceRadian) {\r\n                    downLine = { wall: linesMsg.walls[i], line: line, radian: lineRadian, differenceRadian: differenceRadian, isReverse: linesMsg.isReverses[i] }\r\n                }\r\n            }\r\n            if (isReverse) {\r\n                return {\r\n                    downLine: upLine,\r\n                    upLine: downLine\r\n                }\r\n            }\r\n            else {\r\n                return {\r\n                    downLine: downLine,\r\n                    upLine: upLine\r\n                }\r\n            }\r\n\r\n        }\r\n        /** 获取射线信息 */\r\n        let LLinesMsg = getFunc(wallRadian, LLines, false)\r\n        let RLinesMsg = getFunc(wallRadian - Math.PI, RLines, true)\r\n        return {\r\n            LU: LLinesMsg.upLine,\r\n            LD: LLinesMsg.downLine,\r\n            RU: RLinesMsg.upLine,\r\n            RD: RLinesMsg.downLine\r\n        }\r\n    }\r\n\r\n    /** 产生墙 */\r\n    createWall(cowallID: string) {\r\n        let wall: JWall = new JWall3D({ coedgeID: cowallID }, this.dataService, this.DUService)\r\n        return wall\r\n    }\r\n\r\n    /** 获取分割的空间 */\r\n    getCutRoom(wall: JWall) {\r\n        let pointArr: JPoint[] = wall.getPointArr()\r\n        let roomsA: JRoom[] = this.calService.point.getRooms(pointArr[0])\r\n        let roomsB: JRoom[] = this.calService.point.getRooms(pointArr[1])\r\n\r\n        for (let i = 0; i < roomsA.length; i++) {\r\n            for (let j = 0; j < roomsB.length; j++) {\r\n                if (roomsA[i].id == roomsB[j].id)\r\n                    return roomsA[i]\r\n            }\r\n        }\r\n        return null\r\n    }\r\n\r\n    /** 删除 */\r\n    del(wall: JWall) {\r\n        wall.destory3D()\r\n        delete this.dataService.walls[wall.id]\r\n    }\r\n\r\n    /** 完全删除\r\n     * 先后删除cowall,吸附品,墙(会触发联动))\r\n     */\r\n    absDel(wall: JWall) {\r\n        let cowallArr = wall.getCowallArr()\r\n        for (let i = 0; i < cowallArr.length; i++) {\r\n            // this.calService.cowall.delRoom(cowallArr[i])\r\n            this.calService.cowall.absDel(cowallArr[i])\r\n        }\r\n        this.delDepend(wall)\r\n        this.del(wall)\r\n    }\r\n\r\n    /** 删除门索引(会联动触发) */\r\n    delDoorIDs(wall: JWall) {\r\n        let doors = wall.getDoorArr()\r\n        for (let i = 0; i < doors.length; i++) {\r\n            doors[i].wallID = null\r\n        }\r\n    }\r\n\r\n    /** 删除门索引(会联动触发) */\r\n    delWinIDs(wall: JWall) {\r\n        let wins = wall.getWinArr()\r\n        for (let i = 0; i < wins.length; i++) {\r\n            wins[i].wallID = null\r\n        }\r\n    }\r\n\r\n    /** 删除物体索引(会联动触发) */\r\n    delGeometryIDs(wall: JWall) {\r\n        let geometrys = wall.getGeometryArr()\r\n        for (let i = 0; i < geometrys.length; i++) {\r\n            geometrys[i].wallID = null\r\n        }\r\n    }\r\n\r\n    /** 删除转角飘窗依赖 */\r\n    delCornerWinIDs(wall: JWall) {\r\n        let cornArr = wall.getCornWinArr()\r\n        for (let i = 0; i < cornArr.length; i++) {\r\n            cornArr[i].pointID = undefined\r\n            // cornArr[i].act3D.move()\r\n        }\r\n        wall.cornWinIDs = []\r\n    }\r\n\r\n    /** 删除依附关联索引 */\r\n    delDepend(wall: JWall) {\r\n        this.delDoorIDs(wall)\r\n        this.delWinIDs(wall)\r\n        this.delGeometryIDs(wall)\r\n        this.delCornerWinIDs(wall)\r\n    }\r\n\r\n    /** 获取cowalls数组 */\r\n    getCowallArr(walls: JWall[]) {\r\n        let cowalls: JCowall[] = []\r\n        for (let i = 0; i < walls.length; i++) {\r\n            cowalls.push(...walls[i].getCowallArr())\r\n        }\r\n        cowalls = this.DUService.cal.uniqueByAttr(cowalls, 'id')\r\n        return cowalls\r\n    }\r\n\r\n    /* 获取一条龙相连的墙s */\r\n    getOneLinkWalls(walls?: JWall[]) {\r\n        walls = walls ? walls : this.dataService.doWalls().arr()\r\n        let newWalls: JWall[] = []\r\n        for (let i = 0; i < walls.length; i++) {\r\n            let points = walls[i].getPointArr()\r\n            if (points[0].getWallArr().length == 2 && points[1].getWallArr().length == 2) {\r\n                newWalls.push(walls[i])\r\n            }\r\n        }\r\n        return newWalls\r\n    }\r\n\r\n    /* 获取非弧墙 */\r\n    getUnArcWalls(walls?: JWall[]) {\r\n        walls = walls ? walls : this.dataService.doWalls().arr()\r\n        let newWalls: JWall[] = []\r\n        for (let i = 0; i < walls.length; i++) {\r\n            if (walls[i].arcDistance == 0) {\r\n                newWalls.push(walls[i])\r\n            }\r\n        }\r\n        return newWalls\r\n    }\r\n\r\n    /* 获取弧墙 */\r\n    getArcWalls(walls: JWall[]) {\r\n        walls = walls ? walls : this.dataService.doWalls().arr()\r\n        let newWalls: JWall[] = []\r\n        for (let i = 0; i < walls.length; i++) {\r\n            if (walls[i].arcDistance != 0) {\r\n                newWalls.push(walls[i])\r\n            }\r\n        }\r\n        return newWalls\r\n    }\r\n\r\n    /* 获取有空间属性的墙 */\r\n    getRoomWalls(walls: JWall[]) {\r\n        walls = walls ? walls : this.dataService.doWalls().arr()\r\n        let newWalls: JWall[] = []\r\n        for (let i = 0; i < walls.length; i++) {\r\n            let cowall = walls[i].getCowall()\r\n            if (cowall.roomID) {\r\n                newWalls.push(walls[i])\r\n            }\r\n        }\r\n        return newWalls\r\n    }\r\n\r\n    /** 通过点获取矩形墙 */\r\n    getRectWallsByPoint(firstPoint: JPoint, lastPoint: JPoint) {\r\n        let newWalls: JWall[] = []\r\n        let points: JPoint[] = []\r\n        points.push(firstPoint)\r\n        let point = this.calService.point.createPoint({ x: lastPoint.pos.x, y: firstPoint.pos.y })\r\n        points.push(point)\r\n        points.push(lastPoint)\r\n        point = this.calService.point.createPoint({ x: firstPoint.pos.x, y: lastPoint.pos.y })\r\n        points.push(point)\r\n        points.push(firstPoint)\r\n        for (let i = 0; i < points.length - 1; i++) {\r\n            let cowall = this.calService.cowall.createCowall([points[i].id, points[i + 1].id])\r\n            let wall = this.calService.wall.createWall(cowall.id)\r\n            cowall.edgeID = wall.id\r\n            newWalls.push(wall)\r\n        }\r\n        return newWalls\r\n    }\r\n\r\n    arcWallUpdata(wall: JWall) {\r\n        let arcDistance = wall.getDistance() * wall.arcPer\r\n        wall.transArc()\r\n        // this.transArcWall(wall, arcDistance)\r\n    }\r\n\r\n    /** 转弧形墙 */\r\n    transArcWall(wall: JWall, arcDistance: number) {\r\n        wall.arcDistance = arcDistance\r\n        let distance = wall.getDistance()\r\n        let radius = (Math.pow(arcDistance, 2) + Math.pow(distance / 2, 2)) / (2 * arcDistance)\r\n        wall.arcRadius = radius\r\n        let posArr = wall.getPosArr()\r\n        let radian = wall.getRadian()\r\n        let centerPos = this.DUService.pos.getCenterPos(posArr[0], posArr[1])\r\n        let circlePos = this.DUService.pos.getRayPos(centerPos, radian - (Math.PI / 2), arcDistance - radius)\r\n        wall.circlePos = circlePos\r\n    }\r\n\r\n    // /** 分空间前期准备(旧版) */\r\n    // cutRoomReady(walls: JWall[]) {\r\n    //     this.calService.wall.removeNoUseWalls(walls)\r\n    //     let otherWalls: JWall[] = []\r\n    //     for (let i = 0; i < walls.length; i++) {\r\n    //         let cowalls = walls[i].getCowallArr()\r\n    //         for (let j = 0; j < cowalls.length; j++) {\r\n    //             let room = cowalls[j].getRoom()\r\n    //             if (room) {\r\n    //                 otherWalls.push(...room.getWallArr())\r\n    //             }\r\n    //             this.calService.cowall.delRoom(cowalls[j])\r\n    //         }\r\n    //     }\r\n    //     otherWalls.push(...walls)\r\n    //     otherWalls=this.DUService.cal.uniqueByAttr(otherWalls, 'id')\r\n    //     return otherWalls\r\n    // }\r\n\r\n    /**\r\n     * 分空间前期准备\r\n     * @param walls \r\n     * @param isDelRoom 是否顺便删除空间,默认true\r\n     */\r\n    cutRoomReady(walls: JWall[], isDelRoom: boolean = true) {\r\n        this.calService.wall.removeNoUseWalls(walls)\r\n        let roomMsgs: RoomReadyType[] = []\r\n        let wallMsgs: JWall[] = []\r\n        for (let i = 0; i < walls.length; i++) {\r\n            let cowalls = walls[i].getCowallArr()\r\n            for (let j = 0; j < cowalls.length; j++) {\r\n                let room = cowalls[j].getRoom()\r\n                if (room) {\r\n                    let data = this.calService.room.copyRoom(room)\r\n                    let roomWalls = room.getWallArr()\r\n                    wallMsgs.push(...roomWalls)\r\n                    roomMsgs[data.roomID] = data\r\n                }\r\n                if (isDelRoom)\r\n                    this.calService.cowall.delRoom(cowalls[j])\r\n            }\r\n        }\r\n        wallMsgs = this.DUService.cal.uniqueByAttr(wallMsgs, 'id')\r\n        return { rooms: roomMsgs, walls: wallMsgs }\r\n    }\r\n}\r\n\r\nexport class LineMsgType {\r\n    wall: JWall;\r\n    radian: number;\r\n    line: DC.Pos[];\r\n    differenceRadian: number;\r\n    isReverse: boolean;\r\n}\r\n\r\n","import { CalculatorsService } from \"../../../services/calculators.service\";\r\nimport { JdesignDataService } from \"../../../services/jdesign-data.service\";\r\nimport { JdesignUtil2dService } from \"../../../services/jdesign-util2d.service\";\r\nimport { JWall } from \"../jdesign/JWall\";\r\nimport { JPoint } from \"../jdesign/JPoint\";\r\nimport { JCowall } from \"../jdesign/JCowall\";\r\nimport { JCowall3D } from \"../../../three/jDesign3D/JCowall3D\";\r\nimport { JWall3D } from \"../../../three/jDesign3D/JWall3D\";\r\nimport { WallOverlayCal, WallMsgType, OverlayTransMsg, OverlayMsg } from \"./wall.overlay.cal\";\r\nimport { DesignCommon as DC } from '../class/DesignCommon'\r\nimport { JPoint3D } from \"../../../three/jDesign3D/JPoint3D\";\r\n\r\nexport class WallCutCal extends WallOverlayCal {\r\n\r\n    /** 靠点分墙 生成得墙为后面部分 */\r\n    cutByPoint(wall: JWall, point: JPoint) {\r\n        let oldCowallArr: JCowall[] = wall.getCowallArr()\r\n        let newCowallArr: JCowall[] = []\r\n        /** 正有序墙============================================== */\r\n        /** 新建cowall */\r\n        let newCowall: JCowall = new JCowall3D({\r\n            pointIDs: [point.id, oldCowallArr[0].getPointEnd().id],\r\n            roomID: oldCowallArr[0].roomID,\r\n            reversed: oldCowallArr[0].reversed,\r\n            nextID: oldCowallArr[0].nextID,\r\n            prevID: oldCowallArr[0].id\r\n        }, this.dataService, this.DUService)\r\n        newCowallArr.push(newCowall)\r\n        /** 修改旧cowall下边 */\r\n        let nextCowall = oldCowallArr[0].getNextCowall()\r\n        nextCowall ? nextCowall.prevID = newCowall.id : null\r\n        /** 修改旧cowall的点集合 */\r\n        oldCowallArr[0].pointIDs = [oldCowallArr[0].pointIDs[0], point.id]\r\n        /** 修改旧的cowall上下关系 */\r\n        oldCowallArr[0].nextID = newCowall.id\r\n        /** 生成新wall */\r\n        let newWall: JWall = new JWall3D({ coedgeID: newCowall.id, thickness: wall.thickness, wallType: wall.wallType }, this.dataService, this.DUService)\r\n        /** 修改cowall和wall关系 */\r\n        newCowall.edgeID = newWall.id\r\n        /** 修改空间关系 */\r\n        let room = oldCowallArr[0].getRoom()\r\n        if (room != null)\r\n            room.cowallIDs.push(newCowall.id)\r\n        /** 修改point的关系 */\r\n        /** 反向有序墙=============================================================== */\r\n        if (oldCowallArr.length > 1 && oldCowallArr[1] != undefined) {\r\n            /** 新建cowall */\r\n            newCowall = new JCowall3D({\r\n                pointIDs: [oldCowallArr[1].getPointStart().id, point.id],\r\n                roomID: oldCowallArr[1].roomID,\r\n                reversed: oldCowallArr[1].reversed,\r\n                nextID: oldCowallArr[1].id,\r\n                prevID: oldCowallArr[1].prevID,\r\n                edgeID: newWall.id\r\n            }, this.dataService, this.DUService)\r\n            newCowallArr.push(newCowall)\r\n            /** 修改旧cowall上边 */\r\n            let prevCowall = oldCowallArr[1].getPrevCowall()\r\n            if (prevCowall != null) {\r\n                prevCowall.nextID = newCowall.id\r\n                let prevEndPoint = prevCowall.getPointEnd()\r\n                /** 添加新cowall索引 */\r\n                prevEndPoint.cowallIDs.push(newCowall.id)\r\n                /** 删除旧cowall索引 */\r\n                this.DUService.cal.removeByValue(prevEndPoint.cowallIDs, oldCowallArr[1].id)\r\n                // console.log(prevEndPoint.cowallIDs)\r\n                prevEndPoint.cowallIDs = this.DUService.cal.unique(prevEndPoint.cowallIDs)\r\n            }\r\n            /** 修改旧墙上下关系 */\r\n            oldCowallArr[1].prevID = newCowall.id\r\n            oldCowallArr[1].pointIDs = [point.id, oldCowallArr[1].pointIDs[1]]\r\n            /** 修改cowall和cowall关系 */\r\n            newCowall.partnerID = newCowallArr[0].id\r\n            /** 修改cowall与点的关系 */\r\n            point.cowallIDs.push(newCowall.id, oldCowallArr[1].id)\r\n            /** 修改cowall和wall关系 */\r\n            /** 修改空间关系 */\r\n            let room = oldCowallArr[1].getRoom()\r\n            if (room != null)\r\n                room.cowallIDs.push(newCowall.id)\r\n        }\r\n        /** 点去重复 */\r\n        point.cowallIDs = this.DUService.cal.unique(point.cowallIDs)\r\n        return {\r\n            wall: newWall,\r\n            cowalls: newCowallArr\r\n        }\r\n    }\r\n\r\n    /** 通过点数组分墙 返回切割后的墙数组 \r\n     * 自动排序的,不必带顺序\r\n    */\r\n    cutsByPoints(wall: JWall, ...pointArr: JPoint[]) {\r\n        /** 仅仅只有一个点时候,节约性能 */\r\n        if (pointArr.length == 1) {\r\n            let newWall = this.cutByPoint(wall, pointArr[0]).wall\r\n            return [newWall]\r\n        }\r\n        /** 获取墙与点的距离数组 */\r\n        let distanceArr: number[] = []\r\n        let pointStart: JPoint = wall.getCowall().getPointStart()\r\n        for (let i = 0; i < pointArr.length; i++) {\r\n            distanceArr.push(this.DUService.pos.getPowDistance(pointStart.pos, pointArr[i].pos))\r\n        }\r\n        /** 根据距离排列点的顺序 */\r\n        let sort = this.DUService.cal.bubbleSortID(distanceArr)\r\n        /** 收集墙 */\r\n        let newWallArr: JWall[] = []\r\n        for (let i = 0; i < sort.length; i++) {\r\n            wall = this.cutByPoint(wall, pointArr[sort[i]]).wall\r\n            newWallArr.push(wall)\r\n        }\r\n        return newWallArr\r\n    }\r\n\r\n    /** 靠坐标拆分墙 */\r\n    cutByPos(wall: JWall, pos: DC.Pos) {\r\n        let point: JPoint = new JPoint3D({ pos: { x: pos.x, y: pos.y } }, this.dataService, this.DUService)\r\n        // console.log(point)\r\n        let msg = this.cutByPoint(wall, point)\r\n        return {\r\n            point: point,\r\n            wall: msg.wall,\r\n            cowalls: msg.cowalls\r\n        }\r\n    }\r\n\r\n    /** 靠百分比分墙 */\r\n    cutByPer(wall: JWall, per: number) {\r\n        let startPos: DC.Pos = wall.getCowall().getPointStart().pos\r\n        let distance: number = wall.getDistance()\r\n        distance = distance * per\r\n        let radian: number = wall.getRadian()\r\n        let newPos: DC.Pos = null\r\n        if (distance != 0)\r\n            newPos = this.DUService.pos.getRayPos(startPos, radian, distance)\r\n        else\r\n            newPos = startPos\r\n        return this.cutByPos(wall, newPos)\r\n    }\r\n\r\n    /** 获取相交点 */\r\n    getIntersect(wallA: JWall, wallB: JWall) {\r\n        let posArrA: DC.Pos[] = wallA.getPosArr()\r\n        let posArrB: DC.Pos[] = wallB.getPosArr()\r\n        let intersectPos: DC.Pos = this.DUService.pos.getIntersect(posArrA[0], posArrA[1], posArrB[0], posArrB[1], false)\r\n        return intersectPos\r\n    }\r\n\r\n    /** 获取相交点坐标集合 */\r\n    getIntersectArr(wall: JWall, ...reWalls: JWall[]) {\r\n        let posArr: DC.Pos[] = []\r\n        for (let key in this.dataService.walls) {\r\n            for (let i = 0; i < reWalls.length; i++) {\r\n                let sameInt = this.DUService.cal.isIncludeByAttr('id', key, wall, ...reWalls)\r\n                if (sameInt == null) {\r\n                    let intersectPos = this.getIntersect(wall, this.dataService.walls[key])\r\n                    posArr.push(intersectPos)\r\n                }\r\n            }\r\n        }\r\n        return posArr\r\n    }\r\n\r\n}\r\n\r\n","import { WallOverlayCal, WallMsgType } from \"./wall.overlay.cal\";\r\nimport { JWall } from \"../jdesign/JWall\";\r\nimport { JPoint } from \"../jdesign/JPoint\";\r\n\r\nexport class WallOverCutCal extends WallOverlayCal {\r\n    /** 获取墙的信息 */\r\n    private getWallsMsg(walls: JWall[]) {\r\n        let msgs: WallMsgType[] = []\r\n        for (let i = 0; i < walls.length; i++) {\r\n            let msg = this.getWallMsg(walls[i])\r\n            msgs.push(msg)\r\n        }\r\n        return msgs\r\n    }\r\n\r\n    private isCanCut(mainPointArr: JPoint[], otherPointArr: JPoint[]) {\r\n        if (mainPointArr[0].id == otherPointArr[0].id ||\r\n            mainPointArr[0].id == otherPointArr[1].id ||\r\n            mainPointArr[1].id == otherPointArr[0].id ||\r\n            mainPointArr[1].id == otherPointArr[1].id\r\n        )\r\n            return false\r\n        return true\r\n    }\r\n\r\n    /**\r\n     * 获取切割墙信息\r\n     * @param mainWall \r\n     * @param otherWall \r\n     */\r\n    private getCutWallMsg(mainWall: WallMsgType, otherWall: WallMsgType) {\r\n        if (!this.isCanCut(mainWall.points, otherWall.points))\r\n            return undefined\r\n        let intersectPos = this.DUService.pos.getIntersect(mainWall.posArr[0], mainWall.posArr[1], otherWall.posArr[0], otherWall.posArr[1], false)\r\n        if (intersectPos) {\r\n            let distance = this.DUService.pos.getDistance(otherWall.posArr[0], intersectPos)\r\n            let otherWallDistance = Math.sqrt(otherWall.powDistance)\r\n            /** 创建点 */\r\n            let creatPoint: JPoint = undefined\r\n            /** 创建墙 */\r\n            let createWall = undefined\r\n            if (distance < 1) {\r\n                // console.log('头')\r\n                creatPoint = otherWall.points[0]\r\n                createWall = undefined\r\n            }\r\n            else if (distance > otherWallDistance - 1 && distance < otherWallDistance + 1) {\r\n                // console.log('尾')\r\n                creatPoint = otherWall.points[1]\r\n                createWall = undefined\r\n            }\r\n            else {\r\n                creatPoint = this.calService.point.createPoint(intersectPos)\r\n                createWall = this.calService.wall.cut.cutByPoint(otherWall.wall, creatPoint).wall\r\n            }\r\n            let powDistance = this.DUService.pos.getPowDistance(mainWall.posArr[0], intersectPos)\r\n            return {\r\n                intersectPoint: creatPoint,\r\n                cutWall: createWall,\r\n                cutPowDistance: powDistance\r\n            }\r\n        }\r\n        return undefined\r\n    }\r\n\r\n    private setOverMsg(mainMsg: WallMsgType, otherMsg: WallMsgType, msgs: WallOverCutMsg[][]) {\r\n        let overlay = this.getParallelWallType(mainMsg, otherMsg)\r\n        /** 重叠 */\r\n        if (overlay) {\r\n            let a = this.getWalloverlayTransMsg(overlay, mainMsg, otherMsg)\r\n            /** 添加切割信息 */\r\n            if (!msgs[mainMsg.wall.id])\r\n                msgs[mainMsg.wall.id] = []\r\n            msgs[mainMsg.wall.id].push({\r\n                wall: mainMsg,\r\n                otherWall: otherMsg,\r\n                cutPowDistance: a.powDistance,\r\n                intersectPoint: a.intersectPoint,\r\n                wallPowDistance: mainMsg.powDistance,\r\n                type: overlay.type,\r\n                isReverse: overlay.isReverse\r\n            })\r\n        }\r\n    }\r\n\r\n    private getAllLinkOverMsg(mainWalls: JWall[]) {\r\n        let mainMsgs = this.getWallsMsg(mainWalls)\r\n        let msgs: WallOverCutMsg[][] = []\r\n        for (let i = 0; i < mainMsgs.length; i++) {\r\n            for (let j = i + 1; j < mainMsgs.length; j++) {\r\n                if (mainMsgs[i].wall.id != mainMsgs[j].wall.id) {\r\n                    this.setOverMsg(mainMsgs[i], mainMsgs[j], msgs)\r\n                }\r\n            }\r\n        }\r\n        return msgs\r\n    }\r\n\r\n    /**\r\n     * 获取所有重合信息\r\n     */\r\n    private getAllOverMsg(mainWalls: JWall[], otherWalls: JWall[]) {\r\n        let mainMsgs = this.getWallsMsg(mainWalls)\r\n        let otherMsgs = this.getWallsMsg(otherWalls)\r\n        let msgs: WallOverCutMsg[][] = []\r\n        for (let i = 0; i < mainMsgs.length; i++) {\r\n            let len = otherMsgs.length\r\n            for (let j = 0; j < len; j++) {\r\n                if (mainMsgs[i].wall.id != otherMsgs[j].wall.id) {\r\n                    this.setOverMsg(mainMsgs[i], otherMsgs[j], msgs)\r\n                }\r\n            }\r\n        }\r\n        return msgs\r\n    }\r\n\r\n    /** 获取所有切割信息 */\r\n    private getAllCutMsg(mainWalls: JWall[], otherWalls: JWall[]) {\r\n        let mainMsgs = this.getWallsMsg(mainWalls)\r\n        let otherMsgs = this.getWallsMsg(otherWalls)\r\n        let msgs: WallOverCutMsg[][] = []\r\n        /** 切割 */\r\n        for (let i = 0; i < mainMsgs.length; i++) {\r\n            let len = otherMsgs.length\r\n            for (let j = 0; j < len; j++) {\r\n                let cut = this.getCutWallMsg(mainMsgs[i], otherMsgs[j])\r\n                if (cut) {\r\n                    otherMsgs[j] = this.getWallMsg(otherMsgs[j].wall)\r\n                    if (cut.cutWall)\r\n                        otherMsgs.push(this.getWallMsg(cut.cutWall))\r\n                    /** 添加切割信息 */\r\n                    if (!msgs[mainMsgs[i].wall.id])\r\n                        msgs[mainMsgs[i].wall.id] = []\r\n                    msgs[mainMsgs[i].wall.id].push({\r\n                        wall: mainMsgs[i],\r\n                        otherWall: otherMsgs[j],\r\n                        cutPowDistance: cut.cutPowDistance,\r\n                        intersectPoint: cut.intersectPoint,\r\n                        wallPowDistance: mainMsgs[i].powDistance,\r\n                        type: 'cut'\r\n                    })\r\n                }\r\n            }\r\n        }\r\n        return msgs\r\n    }\r\n\r\n    /** 收集仍未使用的墙 */\r\n    private collectNoUseWalls(oldWallIDs: string[], useWallIDs: string[]) {\r\n        let collectWalls: JWall[] = []\r\n        for (let i = 0; i < oldWallIDs.length; i++) {\r\n            let a = this.DUService.cal.isInclude(useWallIDs, oldWallIDs[i])\r\n            if (a == undefined) {\r\n                collectWalls.push(this.dataService.walls[oldWallIDs[i]])\r\n            }\r\n        }\r\n        return collectWalls\r\n    }\r\n\r\n    /** 所有重合 */\r\n    allOverlay(walls: JWall[]) {\r\n        let otherWalls = this.dataService.doWalls().arr(...walls)\r\n        let msgs = this.getAllOverMsg(walls, otherWalls)\r\n        this.setAllCutMsgSortByPowDistance(msgs)\r\n        let collectWalls: JWall[] = []\r\n        let useWalls: JWall[] = []\r\n        let oldWallIDs: string[] = this.DUService.cal.getNewAttrArray(walls, 'id')\r\n        let useWallIDs: string[] = []\r\n        let roomWalls: JWall[] = []\r\n        for (let key in msgs) {\r\n            useWallIDs.push(key)\r\n            let a = this.wallsOverAndCut(msgs[key])\r\n            if (a) {\r\n                collectWalls.push(...a.collectWalls)\r\n                useWalls.push(...a.useWalls)\r\n                roomWalls.push(...a.roomWalls)\r\n            }\r\n        }\r\n        collectWalls.push(...this.collectNoUseWalls(oldWallIDs, useWallIDs))\r\n        useWalls = this.DUService.cal.uniqueByAttr(useWalls, 'id')\r\n        collectWalls = this.DUService.cal.uniqueByAttr(collectWalls, 'id')\r\n        return {\r\n            collectWalls: collectWalls,\r\n            useWalls: useWalls,\r\n            roomWalls: roomWalls\r\n        }\r\n    }\r\n\r\n    /** 所有切割 */\r\n    allCut(walls: JWall[]) {\r\n        let otherWalls = this.dataService.doWalls().arr(...walls)\r\n        let msgs = this.getAllCutMsg(walls, otherWalls)\r\n        this.setAllCutMsgSortByPowDistance(msgs)\r\n        let collectWalls: JWall[] = []\r\n        let oldWallIDs: string[] = this.DUService.cal.getNewAttrArray(walls, 'id')\r\n        let useWallIDs: string[] = []\r\n        let useWalls: JWall[] = []\r\n        for (let key in msgs) {\r\n            useWallIDs.push(key)\r\n            let a = this.wallsOverAndCut(msgs[key])\r\n            if (a) {\r\n                collectWalls.push(...a.collectWalls)\r\n                useWalls.push(...a.useWalls)\r\n            }\r\n        }\r\n        collectWalls.push(...this.collectNoUseWalls(oldWallIDs, useWallIDs))\r\n        useWalls = this.DUService.cal.uniqueByAttr(useWalls, 'id')\r\n        collectWalls = this.DUService.cal.uniqueByAttr(collectWalls, 'id')\r\n        return {\r\n            collectWalls: collectWalls,\r\n            useWalls: useWalls,\r\n            roomWalls: []\r\n        }\r\n    }\r\n\r\n    /** 连接切割 */\r\n    allLinkOverLay(wall: JWall) {\r\n        let otherWalls: JWall[] = []\r\n        let pointArr = wall.getPointArr()\r\n        let collectWalls: JWall[] = []\r\n        let oldWallIDs: string[] = []\r\n        let useWallIDs: string[] = []\r\n        let useWalls: JWall[] = []\r\n        let roomWalls: JWall[] = []\r\n        let func = (otherWalls: JWall[]) => {\r\n            this.DUService.cal.removeByAttr(otherWalls, 'id', wall.id)\r\n            let msgs = this.getAllLinkOverMsg(otherWalls)\r\n            for (let key in msgs) {\r\n                useWallIDs.push(key)\r\n                let msg = msgs[key]\r\n                let a = this.wallsOverAndCut(msg)\r\n                if (a) {\r\n                    collectWalls.push(...a.collectWalls)\r\n                    useWalls.push(...a.useWalls)\r\n                    roomWalls.push(...a.roomWalls)\r\n                }\r\n            }\r\n        }\r\n        /** 起点 */\r\n        otherWalls = pointArr[0].getWallArr()\r\n        func(otherWalls)\r\n        /** 尾点 */\r\n        otherWalls = pointArr[1].getWallArr()\r\n        func(otherWalls)\r\n        collectWalls.push(...this.collectNoUseWalls(oldWallIDs, useWallIDs))\r\n        useWalls = this.DUService.cal.uniqueByAttr(useWalls, 'id')\r\n        collectWalls = this.DUService.cal.uniqueByAttr(collectWalls, 'id')\r\n        return {\r\n            collectWalls: collectWalls,\r\n            useWalls: useWalls,\r\n            roomWalls: roomWalls\r\n        }\r\n    }\r\n\r\n    /* 删除连接且长度近乎为0的墙 */\r\n    delLinkZeroWalls(wall: JWall) {\r\n        let pointArr = wall.getPointArr()\r\n        let otherWalls = pointArr[0].getWallArr()\r\n        otherWalls.push(...pointArr[1].getWallArr())\r\n        otherWalls = this.DUService.cal.uniqueByAttr(otherWalls, 'id')\r\n        for (let i = 0; i < otherWalls.length; i++) {\r\n            let otherPoints = otherWalls[i].getPointArr()\r\n            if (this.DUService.pos.isSamePos(otherPoints[0].pos, otherPoints[1].pos, 0.01)) {\r\n                let samePoint = (pointArr[0].id == otherPoints[0].id || pointArr[0].id == otherPoints[1].id) ? pointArr[0] : (pointArr[1].id == otherPoints[0].id || pointArr[1].id == otherPoints[1].id) ? pointArr[1] : undefined\r\n                if (samePoint) {\r\n                    let otherOtherPoint = otherPoints[0].id == samePoint.id ? otherPoints[1] : otherPoints[0]\r\n                    this.calService.point.transPoint(otherOtherPoint, samePoint)\r\n                    this.calService.point.resetRoomsCowalls(samePoint)\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /** 所有切割和所有重合\r\n     * @param readyWall 先进行第一次单墙切割,切割完再统一切割\r\n     */\r\n    allOverlayAndAllCut(walls: JWall[], readyWall?: JWall) {\r\n        /** 相连 */\r\n        let msg: { collectWalls: JWall[], useWalls: JWall[], roomWalls: JWall[] } = { collectWalls: [], useWalls: [], roomWalls: [] }\r\n        let roomWalls: JWall[] = []\r\n        let useWalls: JWall[] = []\r\n        /** 相连================= */\r\n        if (readyWall) {\r\n            try {\r\n                this.delLinkZeroWalls(readyWall)\r\n                this.calService.wall.removeNoUseWalls(walls)\r\n                msg = this.allLinkOverLay(readyWall)\r\n                roomWalls.push(...msg.roomWalls)\r\n                msg.collectWalls.push(...msg.useWalls)\r\n                msg.collectWalls.push(readyWall)\r\n                roomWalls.push(...msg.roomWalls)\r\n                useWalls.push(...msg.useWalls)\r\n                msg.collectWalls.push(...readyWall.getNearWallArr())\r\n                msg.collectWalls = this.DUService.cal.uniqueByAttr(msg.collectWalls, 'id')\r\n            }\r\n            catch (e) {\r\n                console.log('第一次切割失败')\r\n                console.log(readyWall)\r\n                console.log(e)\r\n                return undefined\r\n            }\r\n        }\r\n        /** 重合================== */\r\n        try {\r\n            msg.collectWalls.push(...walls)\r\n            this.calService.wall.removeNoUseWalls(msg.collectWalls)\r\n            msg.collectWalls = this.DUService.cal.uniqueByAttr(msg.collectWalls, 'id')\r\n            msg = this.allOverlay(msg.collectWalls)\r\n            roomWalls.push(...msg.roomWalls)\r\n            useWalls.push(...msg.useWalls)\r\n        }\r\n        catch (e) {\r\n            console.log(\"重合失败\")\r\n            console.log(e)\r\n            return undefined\r\n        }\r\n        /** 切割======================= */\r\n        try {\r\n            msg.collectWalls.push(...walls)\r\n            this.calService.wall.removeNoUseWalls(msg.collectWalls)\r\n            msg.collectWalls = this.DUService.cal.uniqueByAttr(msg.collectWalls, 'id')\r\n            msg = this.allCut(msg.collectWalls)\r\n            this.delSamePointWalls()\r\n            this.calService.point.delNoUse()\r\n        }\r\n        catch (e) {\r\n            console.log('切割失败')\r\n            console.log(e)\r\n            return undefined\r\n        }\r\n        return {\r\n            collectWalls: msg.collectWalls,\r\n            roomWalls: roomWalls,\r\n            useWalls: useWalls\r\n        }\r\n    }\r\n\r\n    /** 设置先后顺序 */\r\n    private setAllCutMsgSortByPowDistance(msgs: WallOverCutMsg[][]) {\r\n        for (let key in msgs) {\r\n            this.DUService.cal.bubbleSortByAttr(msgs[key], 'cutPowDistance')\r\n        }\r\n    }\r\n\r\n    /** 切割和重合 */\r\n    private wallsOverAndCut(walloverCuts: WallOverCutMsg[]) {\r\n        let wall = walloverCuts[0].wall.wall\r\n\r\n        if (!wall)\r\n            return undefined\r\n        let collectWalls: JWall[] = []\r\n        let useWalls: JWall[] = []\r\n        let roomWalls: JWall[] = []\r\n        // console.log(`wallID:${wall.id},切割次数:${walloverCuts.length}`)\r\n        let isBreak: boolean = false\r\n        for (let i = 0; i < walloverCuts.length; i++) {\r\n            // console.log(`当前墙ID:${wall.id}`)\r\n            // console.log(`类型:${walloverCuts[i].type},切割对象:${walloverCuts[i].otherWall.wall.id},距离:${walloverCuts[i].cutPowDistance}`)\r\n            // if (!wall || !this.dataService.walls[wall.id])\r\n            //     break\r\n            // while (!this.dataService.walls[walloverCuts[i].wall.wall.id]) {\r\n            //     i += 1\r\n            //     if (i >= walloverCuts.length) {\r\n            //         isBreak = true\r\n            //         break\r\n            //     }\r\n            // }\r\n            // if (isBreak)\r\n            //     break\r\n            let overcutWallMsg: OverCutWallMsg = undefined\r\n            switch (walloverCuts[i].type) {\r\n                case \"leftLink\":\r\n                    overcutWallMsg = this.wallLeftLinkOver(wall, walloverCuts[i])\r\n                    wall = overcutWallMsg.wall\r\n                    break;\r\n                case \"rightLink\":\r\n                    overcutWallMsg = this.wallRightLinkOver(wall, walloverCuts[i])\r\n                    wall = undefined\r\n                    break;\r\n                case \"left\":\r\n                    overcutWallMsg = this.wallLeftOver(wall, walloverCuts[i])\r\n                    wall = overcutWallMsg.wall\r\n                    break;\r\n                case \"right\":\r\n                    overcutWallMsg = this.wallRightOver(wall, walloverCuts[i])\r\n                    wall = undefined\r\n                    break;\r\n                case \"big\":\r\n                    overcutWallMsg = this.wallBigOver(wall, walloverCuts[i])\r\n                    wall = overcutWallMsg.wall\r\n                    break;\r\n                case \"small\":\r\n                    overcutWallMsg = this.wallSmallOver(wall, walloverCuts[i])\r\n                    wall = undefined\r\n                    break;\r\n                case \"cut\":\r\n                    let cutOver = this.wallCutOver(wall, walloverCuts[i])\r\n                    if (cutOver) {\r\n                        wall = cutOver.mainWall\r\n                        collectWalls.push(cutOver.collectWall)\r\n                    }\r\n                    break;\r\n                case \"leftPoint\":\r\n                    overcutWallMsg = this.wallLeftPointOver(wall, walloverCuts[i])\r\n                    wall = overcutWallMsg.wall\r\n                    break;\r\n                case \"rightPoint\":\r\n                    overcutWallMsg = this.wallRightPointOver(wall, walloverCuts[i])\r\n                    wall = undefined\r\n                    break;\r\n            }\r\n            /** 收集 */\r\n            if (overcutWallMsg) {\r\n                roomWalls.push(...overcutWallMsg.roomWalls)\r\n                useWalls.push(...overcutWallMsg.useWalls)\r\n                if (overcutWallMsg.collectWall) {\r\n                    collectWalls.push(overcutWallMsg.collectWall)\r\n                }\r\n            }\r\n        }\r\n        // console.log('==============')\r\n        if (wall)\r\n            collectWalls.push(wall)\r\n        return {\r\n            collectWalls: collectWalls,\r\n            useWalls: useWalls,\r\n            roomWalls: roomWalls\r\n        }\r\n    }\r\n\r\n    /** 墙左重合 */\r\n    private wallLeftOver(wall: JWall, wallOverCut: WallOverCutMsg): OverCutWallMsg {\r\n        let mainCut = this.calService.wall.cut.cutByPoint(wall, wallOverCut.intersectPoint)\r\n        let otherCut = this.calService.wall.cut.cutByPoint(wallOverCut.otherWall.wall, wall.getPoint(0))\r\n        let roomWalls = this.getRoomWalls(wall)\r\n        this.calService.wall.absDel(wall)\r\n        return {\r\n            wall: mainCut.wall,\r\n            useWalls: [otherCut.wall, wallOverCut.otherWall.wall],\r\n            roomWalls: roomWalls\r\n        }\r\n    }\r\n\r\n    /** 墙右重合 */\r\n    private wallRightOver(wall: JWall, wallOverCut: WallOverCutMsg): OverCutWallMsg {\r\n        let mainPointArr = wall.getPointArr()\r\n        let otherPointArr = this.getPointArrByReverse(wallOverCut.otherWall.wall, wallOverCut.isReverse)\r\n        /** 是否连接 */\r\n        if (mainPointArr[0].id == otherPointArr[0].id) {\r\n            // console.log('rightLink')\r\n            let rightLink = this.wallLeftLinkOver(wall, wallOverCut)\r\n            return rightLink\r\n        }\r\n        let mainCut = this.calService.wall.cut.cutByPoint(wall, wallOverCut.intersectPoint)\r\n        let otherCut = this.calService.wall.cut.cutByPoint(wallOverCut.otherWall.wall, mainCut.wall.getPoint(1))\r\n        let roomWalls = this.getRoomWalls(mainCut.wall)\r\n        this.calService.wall.absDel(mainCut.wall)\r\n        return {\r\n            wall: undefined,\r\n            collectWall: wall,\r\n            useWalls: [otherCut.wall, wallOverCut.otherWall.wall],\r\n            roomWalls: roomWalls\r\n        }\r\n    }\r\n\r\n    /** 墙覆盖 */\r\n    private wallBigOver(wall: JWall, wallOverCut: WallOverCutMsg): OverCutWallMsg {\r\n        let otherPointArr = this.getPointArrByReverse(wallOverCut.otherWall.wall, wallOverCut.isReverse)\r\n        let mainPointArr = wall.getPointArr()\r\n        /** 有左重合点 */\r\n        if (mainPointArr[0].id == otherPointArr[0].id) {\r\n            let over = this.wallLeftLinkOver(wall, wallOverCut)\r\n            return over\r\n        }\r\n        /** 没有左重合点 */\r\n        let mainCut = this.calService.wall.cut.cutsByPoints(wall, ...otherPointArr)\r\n        let roomWalls = this.getRoomWalls(mainCut[0])\r\n        this.calService.wall.absDel(mainCut[0])\r\n        return {\r\n            wall: mainCut[1],\r\n            collectWall: wall,\r\n            useWalls: [wallOverCut.otherWall.wall],\r\n            roomWalls: roomWalls\r\n        }\r\n    }\r\n\r\n    /** 墙被覆盖 */\r\n    private wallSmallOver(wall: JWall, wallOverCut: WallOverCutMsg): OverCutWallMsg {\r\n        let points: JPoint[] = wall.getPointArr()\r\n        let otherCut = this.calService.wall.cut.cutsByPoints(wallOverCut.otherWall.wall, ...points)\r\n        let roomWalls = this.getRoomWalls(wall)\r\n        this.calService.wall.absDel(wall)\r\n        return {\r\n            wall: undefined,\r\n            useWalls: [wallOverCut.otherWall.wall, ...otherCut],\r\n            roomWalls: roomWalls\r\n        }\r\n    }\r\n\r\n    /** 墙被切割 */\r\n    private wallCutOver(wall: JWall, wallOverCut: WallOverCutMsg) {\r\n        let linkMsg = this.getLink(wall, wallOverCut.otherWall.wall)\r\n        /** 如果相连不切割 */\r\n        if (linkMsg) {\r\n            // console.log('link')\r\n            return undefined\r\n        }\r\n        let pointArr = wall.getPointArr()\r\n        let wallsDistance = this.DUService.pos.getDistance(pointArr[0].pos, pointArr[1].pos)\r\n        let otherDistance = this.DUService.pos.getDistance(pointArr[0].pos, wallOverCut.intersectPoint.pos)\r\n        let mainCut = this.calService.wall.cut.cutByPoint(wall, wallOverCut.intersectPoint)\r\n        return {\r\n            mainWall: mainCut.wall,\r\n            collectWall: wall,\r\n            roomWalls: []\r\n        }\r\n    }\r\n\r\n    /** 墙左点重合 */\r\n    private wallLeftPointOver(wall: JWall, wallOverCut: WallOverCutMsg, minDistance: number = 30): OverCutWallMsg {\r\n        let mainPointArr = wall.getPointArr()\r\n        let otherPointArr = this.getPointArrByReverse(wallOverCut.otherWall.wall, wallOverCut.isReverse)\r\n        this.calService.point.transPoint(mainPointArr[0], otherPointArr[0])\r\n        return this.wallLeftLinkOver(wall, wallOverCut)\r\n    }\r\n\r\n    /** 墙右点重合 */\r\n    private wallRightPointOver(wall: JWall, wallOverCut: WallOverCutMsg, minDistance: number = 30): OverCutWallMsg {\r\n        let mainPointArr = wall.getPointArr()\r\n        let otherPointArr = this.getPointArrByReverse(wallOverCut.otherWall.wall, wallOverCut.isReverse)\r\n        this.calService.point.transPoint(mainPointArr[1], otherPointArr[1])\r\n        return this.wallRightLinkOver(wall, wallOverCut)\r\n\r\n    }\r\n\r\n    /** 左墙点连接重合 */\r\n    private wallLeftLinkOver(wall: JWall, wallOverCut: WallOverCutMsg, minDistance: number = 30): OverCutWallMsg {\r\n        let mainPointArr = wall.getPointArr()\r\n        let otherPointArr = this.getPointArrByReverse(wallOverCut.otherWall.wall, wallOverCut.isReverse)\r\n        /** 完全重合相连 */\r\n        if (mainPointArr[1].id == otherPointArr[1].id) {\r\n            let roomWalls = this.getRoomWalls(wall)\r\n            this.calService.wall.absDel(wall)\r\n            return {\r\n                wall: undefined,\r\n                useWalls: [wallOverCut.otherWall.wall],\r\n                roomWalls: roomWalls\r\n            }\r\n        }\r\n        /** 距离判断是否完全重合 */\r\n        else {\r\n            let distance = this.DUService.pos.getPowDistance(mainPointArr[1].pos, otherPointArr[1].pos)\r\n            if (distance < minDistance) {\r\n                this.calService.point.transPoint(mainPointArr[1], otherPointArr[1])\r\n                let roomWalls = this.getRoomWalls(wall)\r\n                this.calService.wall.absDel(wall)\r\n                return {\r\n                    wall: undefined,\r\n                    useWalls: [wallOverCut.otherWall.wall],\r\n                    roomWalls: roomWalls\r\n                }\r\n            }\r\n        }\r\n        /** 不完全重合相连 */\r\n        let mainPowDistance = this.DUService.pos.getPowDistance(mainPointArr[0].pos, mainPointArr[1].pos)\r\n        let otherPowDistance = this.DUService.pos.getPowDistance(otherPointArr[0].pos, otherPointArr[1].pos)\r\n        /** 覆盖其他 */\r\n        if (mainPowDistance > otherPowDistance) {\r\n            let cut = this.calService.wall.cut.cutByPoint(wall, otherPointArr[1])\r\n            let roomWalls = this.getRoomWalls(wall)\r\n            this.calService.wall.absDel(wall)\r\n            return {\r\n                wall: cut.wall,\r\n                useWalls: [wallOverCut.otherWall.wall],\r\n                roomWalls: roomWalls\r\n            }\r\n        }\r\n        /** 被覆盖 */\r\n        else {\r\n            let cut = this.calService.wall.cut.cutByPoint(wallOverCut.otherWall.wall, mainPointArr[1])\r\n            let roomWalls = this.getRoomWalls(wall)\r\n            this.calService.wall.absDel(wall)\r\n            return {\r\n                wall: undefined,\r\n                useWalls: [cut.wall, wallOverCut.otherWall.wall],\r\n                roomWalls: roomWalls\r\n            }\r\n        }\r\n    }\r\n\r\n    /** 右墙点连接重合(不相连返回undefined) */\r\n    private wallRightLinkOver(wall: JWall, wallOverCut: WallOverCutMsg, minDistance: number = 30): OverCutWallMsg {\r\n        let mainPointArr = wall.getPointArr()\r\n        let otherPointArr = this.getPointArrByReverse(wallOverCut.otherWall.wall, wallOverCut.isReverse)\r\n        /** 完全重合相连 */\r\n        if (mainPointArr[0].id == otherPointArr[0].id) {\r\n            let roomWalls = this.getRoomWalls(wall)\r\n            this.calService.wall.absDel(wall)\r\n            return {\r\n                wall: undefined,\r\n                useWalls: [wallOverCut.otherWall.wall],\r\n                roomWalls: roomWalls\r\n            }\r\n        }\r\n        /** 距离判断是否完全重合 */\r\n        else {\r\n            let distance = this.DUService.pos.getPowDistance(mainPointArr[0].pos, otherPointArr[0].pos)\r\n            if (distance < minDistance) {\r\n                this.calService.point.transPoint(mainPointArr[0], otherPointArr[0])\r\n                let roomWalls = this.getRoomWalls(wall)\r\n                this.calService.wall.absDel(wall)\r\n                return {\r\n                    wall: undefined,\r\n                    useWalls: [wallOverCut.otherWall.wall],\r\n                    roomWalls: roomWalls\r\n                }\r\n            }\r\n        }\r\n        /** 不完全重合相连 */\r\n        let mainPowDistance = this.DUService.pos.getPowDistance(mainPointArr[0].pos, mainPointArr[1].pos)\r\n        let otherPowDistance = this.DUService.pos.getPowDistance(otherPointArr[0].pos, otherPointArr[1].pos)\r\n        /** 覆盖其他 */\r\n        if (mainPowDistance > otherPowDistance) {\r\n            let cut = this.calService.wall.cut.cutByPoint(wall, otherPointArr[0])\r\n            let roomWalls = this.getRoomWalls(cut.wall)\r\n            this.calService.wall.absDel(cut.wall)\r\n            return {\r\n                wall: undefined,\r\n                useWalls: [wallOverCut.otherWall.wall, cut.wall, wall],\r\n                roomWalls: roomWalls\r\n            }\r\n        }\r\n        /** 被覆盖 */\r\n        else {\r\n            let cut = this.calService.wall.cut.cutByPoint(wallOverCut.otherWall.wall, mainPointArr[0])\r\n            let roomWalls = this.getRoomWalls(wall)\r\n            this.calService.wall.absDel(wall)\r\n            if (wallOverCut.isReverse) {\r\n                return {\r\n                    wall: undefined,\r\n                    collectWall: cut.wall,\r\n                    useWalls: [wallOverCut.otherWall.wall],\r\n                    roomWalls: roomWalls\r\n                }\r\n            }\r\n            else {\r\n                return {\r\n                    wall: undefined,\r\n                    collectWall: wallOverCut.otherWall.wall,\r\n                    useWalls: [],\r\n                    roomWalls: roomWalls\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /** 获取连接信息(没有返回undefined) */\r\n    private getLink(wall: JWall, otherWall: JWall) {\r\n        let pointArr = wall.getPointArr()\r\n        let otherPointArr = otherWall.getPointArr()\r\n        let otherWallotherPoint: JPoint = undefined\r\n        let wallOtherPoint: JPoint = undefined\r\n        /** 是否相连 */\r\n        if (pointArr[0].id == otherPointArr[0].id) {\r\n            wallOtherPoint = pointArr[1]\r\n            otherWallotherPoint = otherPointArr[1]\r\n        }\r\n        else if (pointArr[1].id == otherPointArr[0].id) {\r\n            wallOtherPoint = pointArr[0]\r\n            otherWallotherPoint = otherPointArr[1]\r\n        }\r\n        else if (pointArr[0].id == otherPointArr[1].id) {\r\n            wallOtherPoint = pointArr[1]\r\n            otherWallotherPoint = otherPointArr[0]\r\n        }\r\n        else if (pointArr[1].id == otherPointArr[1].id) {\r\n            wallOtherPoint = pointArr[0]\r\n            otherWallotherPoint = otherPointArr[0]\r\n        }\r\n        else {\r\n            return undefined\r\n        }\r\n        return {\r\n            wallOtherPoint: wallOtherPoint,\r\n            otherWallotherPoint: otherWallotherPoint\r\n        }\r\n    }\r\n\r\n    /** 获取反序点集合 */\r\n    private getPointArrByReverse(wall: JWall, isReverse: boolean) {\r\n        let pointArr: JPoint[] = []\r\n        try {\r\n            pointArr = wall.getPointArr()\r\n            if (isReverse)\r\n                pointArr = [pointArr[1], pointArr[0]]\r\n            return pointArr\r\n        }\r\n        catch (e) {\r\n            console.log(wall)\r\n            console.log(wall.getCowall())\r\n            console.log(e)\r\n        }\r\n    }\r\n\r\n    /** 删除同点的墙 */\r\n    delSamePointWalls() {\r\n        let roomWalls: JWall[] = []\r\n        for (let key in this.dataService.walls) {\r\n            let wall: JWall = this.dataService.walls[key]\r\n            let pointArr = wall.getPointArr()\r\n            if (pointArr[0].id == pointArr[1].id) {\r\n                roomWalls.push(...this.getRoomWalls(wall))\r\n                this.calService.wall.absDel(wall)\r\n            }\r\n        }\r\n        return roomWalls\r\n    }\r\n\r\n    /** 获取空间所有墙 */\r\n    private getRoomWalls(wall: JWall) {\r\n        let rooms = wall.getRoomArr()\r\n        let roomWalls: JWall[] = []\r\n        for (let i = 0; i < rooms.length; i++) {\r\n            if (rooms[i]) {\r\n                // console.log(rooms[i])\r\n                let walls = rooms[i].getWallArr()\r\n                roomWalls.push(...walls)\r\n            }\r\n        }\r\n        return roomWalls\r\n    }\r\n\r\n}\r\n\r\nexport class WallOverCutMsg {\r\n    wall: WallMsgType;\r\n    otherWall: WallMsgType;\r\n    cutPowDistance: number;\r\n    intersectPoint: JPoint;\r\n    wallPowDistance: number;\r\n    type: string;\r\n    isReverse?: boolean;\r\n}\r\n\r\nclass OverCutWallMsg {\r\n    /** 仍然要切割的墙 */\r\n    wall: JWall;\r\n    /** 使用过的其他墙(可能包括切割产生新的墙) */\r\n    useWalls: JWall[];\r\n    /** 收集墙(可用来切割墙) */\r\n    collectWall?: JWall;\r\n    /** 空间walls,用来以后分空间用的 */\r\n    roomWalls: JWall[]\r\n}","import { CalculatorsService } from \"../../../services/calculators.service\";\r\nimport { JdesignDataService } from \"../../../services/jdesign-data.service\";\r\nimport { JdesignUtil2dService } from \"../../../services/jdesign-util2d.service\";\r\nimport { JWall } from \"../jdesign/JWall\";\r\nimport { JCowall } from \"../jdesign/JCowall\";\r\nimport { JPoint } from \"../jdesign/JPoint\";\r\nimport { DesignCommon as DC } from '../class/DesignCommon'\r\nimport { JRoom } from \"../jdesign/JRoom\";\r\n\r\nexport class WallOverlayCal {\r\n    private _parallelRadian: number = Math.PI / 180 * 5\r\n    private _sameRadian: number = Math.PI / 180 * 6\r\n    private _minDistance: number = 0.1\r\n    constructor(\r\n        protected calService: CalculatorsService,\r\n        protected dataService: JdesignDataService,\r\n        protected DUService: JdesignUtil2dService\r\n    ) {\r\n\r\n    }\r\n\r\n    /**\r\n     * 合并墙 如果没有连接点则不执行\r\n     * 且执行cowall删除都以mainWall为标准,\r\n     * delWall的cowall所有删除\r\n     * @summary 合并墙.\r\n     * @param mainWall 主墙,合并delWall\r\n     * @param delWall 副墙,被合并删除\r\n     * @returns 执行成功返回true,不执行返回false\r\n     * \r\n     */\r\n    combineWalls(mainWall: JWall, delWall: JWall) {\r\n        let mainPointArr = mainWall.getPointArr()\r\n        let delPointArr = delWall.getPointArr()\r\n        let linkMsg: {\r\n            type: string,\r\n            link: JPoint,\r\n            end: JPoint,\r\n        } = null\r\n        /** 判断是否连接 */\r\n        if (mainPointArr[0].id == delPointArr[0].id) {\r\n            linkMsg = {\r\n                type: 'start',\r\n                link: mainPointArr[0],\r\n                end: delPointArr[1]\r\n\r\n            }\r\n        }\r\n        else if (mainPointArr[0].id == delPointArr[1].id) {\r\n            linkMsg = {\r\n                type: 'start',\r\n                link: mainPointArr[0],\r\n                end: delPointArr[0]\r\n\r\n            }\r\n        }\r\n        /**  */\r\n        else if (mainPointArr[1].id == delPointArr[0].id) {\r\n            linkMsg = {\r\n                type: 'end',\r\n                link: mainPointArr[1],\r\n                end: delPointArr[1]\r\n\r\n            }\r\n        }\r\n        else if (mainPointArr[1].id == delPointArr[1].id) {\r\n            linkMsg = {\r\n                type: 'end',\r\n                link: mainPointArr[1],\r\n                end: delPointArr[0]\r\n\r\n            }\r\n        }\r\n        else {\r\n            return false\r\n        }\r\n\r\n        let mainCowallArr = mainWall.getCowallArr()\r\n        let delCowallArr = delWall.getCowallArr()\r\n\r\n        /** 设置顺序为上 */\r\n        let setPrevFunc = (mainCowall) => {\r\n            let prevCowall: JCowall = null\r\n            if (delCowallArr[0].pointIDs[1] == linkMsg.link.id) {\r\n                prevCowall = delCowallArr[0]\r\n            }\r\n            else if (delCowallArr.length == 2 && delCowallArr[1].pointIDs[1] == linkMsg.link.id) {\r\n                prevCowall = delCowallArr[1]\r\n            }\r\n\r\n            if (prevCowall != null) {\r\n                mainCowall.prevID = prevCowall.prevID\r\n                prevCowall = prevCowall.getPrevCowall()\r\n                /** 修改上上cowall的next索引 */\r\n                if (prevCowall != null)\r\n                    prevCowall.nextID = mainCowall.id\r\n            }\r\n            mainCowall.pointIDs = [linkMsg.end.id, mainCowall.pointIDs[1]]\r\n            let room = mainCowall.getRoom()\r\n            if (room != null)\r\n                room.resetCowallIDs(mainCowall)\r\n        }\r\n\r\n        /** 设置顺序为下 */\r\n        let setNextFunc = (mainCowall) => {\r\n            let nextCowall: JCowall = null\r\n            if (delCowallArr[0].pointIDs[0] == linkMsg.link.id) {\r\n                nextCowall = delCowallArr[0]\r\n            }\r\n            else if (delCowallArr.length == 2 && delCowallArr[1].pointIDs[0] == linkMsg.link.id) {\r\n                nextCowall = delCowallArr[1]\r\n            }\r\n            if (nextCowall != null) {\r\n                mainCowall.nextID = nextCowall.nextID\r\n                nextCowall = nextCowall.getNextCowall()\r\n                /** 修改下下cowall的prev索引 */\r\n                if (nextCowall != null)\r\n                    nextCowall.prevID = mainCowall.id\r\n            }\r\n            mainCowall.pointIDs = [mainCowall.pointIDs[0], linkMsg.end.id]\r\n            let room = <JRoom>mainCowall.getRoom()\r\n            if (room != null)\r\n                room.resetCowallIDs(mainCowall)\r\n        }\r\n        if (linkMsg.type == 'start') {\r\n            /** 主cwowall */\r\n            setPrevFunc(mainCowallArr[0])\r\n            /** 反cowall=============================== */\r\n            if (mainCowallArr.length == 2) {\r\n                setNextFunc(mainCowallArr[1])\r\n            }\r\n        }\r\n        else if (linkMsg.type == 'end') {\r\n            /** 主cowall */\r\n            setNextFunc(mainCowallArr[0])\r\n            /** 反cowall==================================== */\r\n            if (mainCowallArr.length == 2) {\r\n                setPrevFunc(mainCowallArr[1])\r\n            }\r\n        }\r\n        /** 删除旧的东西 */\r\n        for (let i = 0; i < delCowallArr.length; i++) {\r\n            this.calService.cowall.delPrevNext(delCowallArr[i])\r\n            this.calService.cowall.delPointID(delCowallArr[i])\r\n            this.calService.cowall.delFloorplan(delCowallArr[i])\r\n            this.calService.cowall.del(delCowallArr[i])\r\n        }\r\n        this.calService.wall.delDepend(delWall)\r\n        this.calService.wall.del(delWall)\r\n        return true\r\n    }\r\n\r\n    /**\r\n     * 获取所有墙第一组平行墙\r\n     * @param walls 要对比的墙\r\n     * @returns 返回两个墙组成的数组,如果没找到,返回null\r\n     */\r\n    getFirstParallelWalls(walls: JWall[], errorValue?: number) {\r\n        for (let i = 0; i < walls.length; i++) {\r\n            for (let j = i + 1; j < walls.length; j++) {\r\n                let radianA = walls[i].getRadian(true)\r\n                let radianB = walls[j].getRadian(true)\r\n                if (this.DUService.pos.isParallelRadian(radianA, radianB, errorValue)) {\r\n                    return {\r\n                        radians: [radianA, radianB],\r\n                        walls: [walls[i], walls[j]]\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return null\r\n    }\r\n\r\n    /** 判断是否有平行墙 */\r\n    isHaveParallelWall(wallRadian: number, otherWalls: JWall[], errorValue?: number) {\r\n        for (let i = 0; i < otherWalls.length; i++) {\r\n            let otherRadian = otherWalls[i].getRadian(true)\r\n            if (this.DUService.pos.isParallelRadian(wallRadian, otherRadian, errorValue))\r\n                return otherWalls[i]\r\n        }\r\n        return null\r\n    }\r\n\r\n    /** 获取墙信息 */\r\n    protected getWallMsg(wall: JWall): WallMsgType {\r\n        let points = wall.getPointArr()\r\n        let posArr = [points[0].pos, points[1].pos]\r\n        let radian = wall.getRadian(true)\r\n        let powDistance = this.DUService.pos.getPowDistance(posArr[0], posArr[1])\r\n        return {\r\n            wall: wall,\r\n            points: points,\r\n            radian: radian,\r\n            posArr: posArr,\r\n            powDistance: powDistance\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 是否为水平墙\r\n     * @param mainWall \r\n     * @param otherWall \r\n     * @param minRadian \r\n     * @returns 返回num(0是不为水平墙,1是正平行墙,-1是反平行墙)\r\n     */\r\n    protected isHorizontalWall(mainWall: WallMsgType, otherWall: WallMsgType, minRadian: number, minDistance: number) {\r\n        return this.DUService.pos.isHorizontalLine(mainWall, otherWall, minRadian, minDistance)\r\n    }\r\n\r\n    /**\r\n     * 平行墙状态\r\n     * @param mainWall \r\n     * @param otherWall \r\n     */\r\n    protected getParallelWallType(mainWall: WallMsgType, otherWall: WallMsgType) {\r\n        let a = this.isHorizontalWall(mainWall, otherWall, this._parallelRadian, this._minDistance)\r\n        if (a.isH != 0 && a.distance != undefined) {\r\n            let isreverse = a.isH == -1 ? true : false\r\n            return this.getParallelTypeByDistance(mainWall, otherWall, isreverse, this._minDistance)\r\n        }\r\n        return undefined\r\n    }\r\n\r\n    /**\r\n     * 通过距离获取墙平行相交的类型\r\n     * @param mainWall \r\n     * @param otherWall \r\n     * @param isReverse\r\n     * @param minDistance \r\n     */\r\n    protected getParallelTypeByDistance(mainWall: WallMsgType, otherWall: WallMsgType, isReverse: boolean, minDistance: number): OverlayMsg {\r\n        let line: DC.Pos[] = []\r\n        let linePointIDs: string[] = []\r\n        /** 转线 */\r\n        if (!isReverse) {\r\n            line = [otherWall.posArr[0], otherWall.posArr[1]]\r\n            linePointIDs = [otherWall.points[0].id, otherWall.points[1].id]\r\n        }\r\n        else {\r\n            line = [otherWall.posArr[1], otherWall.posArr[0]]\r\n            linePointIDs = [otherWall.points[1].id, otherWall.points[0].id]\r\n        }\r\n        /** 左点连接 */\r\n        if (mainWall.points[0].id == linePointIDs[0]) {\r\n            return {\r\n                type: 'leftLink',\r\n                isReverse: isReverse\r\n            }\r\n        }\r\n        /** 右点连接 */\r\n        if (mainWall.points[1].id == linePointIDs[1]) {\r\n            return {\r\n                type: 'rightLink',\r\n                isReverse: isReverse\r\n            }\r\n        }\r\n        /** 左点重合 */\r\n        if (this.DUService.pos.isSamePos(mainWall.posArr[0], line[0], minDistance)) {\r\n            return {\r\n                type: 'leftPoint',\r\n                isReverse: isReverse\r\n            }\r\n        }\r\n        /** 右点重合 */\r\n        if (this.DUService.pos.isSamePos(mainWall.posArr[1], line[1], minDistance)) {\r\n            return {\r\n                type: 'rightPoint',\r\n                isReverse: isReverse\r\n            }\r\n        }\r\n        // let MLPowDistanceA = this.DUService.pos.getPowDistance(mainWall.posArr[0], line[0])\r\n        // let MLPowDistanceB = this.DUService.pos.getPowDistance(mainWall.posArr[0], line[1])\r\n        // this.DUService.pos.isLineOut\r\n        // let MLA = mainWall.powDistance > MLPowDistanceA\r\n        // let MLB = mainWall.powDistance > MLPowDistanceB\r\n        // let OLA = otherWall.powDistance > MLPowDistanceA\r\n        // let OLB = otherWall.powDistance > MLPowDistanceB\r\n        // /** 右重合 */\r\n        // if (MLA && !MLB && !OLB) {\r\n        //     return {\r\n        //         type: 'right',\r\n        //         isReverse: isReverse\r\n        //     }\r\n        // }\r\n        // /** 覆盖其他 */\r\n        // if (MLA && MLB && !OLB) {\r\n        //     return {\r\n        //         type: 'big',\r\n        //         isReverse: isReverse\r\n        //     }\r\n        // }\r\n        // /** 左重合 */\r\n        // if (MLB && OLA) {\r\n        //     return {\r\n        //         type: 'left',\r\n        //         isReverse: isReverse\r\n        //     }\r\n        // }\r\n        // /** 被覆盖 */\r\n        // if (OLA && OLB) {\r\n        //     return {\r\n        //         type: 'small',\r\n        //         isReverse: isReverse\r\n        //     }\r\n        // }\r\n\r\n        let leftCheck = this.DUService.pos.isLineOut(mainWall.posArr[0], mainWall.posArr[1], line[1])\r\n        let rightCheck = this.DUService.pos.isLineOut(mainWall.posArr[0], mainWall.posArr[1], line[0])\r\n        /** 右重合 */\r\n        if (!rightCheck && leftCheck) {\r\n            return {\r\n                type: 'right',\r\n                isReverse: isReverse\r\n            }\r\n        }\r\n        /** 覆盖其他 */\r\n        if (!rightCheck && !leftCheck) {\r\n            return {\r\n                type: 'big',\r\n                isReverse: isReverse\r\n            }\r\n        }\r\n        /** 左重合 */\r\n        if (!leftCheck && rightCheck) {\r\n            return {\r\n                type: 'left',\r\n                isReverse: isReverse\r\n            }\r\n        }\r\n        let otherLeftCheck = this.DUService.pos.isLineOut(line[0], line[1], mainWall.posArr[1])\r\n        let otherRightCheck = this.DUService.pos.isLineOut(line[0], line[1], mainWall.posArr[0])\r\n        /** 被覆盖 */\r\n        if (!otherLeftCheck && !otherRightCheck) {\r\n            return {\r\n                type: 'small',\r\n                isReverse: isReverse\r\n            }\r\n        }\r\n        /** 不重合 */\r\n        return undefined\r\n    }\r\n\r\n    /**\r\n     * 获取重合墙转换信息\r\n     * @param overMsg \r\n     * @param mainWall \r\n     * @param otherWall \r\n     */\r\n    getWalloverlayTransMsg(overMsg: OverlayMsg, mainWall: WallMsgType, otherWall: WallMsgType): OverlayTransMsg {\r\n        if (!overMsg)\r\n            return undefined\r\n        let intersectPoint: JPoint = undefined\r\n        let getIntersectFunc = (isright: boolean) => {\r\n            if (isright)\r\n                return overMsg.isReverse ? otherWall.points[1] : otherWall.points[0]\r\n            else\r\n                return overMsg.isReverse ? otherWall.points[0] : otherWall.points[1]\r\n        }\r\n        let powDistance: number = undefined\r\n        let levelDistance: number = 0\r\n        switch (overMsg.type) {\r\n            /** 左点连接 */\r\n            case \"leftLink\":\r\n                intersectPoint = getIntersectFunc(false)\r\n                powDistance = -3\r\n                break;\r\n            /** 左点重合 */\r\n            case \"leftPoint\":\r\n                intersectPoint = getIntersectFunc(false)\r\n                powDistance = -3\r\n                break;\r\n            /** 右点连接 */\r\n            case \"rightLink\":\r\n                intersectPoint = getIntersectFunc(true)\r\n                powDistance = mainWall.powDistance + 2\r\n                break;\r\n            /** 右点重合 */\r\n            case \"rightPoint\":\r\n                intersectPoint = getIntersectFunc(true)\r\n                powDistance = mainWall.powDistance + 2\r\n                break;\r\n            /** 左相交重合 */\r\n            case \"left\":\r\n                intersectPoint = getIntersectFunc(false)\r\n                levelDistance -= 2\r\n                break;\r\n            /** 右相交重合 */\r\n            case \"right\":\r\n                intersectPoint = getIntersectFunc(true)\r\n                levelDistance += 1\r\n                break;\r\n            /** 覆盖其他 */\r\n            case \"big\":\r\n                intersectPoint = getIntersectFunc(false)\r\n                levelDistance -= 1\r\n                break;\r\n            /** 被覆盖 */\r\n            case \"small\":\r\n                powDistance = mainWall.powDistance\r\n                return {\r\n                    intersectPoint: intersectPoint,\r\n                    powDistance: powDistance\r\n                }\r\n\r\n        }\r\n        if (powDistance == undefined) {\r\n            powDistance = this.DUService.pos.getPowDistance(mainWall.posArr[0], intersectPoint.pos) + levelDistance\r\n        }\r\n        return {\r\n            intersectPoint: intersectPoint,\r\n            powDistance: powDistance\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport class WallMsgType {\r\n    wall: JWall;\r\n    radian: number;\r\n    points: JPoint[];\r\n    posArr: DC.Pos[];\r\n    powDistance: number;\r\n}\r\n\r\nexport class OverlayMsg {\r\n    type: string;\r\n    isReverse: boolean;\r\n}\r\n\r\nexport class OverlayTransMsg {\r\n    intersectPoint: JPoint;\r\n    powDistance: number;\r\n}\r\n","import { DoorWinCal } from \"./doorWin.cal\";\r\nimport { JdesignDataService } from \"../../../services/jdesign-data.service\";\r\nimport { JdesignUtil2dService } from \"../../../services/jdesign-util2d.service\";\r\nimport { CalculatorsService } from \"../../../services/calculators.service\";\r\nimport { JWin, JWinInitType } from \"../jdesign/JWin\";\r\nimport { JWin3D } from \"../../../three/jDesign3D/JWin3D\";\r\nimport { DesignCommon as DC } from '../class/DesignCommon'\r\nimport { JWall } from \"../jdesign/JWall\";\r\nimport { JBayWin3D } from \"../../../three/jDesign3D/JBayWin3D\";\r\n\r\nexport class WinCal extends DoorWinCal {\r\n\r\n    constructor(\r\n        protected dataService: JdesignDataService,\r\n        protected DUService: JdesignUtil2dService,\r\n        protected calService: CalculatorsService\r\n    ) {\r\n        super(dataService, DUService, calService)\r\n    }\r\n\r\n    /** 获取普通窗的path坐标集合 */\r\n    getNormalPath(win: JWin, pos?: DC.Pos) {\r\n        pos = pos == undefined ? win.pos : pos\r\n        let size = win.getPixSize()\r\n        let rectPosArr: DC.Pos[] = this.DUService.pos.getRectPosByCenter(pos, size)\r\n        /** 飘窗 */\r\n        if (win.outThickness != 0) {\r\n            let radian = this.DUService.pos.getRadian(rectPosArr[3], rectPosArr[0])\r\n            rectPosArr[0] = this.DUService.pos.getRayPos(rectPosArr[3], radian, win.outThickness + size.height)\r\n            rectPosArr[1] = this.DUService.pos.getRayPos(rectPosArr[2], radian, win.outThickness + size.height)\r\n        }\r\n        return rectPosArr\r\n    }\r\n\r\n    /** 获取普通窗的path字符串 */\r\n    getNormalPathString(win: JWin, pos?: DC.Pos) {\r\n        let path = this.getNormalPath(win, pos)\r\n        let pathString = this.DUService.svg.getPath(true, ...path)\r\n        return pathString\r\n    }\r\n\r\n    /** 产生新的窗 暂时是测试阶段*/\r\n    createNewNormal(obj: JWinInitType) {\r\n        this.dataService.cache.floorplan.createAndMove = true\r\n        obj.style = 'normal'\r\n        let win = new JWin3D(obj, this.dataService, this.DUService)\r\n        this.dataService.cache.win.createFunc(win)\r\n        return win\r\n    }\r\n\r\n    /** 产生飘窗 */\r\n    createBayWin(size?: DC.Size, outThickness?: number, outBoxThickness?: number) {\r\n        this.dataService.cache.floorplan.createAndMove = true\r\n        size = size ? size : { width: 1600, height: 240, height3D: 1500 }\r\n        outThickness = outThickness ? outThickness : 600\r\n        outBoxThickness = outBoxThickness ? outBoxThickness : 60\r\n        let win = new JBayWin3D({ style: \"normal\", size: size, outThickness: outThickness, isBay: true, outBoxThickness: outBoxThickness, plankType: \"bayWin\" }, this.dataService, this.DUService)\r\n        this.dataService.cache.win.createFunc(win)\r\n        return win\r\n    }\r\n\r\n    /** 删除 */\r\n    del(win: JWin) {\r\n        win.destory3D()\r\n        delete this.dataService.wins[win.id]\r\n    }\r\n\r\n    protected wallChange(win: JWin, wall: JWall) {\r\n        wall.winIDs.push(win.id)\r\n        wall.winIDs = this.DUService.cal.unique(wall.winIDs)\r\n    }\r\n\r\n    /** 遍历加载吸附 */\r\n    listAbosrb() {\r\n        this.commmonListAbosrb('win')\r\n    }\r\n\r\n}\r\n","import { JdesignDataService } from \"../../../services/jdesign-data.service\";\r\n\r\nexport class AnimationEventListen {\r\n\r\n\r\n\r\n    constructor(\r\n        private dataService: JdesignDataService) {\r\n\r\n        this.setAnimation()\r\n    }\r\n\r\n\r\n    /** 设置动画帧 */\r\n    setAnimation() {\r\n        for (let i = 0; i < this.dataService.cache.AnimationFuncs.length; i++) {\r\n            this.dataService.cache.AnimationFuncs[i]()\r\n        }\r\n        // this._actType = null\r\n        requestAnimationFrame(() => {\r\n            this.setAnimation()\r\n        })\r\n    }\r\n\r\n\r\n}","import { PopDivService } from \"../../../services/pop-div.service\";\r\nimport { JdesignDataService } from \"../../../services/jdesign-data.service\";\r\nimport { DomUpdateService } from \"../../../services/dom-update.service\";\r\nimport { CalculatorsService } from \"../../../services/calculators.service\";\r\nimport { DesignCommon as DC } from '../class/DesignCommon'\r\nimport { JdesignUtil2dService } from \"../../../services/jdesign-util2d.service\";\r\n\r\nexport class FloatDivEvent {\r\n\r\n    private _isSvgThumbnail: boolean = false\r\n    private _svgSize = this.dataService.cache.thumbnail.svg.zoomSize\r\n    private _threeSize = this.dataService.cache.thumbnail.three.zoomSize\r\n    constructor(\r\n        private popService: PopDivService,\r\n        private dataService: JdesignDataService,\r\n        private domService: DomUpdateService,\r\n        private calService: CalculatorsService,\r\n        private DUService: JdesignUtil2dService\r\n    ) {\r\n        // this.changeThumbnail()\r\n    }\r\n\r\n    /** 改变缩略图 */\r\n    changeThumbnail() {\r\n        if (this._isSvgThumbnail) {\r\n            this.svgThumbnail()\r\n            this._isSvgThumbnail = false\r\n        } else {\r\n            this.threeThumbnail()\r\n            this._isSvgThumbnail = true\r\n        }\r\n    }\r\n\r\n    /** svg缩略图 */\r\n    svgThumbnail() {\r\n        let data = {\r\n            size: this._svgSize,\r\n            toggle: (params) => {\r\n                this.dataService.cache.thumbnail.svg.zIndex = 10\r\n                this.dataService.cache.thumbnail.svg.isZoom = false\r\n                this.dataService.cache.thumbnail.svg = this.DUService.obj.clone(this.dataService.cache.thumbnail.svg)\r\n\r\n                this.dataService.cache.thumbnail.three.zIndex = 40\r\n                this.dataService.cache.thumbnail.three.isZoom = true\r\n                this.dataService.cache.thumbnail.three = this.DUService.obj.clone(this.dataService.cache.thumbnail.three)\r\n\r\n                this._svgSize = this.dataService.cache.thumbnail.svg.zoomSize\r\n                this._threeSize = this.dataService.cache.thumbnail.three.zoomSize\r\n\r\n                // this.popService.inputBoxs.emit(null)\r\n                // this.popService.buttons.emit(null)\r\n                this.domService.allSvg.emit()\r\n                this.domService.three.emit()\r\n                this.changeThumbnail()\r\n            },\r\n            zoomSmall: (params) => {\r\n\r\n            },\r\n            zoomLarge: (params) => {\r\n\r\n            },\r\n            zoomResize: (vector: DC.Pos) => {\r\n                this.dataService.cache.thumbnail.svg.zoomSize.width += vector.x\r\n                this.dataService.cache.thumbnail.svg.zoomSize.height += vector.y\r\n                this.dataService.cache.thumbnail.svg = this.DUService.obj.clone(this.dataService.cache.thumbnail.svg)\r\n\r\n                this._svgSize.width = this.dataService.cache.thumbnail.svg.zoomSize.width\r\n                this._svgSize.height = this.dataService.cache.thumbnail.svg.zoomSize.height\r\n                // this.popService.inputBoxs.emit(null)\r\n                // this.popService.buttons.emit(null)\r\n                this.domService.allSvg.emit()\r\n                this.domService.three.emit()\r\n            }\r\n        }\r\n        this.popService.thumbnail.emit(data)\r\n    }\r\n\r\n    /** three缩略图 */\r\n    threeThumbnail() {\r\n        let data = {\r\n            size: this._threeSize,\r\n            toggle: (params) => {\r\n                this.dataService.cache.thumbnail.svg.zIndex = 40\r\n                this.dataService.cache.thumbnail.svg.isZoom = true\r\n                this.dataService.cache.thumbnail.svg = this.DUService.obj.clone(this.dataService.cache.thumbnail.svg)\r\n\r\n                this.dataService.cache.thumbnail.three.zIndex = 10\r\n                this.dataService.cache.thumbnail.three.isZoom = false\r\n                this.dataService.cache.thumbnail.three = this.DUService.obj.clone(this.dataService.cache.thumbnail.three)\r\n\r\n                this._svgSize = this.dataService.cache.thumbnail.svg.zoomSize\r\n                this._threeSize = this.dataService.cache.thumbnail.three.zoomSize\r\n\r\n                this.popService.inputBoxs.emit(null)\r\n                this.popService.buttons.emit(null)\r\n                this.domService.allSvg.emit()\r\n                this.domService.three.emit()\r\n                this.changeThumbnail()\r\n            },\r\n            zoomSmall: (params) => {\r\n\r\n            },\r\n            zoomLarge: (params) => {\r\n\r\n            },\r\n            zoomResize: (vector: DC.Pos) => {\r\n                this.dataService.cache.thumbnail.three.zoomSize.width += vector.x\r\n                this.dataService.cache.thumbnail.three.zoomSize.height += vector.y\r\n                this.dataService.cache.thumbnail.three = this.DUService.obj.clone(this.dataService.cache.thumbnail.three)\r\n\r\n                // this._svgSize = this.dataService.cache.thumbnail.svg.zoomSize\r\n                this._threeSize.width = this.dataService.cache.thumbnail.three.zoomSize.width\r\n                this._threeSize.height = this.dataService.cache.thumbnail.three.zoomSize.height\r\n\r\n                this.popService.inputBoxs.emit(null)\r\n                this.popService.buttons.emit(null)\r\n                this.domService.allSvg.emit()\r\n                this.domService.three.emit()\r\n            }\r\n        }\r\n        this.popService.thumbnail.emit(data)\r\n    }\r\n}","import { JdesignUtil2dService } from \"../../../services/jdesign-util2d.service\";\r\nimport { JdesignDataService } from \"../../../services/jdesign-data.service\";\r\nimport { PopDivService } from \"../../../services/pop-div.service\";\r\n\r\nexport class PanelTestInputEvent {\r\n    private testOn: boolean = false\r\n\r\n    constructor(\r\n        private DUService: JdesignUtil2dService,\r\n        private dataService: JdesignDataService,\r\n        private popService: PopDivService\r\n    ) {\r\n        this.setTestInput(this.dataService.cmd.floorplan.testInputPos)\r\n    }\r\n\r\n    /** 设置测试输入窗口 */\r\n    setTestInput(pos) {\r\n        let data = {\r\n            pos: pos,\r\n            data: [\r\n                {\r\n                    text: \"cowall\",\r\n                    func: (e, value) => {\r\n                        if (value == '') {\r\n                            this.setNoWordConsole(this.dataService.doCowalls().arr())\r\n                        }\r\n                        else\r\n                            console.log(this.dataService.cowalls[\"cowall\" + value])\r\n                    }\r\n                },\r\n                {\r\n                    text: \"wall\",\r\n                    func: (e, value) => {\r\n                        if (value == '') {\r\n                            this.setNoWordConsole(this.dataService.doWalls().arr())\r\n                        }\r\n                        else\r\n                            console.log(this.dataService.walls[\"wall\" + value])\r\n                    }\r\n                },\r\n                {\r\n                    text: \"room\",\r\n                    func: (e, value) => {\r\n                        if (value == '')\r\n                            this.setNoWordConsole(this.dataService.doRooms().arr())\r\n                        else\r\n                            console.log(this.dataService.rooms[\"room\" + value])\r\n                    }\r\n                }, {\r\n                    text: \"point\",\r\n                    func: (e, value) => {\r\n                        if (value == '')\r\n                            this.setNoWordConsole(this.dataService.doPoints().arr())\r\n                        else\r\n                            console.log(this.dataService.points[\"point\" + value])\r\n                    }\r\n                },\r\n                {\r\n                    text: 'floorplan',\r\n                    func: () => {\r\n                        console.log(this.dataService.floorplan)\r\n                    }\r\n                },\r\n                {\r\n                    text: 'door',\r\n                    func: (e, value) => {\r\n                        if (value == '')\r\n                            this.setNoWordConsole(this.dataService.doDoors().arr())\r\n                        else\r\n                            console.log(this.dataService.doors[\"door\" + value])\r\n                    }\r\n                },\r\n                {\r\n                    text: 'win',\r\n                    func: (e, value) => {\r\n                        if (value == '')\r\n                            this.setNoWordConsole(this.dataService.doWins().arr())\r\n                        else\r\n                            console.log(this.dataService.wins[\"win\" + value])\r\n                    }\r\n                },\r\n                {\r\n                    text: 'furniture',\r\n                    func: (e, value) => {\r\n                        if (value == '')\r\n                            this.setNoWordConsole(this.dataService.doFurnitures().arr())\r\n                        else\r\n                            console.log(this.dataService.furnitures[\"furniture\" + value])\r\n                    }\r\n                },\r\n                {\r\n                    text: 'cornWin',\r\n                    func: (e, value) => {\r\n                        if (value == '')\r\n                            this.setNoWordConsole(this.dataService.doCornerWins().arr())\r\n                        else\r\n                            console.log(this.dataService.cornerWins[\"cornerWin\" + value])\r\n                    }\r\n                },\r\n                {\r\n                    text: 'LWin',\r\n                    func: (e, value) => {\r\n                        if (value == '')\r\n                            this.setNoWordConsole(this.dataService.doLWins().arr())\r\n                        else\r\n                            console.log(this.dataService.LWins[\"LWin\" + value])\r\n                    }\r\n                },\r\n                {\r\n                    text: 'cmd',\r\n                    func: (e, value) => {\r\n                        console.log(this.dataService.cmd)\r\n                    }\r\n                },\r\n                {\r\n                    text: 'cache',\r\n                    func: (e, value) => {\r\n                        this.dataService.cache.test.createRoom = !this.dataService.cache.test.createRoom\r\n                        console.log(this.dataService.cache)\r\n                    }\r\n                },\r\n                {\r\n                    text: 'pos',\r\n                    func: (e, value) => {\r\n                        let pos = value.split(\",\")\r\n                        this.dataService.cmd.floorplan.testInputPos.x = parseInt(pos[0])\r\n                        this.dataService.cmd.floorplan.testInputPos.y = parseInt(pos[1])\r\n                        this.setTestInput(this.dataService.cmd.floorplan.testInputPos)\r\n                    }\r\n                }\r\n            ]\r\n        }\r\n        this.popService.testInputBtn.emit(data)\r\n    }\r\n\r\n    setNoWordConsole(data) {\r\n        let dataIDs = this.DUService.cal.getNewAttrArray(data, 'id')\r\n        console.log(dataIDs)\r\n        console.log(data)\r\n    }\r\n\r\n}","import { JdesignDataService } from \"../../../services/jdesign-data.service\";\r\nimport { HttpService, UrlType } from '../../../services/http.service';\r\nimport { waterfall, series, each } from 'async'\r\nimport { JdesignUtil2dService } from \"../../../services/jdesign-util2d.service\";\r\nimport { JIcon } from \"../jdesign/JIcon\";\r\nimport { JCmd } from \"../jdesign/JCmd\";\r\n\r\nexport class ReadJsonEvent {\r\n\r\n    urlJsonUrl: string = './assets/url.json'\r\n\r\n    constructor(\r\n        private dataService: JdesignDataService,\r\n        private httpService: HttpService,\r\n        private DUService: JdesignUtil2dService\r\n    ) {\r\n\r\n    }\r\n\r\n    /** 读取所有数据 */\r\n    readData(cb) {\r\n        waterfall([\r\n            (cb) => { this.readUrl(cb) },\r\n            (data, cb) => { this.readCmd(data, cb) },\r\n            (data, cb) => { this.readIco(data, cb) },\r\n            (data, cb) => { this.readWallPaper(data, cb) },\r\n            (data, cb) => { this.readFootLine(data, cb) },\r\n            (data, cb) => { this.readRoomType(data, cb) },\r\n            (data, cb) => { this.readPlasterCornice(data, cb) },\r\n            (data, cb) => { this.readDoorFrame(data, cb) },\r\n            (data, cb) => { this.readWinFrame(data, cb) },\r\n            (data, cb) => { this.readDoorFramePic(data, cb) },\r\n            (data, cb) => { this.readPlasterLinePic(data, cb) },\r\n            (data, cb) => { this.readFootLinePic(data, cb) },\r\n            (data, cb) => { this.readRoofPic(data, cb) },\r\n            (data, cb) => { this.readMarblePic(data, cb) },\r\n            (data, cb) => { this.readFloorPic(data, cb) },\r\n            (data, cb) => { this.readJ2d(data, cb) },\r\n            // (data, cb) => { this.readUWinJ2d(data, cb) }\r\n        ], (err, result) => { this.readEnd(err, result); cb() })\r\n    }\r\n\r\n    /** 读取链接列表 */\r\n    readUrl(cb) {\r\n        this.httpService.getRes(this.urlJsonUrl, 3, true).subscribe((data: UrlType) => {\r\n            this.httpService.dataUrls = data\r\n            this.dataService.cache.common.mainUrl = data.mainUrl\r\n            // console.log('加载完成url')\r\n            cb(undefined, data)\r\n        })\r\n    }\r\n\r\n    /** 读取cmdJSon */\r\n    readCmd(dataUrl: UrlType, cb) {\r\n        this.httpService.getRes(dataUrl.cmdUrl).subscribe((cmdData: any) => {\r\n            this.DUService.obj.changeObjUrlByflag(cmdData, dataUrl.mainUrl, \"**\")\r\n            this.dataService.cmd = new JCmd(cmdData)\r\n            // console.log('加载完成cmd')\r\n            cb(undefined, dataUrl)\r\n        })\r\n    }\r\n\r\n    /* 读取j2d */\r\n    readJ2d(dataUrl: UrlType, cb) {\r\n        let newUrl = dataUrl.j2dUrl + dataUrl.j2dMap\r\n        let url = this.httpService.getRealUrl(newUrl)\r\n        let func = (data: any[]) => {\r\n            if (data.length > 0) {\r\n                let otherUrl = dataUrl.j2dUrl + \"/\" + data[0][\"url\"]\r\n                this.httpService.getRes(otherUrl).subscribe((obj) => {\r\n                    this.dataService.cache.baseData.j2d[data[0][\"name\"]] = obj\r\n                    data.splice(0, 1)\r\n                    func(data)\r\n                })\r\n            }\r\n            else {\r\n                cb(undefined, dataUrl)\r\n            }\r\n        }\r\n        let otherUrl = dataUrl.j2dUrl + \"/\" + dataUrl.j2dMap\r\n        this.httpService.getRes(otherUrl).subscribe((data) => {\r\n            func(<any[]>data)\r\n        })\r\n    }\r\n\r\n    /** 读取icoJson */\r\n    readIco(dataUrl: UrlType, cb) {\r\n        this.httpService.getRes(dataUrl.iconUrlsUrl).subscribe((icoData) => {\r\n            this.dataService.icon = new JIcon(dataUrl.mainUrl, icoData)\r\n            // console.log('加载完成ico')\r\n            cb(undefined, dataUrl)\r\n        })\r\n    }\r\n\r\n    /** 读取墙贴纸 */\r\n    readWallPaper(dataUrl: UrlType, cb) {\r\n        let url = this.httpService.getRealUrl(dataUrl.threeAssetsMapUrl)\r\n        this.httpService.getRes(dataUrl.threeWallMap).subscribe((paperData: any[]) => {\r\n            this.DUService.obj.changeObjUrlByattrs(paperData, url)\r\n            this.dataService.json.wallPaper = paperData\r\n            cb(undefined, dataUrl)\r\n        })\r\n    }\r\n\r\n    /** 读取家居 */\r\n    readFurnitureModel(dataUrl: UrlType, cb) {\r\n        this.httpService.getRes(dataUrl.furnitureModelUrl).subscribe((furnitureData) => {\r\n\r\n        })\r\n    }\r\n\r\n    /** 读取地脚线 */\r\n    readFootLine(dataUrl: UrlType, cb) {\r\n        this.httpService.getRes(dataUrl.threeFootLineMap).subscribe((footLineDatas: any[]) => {\r\n            each(footLineDatas, (footLineData, cb) => {\r\n                this.setVertexData(footLineData, cb)\r\n            }, (err) => {\r\n                this.dataService.json.footLine = footLineDatas\r\n                cb(undefined, dataUrl)\r\n            })\r\n        })\r\n    }\r\n\r\n    /** 石膏线 */\r\n    readPlasterCornice(dataUrl: UrlType, cb) {\r\n        this.httpService.getRes(dataUrl.threePlasterCorniceMap).subscribe((plasterCorniceDatas: any[]) => {\r\n            each(plasterCorniceDatas, (plasterCorniceData, cb) => {\r\n                this.setVertexData(plasterCorniceData, cb)\r\n            }, (err) => {\r\n                this.dataService.json.plasterCornice = plasterCorniceDatas\r\n                cb(undefined, dataUrl)\r\n            })\r\n        })\r\n    }\r\n\r\n    /** 门框数据 */\r\n    readDoorFrame(dataUrl: UrlType, cb) {\r\n        this.httpService.getRes(dataUrl.threeDoorFrameMap).subscribe((doorFrameMaps: any[]) => {\r\n            each(doorFrameMaps, (doorFrameMap, cb) => {\r\n                this.setVertexData(doorFrameMap, cb)\r\n            }, (err) => {\r\n                this.dataService.json.doorFrame = doorFrameMaps\r\n                cb(undefined, dataUrl)\r\n            })\r\n        })\r\n    }\r\n\r\n    /** 窗框数据 */\r\n    readWinFrame(dataUrl: UrlType, cb) {\r\n        this.httpService.getRes(dataUrl.threeWinFrameMap).subscribe((winFrameMaps: any[]) => {\r\n            each(winFrameMaps, (winFrameMap, cb) => {\r\n                this.setVertexData(winFrameMap, cb)\r\n            }, (err) => {\r\n                this.dataService.json.winFrame = winFrameMaps\r\n                cb(undefined, dataUrl)\r\n            })\r\n        })\r\n    }\r\n\r\n    /** 设置 */\r\n    setVertexData(data, cb) {\r\n        this.httpService.getRes(data.vertexDataURL, 3, true).subscribe((vertexData: any) => {\r\n            // console.log(vertexData.vertexData)\r\n            if (this.checkShun(vertexData.vertexData))\r\n                vertexData.vertexData.reverse()\r\n            data[\"vertexData\"] = vertexData.vertexData\r\n            cb()\r\n        })\r\n    }\r\n\r\n    /** 读取门框图片 */\r\n    readDoorFramePic(dataUrl: UrlType, cb) {\r\n        let url = this.httpService.getRealUrl(dataUrl.threeAssetsMapUrl)\r\n        this.httpService.getRes(dataUrl.threeDoorFramePic).subscribe((picData: any[]) => {\r\n            this.DUService.obj.changeObjUrlByattrs(picData, url)\r\n            this.dataService.json.doorFramePics = picData\r\n            cb(undefined, dataUrl)\r\n        })\r\n    }\r\n\r\n    /** 读取石灰线图片 */\r\n    readPlasterLinePic(dataUrl: UrlType, cb) {\r\n        let url = this.httpService.getRealUrl(dataUrl.threeAssetsMapUrl)\r\n        this.httpService.getRes(dataUrl.threeWallPlastLinePic).subscribe((picData: any[]) => {\r\n            this.DUService.obj.changeObjUrlByattrs(picData, url)\r\n            this.dataService.json.plasterLinePics = picData\r\n            cb(undefined, dataUrl)\r\n        })\r\n    }\r\n\r\n    /** 读取地脚线图片 */\r\n    readFootLinePic(dataUrl: UrlType, cb) {\r\n        let url = this.httpService.getRealUrl(dataUrl.threeAssetsMapUrl)\r\n        this.httpService.getRes(dataUrl.threeWallFootLinePic).subscribe((picData: any[]) => {\r\n            this.DUService.obj.changeObjUrlByattrs(picData, url)\r\n            this.dataService.json.footLinePics = picData\r\n            cb(undefined, dataUrl)\r\n        })\r\n    }\r\n\r\n    /** 读取天花贴图 */\r\n    readRoofPic(dataUrl: UrlType, cb) {\r\n        let url = this.httpService.getRealUrl(dataUrl.threeAssetsMapUrl)\r\n        this.httpService.getRes(dataUrl.threeRoomRoofPic).subscribe((picData: any[]) => {\r\n            this.DUService.obj.changeObjUrlByattrs(picData, url)\r\n            this.dataService.json.roofPics = picData\r\n            cb(undefined, dataUrl)\r\n        })\r\n    }\r\n\r\n    /** 读取飘窗图片 */\r\n    readMarblePic(dataUrl: UrlType, cb) {\r\n        let url = this.httpService.getRealUrl(dataUrl.threeAssetsMapUrl)\r\n        this.httpService.getRes(dataUrl.threeWinMarblePic).subscribe((picData: any[]) => {\r\n            this.DUService.obj.changeObjUrlByattrs(picData, url)\r\n            this.dataService.json.marblePics = picData\r\n            cb(undefined, dataUrl)\r\n        })\r\n    }\r\n\r\n    /** 读取地板图片 */\r\n    readFloorPic(dataUrl: UrlType, cb) {\r\n        let url = this.httpService.getRealUrl(dataUrl.threeAssetsMapUrl)\r\n        this.httpService.getRes(dataUrl.threeRoomFloorPic).subscribe((picData: any[]) => {\r\n            this.DUService.obj.changeObjUrlByattrs(picData, url)\r\n            this.dataService.json.floorPics = picData\r\n            cb(undefined, dataUrl)\r\n        })\r\n    }\r\n\r\n    /** 读取房间类型 */\r\n    readRoomType(dataUrl: UrlType, cb) {\r\n        this.httpService.getRes(dataUrl.roomType).subscribe((typeData: any[]) => {\r\n            this.dataService.json.roomType = typeData\r\n            cb(undefined, dataUrl)\r\n        })\r\n    }\r\n\r\n\r\n\r\n    /** 加载完成 */\r\n    readEnd(err, result) {\r\n        console.log('主要json加载完成')\r\n        // console.log(result)\r\n    }\r\n\r\n    /**\r\n     * 检测数据是否顺时针\r\n     *  @param _allPoints 数据结构是[[x,y],[x,y],[x,y]]这样子。\r\n     */\r\n    checkShun(_allPoints) {\r\n        //获取所有点的坐标。------------------------------------------\r\n        let area = 0;\r\n        for (var i = 0; i < _allPoints.length; i++) {\r\n            let j = (i + 1) % _allPoints.length;\r\n            area += _allPoints[i][0] * _allPoints[j][1];\r\n            area -= _allPoints[j][0] * _allPoints[i][1];\r\n        }\r\n        if (area > 0) {\r\n            return false;\r\n        } else {\r\n            return true;\r\n        }\r\n    }\r\n\r\n}\r\n\r\n","import { MouseEventService } from \"../services/mouse-event.service\";\r\nimport { JdesignDataService } from \"../../../services/jdesign-data.service\";\r\nimport { DomUpdateService } from \"../../../services/dom-update.service\";\r\nimport { JdesignUtil2dService } from \"../../../services/jdesign-util2d.service\";\r\nimport { CalculatorsService } from \"../../../services/calculators.service\";\r\nimport { PopDivService } from \"../../../services/pop-div.service\";\r\nimport { PanelTopEvent } from \"./panelTop.event\";\r\nimport { ElementRef } from \"@angular/core\";\r\nimport { AnimationEventListen } from \"./animation.event.listen\";\r\nimport { RightMenuService } from \"../../../services/right-menu.service\";\r\nimport { SvgMouseEvent } from \"../act/mouse/svg.mouse.event\";\r\nimport { FloatDivEvent } from \"./floatDiv.event\";\r\nimport { SvgMouseListen } from \"./svg.mouse.listen\";\r\nimport { PanelLeftEvent } from \"./panelLeft.event\";\r\nimport { HttpService } from \"../../../services/http.service\";\r\nimport { DesignStyleDataRightMenu } from \"../../../designStyleData/rightMenu/designStyleData.rightMenu\";\r\nimport { PanelTestInputEvent } from \"./panelTestInput.event\";\r\nimport { SvgAbsorbEvent } from \"../act/absorb/svg.absorb.event\";\r\nimport { SvgInputEvent } from \"../act/input/svg.input.event\";\r\nimport { DesignShortFunc } from \"../../../designStyleData/shortFunc/design.shortFunc\";\r\nimport { DomSanitizer } from \"../../../../../node_modules/@angular/platform-browser\";\r\n\r\nexport class SvgEvent {\r\n\r\n    constructor(\r\n        private mouseEventService: MouseEventService,\r\n        private rightEventService: RightMenuService,\r\n        private dataService: JdesignDataService,\r\n        private domService: DomUpdateService,\r\n        private DUService: JdesignUtil2dService,\r\n        private calService: CalculatorsService,\r\n        private popService: PopDivService,\r\n        private el: ElementRef,\r\n        private divName: string,\r\n        private httpService: HttpService,\r\n        private sanitizer: DomSanitizer\r\n    ) {\r\n        let a = this.DUService.obj.getQueryStringSuper('isSimplify')\r\n        if (a != 1) {\r\n            this.setEvent()\r\n        }\r\n\r\n    }\r\n\r\n    /** 设置事件 */\r\n    setEvent() {\r\n        this.calService.undoRedo.save()\r\n        /** 生成快捷方法 */\r\n        let shortFuncEvent = new DesignShortFunc(this.popService, this.dataService, this.DUService, this.calService, this.domService)\r\n        /** 吸附事件 */\r\n        let svgAbosrbEvent = new SvgAbsorbEvent(this.dataService, this.DUService, this.calService)\r\n        /** 输入事件 */\r\n        let svgInputEvent = new SvgInputEvent(this.dataService, this.DUService, this.calService, this.popService)\r\n        /** 添加鼠标事件 */\r\n        let mouseEvent = new SvgMouseEvent(this.mouseEventService, this.dataService, this.domService, this.DUService, this.calService, this.popService, svgAbosrbEvent, svgInputEvent)\r\n        /** 顶栏 */\r\n        // let panelTopEvent = new PanelTopEvent(this.popService, this.dataService, this.domService, this.calService, undoRedoEvent, this.httpService)\r\n        /** 左边栏 */\r\n        // let panelLeftEvent = new PanelLeftEvent(this.popService, this.dataService, this.domService, this.calService, undoRedoEvent, this.httpService, this.DUService)\r\n        /** 浮动测试栏 */\r\n        let panelTestInputEvent = new PanelTestInputEvent(this.DUService, this.dataService, this.popService)\r\n        /** 浮动框 */\r\n        let floatDivEvent = new FloatDivEvent(this.popService, this.dataService, this.domService, this.calService, this.DUService)\r\n        floatDivEvent.changeThumbnail()\r\n        /** 右键  */\r\n        let rightMenus = new DesignStyleDataRightMenu(this.dataService, this.popService, this.rightEventService, this.calService, this.httpService, this.DUService, this.domService, this.sanitizer)\r\n        /** 添加监听 */\r\n        let svg = <Document>this.el.nativeElement.getElementsByClassName(this.divName)[0]\r\n        let mouseListen = new SvgMouseListen(svg, this.mouseEventService, this.dataService)\r\n        /** 事件启动 */\r\n        let svgEventListen = new AnimationEventListen(this.dataService)\r\n        /** 由于层原因无法触发 */\r\n        // this.setWheel(svg)\r\n        this.floorplanDataEmit()\r\n    }\r\n\r\n    /** 放大 */\r\n    setWheel(dom) {\r\n        dom.addEventListener('wheel', (e: WheelEvent) => {\r\n            if (e.deltaY > 0) {\r\n                this.dataService.cmd.floorplan.zoom = Math.max(1, Math.min(3, this.dataService.cmd.floorplan.zoom + 0.02))\r\n            } else if (e.deltaY < 0) {\r\n                this.dataService.cmd.floorplan.zoom = Math.max(1, Math.min(3, this.dataService.cmd.floorplan.zoom - 0.02))\r\n            }\r\n            this.popService.setInputBoxs()\r\n            this.popService.setButtons()\r\n            this.domService.mainSvg.emit()\r\n        })\r\n    }\r\n\r\n    floorplanDataEmit() {\r\n        this.dataService.cache.floorplan.dataEmit.subscribe((unUpdates: any = {}) => {\r\n            if (!unUpdates.door)\r\n                this.calService.door.listAbosrb()\r\n            if (!unUpdates.win)\r\n                this.calService.win.listAbosrb()\r\n            if (!unUpdates.LWin)\r\n                this.calService.LWin.listAbosrb()\r\n            if (!unUpdates.UWin)\r\n                this.calService.UWin.listAbosrb()\r\n            if (!unUpdates.cornerWin)\r\n                this.calService.cornerWin.listAbsorb()\r\n        })\r\n    }\r\n\r\n    /** 右键功能 */\r\n    setRight() {\r\n\r\n    }\r\n}","import { MouseEventService } from \"../services/mouse-event.service\";\r\nimport { JdesignDataService } from \"../../../services/jdesign-data.service\";\r\n\r\nexport class SvgMouseListen {\r\n    private _event: MouseEvent | WheelEvent = null\r\n    private _downFlag: boolean = false\r\n    private _upFlag: boolean = false\r\n    private _moveFlag: boolean = false\r\n\r\n    constructor(\r\n        private doc: Document,\r\n        private mouseEventService: MouseEventService,\r\n        private dataService: JdesignDataService) {\r\n        this.mouseDown(doc)\r\n        this.mouseMove(doc)\r\n        this.mouseUp(doc)\r\n        this.dataService.cache.AnimationFuncs.push(() => {\r\n            this.mouseListen()\r\n        })\r\n\r\n    }\r\n\r\n    /** 鼠标按下 */\r\n    mouseDown(doc: Document) {\r\n        doc.addEventListener('mousedown', (e) => {\r\n            // this.mouseEventService.doDownEvents(e)\r\n            this._downFlag = true\r\n            this._event = e\r\n        })\r\n    }\r\n\r\n    /** 鼠标移动 */\r\n    mouseMove(doc: Document) {\r\n        doc.addEventListener('mousemove', (e) => {\r\n            // this.mouseEventService.doMoveEvents(e)\r\n            this._moveFlag = true\r\n            this._event = e\r\n        })\r\n    }\r\n\r\n    /** 鼠标放开 */\r\n    mouseUp(doc: Document) {\r\n        doc.addEventListener(\"mouseup\", (e) => {\r\n            // this.mouseEventService.doUpEvents(e)\r\n            this._upFlag = true\r\n            this._event = e\r\n        })\r\n    }\r\n\r\n    /** 鼠标监听 */\r\n    mouseListen() {\r\n        if (this._downFlag) {\r\n            this.mouseEventService.doDownEvents(this._event)\r\n            this._downFlag = false\r\n        }\r\n        if (this._moveFlag) {\r\n            this.mouseEventService.doMoveEvents(this._event)\r\n            this._moveFlag = false\r\n        }\r\n        if (this._upFlag) {\r\n            this.mouseEventService.doUpEvents(this._event)\r\n            this._upFlag = false\r\n        }\r\n    }\r\n}","import { JGeometry3D } from \"../../../three/jDesign3D/JGeometry3D\";\r\nimport { JGeometryInit } from \"./JGeometry\";\r\nimport { JdesignDataService } from \"../../../services/jdesign-data.service\";\r\nimport { JdesignUtil2dService } from \"../../../services/jdesign-util2d.service\";\r\n\r\nexport class JBuild extends JGeometry3D {\r\n    constructor(obj: JBuildInitType, public dataService: JdesignDataService, public DUService: JdesignUtil2dService) {\r\n        super(obj, dataService, DUService, 'build')\r\n        this.dataService.builds[this.id] = this\r\n    }\r\n\r\n}\r\n\r\nexport class JBuildInitType extends JGeometryInit {\r\n}","import { EventEmitter, DoCheck } from \"@angular/core\";\r\nimport { JDesign } from \"./JDesign\";\r\nimport { DesignCommon as DC } from '../class/DesignCommon'\r\nimport { JWall } from \"./JWall\";\r\nimport { hotKey } from \"../../../design-pop/hotkey/hotkey.class\";\r\nimport { ShortKey } from \"../../../design-pop/hotkey/newNewHotKey.class\";\r\n\r\nexport class JCache {\r\n\r\n    /** 墙信息 */\r\n    private _wall: WallCache = new WallCache()\r\n    /** 墙信息 */\r\n    get wall() { return this._wall }\r\n    set wall(data) { this._wall = data }\r\n\r\n    private _baseData: BaseDataCache = new BaseDataCache()\r\n    /* 基础数据 */\r\n    get baseData() { return this._baseData }\r\n    set baseData(data) { this._baseData = data }\r\n\r\n    /** 测试 */\r\n    private _test: TestCache = new TestCache()\r\n    /** 测试 */\r\n    get test() { return this._test }\r\n    set test(data) { this._test = data }\r\n\r\n    /** 空间信息 */\r\n    private _room: RoomCache = new RoomCache()\r\n    /** 空间信息 */\r\n    get room() { return this._room }\r\n    set room(data) { this._room = data }\r\n\r\n    /** 转角飘窗信息 */\r\n    private _cornerWin: CornerWinCache = new CornerWinCache()\r\n    /** 转角飘窗信息 */\r\n    get cornerWin() { return this._cornerWin }\r\n    set cornerWin(data) { this._cornerWin = data }\r\n\r\n    /** cowall输入内容 */\r\n    private _cowall: CowallCache = new CowallCache()\r\n    /** cowall输入内容 */\r\n    get cowall() { return this._cowall }\r\n    set cowall(data) { this._cowall = data }\r\n\r\n    /** 吸附线的信息 */\r\n    private _absorbLines: AbsorbLineCache[] = [];\r\n    /** 吸附线的信息(将设置为联动触发吸附线) */\r\n    get absorbLines() { return this._absorbLines }\r\n    set absorbLines(data) { this._absorbLines = data }\r\n\r\n    /** 测试svg信息 */\r\n    private _testSvg: any[] = []\r\n    /** 测试svg信息 */\r\n    get testSvg() { return this._testSvg }\r\n    set testSvg(data) { this._testSvg = data }\r\n\r\n    /** 模式方法触发 */\r\n    private _mode: ModeCache = new ModeCache()\r\n    /** 模式方法触发 */\r\n    get mode() {\r\n        return this._mode\r\n    }\r\n    set mode(data) {\r\n        this._mode = data\r\n    }\r\n\r\n    /** floorplan属性 */\r\n    private _floorplan: FloorplanCache = new FloorplanCache\r\n    /** floorplan属性 */\r\n    get floorplan() { return this._floorplan }\r\n    set floorplan(data) { this._floorplan = data }\r\n\r\n    /** 公共属性 */\r\n    private _common: CommonCache = new CommonCache()\r\n    /** 公共属性 */\r\n    get common() { return this._common }\r\n    set common(data) { this._common = data }\r\n\r\n    /** 撤销数据 */\r\n    private _undoData: any[] = []\r\n    /** 撤销数据 */\r\n    get undoData() {\r\n        return this._undoData\r\n    }\r\n    set undoData(data) { this._undoData = data }\r\n\r\n    /** 还原数据 */\r\n    private _redoData: any[] = []\r\n    /** 还原数据 */\r\n    get redoData() { return this._redoData }\r\n    set redoData(data) { this._redoData = data }\r\n\r\n    /** 快捷方法 */\r\n    private _shortFuncs: Function[] = []\r\n    /** 快捷方法 */\r\n    get shortFuncs() { return this._shortFuncs }\r\n    set shortFuncs(data) { this._shortFuncs = data }\r\n\r\n    /** 快捷键 */\r\n    private _hotKeys: ShortKey[] = []\r\n    /** 快捷键 */\r\n    get hotKeys() { return this._hotKeys }\r\n    set hotKeys(data) { this._hotKeys = data }\r\n\r\n    /** 门 */\r\n    private _door: DoorCache = new DoorCache()\r\n    /** 门 */\r\n    get door() { return this._door }\r\n    set door(data) { this._door = data }\r\n\r\n    /** 窗 */\r\n    private _win: WinCache = new WinCache()\r\n    /** 窗 */\r\n    get win() { return this._win }\r\n    set win(data) { this._win = data }\r\n\r\n    /** 门窗公共 */\r\n    private _doorWin: DWCache = new DWCache()\r\n    /** 门窗公共 */\r\n    get doorWin() { return this._doorWin }\r\n    set doorWin(data) { this.doorWin = data }\r\n\r\n    /** 缩略图 */\r\n    private _thumbnail: ThumbnailCache = new ThumbnailCache()\r\n    /** 缩略图 */\r\n    get thumbnail() { return this._thumbnail }\r\n    set thumbnail(data) { this._thumbnail = data }\r\n\r\n    /** 家居 */\r\n    private _furniture: FurnitureCache = new FurnitureCache()\r\n    /** 家居 */\r\n    get furniture() { return this._furniture }\r\n    set furniture(data) { this._furniture = data }\r\n\r\n    /** 建筑物 */\r\n    private _build: BuildCache = new BuildCache()\r\n    /** 建筑物 */\r\n    get build() { return this._build }\r\n    set build(data) { this._build = data }\r\n\r\n    /** L窗 */\r\n    private _LWin: LWinCache = new LWinCache()\r\n    /** L窗 */\r\n    get LWin() { return this._LWin }\r\n    set LWin(data) { this._LWin = data }\r\n\r\n    /** U窗 */\r\n    private _UWin: UWinCache = new UWinCache()\r\n    /** U窗 */\r\n    get UWin() { return this._UWin }\r\n    set UWin(data) { this._UWin = data }\r\n\r\n    /** 动画方法集合 */\r\n    private _AnimationFuncs: (() => void)[] = []\r\n    get AnimationFuncs() { return this._AnimationFuncs }\r\n    set AnimationFuncs(data) { this._AnimationFuncs = data }\r\n\r\n    constructor() {\r\n\r\n    }\r\n\r\n    /** 快捷方法强化 */\r\n    shortFuncPlus(name: string, ...args: any[]) {\r\n        if (this.shortFuncs[name] == undefined) {\r\n            console.log(`方法'${name}'还未实现!!!`)\r\n        }\r\n        else\r\n            this.shortFuncs[name](...args)\r\n    }\r\n\r\n}\r\n\r\n/** 物体缓存 */\r\nexport class GeometryCache {\r\n    /** 创建初始化 */\r\n    createFunc: (obj) => void = () => { }\r\n    move: (obj?, pos?: DC.Pos) => void = null;\r\n    moveEnd: (obj?, pos?: DC.Pos) => void = null;\r\n    rotate: (obj, radian: number) => void = null\r\n}\r\n\r\n/** 家居缓存 */\r\nexport class FurnitureCache extends GeometryCache {\r\n\r\n}\r\n\r\n/** 建筑物缓存 */\r\nexport class BuildCache extends GeometryCache {\r\n\r\n}\r\n\r\n/** 墙缓存 */\r\nexport class WallCache {\r\n    /** 影子墙的坐标 */\r\n    ShadowPosArr: { x: number, y: number }[] = null;\r\n    /** 更新3D */\r\n    update3D: EventEmitter<object> = new EventEmitter<object>()\r\n    /** 位子 0为居中,1为外,-1为内 */\r\n    location: number = 1\r\n    /** 是否正交 */\r\n    isOrthogonal: boolean = true\r\n}\r\n\r\n/** 点缓存 */\r\nexport class PointCache {\r\n\r\n}\r\n\r\n/** 门缓存 */\r\nexport class DoorCache {\r\n    createFunc: (obj) => void = () => { }\r\n}\r\n\r\n/** 窗缓存 */\r\nexport class WinCache {\r\n    createFunc: (obj) => void = () => { }\r\n}\r\n\r\n/** 门窗公共属性 */\r\nexport class DWCache {\r\n    labelData: {\r\n        pos: { x: number, y: number };\r\n        text: number;\r\n    }[] = [];\r\n    displayLabel: boolean = false\r\n    move: (obj?, pos?: DC.Pos, data?: any) => void = null;\r\n    moveEnd: (obj?, pos?: DC.Pos) => void = null;\r\n}\r\n\r\n/** 有序墙缓存 */\r\nexport class CowallCache {\r\n    inputData: {\r\n        pos?: { x: number, y: number };\r\n        text: string | number;\r\n        isPrev?: boolean;\r\n        radian?: boolean;\r\n        displayText?: string | number;\r\n        distance?: number;\r\n    }[] = [];\r\n    hideInput: boolean = false;\r\n    /** 创建初始化 */\r\n    createInit: EventEmitter<object> = new EventEmitter<object>()\r\n    /** 更新3D */\r\n    update3D: EventEmitter<object> = new EventEmitter<object>()\r\n    /** 反序更新 */\r\n    oppsiteUpdate: EventEmitter<object> = new EventEmitter<object>()\r\n}\r\n\r\n/** 空间缓存 */\r\nexport class RoomCache {\r\n    /** 影子坐标 */\r\n    shadowPosArr: { x: number, y: number }[] = null\r\n    /** 输入框 */\r\n    inputData: {\r\n        pos: { x: number, y: number };\r\n        text: string;\r\n        /** 是否x轴 */\r\n        isX: boolean;\r\n    }[] = []\r\n    /** 创建初始化 */\r\n    createInit: EventEmitter<object> = new EventEmitter<object>()\r\n    /** 更新3D */\r\n    update3D: EventEmitter<object> = new EventEmitter<object>()\r\n\r\n}\r\n\r\n/** 吸附线缓存 */\r\nexport class AbsorbLineCache {\r\n    pos: { x: number, y: number };\r\n    /** 线弧度 */\r\n    radian?: number;\r\n    /** 类型(line,point) */\r\n    mode?: string;\r\n    /** 点半径 */\r\n    radius?: number;\r\n}\r\n\r\n/** 模式触发缓存 */\r\nexport class ModeCache {\r\n    drawWall: EventEmitter<object> = new EventEmitter<object>()\r\n    drawRoom: EventEmitter<object> = new EventEmitter<object>()\r\n    normal: EventEmitter<object> = new EventEmitter<object>()\r\n}\r\n\r\n/** 公共缓存 */\r\nexport class CommonCache {\r\n    /** 选中的对象 */\r\n    private _choose: JDesign = null\r\n    /** 选中的对象 */\r\n    get choose() { return this._choose }\r\n    set choose(data) {\r\n        let oldChoose = this._choose\r\n        this._choose = data\r\n        /** 触发取消选中 */\r\n        if (oldChoose) {\r\n            oldChoose.choose = false\r\n            oldChoose.chooseUpdate()\r\n        }\r\n        /** 再触发选中 */\r\n        if (data) {\r\n            data.choose = true\r\n            data.chooseUpdate()\r\n        }\r\n        this.chooseUpdate.emit(data)\r\n    }\r\n    chooseOtherMsg: any = undefined\r\n    /** 对象更新绑定(使用与对象改变时参数改变) */\r\n    chooseUpdate: EventEmitter<object> = new EventEmitter<object>()\r\n    /** 模式(暂时有normal,drawWall,drawRoom) */\r\n    mode: string = 'normal'\r\n    /** 挡板开关 */\r\n    blockON: boolean = false\r\n    /** 触发动作的第一次坐标 */\r\n    firstPos: DC.Pos = null\r\n    /** 3d开关 */\r\n    threeOn: number = 1\r\n    /** 吸附开关 */\r\n    isAbosrb: boolean = true\r\n    /** 主要路径 */\r\n    mainUrl: string = ''\r\n    /** 模型路径 */\r\n    modelMainUrl: string = ''\r\n    /** 转链接 */\r\n    getAbsUrl(url: string) {\r\n        let absUrl = url[0] == '/' ? this.mainUrl + url : this.mainUrl + '/' + url\r\n        return absUrl\r\n    }\r\n    /** 执行初始化方法组(不是只执行一次,是将一些常用方法强制初始化) */\r\n    initUpdate = (noUseKeyArr?: string[]) => {\r\n        noUseKeyArr = noUseKeyArr ? noUseKeyArr : []\r\n        for (let key in this.initFuncs) {\r\n            let same = false\r\n            for (let i = 0; i < noUseKeyArr.length; i++) {\r\n                if (key == noUseKeyArr[i]) {\r\n                    same = true\r\n                    break;\r\n                }\r\n            }\r\n            if (!same) {\r\n                this.initFuncs[key]()\r\n            }\r\n        }\r\n    }\r\n    /** 初始化某些数据方法组 */\r\n    initFuncs: (() => void)[] = []\r\n    /** 所有更新完成时 */\r\n    allInit: EventEmitter<object> = new EventEmitter<object>()\r\n}\r\n\r\n/** floorplan缓存 */\r\nexport class FloorplanCache {\r\n    maxZoom: number;\r\n    minZoom: number;\r\n    /** 默认倍率 */\r\n    multiple: number;\r\n    /** 默认原点 */\r\n    originPos: DC.Pos = { x: 0, y: 0 };\r\n    /** 创建移动 */\r\n    createAndMove: boolean = false\r\n    /** 居中数据 */\r\n    centerData: any = undefined\r\n    /** 数据改变监听(用来更新经常性组件(门窗之类)) */\r\n    dataEmit: EventEmitter<object> = new EventEmitter<object>()\r\n    /** 显示 */\r\n    display: {\r\n        /** 面积 */\r\n        area: Boolean\r\n        /** 尺寸 */\r\n        label: boolean\r\n        /** 外尺寸(内墙) */\r\n        outLabel_inLine: boolean\r\n        /** 外尺寸(外墙) */\r\n        outLabel_outLine: boolean\r\n        /** 外尺寸(墙厚) */\r\n        outLabel_thickness: boolean\r\n        /** 外尺寸 */\r\n        outLabel: boolean\r\n        /** 内尺寸 */\r\n        inLabel: boolean\r\n        /** 内尺寸(内中墙) */\r\n        inLabel_inOrCenterWall: boolean\r\n        /** 地板 */\r\n        floor: boolean\r\n        /** 网格 */\r\n        grid: boolean\r\n        /** 房间类型 */\r\n        roomType: boolean\r\n        /** 背景图 */\r\n        roomImg: boolean\r\n        /** 房型图 */\r\n        roomSvg: boolean\r\n    } = {\r\n            area: true,\r\n            label: true,\r\n            outLabel_inLine: false,\r\n            floor: true,\r\n            grid: true,\r\n            roomType: true,\r\n            outLabel_outLine: false,\r\n            outLabel_thickness: false,\r\n            roomImg: true,\r\n            roomSvg: true,\r\n            outLabel: false,\r\n            inLabel: true,\r\n            inLabel_inOrCenterWall: true\r\n        }\r\n}\r\n\r\n/** 转角飘窗储存 */\r\nexport class CornerWinCache {\r\n    hideAllCircle: boolean = true\r\n    hideMoveCircle: boolean = true\r\n    createFunc: (obj) => void = () => { }\r\n    move: (obj?, pos?: DC.Pos) => void = () => { };\r\n    change: (obj) => void = () => { };\r\n    moveEnd: (obj?, pos?: DC.Pos) => void = () => { }\r\n}\r\n\r\nclass ThumbnailType {\r\n    zoomSize: DC.Size;\r\n    divSize: DC.Size;\r\n    zIndex: number;\r\n    /** 是否为缩小版 */\r\n    isZoom: boolean;\r\n    /** 是否拉伸 */\r\n    isStretch: boolean;\r\n}\r\n\r\n/** 缩略图 */\r\nexport class ThumbnailCache {\r\n    svg: ThumbnailType = null\r\n    three: ThumbnailType = null\r\n    cmd: {\r\n\r\n    }\r\n}\r\n\r\n/** LU窗公共 */\r\nexport class LUWinCache {\r\n    createFunc: (obj) => void = () => { }\r\n}\r\n\r\n/** L型窗 */\r\nexport class LWinCache extends LUWinCache {\r\n\r\n}\r\n\r\nexport class UWinCache extends LUWinCache {\r\n\r\n}\r\n\r\n/* 基础数据缓存 */\r\nexport class BaseDataCache {\r\n    j2d: any[] = []\r\n}\r\n\r\nexport class TestCache {\r\n    createRoom: boolean = true\r\n}\r\n","import { JDesign } from \"./JDesign\";\r\nimport { JdesignDataService } from \"../../../services/jdesign-data.service\";\r\nimport { JdesignUtil2dService } from \"../../../services/jdesign-util2d.service\";\r\n\r\nexport class JCamera extends JDesign {\r\n\r\n    /** 弧度 */\r\n    private _radian: number\r\n    /** 弧度 */\r\n    get radian() { return this._radian }\r\n    set radian(data) { this._radian = data }\r\n\r\n    /** 坐标 */\r\n    private _pos: { x: number, y: number }\r\n    /** 坐标 */\r\n    get pos() { return this._pos }\r\n    set pos(data) { this._pos = data }\r\n\r\n    constructor(\r\n        obj: JCameraInitType,\r\n        public dataService: JdesignDataService,\r\n        public DUService: JdesignUtil2dService\r\n    ) {\r\n        super({ type: 'camera', id: obj.id }, dataService)\r\n        this.pos = obj.pos ? obj.pos : null\r\n        this.radian = obj.radian ? obj.radian : 0\r\n    }\r\n}\r\n\r\nexport class JCameraInitType {\r\n    id?: string;\r\n    radian?: number;\r\n    pos?: { x: number, y: number };\r\n}","import { DesignCommon as DC } from '../class/DesignCommon'\r\n\r\n/** 控制参数类 */\r\nexport class JCmd {\r\n\r\n    /** 墙 */\r\n    private _wall: WallDefault = new WallDefault();\r\n    /** 墙参数 */\r\n    get wall() { return this._wall }\r\n    set wall(data: WallDefault) {\r\n        this._wall = data\r\n    }\r\n\r\n    /** 有序墙 */\r\n    private _cowall: CowallDefault = new CowallDefault();\r\n    /** 有序墙参数 */\r\n    get cowall() { return this._cowall }\r\n    set cowall(data: CowallDefault) {\r\n        this._cowall = data\r\n    }\r\n\r\n    /** 相机 */\r\n    private _camera: CameraDefault = new CameraDefault();\r\n    /** 相机 */\r\n    get camera() { return this._camera }\r\n    set camera(data) { this._camera = data }\r\n\r\n    /** 点 */\r\n    private _point: PointDefault = new PointDefault();\r\n    /** 点参数 */\r\n    get point() { return this._point }\r\n    set point(data: PointDefault) {\r\n        this._point = data\r\n    }\r\n\r\n    /** floorplan */\r\n    private _floorplan: FloorplanDefault = new FloorplanDefault();\r\n    /** floorplan参数 */\r\n    get floorplan() { return this._floorplan }\r\n    set floorplan(data: FloorplanDefault) {\r\n        this._floorplan = data\r\n    }\r\n\r\n    /** 公共参数 */\r\n    private _common: CmdDefault = new CmdDefault();\r\n    /** 公共参数 */\r\n    get common() { return this._common }\r\n    set common(data) { this._common = data }\r\n\r\n    /** 背景 */\r\n    private _back: BackDefault = new BackDefault();\r\n    /** 背景参数 */\r\n    get back() { return this._back }\r\n    set back(data: BackDefault) {\r\n        this._back = data\r\n    }\r\n\r\n    /** 地板 */\r\n    private _floor: FloorDefault = new FloorDefault()\r\n    /** 地板参数 */\r\n    get floor() { return this._floor }\r\n    set floor(data) { this._floor = data }\r\n\r\n    /** 门参数 */\r\n    private _door: DoorDefault = new DoorDefault();\r\n    /** 门参数 */\r\n    get door() { return this._door }\r\n    set door(data) { this._door = data }\r\n\r\n    /** 窗参数 */\r\n    private _win: WinDefault = new WinDefault();\r\n    /** 窗参数 */\r\n    get win() { return this._win }\r\n    set win(data) { this._win = data }\r\n\r\n    /** 家具参数 */\r\n    private _furniture: FurnitureDefault = new FurnitureDefault();\r\n    /** 家具参数 */\r\n    get furniture() { return this._furniture }\r\n    set furniture(data) { this._furniture = data }\r\n\r\n    /** 转角飘窗参数 */\r\n    private _cornerWin: CornerWinDefault = new CornerWinDefault()\r\n    /** 转角飘窗参数 */\r\n    get cornerWin() { return this._cornerWin }\r\n    set cornerWin(data) { this._cornerWin = data }\r\n\r\n    /** 空间参数 */\r\n    private _room: RoomDefault = new RoomDefault()\r\n    /** 转角飘窗参数 */\r\n    get room() { return this._room }\r\n    set room(data) { this._room = data }\r\n\r\n    /* L型窗参数 */\r\n    private _LWin: LWinDefault = new LWinDefault()\r\n    /* L型窗参数 */\r\n    get LWin() { return this._LWin }\r\n    set LWin(data) { this._LWin = data }\r\n\r\n    /* u型窗参数 */\r\n    private _UWin: UWinDefault = new UWinDefault()\r\n    /* u型窗参数 */\r\n    get UWin() { return this._UWin }\r\n    set UWin(data) { this._UWin = data }\r\n\r\n    constructor(obj: JInitType) {\r\n        // this.back = obj.back\r\n        // this.wall = obj.wall\r\n        // this.cowall = obj.cowall\r\n        // this.floorplan = obj.floorplan\r\n        // this.point = obj.point\r\n        // this.floor = obj.floor\r\n        // this.door = obj.door\r\n        // this.win = obj.win\r\n        // this.furniture = obj.furniture\r\n        // this.cornerWin = obj.cornerWin\r\n        // this.camera = obj.camera\r\n        // this.room = obj.room\r\n        // this.common = obj.common\r\n\r\n        this.dataUpdate(this.back, obj.back)\r\n        this.dataUpdate(this.wall, obj.wall)\r\n        this.dataUpdate(this.cowall, obj.cowall)\r\n        this.dataUpdate(this.floorplan, obj.floorplan)\r\n        this.dataUpdate(this.point, obj.point)\r\n        this.dataUpdate(this.floor, obj.floor)\r\n        this.dataUpdate(this.door, obj.door)\r\n        this.dataUpdate(this.win, obj.win)\r\n        this.dataUpdate(this.furniture, obj.furniture)\r\n        this.dataUpdate(this.cornerWin, obj.cornerWin)\r\n        this.dataUpdate(this.camera, obj.camera)\r\n        this.dataUpdate(this.room, obj.room)\r\n        this.dataUpdate(this.common, obj.common)\r\n        this.dataUpdate(this.LWin, obj.LWin)\r\n        this.dataUpdate(this.UWin, obj.UWin)\r\n    }\r\n\r\n    private dataUpdate(obj, importData) {\r\n        for (let key in importData) {\r\n            obj[key] = importData[key]\r\n        }\r\n    }\r\n\r\n    /** 长度换算像素点 mm,cm,m*/\r\n    getLengthTransPixel(length: number, type: string) {\r\n        let pixel: number = null\r\n        switch (type) {\r\n            case 'mm':\r\n                pixel = length / this.floorplan.mm\r\n                return pixel\r\n            case 'cm':\r\n                pixel = length * 10 / this.floorplan.mm\r\n                return pixel\r\n            case 'm':\r\n                pixel = length * 1000 / this.floorplan.mm\r\n                return pixel\r\n            default:\r\n                return null\r\n        }\r\n    }\r\n\r\n    /** 像素点换算长度 */\r\n    getPixelTransLength(pixel: number, type: string) {\r\n        let length: number = null\r\n        switch (type) {\r\n            case 'mm':\r\n                length = pixel * this.floorplan.mm\r\n                return length\r\n            case 'cm':\r\n                length = pixel * this.floorplan.mm / 10\r\n                return length\r\n            case 'm':\r\n                length = pixel * this.floorplan.mm / 1000\r\n                return length\r\n            default:\r\n                return null\r\n        }\r\n    }\r\n\r\n    /** 获取当前单位模式下的长度 */\r\n    getDefaultLength(pixel: number) {\r\n        return this.getPixelTransLength(pixel, this.floorplan.ruler)\r\n    }\r\n\r\n    /** 获取当前单位模式下的像素点 */\r\n    getDefaultPixel(length: number) {\r\n        return this.getLengthTransPixel(length, this.floorplan.ruler)\r\n    }\r\n\r\n\r\n    /** 获取精确坐标 */\r\n    getWindowPos(pos: DC.Pos) {\r\n        let movePos: DC.Pos = { x: pos.x + this.floorplan.left, y: pos.y + this.floorplan.top }\r\n        if (this.floorplan.zoom == 1)\r\n            return movePos\r\n        else {\r\n            let centerPos: DC.Pos = { x: (this.back.size.width / 2) + this.floorplan.left, y: (this.back.size.height / 2) + this.floorplan.top }\r\n            movePos = {\r\n                x: centerPos.x + ((movePos.x - centerPos.x) * this.floorplan.zoom),\r\n                y: centerPos.y + ((movePos.y - centerPos.y) * this.floorplan.zoom)\r\n            }\r\n            return movePos\r\n        }\r\n    }\r\n\r\n}\r\n\r\n/** 背景默认参数 */\r\nexport class BackDefault {\r\n    pattern: {\r\n        width: number;\r\n        split: number;\r\n    }\r\n    size: DC.Size\r\n\r\n}\r\n\r\n/** cowall默认参数 */\r\nexport class CowallDefault {\r\n    ico: {\r\n        url: string,\r\n        width: number,\r\n        height: number\r\n    }\r\n    /** 离墙高度 */\r\n    height: number;\r\n    /** 隐藏标签 */\r\n    hide: boolean;\r\n    /** 显示名字 */\r\n    displayName: boolean;\r\n    /** 强制隐藏 */\r\n    strongHide: boolean;\r\n    /** 外标签信息 */\r\n    outLabel: {\r\n        centerDistance: number;\r\n        levelDistance: number;\r\n    } = {\r\n            centerDistance: 500,\r\n            levelDistance: 500\r\n        }\r\n}\r\n\r\n/** wall默认参数 */\r\nexport class WallDefault {\r\n    /** 默认厚度 */\r\n    thickness: number;\r\n    /** 显示名字 */\r\n    displayName: boolean;\r\n    /** 通用墙 */\r\n    normalWallSrc: string;\r\n    /* 承重墙 */\r\n    bearingwallSrc: string;\r\n    /** 轻钢墙 */\r\n    lightSteelWallSrc: string;\r\n    /** 轻砖墙 */\r\n    lightBrickWallSrc: string;\r\n    /** 钢筋墙 */\r\n    fixtureWallSrc: string;\r\n}\r\n\r\n/** floorPlan默认参数 */\r\nexport class FloorplanDefault {\r\n    nextID: number;\r\n    /** 毫米转换像素点比例 */\r\n    mm: number;\r\n    /** 当前尺寸标注:mm,cm,m */\r\n    ruler: string;\r\n    /** 缩放倍数 */\r\n    zoom: number;\r\n    /** 上偏移 */\r\n    top: number;\r\n    /** 左偏移 */\r\n    left: number;\r\n    /** 透明度 */\r\n    opacity: number;\r\n    /** 吸附 */\r\n    absorb: {\r\n        /** 最小距离 */\r\n        minDistance: number;\r\n        /** 最小弧度 */\r\n        minRadian: number;\r\n    }\r\n    /** 辅助坐标 */\r\n    debugPos: DC.Pos\r\n    /** 测试坐标 */\r\n    testInputPos: DC.Pos\r\n    /** 指南针 */\r\n    compass: number = 0\r\n    /** 设计名字 */\r\n    designName: string = \"3d户型\"\r\n}\r\n\r\n\r\n/** cmd默认参数 */\r\nexport class CmdDefault {\r\n    isThree: boolean;\r\n    logOn: boolean;\r\n    debug: boolean;\r\n    initLog: boolean;\r\n}\r\n\r\n/** 地板默认参数 */\r\nexport class FloorDefault {\r\n    imgUrl: string;\r\n    size: DC.Size;\r\n}\r\n\r\n/** 相机默认参数 */\r\nexport class CameraDefault {\r\n    rotateImg: {\r\n        url: string;\r\n        size: DC.Size\r\n    };\r\n    headImg: {\r\n        url: string;\r\n        size: DC.Size\r\n    };\r\n    offset: DC.Pos;\r\n}\r\n\r\n/** 点默认参数 */\r\nexport class PointDefault {\r\n    /** 显示名字 */\r\n    displayName: boolean;\r\n}\r\n\r\n/** 门默认参数 */\r\nexport class DoorDefault {\r\n    /** 标注图标 */\r\n    ico: {\r\n        url: string,\r\n        width: number,\r\n        height: number\r\n    };\r\n    /** 一个门板 */\r\n    onePlankUrl: string;\r\n    /** 双门板 */\r\n    twoPlankUrl: string;\r\n    /** 移门板 */\r\n    pullPlankUrl: string;\r\n    /** 子母门板 */\r\n    momSonPlankUrl: string;\r\n    /** 标注离墙的高度 */\r\n    labelHeight: number;\r\n    /** 按钮高度 */\r\n    buttonHeight: number;\r\n}\r\n\r\n/** 窗默认参数 */\r\nexport class WinDefault {\r\n    /** 标注图标 */\r\n    ico: {\r\n        url: string,\r\n        width: number,\r\n        height: number\r\n    }\r\n    /** 标注离墙的高度 */\r\n    labelHeight: number;\r\n    /** 按钮高度 */\r\n    buttonHeight: number;\r\n    /** 普通窗 */\r\n    normalWinUrl: string;\r\n    /** 落地窗 */\r\n    floorWinUrl: string;\r\n}\r\n\r\n/** 家具默认参数 */\r\nexport class FurnitureDefault {\r\n    /** 旋转图标 */\r\n    rotateIco: string;\r\n    /** 图标尺寸 */\r\n    icoSize: DC.Size;\r\n    /** 标注圆的默认半径 */\r\n    radius: number;\r\n}\r\n\r\n/** 转角飘窗默认参数 */\r\nexport class CornerWinDefault {\r\n    /** 默认墙的宽度 */\r\n    thickness: number;\r\n    /** 标注线的图标 */\r\n    ico: {\r\n        url: string,\r\n        width: number,\r\n        height: number\r\n    };\r\n    /** 宽度标注线的离原点的高度(运算时候需加上墙的厚度) */\r\n    widthHight: number;\r\n    /** 深度标注线的离原点的高度 */\r\n    depthHeight: number;\r\n}\r\n\r\n/** 空间默认参数 */\r\nexport class RoomDefault {\r\n    /** 显示名字 */\r\n    displayName: boolean;\r\n\r\n}\r\n\r\nexport class LUWinDefault {\r\n}\r\n\r\n/* LWin默认参数 */\r\nexport class LWinDefault extends LUWinDefault {\r\n\r\n}\r\n\r\nexport class UWinDefault extends LUWinDefault {\r\n\r\n}\r\n\r\nexport class JInitType {\r\n    back: BackDefault;\r\n    wall: WallDefault;\r\n    cowall: CowallDefault;\r\n    floorplan: FloorplanDefault;\r\n    point: PointDefault;\r\n    common: CmdDefault;\r\n    floor: FloorDefault;\r\n    door: DoorDefault;\r\n    win: WinDefault;\r\n    furniture: FurnitureDefault;\r\n    cornerWin: CornerWinDefault;\r\n    camera: CameraDefault;\r\n    room: RoomDefault;\r\n    LWin: LWinDefault;\r\n    UWin: UWinDefault;\r\n}","import { JDesign } from \"./JDesign\";\r\nimport { DesignCommon as DC } from '../class/DesignCommon'\r\nimport { JdesignDataService } from \"../../../services/jdesign-data.service\";\r\nimport { JdesignUtil2dService } from \"../../../services/jdesign-util2d.service\";\r\n\r\nexport class JCornerWin extends JDesign {\r\n\r\n    /** 坐标 */\r\n    private _pos: DC.Pos\r\n    /** 坐标 */\r\n    get pos() { return this._pos }\r\n    set pos(data) { this._pos = data }\r\n    /** 左边=============================================================== */\r\n    /** 左边厚度 */\r\n    private _LThickness: number\r\n    /** 左边厚度 */\r\n    get LThickness() { return this._LThickness }\r\n    set LThickness(data) { this._LThickness = data }\r\n\r\n    /** 左边宽度 */\r\n    private _LWidth: number\r\n    /** 左边宽度 */\r\n    get LWidth() { return this._LWidth }\r\n    set LWidth(data) { this._LWidth = data }\r\n\r\n    /** 左边深度 */\r\n    private _LDepth: number\r\n    /** 左边深度 */\r\n    get LDepth() { return this._LDepth }\r\n    set LDepth(data) { this._LDepth = data }\r\n\r\n    /** 左边弧度 */\r\n    private _LRadian: number;\r\n    /** 左边弧度 */\r\n    get LRadian() { return this._LRadian }\r\n    set LRadian(data) { this._LRadian = data }\r\n\r\n    /** 下边======================================================================= */\r\n\r\n    /** 下边厚度 */\r\n    private _DThickness: number\r\n    /** 下边厚度 */\r\n    get DThickness() { return this._DThickness }\r\n    set DThickness(data) { this._DThickness = data }\r\n\r\n    /** 下边宽度 */\r\n    private _DWidth: number\r\n    /** 下边宽度 */\r\n    get DWidth() { return this._DWidth }\r\n    set DWidth(data) { this._DWidth = data }\r\n\r\n    /** 下边深度 */\r\n    private _DDepth: number\r\n    /** 下边深度 */\r\n    get DDepth() { return this._DDepth }\r\n    set DDepth(data) { this._DDepth = data }\r\n\r\n    /** 下边弧度 */\r\n    private _DRadian: number;\r\n    /** 下边弧度 */\r\n    get DRadian() { return this._DRadian }\r\n    set DRadian(data) { this._DRadian = data }\r\n\r\n    /** 依赖点 */\r\n    private _pointID: string\r\n    /** 依赖点 */\r\n    get pointID() { return this._pointID }\r\n    set pointID(data) { this._pointID = data }\r\n\r\n    /** 轮廓 */\r\n    private _outLine: DC.Pos[] = []\r\n    /** 轮廓(方向为从中心向左往上循环) */\r\n    get outLine() { return this._outLine }\r\n    set outLine(data) { this._outLine = data }\r\n\r\n    /** 外厚度 */\r\n    private _outThickness: number\r\n    /**  外厚度 */\r\n    get outThickness() { return this._outThickness }\r\n    set outThickness(data) { this._outThickness = data }\r\n\r\n    /** 外墙厚度 */\r\n    private _outWallThickness: number\r\n    get outWallThickness() { return this._outWallThickness }\r\n    set outWallThickness(data) { this._outWallThickness = data }\r\n\r\n    /** 3D高度 */\r\n    private _height3D: number\r\n    /** 3D高度 */\r\n    get height3D() { return this._height3D }\r\n    set height3D(data) { this._height3D = data }\r\n\r\n    /** 离地高度 */\r\n    private _floorHeight: number\r\n    /** 离地高度 */\r\n    get floorHeight() { return this._floorHeight }\r\n    set floorHeight(data) { this._floorHeight = data }\r\n\r\n    constructor(obj: JCornerWinInitType, public dataService: JdesignDataService, private DUService: JdesignUtil2dService) {\r\n        super({ type: 'cornerWin', id: obj.id, flag: obj.flag, mode: obj.mode ? obj.mode : 'move' }, dataService)\r\n        this.pos = obj.pos ? obj.pos : { x: 0, y: 0 }\r\n        this.LRadian = obj.LRadian ? obj.LRadian : Math.PI\r\n        this.LThickness = obj.LThickness ? obj.LThickness : this.dataService.cmd.cornerWin.thickness\r\n        this.LWidth = obj.LWidth ? obj.LWidth : 0\r\n        this.LDepth = obj.LDepth ? obj.LDepth : 0\r\n        this.DRadian = obj.DRadian ? obj.DRadian : Math.PI / 2\r\n        this.DThickness = obj.DThickness ? obj.DThickness : this.dataService.cmd.cornerWin.thickness\r\n        this.DWidth = obj.DWidth ? obj.DWidth : 0\r\n        this.DDepth = obj.DDepth ? obj.DDepth : 0\r\n        this.pointID = obj.pointID ? obj.pointID : null\r\n        this.outThickness = obj.outThickness ? obj.outThickness : 0\r\n        this.outWallThickness = obj.outWallThickness ? obj.outWallThickness : 0\r\n        this.height3D = obj.height3D ? obj.height3D : 0\r\n        this.floorHeight = obj.floorHeight ? obj.floorHeight : 0\r\n        this.dataService.cornerWins[this.id] = this\r\n    }\r\n\r\n    /** 获取左边角度 */\r\n    getLRotate() {\r\n        return this.LRadian * 180 / Math.PI\r\n    }\r\n\r\n    /** 获取下边角度 */\r\n    getDRotate() {\r\n        return this.DRadian * 180 / Math.PI\r\n    }\r\n\r\n    /** 获取点 */\r\n    getPoint() {\r\n        if (this.pointID == null || this.pointID == '')\r\n            return null\r\n        return this.dataService.points[this.pointID]\r\n    }\r\n\r\n    /** 获取path坐标 (pos为空时取飘窗坐标)\r\n     * [pos, LDPos, LUPos, intersectPos, DRPos, DLPos]\r\n     */\r\n    getPathPosArr(pos?: DC.Pos) {\r\n        pos = pos ? pos : this.pos\r\n        /** 左边下面坐标 */\r\n        let LDPos = this.DUService.pos.getRayPos(pos, this.LRadian, this.LDepth)\r\n        /** 坐标上面坐标 */\r\n        let LUPos = this.DUService.pos.getRayPos(LDPos, this.LRadian + (Math.PI / 2), this.LWidth)\r\n\r\n        /** 下边左面坐标 */\r\n        let DLPos = this.DUService.pos.getRayPos(pos, this.DRadian, this.DDepth)\r\n        /** 下面右面坐标 */\r\n        let DRPos = this.DUService.pos.getRayPos(DLPos, this.DRadian - (Math.PI / 2), this.DWidth)\r\n\r\n        let LLinePos = this.DUService.pos.getRayPos(LUPos, this.LRadian + Math.PI, 10)\r\n        let DLinePos = this.DUService.pos.getRayPos(DRPos, this.DRadian + Math.PI, 10)\r\n        let intersectPos = this.DUService.pos.getIntersect(LUPos, LLinePos, DRPos, DLinePos)\r\n\r\n        let posArr: DC.Pos[] = [pos, LDPos, LUPos, intersectPos, DRPos, DLPos]\r\n        return posArr\r\n    }\r\n\r\n}\r\n\r\nexport class JCornerWinInitType {\r\n    id?: string;\r\n    flag?: number;\r\n    pos?: DC.Pos;\r\n    LRadian?: number;\r\n    LThickness?: number;\r\n    LWidth?: number;\r\n    LDepth?: number;\r\n    DRadian?: number;\r\n    DThickness?: number;\r\n    DWidth?: number;\r\n    DDepth?: number;\r\n    pointID?: string;\r\n    mode?: string;\r\n    outThickness?: number;\r\n    outWallThickness?: number;\r\n    height3D?: number;\r\n    floorHeight?: number;\r\n}","import { JDesign } from \"./JDesign\";\r\nimport { DesignCommon as DC } from '../class/DesignCommon'\r\nimport { JPoint } from \"./JPoint\";\r\nimport { JRoom } from \"./JRoom\";\r\nimport { JWall } from \"./JWall\";\r\nimport { JdesignDataService } from \"../../../services/jdesign-data.service\";\r\nimport { JdesignUtil2dService } from \"../../../services/jdesign-util2d.service\";\r\n\r\nexport class JCowall extends JDesign {\r\n    /** 子对象point */\r\n    private _pointIDs: string[];\r\n    /** 子对象point 改变会联动触发point */\r\n    get pointIDs() { return this._pointIDs }\r\n    set pointIDs(obj) {\r\n        /** 删除旧的 */\r\n        if (this.pointIDs != undefined && this.pointIDs != []) {\r\n            let oldPointArr: JPoint[] = this.getPointArr()\r\n            for (let i = 0; i < oldPointArr.length; i++) {\r\n                for (let j = oldPointArr[i].cowallIDs.length - 1; j >= 0; j--) {\r\n                    if (oldPointArr[i].cowallIDs[j] == this.id) {\r\n                        oldPointArr[i].cowallIDs.splice(j, 1)\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        this._pointIDs = obj\r\n\r\n        /** 添加新的 */\r\n        if (obj != undefined && obj.length != 0) {\r\n\r\n            let pointArr: JPoint[] = this.getPointArr()\r\n            for (let i = 0; i < pointArr.length; i++) {\r\n                pointArr[i].cowallIDs.push(this.id)\r\n                pointArr[i].cowallIDs = this.DUService.cal.unique(pointArr[i].cowallIDs)\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    /** 仅有一个空间父对象 */\r\n    private _roomID: string;\r\n    /** 仅有一个空间父对象 改变会联动触发floorplan */\r\n    get roomID() { return this._roomID }\r\n    set roomID(obj) {\r\n\r\n        let remove: boolean = false\r\n        if (this._roomID == undefined || this._roomID == null) {\r\n            remove = true\r\n        }\r\n\r\n        this._roomID = obj\r\n\r\n        /** 如果没值,添加floorplan索引 */\r\n        if (obj == null || obj == undefined) {\r\n            this.dataService.floorplan.cowallIDs.push(this.id)\r\n            this.dataService.floorplan.cowallIDs = this.DUService.cal.unique(this.dataService.floorplan.cowallIDs)\r\n            remove = false\r\n        }\r\n\r\n        /** 如果有值,删除floorplan索引 */\r\n        if (remove) {\r\n            this.DUService.cal.removeByValue(this.dataService.floorplan.cowallIDs, this.id)\r\n        }\r\n    }\r\n\r\n\r\n    /** 下一个cowallID */\r\n    private _nextID: string;\r\n    /** 下一个cowallID */\r\n    get nextID() { return this._nextID }\r\n    set nextID(obj) {\r\n        this._nextID = obj\r\n        // this.strongUpdate()\r\n    }\r\n\r\n    /** 上一个cowallID */\r\n    private _prevID: string;\r\n    /** 上一个cowallID */\r\n    get prevID() { return this._prevID }\r\n    set prevID(obj) {\r\n        this._prevID = obj\r\n        //this.strongUpdate()\r\n    }\r\n\r\n    /** wallID */\r\n    private _edgeID: string;\r\n    /** wallID */\r\n    get edgeID() { return this._edgeID }\r\n    set edgeID(obj) {\r\n        this._edgeID = obj\r\n        // let wall: JWall = this.getWall()\r\n        // if (wall.coedgeID == undefined || wall.coedgeID == null) {\r\n        //     wall.coedgeID = this.id\r\n        // } else {\r\n        //     let partnerCowall = wall.getCowall()\r\n        //     this.partnerID = partnerCowall.id\r\n        //     partnerCowall.partnerID = this.id\r\n        // }\r\n        // this.strongUpdate()\r\n    }\r\n\r\n    /** 同一个wall的另外cowall */\r\n    private _partnerID: string;\r\n    /** 同一个wall的另外cowall 改变会联动触发cowall */\r\n    get partnerID() { return this._partnerID }\r\n    set partnerID(obj) {\r\n        this._partnerID = obj\r\n        if (obj != null) {\r\n            let cowall: JCowall = this.dataService.cowalls[obj]\r\n            if (cowall != undefined && cowall != null && cowall.partnerID != this.id) {\r\n                cowall.partnerID = this.id\r\n            }\r\n\r\n\r\n        }\r\n\r\n        //this.strongUpdate()\r\n    }\r\n\r\n    /** 是否颠倒 */\r\n    private _reversed: boolean;\r\n    /** 是否颠倒 */\r\n    get reversed() { return this._reversed }\r\n    set reversed(obj) {\r\n        this._reversed = obj\r\n    }\r\n\r\n    /** 显示隐藏 */\r\n    private _labelDisplay: boolean = true\r\n    /** 显示隐藏 */\r\n    get labelDisplay() { return this._labelDisplay }\r\n    set labelDisplay(data) { this._labelDisplay = data }\r\n\r\n    constructor(\r\n        obj: JCowallInitType,\r\n        public dataService: JdesignDataService,\r\n        public DUService: JdesignUtil2dService\r\n    ) {\r\n        super({ type: 'cowall', id: obj.id }, dataService)\r\n\r\n        this.reversed = obj.reversed != undefined ? obj.reversed : false\r\n        this.edgeID = obj.edgeID != undefined ? obj.edgeID : null\r\n        this.nextID = obj.nextID != undefined ? obj.nextID : null\r\n        this.prevID = obj.prevID != undefined ? obj.prevID : null\r\n        this.partnerID = obj.partnerID != undefined ? obj.partnerID : null\r\n        this.roomID = obj.roomID != undefined ? obj.roomID : null\r\n        this.pointIDs = obj.pointIDs != undefined ? obj.pointIDs : []\r\n\r\n        this.dataService.cowalls[this.id] = this\r\n    }\r\n\r\n\r\n    /** 获取墙 */\r\n    getWall(): JWall {\r\n        let wall: JWall = this.dataService.walls[this.edgeID]\r\n        return wall\r\n    }\r\n\r\n    /** 是否为一点 */\r\n    isSamePos(): boolean {\r\n        let posArr: DC.Pos[] = this.getPosArr()\r\n        if (posArr[0].x == posArr[1].x && posArr[0].y == posArr[1].y) {\r\n            return true\r\n        }\r\n        else {\r\n            return false\r\n        }\r\n    }\r\n\r\n    /** 上个为一点 */\r\n    isPointByPrev(): boolean {\r\n        let cowall: JCowall = this.getPrevCowall()\r\n        return cowall.isSamePos()\r\n    }\r\n\r\n    /** 下个为一点 */\r\n    isPointBynext(): boolean {\r\n        let cowall: JCowall = this.getNextCowall()\r\n        return cowall.isSamePos()\r\n    }\r\n\r\n\r\n    /** 获取反向有序墙 */\r\n    getOppsiteCowall(): JCowall {\r\n        if (this.partnerID == null) {\r\n            return null\r\n        }\r\n        else {\r\n            let cowall: JCowall = this.dataService.cowalls[this.partnerID]\r\n            return cowall\r\n        }\r\n    }\r\n\r\n    /** 获取空间 */\r\n    getRoom(): JRoom {\r\n        if (this.roomID == null)\r\n            return null\r\n        let room: JRoom = this.dataService.rooms[this.roomID]\r\n        return room\r\n    }\r\n\r\n    /** 获取点数组 */\r\n    getPointArr(): JPoint[] {\r\n        let pointStart: JPoint = this.getPointStart()\r\n        let pointEnd: JPoint = this.getPointEnd()\r\n        let pointArr: JPoint[] = [pointStart, pointEnd]\r\n        return pointArr\r\n    }\r\n\r\n    /** 获取坐标集 */\r\n    getPosArr(): DC.Pos[] {\r\n        let pointArr: JPoint[] = this.getPointArr()\r\n        let posArr: DC.Pos[] = [pointArr[0].pos, pointArr[1].pos]\r\n        return posArr\r\n    }\r\n\r\n    /** 获取起点 */\r\n    getPointStart(): JPoint {\r\n        if (this.reversed) {\r\n            let point: JPoint = this.dataService.points[this.pointIDs[1]]\r\n            return point\r\n        }\r\n        else {\r\n            let point: JPoint = this.dataService.points[this.pointIDs[0]]\r\n            return point\r\n        }\r\n    }\r\n\r\n    /** 获取终点 */\r\n    getPointEnd(): JPoint {\r\n        if (!this.reversed) {\r\n            let point: JPoint = this.dataService.points[this.pointIDs[1]]\r\n            return point\r\n        }\r\n        else {\r\n            let point: JPoint = this.dataService.points[this.pointIDs[0]]\r\n            return point\r\n        }\r\n    }\r\n\r\n    /** 获取弧度\r\n     * @param reCal 是否重新计算,默认false,从墙里面取数据\r\n     */\r\n    getRadian(reCal: boolean = false): number {\r\n        if (reCal) {\r\n            let posArr: DC.Pos[] = this.getPosArr()\r\n            let radian: number = this.DUService.pos.getRadian(posArr[0], posArr[1])\r\n            return radian\r\n        }\r\n        let wall = this.getWall()\r\n        if (wall.coedgeID == this.id)\r\n            return wall.getRadian()\r\n        else\r\n            return wall.getRadian() + Math.PI\r\n\r\n    }\r\n\r\n    /** 获取角度 */\r\n    getRotate(): number {\r\n        let radian: number = this.getRadian()\r\n        let rotate: number = radian * 180 / Math.PI\r\n        return rotate\r\n    }\r\n\r\n    /** 获取上个有序墙 */\r\n    getPrevCowall(): JCowall {\r\n        let cowall: JCowall = this.dataService.cowalls[this.prevID]\r\n        return cowall\r\n    }\r\n\r\n    /** 获取下个有序墙 */\r\n    getNextCowall(): JCowall {\r\n        let cowall: JCowall = this.dataService.cowalls[this.nextID]\r\n        return cowall\r\n    }\r\n\r\n    /** 获取长度 */\r\n    getDistance(): number {\r\n        let posArr: DC.Pos[] = this.getPosArr()\r\n        let distance: number = this.DUService.pos.getDistance(posArr[0], posArr[1])\r\n        return distance\r\n    }\r\n\r\n    /** 获取内线坐标 */\r\n    getInLine(): DC.Pos[] {\r\n        let wall = this.getWall()\r\n        if (!wall.outLine)\r\n            return undefined\r\n        if (wall.coedgeID == this.id) {\r\n            return wall.getInLine()\r\n        }\r\n        else {\r\n            return wall.getOutLine()\r\n        }\r\n    }\r\n\r\n    /** 获取显示用的内线坐标 */\r\n    getDrawInLine(): DC.Pos[] {\r\n        let wall = this.getWall()\r\n        if (!wall.drawOutLine)\r\n            return undefined\r\n        if (wall.coedgeID == this.id) {\r\n            return wall.getDrawInLine()\r\n        }\r\n        else {\r\n            return wall.getDrawOutLine()\r\n        }\r\n    }\r\n\r\n    /** 获取内线长度*/\r\n    getInLineDistance() {\r\n        let posArr = this.getInLine()\r\n        return this.DUService.pos.getDistance(posArr[0], posArr[1])\r\n    }\r\n\r\n    /** 获取外线坐标 */\r\n    getOutLine(): DC.Pos[] {\r\n        let wall = this.getWall()\r\n        if (wall.outLine == null)\r\n            return null\r\n        if (wall.coedgeID == this.id) {\r\n            return wall.getOutLine()\r\n        }\r\n        else {\r\n            return wall.getInLine()\r\n        }\r\n    }\r\n\r\n    /** 获取显示用的外线坐标 */\r\n    getDrawOutLine(): DC.Pos[] {\r\n        let wall = this.getWall()\r\n        if (!wall.drawOutLine)\r\n            return undefined\r\n        if (wall.coedgeID == this.id) {\r\n            return wall.getDrawOutLine()\r\n        }\r\n        else {\r\n            return wall.getDrawInLine()\r\n        }\r\n    }\r\n\r\n    /** 获取外线长度 */\r\n    getOutLineDistance() {\r\n        let posArr = this.getOutLine()\r\n        return this.DUService.pos.getDistance(posArr[0], posArr[1])\r\n    }\r\n\r\n    /** 获取向量 */\r\n    getVector() {\r\n        let posArr = this.getPosArr()\r\n        let vector = { x: posArr[1].x - posArr[0].x, y: posArr[1].y - posArr[0].y }\r\n        return vector\r\n    }\r\n\r\n}\r\n\r\nexport class JCowallInitType {\r\n    id?: string;\r\n    roomID?: string;\r\n    flag?: number;\r\n    prevID?: string;\r\n    nextID?: string;\r\n    partnerID?: string;\r\n    edgeID?: string;\r\n    pointIDs?: string[];\r\n    reversed?: boolean;\r\n}","import { JDesignType, JDesign } from \"./JDesign\";\r\nimport { DesignCommon as DC } from '../class/DesignCommon'\r\nimport { JWall } from \"./JWall\";\r\nimport { JdesignDataService } from \"../../../services/jdesign-data.service\";\r\nimport { JdesignUtil2dService } from \"../../../services/jdesign-util2d.service\";\r\nimport { JRoom } from \"./JRoom\";\r\nimport { JCowall } from \"./JCowall\";\r\nimport { JDW3D } from \"../../../three/jDesign3D/JDW3D\";\r\n\r\nexport abstract class JDWAbstract extends JDesign {\r\n\r\n    /** 墙对象ID */\r\n    protected _wall: string = null;\r\n    /**  墙对象id 会联动触发 */\r\n    abstract get wallID()\r\n    abstract set wallID(obj: string)\r\n\r\n    /** 中心坐标 */\r\n    private _pos: DC.Pos\r\n    /** 中心坐标 */\r\n    get pos() { return this._pos }\r\n    set pos(obj: DC.Pos) {\r\n        this._pos = obj\r\n    }\r\n\r\n    /** 尺寸 */\r\n    private _size: DC.Size;\r\n    /** 尺寸 警告:由于数据问题,尺寸单位mm */\r\n    get size() { return this._size }\r\n    set size(obj: DC.Size) {\r\n        this._size = obj\r\n        //this.strongUpdate()\r\n    }\r\n\r\n    /** 镜像 */\r\n    private _mirror: boolean;\r\n    /** 镜像 */\r\n    get mirror() { return this._mirror }\r\n    set mirror(obj: boolean) {\r\n        this._mirror = obj\r\n    }\r\n\r\n    /** 里外 */\r\n    private _out: boolean;\r\n    /** 里外 */\r\n    get out() { return this._out }\r\n    set out(obj: boolean) {\r\n        this._out = obj\r\n    }\r\n\r\n    /** 离墙的原点距离比 */\r\n    private _distancePer: number;\r\n    /** 离墙的原点距离比 */\r\n    get distancePer() { return this._distancePer }\r\n    set distancePer(obj: number) {\r\n        this._distancePer = obj\r\n    }\r\n\r\n    /** oldwall */\r\n    private _oldWallID: string;\r\n    /** oldwall */\r\n    get oldWallID() { return this._oldWallID }\r\n    set oldWallID(obj: string) { this._oldWallID = obj }\r\n\r\n    /** 弧度 */\r\n    private _radian: number;\r\n    /** 弧度 */\r\n    get radian() { return this._radian }\r\n    set radian(obj: number) { this._radian = obj }\r\n\r\n    /** 3d模型路径 */\r\n    private _url3D: string\r\n    /** 3d模型路径 */\r\n    get url3D() { return this._url3D }\r\n    set url3D(obj: string) { this._url3D = obj }\r\n\r\n    /** 风格 */\r\n    private _style: string;\r\n    /** 风格 */\r\n    get style() { return this._style }\r\n    set style(obj) { this._style = obj }\r\n\r\n    /** 板件svg图 */\r\n    private _svgImg: string;\r\n    /** 板件图 */\r\n    get svgImg() { return this._svgImg }\r\n    set svgImg(data) { this._svgImg = data }\r\n\r\n    /** 板件类型 */\r\n    private _plankType: string;\r\n    /** 板件类型 */\r\n    get plankType() { return this._plankType }\r\n    set plankType(data) { this._plankType = data }\r\n\r\n    /** 挖洞方法 */\r\n    protected _digFunc: any = null;\r\n    /** 挖洞 */\r\n    get digFunc() { return this._digFunc }\r\n    set digFunc(obj: any) { this._digFunc = obj }\r\n\r\n    /** 离地高度 */\r\n    private _floorHeight: number;\r\n    /** 离地高度 */\r\n    get floorHeight() { return this._floorHeight }\r\n    set floorHeight(data) { this._floorHeight = data }\r\n\r\n    /** 模型路径 */\r\n    private _modelUrl: string;\r\n    /** 模型路径 */\r\n    get modelUrl() { return this._modelUrl }\r\n    set modelUrl(data) { this._modelUrl = data }\r\n\r\n    /** 是否有框 */\r\n    private _isHaveFrame: boolean\r\n    /** 是否有框 */\r\n    get isHaveFrame() { return this._isHaveFrame }\r\n    set isHaveFrame(data) { this._isHaveFrame = data }\r\n\r\n    /** 数据更新 */\r\n    dataInit(obj: JDWInitType) {\r\n        this.wallID = obj.wallID ? obj.wallID : null;\r\n        this.size = obj.size ? obj.size : null\r\n        this.distancePer = obj.distancePer ? obj.distancePer : 0.5\r\n        this.mirror = obj.mirror != undefined ? obj.mirror : false\r\n        this.out = obj.out != undefined ? obj.out : true\r\n        this.pos = obj.pos ? obj.pos : { x: 0, y: 0 }\r\n        this.radian = obj.radian ? obj.radian : 0\r\n        this.url3D = obj.url3D ? obj.url3D : null\r\n        this.style = obj.style ? obj.style : \"\"\r\n        this.svgImg = obj.svgImg ? obj.svgImg : null\r\n        this.floorHeight = obj.floorHeight ? obj.floorHeight : 0\r\n        this.plankType = obj.plankType ? obj.plankType : \"normal\"\r\n        this.modelUrl = obj.modelUrl ? obj.modelUrl : undefined\r\n        this.isHaveFrame = obj.isHaveFrame != undefined ? obj.isHaveFrame : true\r\n    }\r\n\r\n    constructor(design: JDesignType, public dataService: JdesignDataService,\r\n        public DUService: JdesignUtil2dService) {\r\n        super(design, dataService)\r\n    }\r\n\r\n    /** 获取墙对象 */\r\n    getwall(): JWall {\r\n        let wall: JWall = <JWall>this.dataService.walls[this.wallID]\r\n        return wall\r\n    }\r\n\r\n\r\n    /** 获取像素点尺寸 */\r\n    getPixSize(): DC.Size {\r\n        let newSize: DC.Size = {\r\n            width: this.dataService.cmd.getLengthTransPixel(this.size.width, 'mm'),\r\n            height: this.dataService.cmd.getLengthTransPixel(this.size.height, 'mm'),\r\n        }\r\n        return newSize\r\n    }\r\n\r\n    /** 获取原点 */\r\n    getOriginPos(centerPos = { x: 0, y: 0 }): DC.Pos {\r\n        let b = this.out ? 1 : -1\r\n        let pixSize = this.getPixSize()\r\n        let newPos = { x: centerPos.x - (pixSize.width / 2), y: centerPos.y - (pixSize.height / 2 * b) }\r\n        return newPos\r\n    }\r\n\r\n    /** 获取空间对象 */\r\n    getRoomArr(): JRoom[] {\r\n        let wall: JWall = this.getwall()\r\n        if (wall == null)\r\n            return null\r\n        let roomArr: JRoom[] = wall.getRoomArr()\r\n        return roomArr\r\n    }\r\n\r\n    /** 获取真实弧度 */\r\n    getRealRadian() {\r\n        if (this.out)\r\n            return this.radian\r\n        else\r\n            return this.radian + Math.PI\r\n    }\r\n\r\n    /** 获取墙的所有对象ID */\r\n    abstract getWallDWIDs(): string[]\r\n\r\n    /** 获取有序墙对象 */\r\n    getCowallArr(): JCowall[] {\r\n        let wall: JWall = this.getwall()\r\n        if (wall == null)\r\n            return null\r\n        let cowallArr: JCowall[] = wall.getCowallArr()\r\n        return cowallArr\r\n    }\r\n\r\n\r\n    /** 获取中心四点坐标 从左上往右开始循环*/\r\n    getRectPos(): DC.Pos[] {\r\n        if (this.out)\r\n            this.radian += Math.PI\r\n        let size = this.getPixSize()\r\n        let posArr: DC.Pos[] = this.DUService.pos.getRectPosByCenter(this.pos, size, this.radian)\r\n        return posArr\r\n    }\r\n\r\n    /** 获取弧度(带有方向) */\r\n    getRadian(): number {\r\n        if (this.out)\r\n            return this.radian + Math.PI\r\n        else\r\n            return this.radian\r\n    }\r\n\r\n    /** 获取角度 */\r\n    getRotate(): number {\r\n        let rotate: number = this.getRadian() * 180 / Math.PI\r\n        return rotate\r\n    }\r\n\r\n    /** 获取旧墙 */\r\n    getOldWall(): JWall {\r\n        let wall: JWall = <JWall>this.dataService.walls[this.oldWallID]\r\n        return wall\r\n    }\r\n\r\n    /** 挖洞 */\r\n    setDig() {\r\n        this.digFunc()\r\n    }\r\n\r\n    /** 获取距离墙的距离 */\r\n    getPosByWall() {\r\n        let wall = this.getwall()\r\n        let distance = wall.getDistance()\r\n        distance = distance * this.distancePer\r\n        let posArr = wall.getPosArr()\r\n        let radian = wall.getRadian()\r\n        let pos = this.DUService.pos.getRayPos(posArr[0], radian, distance)\r\n        return pos\r\n    }\r\n\r\n}\r\n\r\nexport class JDWInitType {\r\n    wallID?: string;\r\n    size?: DC.Size;\r\n    mirror?: boolean;\r\n    out?: boolean;\r\n    distancePer?: number;\r\n    flag?: number;\r\n    id?: string;\r\n    pos?: DC.Pos;\r\n    radian?:\r\n        number;\r\n    url3D?: string;\r\n    style?: string;\r\n    svgImg?: string;\r\n    floorHeight?: number;\r\n    plankType?: string;\r\n    modelUrl?: string;\r\n    isHaveFrame?: boolean\r\n}","import { JdesignDataService } from \"../../../services/jdesign-data.service\";\r\nimport { EventEmitter } from '@angular/core';\r\n\r\nexport abstract class JDesign {\r\n    /** ID */\r\n    private _id: string;\r\n    /** ID */\r\n    get id() { return this._id }\r\n    set id(obj) { this._id = obj }\r\n\r\n    /** 标记 */\r\n    private _flag: number;\r\n    /** 标记 */\r\n    get flag() { return this._flag }\r\n    set flag(obj: number) { this._flag = obj }\r\n\r\n    /** 计算标记 */\r\n    private _calFlag: number;\r\n    /** 计算标记 */\r\n    get calFlag() { return this._calFlag }\r\n    set calFlag(data) { this._calFlag = data }\r\n\r\n    /** 类型 */\r\n    private _type: string;\r\n    /** 类型 */\r\n    get type() { return this._type }\r\n    set type(obj: string) { this._type = obj }\r\n\r\n    /** 改变方式 */\r\n    private _mode: string\r\n    /** 改变模式 */\r\n    get mode() { return this._mode }\r\n    set mode(obj: string) {\r\n        this._mode = obj\r\n    }\r\n\r\n    /** 强制更新组 */\r\n    private _updataArr: Function[] = [];\r\n    /** 强制更新组 */\r\n    get updateArr() { return this._updataArr }\r\n    set updateArr(obj: Function[]) { this._updataArr = obj }\r\n\r\n    /** 强制更新3D组 */\r\n    private _updateArr3D: Function[] = [];\r\n    /** 强制更新3D组 */\r\n    get updateArr3D() { return this._updateArr3D }\r\n    set updateArr3D(obj: Function[]) { this._updateArr3D = obj }\r\n\r\n    /** 选中状态 */\r\n    private _choose: boolean = false;\r\n    /** 选中状态 */\r\n    get choose() { return this._choose }\r\n    set choose(obj: boolean) { this._choose = obj }\r\n\r\n    /** 选中更新方法组 */\r\n    private _chooseFuncArr: Function[] = [];\r\n    /** 选中更新方法组 */\r\n    get chooseFuncArr() { return this._chooseFuncArr }\r\n    set chooseFuncArr(obj: Function[]) { this._chooseFuncArr = obj }\r\n\r\n    /** 延迟选中更新方法组 */\r\n    private _lateChooseFuncArr: Function[] = [];\r\n    /** 延迟选中更新方法组 */\r\n    get lateChooseFuncArr() { return this._lateChooseFuncArr }\r\n    set lateChooseFuncArr(data) { this._lateChooseFuncArr = data }\r\n\r\n    /** 不选中更新方法组 */\r\n    private _noChooseFuncArr: Function[] = [];\r\n    /** 不选中更新方法组 */\r\n    get noChooseFuncArr() { return this._noChooseFuncArr }\r\n    set noChooseFuncArr(obj: Function[]) { this._noChooseFuncArr = obj }\r\n\r\n    /** 延迟选中更新方法组 */\r\n    private _lateNoChooseFuncArr: Function[] = [];\r\n    /** 延迟选中更新方法组 */\r\n    get lateNoChooseFuncArr() { return this._lateNoChooseFuncArr }\r\n    set lateNoChooseFuncArr(data) { this._lateNoChooseFuncArr = data }\r\n\r\n    private _urgentUpdate: EventEmitter<object> = new EventEmitter<object>()\r\n    /** 紧急更新 */\r\n    get urgentUpdate() { return this._urgentUpdate }\r\n    set urgentUpdate(data) { this._urgentUpdate = data }\r\n\r\n    /** dom信息 */\r\n    private _domMsg: any\r\n    /** dom信息 */\r\n    get domMsg() { return this._domMsg }\r\n    set domMsg(obj: any) {\r\n        this._domMsg = obj\r\n    }\r\n\r\n    /** 销毁 */\r\n    private _destoryFuncArr: any[] = []\r\n    get destoryFuncArr() { return this._destoryFuncArr }\r\n    set destoryFuncArr(obj: any[]) { this._destoryFuncArr = obj }\r\n\r\n    /** 3d动态方法 */\r\n    private _act3D: { start: () => void, move: () => void, end: () => void, change: () => void } = {\r\n        start: () => { }, move: () => { }, end: () => { }, change: () => { }\r\n    }\r\n    get act3D() { return this._act3D }\r\n    set act3D(data) { this._act3D = data }\r\n\r\n\r\n    constructor(obj: JDesignType, public dataService: JdesignDataService) {\r\n        this.type = obj.type\r\n        this.flag = obj.flag ? obj.flag : 0\r\n        this.id = obj.id ? obj.id : obj.type + this.dataService.cmd.floorplan\r\n            .nextID\r\n        this.mode = obj.mode ? obj.mode : null\r\n        this.dataService.cmd.floorplan.nextID++\r\n        this.calFlag = obj.calFlag ? obj.calFlag : 0\r\n    }\r\n\r\n    /** 强制更新 */\r\n    strongUpdate() {\r\n        let func = null\r\n        for (func of this.updateArr) {\r\n            func(this)\r\n        }\r\n    }\r\n\r\n    /** 强制更新3D */\r\n    strongUpdate3D() {\r\n        let func = null\r\n        for (func of this.updateArr3D) {\r\n            func(this)\r\n        }\r\n    }\r\n\r\n    /** 选中更新 */\r\n    chooseUpdate() {\r\n        let func = null\r\n        if (this.choose) {\r\n            for (func of this.chooseFuncArr) {\r\n                func(this)\r\n            }\r\n            for (func of this.lateChooseFuncArr) {\r\n                func(this)\r\n            }\r\n        }\r\n        else {\r\n            for (func of this.noChooseFuncArr) {\r\n                func(this)\r\n            }\r\n            for (func of this.lateNoChooseFuncArr) {\r\n                func(this)\r\n            }\r\n        }\r\n    }\r\n\r\n    /** 销毁触发 */\r\n    destory() {\r\n        let func = null\r\n        for (func of this.destoryFuncArr) {\r\n            func(this)\r\n        }\r\n    }\r\n\r\n    /** 3Dx销毁 */\r\n    destory3D() {\r\n\r\n    }\r\n}\r\n\r\nexport class JDesignType {\r\n    type: string;\r\n    flag?: number;\r\n    id?: string;\r\n    mode?: string;\r\n    calFlag?: number;\r\n}","import { JDWAbstract, JDWInitType } from \"./JDWAbstract\";\r\nimport { JWall } from \"./JWall\";\r\nimport { JdesignDataService } from \"../../../services/jdesign-data.service\";\r\nimport { JdesignUtil2dService } from \"../../../services/jdesign-util2d.service\";\r\nimport { DesignCommon as DC } from '../class/DesignCommon'\r\nimport { JDW3D } from \"../../../three/jDesign3D/JDW3D\";\r\n\r\n\r\nexport class JDoor extends JDW3D {\r\n\r\n    /**  墙对象id 会联动触发  */\r\n    get wallID() { return this._wall }\r\n    set wallID(obj: string) {\r\n        if (this.wallID != null) {\r\n            if (this.oldWallID != this.wallID && this.wallID != obj) {\r\n                let wall: JWall = this.getwall()\r\n                this.oldWallID = wall ? this.wallID : undefined\r\n            }\r\n            let wall: JWall = this.getwall()\r\n            if (wall != undefined) {\r\n                for (let i = 0; i < wall.doorIDs.length; i++) {\r\n                    if (wall.doorIDs[i] == this.id) {\r\n                        wall.doorIDs.splice(i, 1)\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        this._wall = obj\r\n        if (obj != null) {\r\n            let wall: JWall = this.getwall()\r\n            let same = false\r\n            for (let i = 0; i < wall.doorIDs.length; i++) {\r\n                if (wall.doorIDs[i] == this.id) {\r\n                    same = true\r\n                    break;\r\n                }\r\n            }\r\n            if (!same) {\r\n                wall.doorIDs.push(this.id)\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    constructor(\r\n        obj: JDoorInitType,\r\n        public dataService: JdesignDataService,\r\n        public DUService: JdesignUtil2dService) {\r\n        super({ type: 'door', id: obj.id }, dataService, DUService)\r\n        this.dataInit(obj)\r\n        this.dataService.doors[this.id] = this\r\n    }\r\n\r\n    getWallDWIDs() {\r\n        let wall = this.getwall()\r\n        if (wall != undefined)\r\n            return wall.doorIDs\r\n        return undefined\r\n    }\r\n\r\n\r\n}\r\n\r\nexport class JDoorInitType extends JDWInitType {\r\n\r\n}\r\n","import { JDesign } from \"./JDesign\";\r\nimport { JdesignDataService } from \"../../../services/jdesign-data.service\";\r\nimport { DesignCommon as DC } from '../class/DesignCommon'\r\nimport { JRoom } from \"./JRoom\";\r\nimport { JdesignUtil2dService } from \"../../../services/jdesign-util2d.service\";\r\n\r\nexport class JFloor extends JDesign {\r\n\r\n    /** 空间id */\r\n    private _roomID: string\r\n    /** 空间id */\r\n    get roomID() { return this._roomID }\r\n    set roomID(data) { this._roomID = data }\r\n\r\n    /** 弧度 */\r\n    private _radian: number\r\n    /** 弧度 */\r\n    get radian() { return this._radian }\r\n    set radian(data) { this._radian = data }\r\n\r\n    /** 尺寸 */\r\n    private _size: DC.Size\r\n    /** 尺寸 */\r\n    get size() { return this._size }\r\n    set size(data) { this._size = data }\r\n\r\n    /** 图片路径 */\r\n    private _imgUrl: string\r\n    /** 图片路径 */\r\n    get imgUrl() { return this._imgUrl }\r\n    set imgUrl(data) { this._imgUrl = data }\r\n\r\n    constructor(\r\n        obj: JFloorInitType,\r\n        public dataService: JdesignDataService,\r\n        public DUService: JdesignUtil2dService\r\n    ) {\r\n        super({ id: obj.id, type: 'floor' }, dataService)\r\n        this.roomID = obj.roomID\r\n        this.radian = obj.radian ? obj.radian : 0\r\n        this.size = obj.size ? obj.size : null\r\n        this.imgUrl = obj.imgUrl ? obj.imgUrl : null\r\n        this.dataService.floors[this.id] = this\r\n    }\r\n\r\n    /** 获取空间 */\r\n    getRoom() {\r\n        let room: JRoom = this.dataService.rooms[this.roomID]\r\n        return room\r\n    }\r\n\r\n    /** 获取轮廓 */\r\n    getInLine() {\r\n        let room = this.getRoom()\r\n        return room.getInLine()\r\n    }\r\n}\r\n\r\nexport class JFloorInitType {\r\n    roomID: string;\r\n    radian?: number;\r\n    size?: DC.Size;\r\n    imgUrl?: string;\r\n    id?: string;\r\n}","import { JDesign } from './JDesign'\r\nimport { JdesignDataService } from '../../../services/jdesign-data.service';\r\nimport { JCowall } from './JCowall';\r\nimport { DesignCommon as DC } from '../class/DesignCommon'\r\n\r\n/** 操作对象 */\r\nexport class JFloorplan extends JDesign {\r\n\r\n    /** 子对象roomID */\r\n    private _roomsID: string[];\r\n    /** 子对象roomID */\r\n    get roomsID() { return this._roomsID }\r\n    set roomsID(obj: string[]) { this._roomsID = obj }\r\n\r\n    /** 没有room对象的有序墙 */\r\n    private _cowallIDs: string[];\r\n    /** 没有room对象的有序墙 */\r\n    get cowallIDs() { return this._cowallIDs }\r\n    set cowallIDs(obj: string[]) {\r\n        this._cowallIDs = obj\r\n    }\r\n\r\n    /** 背景图 */\r\n    private _backImg: BackImg\r\n    /** 背景图 */\r\n    get backImg() {\r\n        return this._backImg\r\n    }\r\n    set backImg(data) {\r\n        this._backImg = data\r\n    }\r\n\r\n    constructor(obj: JFloorplanInitType, public dataService: JdesignDataService) {\r\n        super({ type: \"floorplan\", mode: obj.mode }, dataService)\r\n        this.roomsID = obj.roomsID != undefined ? obj.roomsID : []\r\n        this.cowallIDs = obj.cowallIDs != undefined ? obj.cowallIDs : []\r\n        this.backImg = obj.backImg != undefined ? obj.backImg : null\r\n    }\r\n\r\n    /** 获取cowall */\r\n    getCowallArr() {\r\n        let cowallArr: JCowall[] = []\r\n        for (let i = 0; i < this.cowallIDs.length; i++) {\r\n            let cowall = this.dataService.cowalls[this.cowallIDs[i]]\r\n            cowallArr.push(cowall)\r\n        }\r\n        return cowallArr\r\n    }\r\n\r\n    /* 设置居中 */\r\n    setCenter() {\r\n        // console.log(1111)\r\n        let viewSIze = this.getBackPoint(this.dataService.points)\r\n        if (viewSIze.width != 0 && viewSIze.height != 0) {\r\n            let zoom = this.getBackZoom(viewSIze, {\r\n                width: window.innerWidth - 500,\r\n                height: window.innerHeight - 300\r\n            })\r\n            this.dataService.cmd.floorplan.zoom = zoom\r\n            let left = this.dataService.cache.floorplan.centerData.left - (viewSIze.center.x - Math.abs(this.dataService.cache.floorplan.centerData.left)) * this.dataService.cmd.floorplan.zoom\r\n            let top = this.dataService.cache.floorplan.centerData.top - (viewSIze.center.y - Math.abs(this.dataService.cache.floorplan.centerData.top)) * this.dataService.cmd.floorplan.zoom\r\n            this.dataService.cmd.floorplan.left = left\r\n            this.dataService.cmd.floorplan.top = top\r\n        }\r\n    }\r\n\r\n\r\n    private getBackZoom(viewSize: DC.Size, rectSize: DC.Size) {\r\n        if (viewSize.width / viewSize.height > rectSize.width / rectSize.height) {\r\n            return rectSize.width / viewSize.width\r\n        }\r\n        else {\r\n            return rectSize.height / viewSize.height\r\n        }\r\n    }\r\n    private getBackPoint(obj) {\r\n        let maxX = 0;\r\n        let maxY = 0\r\n        for (let i in obj) {\r\n            if (obj[i].pos.x > maxX) {\r\n                maxX = obj[i].pos.x\r\n            }\r\n            if (obj[i].pos.y > maxY) {\r\n                maxY = obj[i].pos.y\r\n            }\r\n        }\r\n        let minX = maxX;\r\n        let minY = maxY\r\n        for (let i in obj) {\r\n            if (obj[i].pos.x < minX) {\r\n                minX = obj[i].pos.x\r\n            }\r\n            if (obj[i].pos.y < minY) {\r\n                minY = obj[i].pos.y\r\n            }\r\n        }\r\n        return {\r\n            width: maxX - minX,\r\n            height: maxY - minY,\r\n            center: {\r\n                x: (minX + maxX) / 2,\r\n                y: (minY + maxY) / 2\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class JFloorplanInitType {\r\n    id?: string;\r\n    roomsID?: string[];\r\n    flag?: number;\r\n    cowallIDs?: string[];\r\n    backImg?: BackImg;\r\n    mode?: string;\r\n\r\n}\r\nclass BackImg {\r\n    url: string;\r\n    top: number;\r\n    left: number;\r\n    width: number;\r\n    height: number;\r\n}","import { JDesign } from \"./JDesign\";\r\nimport { DesignCommon as DC } from '../class/DesignCommon'\r\nimport { JWall } from \"./JWall\";\r\nimport { JdesignDataService } from \"../../../services/jdesign-data.service\";\r\nimport { JdesignUtil2dService } from \"../../../services/jdesign-util2d.service\";\r\nimport { JGeometryInit } from \"./JGeometry\";\r\nimport { JGeometry3D } from \"../../../three/jDesign3D/JGeometry3D\";\r\n\r\n\r\nexport class JFurniture extends JGeometry3D {\r\n    constructor(obj: JFurnitureInitType, public dataService: JdesignDataService, public DUService: JdesignUtil2dService) {\r\n        super(obj, dataService, DUService, 'furniture')\r\n        this.dataService.furnitures[this.id] = this\r\n    }\r\n\r\n}\r\n\r\nexport class JFurnitureInitType extends JGeometryInit {\r\n}","import { JDesign } from \"./JDesign\";\r\nimport { DesignCommon as DC } from '../class/DesignCommon'\r\nimport { JWall } from \"./JWall\";\r\nimport { JdesignDataService } from \"../../../services/jdesign-data.service\";\r\nimport { JdesignUtil2dService } from \"../../../services/jdesign-util2d.service\";\r\n\r\n\r\nexport abstract class JGeometry extends JDesign {\r\n    /** 2d图片路径 */\r\n    private _url2D: string\r\n    /** 2d图片路径 */\r\n    get url2D() { return this._url2D }\r\n    set url2D(obj: string) { this._url2D = obj }\r\n\r\n    /** 3d模型路径 */\r\n    private _url3D: string\r\n    /** 3d模型路径 */\r\n    get url3D() { return this._url3D }\r\n    set url3D(obj: string) { this._url3D = obj }\r\n\r\n    /** hg模型路径 */\r\n    private _hgUrl: string;\r\n    /** hg模型路径 */\r\n    get hgUrl() { return this._hgUrl }\r\n    set hgUrl(obj: string) { this._hgUrl = obj }\r\n\r\n    /** 离地高度 */\r\n    private _floorHeight: number\r\n    /** 离地高度 */\r\n    get floorHeight() { return this._floorHeight }\r\n    set floorHeight(obj: number) { this._floorHeight = obj }\r\n\r\n    /** 坐标 */\r\n    private _pos: DC.Pos\r\n    /** 坐标 */\r\n    get pos() { return this._pos }\r\n    set pos(obj: DC.Pos) { this._pos = obj }\r\n\r\n    /** 弧度 */\r\n    private _radian: number\r\n    /** 弧度 */\r\n    get radian() { return this._radian }\r\n    set radian(obj: number) { this._radian = obj }\r\n\r\n    /** 尺寸 警告:单位为mm */\r\n    private _size: DC.Size\r\n    get size() { return this._size }\r\n    set size(obj: DC.Size) { this._size = obj }\r\n\r\n    /** 镜像 */\r\n    private _mirror: boolean\r\n    /** 镜像 */\r\n    get mirror() { return this._mirror }\r\n    set mirror(obj: boolean) { this._mirror = obj }\r\n\r\n    /** 墙索引 */\r\n    private _wallID: string\r\n    /** 墙索引 */\r\n    get wallID() { return this._wallID }\r\n    set wallID(data) { this._wallID = data }\r\n\r\n    /** 墙内外 */\r\n    private _wallOut: boolean\r\n    /** 墙内外 */\r\n    get wallOut() { return this._wallOut }\r\n    set wallOut(data) { this._wallOut = data }\r\n\r\n    /** 距离cowall起点平行距离百分比 */\r\n    private _distancePer: number\r\n    get distancePer() { return this._distancePer }\r\n    set distancePer(obj: number) { this._distancePer = obj }\r\n\r\n    constructor(obj: JGeometryInit, public dataService: JdesignDataService, public DUService: JdesignUtil2dService, private geometryType: string) {\r\n        super({ type: geometryType, id: obj.id, flag: obj.flag }, dataService)\r\n        this.mirror = obj.mirror ? obj.mirror : false\r\n        this.size = obj.size ? obj.size : null\r\n        this.pos = obj.pos ? obj.pos : { x: 0, y: 0 }\r\n        this.wallID = obj.wallID ? obj.wallID : null\r\n        this.distancePer = obj.distancePer ? obj.distancePer : 0\r\n        this.url2D = obj.url2D ? obj.url2D : null\r\n        this.url3D = obj.url3D ? obj.url3D : null\r\n        this.radian = obj.radian ? obj.radian : 0\r\n        this.floorHeight = obj.floorHeight\r\n        this.hgUrl = obj.hgUrl ? obj.hgUrl : ''\r\n        this.mode = 'move'\r\n        this.wallOut = obj.wallOut ? obj.wallOut : false\r\n    }\r\n\r\n    /** 获取角度 */\r\n    getRotate(): number {\r\n        let rotate: number = this.radian * 180 / Math.PI\r\n        return rotate\r\n    }\r\n\r\n    /** 获取wall对象 */\r\n    getwall(): JWall {\r\n        if (this.wallID == null)\r\n            return null\r\n        else {\r\n            let wall: JWall = this.dataService.walls[this.wallID]\r\n            return wall\r\n        }\r\n    }\r\n\r\n    /** 获取像素size */\r\n    getPixSize(): DC.Size {\r\n        let newSize: DC.Size = {\r\n            width: this.dataService.cmd.getLengthTransPixel(this.size.width, 'mm'),\r\n            height: this.dataService.cmd.getLengthTransPixel(this.size.height, 'mm')\r\n        }\r\n        return newSize\r\n    }\r\n\r\n    /** 获取像素半径长度 */\r\n    getPixR(): number {\r\n        let size = this.getPixSize()\r\n        let distance = Math.sqrt(Math.pow(size.width / 2, 2) + Math.pow(size.height / 2, 2))\r\n        return distance\r\n    }\r\n}\r\n\r\nexport class JGeometryInit {\r\n    mirror?: boolean;\r\n    wallID?: string;\r\n    distancePer?: number;\r\n    size?: DC.Size;\r\n    radian?: number;\r\n    pos?: DC.Pos;\r\n    url2D?: string;\r\n    url3D?: string;\r\n    flag?: number;\r\n    floorHeight?: number;\r\n    wallOut?: boolean;\r\n    hgUrl?: string;\r\n    id?: string\r\n}","export class JIcon {\r\n    private _iconData: any\r\n    get iconData() { return this._iconData }\r\n    set iconData(data) { this._iconData = data }\r\n\r\n    private _mainUrl: string\r\n    get mainUrl() { return this._mainUrl }\r\n    set mainUrl(data) { this._mainUrl = data }\r\n\r\n    private _useNames: boolean[] = []\r\n    get useNames() { return this._useNames }\r\n    set useNames(data) { this._useNames = data }\r\n\r\n    private _noNames: boolean[] = []\r\n    get noNames() { return this._noNames }\r\n    set noNames(data) { this._noNames = data }\r\n\r\n\r\n    constructor(mainUrl: string, data: any) {\r\n        this.mainUrl = mainUrl\r\n        this.iconData = data\r\n    }\r\n\r\n    /** 获取图标 */\r\n    getIco(name: string) {\r\n        this.useNames[name] = true\r\n        let url = this.iconData[name]\r\n        if (url == undefined) {\r\n            this.noNames[name] = true\r\n            url = this.iconData['default']\r\n        }\r\n\r\n        if (url[0] == '#')\r\n            return url\r\n        else\r\n            url = this.mainUrl + '/' + url\r\n        return url\r\n    }\r\n\r\n    getUseNames() {\r\n        let arr: string[] = []\r\n        for (let key in this.useNames) {\r\n            arr.push(key)\r\n        }\r\n        return arr\r\n    }\r\n\r\n    getNoNames() {\r\n        let arr: string[] = []\r\n        for (let key in this.noNames) {\r\n            arr.push(key)\r\n        }\r\n        return arr\r\n    }\r\n}","\r\nexport class JJSON {\r\n\r\n    private _wallPaper = undefined\r\n    /** 墙贴图 */\r\n    get wallPaper() { return this._wallPaper }\r\n    set wallPaper(data) { this._wallPaper = data }\r\n\r\n    private _footLine = undefined\r\n    /** 地脚线 */\r\n    get footLine() { return this._footLine }\r\n    set footLine(data) { this._footLine = data }\r\n\r\n    private _WinFrame = undefined\r\n    /** 窗框 */\r\n    get winFrame() { return this._WinFrame }\r\n    set winFrame(data) {\r\n        this._WinFrame = data\r\n    }\r\n\r\n    private _doorFrame = undefined\r\n    /** 门框 */\r\n    get doorFrame() { return this._doorFrame }\r\n    set doorFrame(data) {\r\n        this._doorFrame = data\r\n    }\r\n\r\n    private _plasterCornice = undefined\r\n    /** 石膏线 */\r\n    get plasterCornice() { return this._plasterCornice }\r\n    set plasterCornice(data) {\r\n        this._plasterCornice = data\r\n    }\r\n\r\n    private _doorFramePics = undefined\r\n    /** 门框图片 */\r\n    get doorFramePics() { return this._doorFramePics }\r\n    set doorFramePics(data) { this._doorFramePics = data }\r\n\r\n    private _plasterLinePics = undefined\r\n    /** 石灰线图片 */\r\n    get plasterLinePics() { return this._plasterLinePics }\r\n    set plasterLinePics(data) { this._plasterLinePics = data }\r\n\r\n    private _footLinePics = undefined\r\n    /** 地脚线 */\r\n    get footLinePics() { return this._footLinePics }\r\n    set footLinePics(data) { this._footLinePics = data }\r\n\r\n    private _floorPics = undefined\r\n    /** 地板图 */\r\n    get floorPics() { return this._floorPics }\r\n    set floorPics(data) { this._floorPics = data }\r\n\r\n    private _roofPics = undefined\r\n    /** 天花贴图 */\r\n    get roofPics() { return this._roofPics }\r\n    set roofPics(data) { this._roofPics = data }\r\n\r\n    private _marblePics = undefined\r\n    /** 飘窗贴图 */\r\n    get marblePics() { return this._marblePics }\r\n    set marblePics(data) { this._marblePics = data }\r\n\r\n    private _roomType = undefined\r\n    /** 空间类型 */\r\n    get roomType() { return this._roomType }\r\n    set roomType(data) { this._roomType = data }\r\n}\r\n\r\n","import { JDesign } from \"./JDesign\";\r\nimport { JWall } from \"./JWall\";\r\nimport { JPoint } from \"./JPoint\";\r\nimport { JdesignDataService } from \"../../../services/jdesign-data.service\";\r\nimport { JdesignUtil2dService } from \"../../../services/jdesign-util2d.service\";\r\nimport { DesignCommon as DC } from '../class/DesignCommon'\r\n\r\nexport abstract class JLUWin extends JDesign {\r\n\r\n    constructor(\r\n        type: string,\r\n        obj: JLUWinTypeInit,\r\n        public dataService: JdesignDataService,\r\n        public DUService: JdesignUtil2dService,\r\n    ) {\r\n        super({ type: type, id: obj.id, flag: obj.flag }, dataService)\r\n        this.leftDistance = obj.leftDistance ? obj.leftDistance : 0\r\n        this.rightDistance = obj.rightDistance ? obj.rightDistance : 0\r\n        this.leftThickness = obj.leftThickness ? obj.leftThickness : 0\r\n        this.rightThickness = obj.rightThickness ? obj.rightThickness : 0\r\n        this.outLeftDistance = obj.outLeftDistance ? obj.outLeftDistance : 0\r\n        this.outRightDistance = obj.outRightDistance ? obj.outRightDistance : 0\r\n        this.j2d = obj.j2d ? obj.j2d : undefined\r\n        this.floorHeight = obj.floorHeight ? obj.floorHeight : 0\r\n        this.height3D = obj.height3D ? obj.height3D : 0\r\n        this.radian = obj.radian ? obj.radian : 0\r\n        this.pos = obj.pos ? obj.pos : { x: 0, y: 0 }\r\n        this.isTrans = obj.isTrans ? obj.isTrans : false\r\n    }\r\n\r\n    private _radian: number\r\n    get radian() { return this._radian }\r\n    set radian(data) { this._radian = data }\r\n\r\n    private _pos: DC.Pos\r\n    /** 坐标 */\r\n    get pos() { return this._pos }\r\n    set pos(data) { this._pos = data }\r\n\r\n    private _j2d: any\r\n    /* j2d数据 */\r\n    get j2d() { return this._j2d }\r\n    set j2d(data) { this._j2d = data }\r\n\r\n    private _height3D: number\r\n    /* 3d高度 */\r\n    get height3D() { return this._height3D }\r\n    set height3D(data) { this._height3D = data }\r\n\r\n    private _floorHeight: number\r\n    /* 离地高度 */\r\n    get floorHeight() { return this._floorHeight }\r\n    set floorHeight(data) { this._floorHeight = data }\r\n\r\n    private _leftDistance: number\r\n    /** 左边长度 */\r\n    get leftDistance() { return this._leftDistance }\r\n    set leftDistance(data) { this._leftDistance = data }\r\n\r\n    private _outLeftDistance: number\r\n    /* 左边外长度 */\r\n    get outLeftDistance() { return this._outLeftDistance }\r\n    set outLeftDistance(data) { this._outLeftDistance = data }\r\n\r\n    private _leftThickness: number\r\n    /** 左边宽度 */\r\n    get leftThickness() { return this._leftThickness }\r\n    set leftThickness(data) { this._leftThickness = data }\r\n\r\n    private _rightDistance: number\r\n    /** 右边长度 */\r\n    get rightDistance() { return this._rightDistance }\r\n    set rightDistance(data) { this._rightDistance = data }\r\n\r\n    private _outRightDistance: number\r\n    /* 右边外长度 */\r\n    get outRightDistance() { return this._outRightDistance }\r\n    set outRightDistance(data) { this._outRightDistance = data }\r\n\r\n    private _rightThickness: number\r\n    /** 获取右边宽度 */\r\n    get rightThickness() { return this._rightThickness }\r\n    set rightThickness(data) { this._rightThickness = data }\r\n\r\n    private _isTrans: boolean\r\n    get isTrans() { return this._isTrans }\r\n    set isTrans(obj) { this._isTrans }\r\n\r\n\r\n    /** 获取弧度 */\r\n    protected getRadian(wall: JWall, point: JPoint) {\r\n        let pointArr = wall.getPointArr()\r\n        if (point.id == pointArr[0].id)\r\n            return wall.getRadian()\r\n        else return wall.getRadian() + Math.PI\r\n    }\r\n\r\n    abstract isAbsorb(): boolean;\r\n\r\n\r\n}\r\n\r\nexport class JLUWinTypeInit {\r\n    leftDistance?: number;\r\n    rightDistance?: number;\r\n    id?: string;\r\n    flag?: number;\r\n    leftThickness?: number;\r\n    rightThickness?: number;\r\n    outLeftDistance?: number;\r\n    outRightDistance?: number;\r\n    j2d?: any\r\n    height3D?: number;\r\n    floorHeight?: number;\r\n    radian?: number;\r\n    pos?: DC.Pos;\r\n    isTrans?: boolean;\r\n}","import { JLUWin3D } from \"../../../three/jDesign3D/JLUWin3D\";\r\nimport { JPoint } from \"./JPoint\";\r\nimport { JWall } from \"./JWall\";\r\nimport { DesignCommon as DC } from '../class/DesignCommon'\r\nimport { JLUWinTypeInit } from \"./JLUWin\";\r\nimport { JdesignDataService } from \"../../../services/jdesign-data.service\";\r\nimport { JdesignUtil2dService } from \"../../../services/jdesign-util2d.service\";\r\n\r\nexport class JLWin extends JLUWin3D {\r\n\r\n\r\n    constructor(\r\n        obj: JLWinTypeInit,\r\n        public dataService: JdesignDataService,\r\n        public DUService: JdesignUtil2dService,\r\n    ) {\r\n        super(\"LWin\", obj, dataService, DUService)\r\n        this.pointID = obj.pointID ? obj.pointID : undefined\r\n        this.dataService.LWins[this.id] = this\r\n    }\r\n\r\n    private _pointID: string\r\n    /** 点ID */\r\n    get pointID() { return this._pointID }\r\n    set pointID(data) { this._pointID = data }\r\n\r\n\r\n    getPoint(): JPoint {\r\n        if (!this.pointID)\r\n            return undefined\r\n        return this.dataService.points[this.pointID]\r\n    }\r\n\r\n    get leftStartPoint() {\r\n        return this.getPoint()\r\n    }\r\n\r\n    get rightStartPoint() {\r\n        return this.getPoint()\r\n    }\r\n\r\n    get leftStartPos() {\r\n        return this.pos\r\n    }\r\n\r\n    get rightStartPos() {\r\n        return this.pos\r\n    }\r\n\r\n    isAbsorb() {\r\n        let point = this.getPoint()\r\n        return point ? true : false\r\n    }\r\n\r\n}\r\n\r\nexport class JLWinTypeInit extends JLUWinTypeInit {\r\n    pointID?: string;\r\n}","import { JDesign } from \"./JDesign\";\r\nimport { JdesignDataService } from \"../../../services/jdesign-data.service\";\r\nimport { JdesignUtil2dService } from \"../../../services/jdesign-util2d.service\";\r\nimport { DesignCommon as DC } from '../class/DesignCommon'\r\n\r\nexport class JParamsModel extends JDesign {\r\n    private _j2d: any\r\n    /* j2d数据 */\r\n    get j2d() { return this._j2d }\r\n    set j2d(data) { this._j2d = data }\r\n\r\n    private _originJ2d: any\r\n    /* 原始j2d */\r\n    get originJ2d() { return this._originJ2d }\r\n    set originJ2d(data) { this._originJ2d = data }\r\n\r\n    /* 吸附数据 */\r\n    private _absorbData: AbsorbDetail\r\n    get absorbData() { return this._absorbData }\r\n    set absorbData(data) { this._absorbData = data }\r\n\r\n    private _pos: DC.Pos;\r\n    /* 坐标 */\r\n    get pos() { return this._pos }\r\n    set pos(data) { this._pos = data }\r\n\r\n    private _radian: number;\r\n    /* 弧度 */\r\n    get radian() { return this._radian }\r\n    set radian(data) { this._radian = data }\r\n\r\n    private _movePointData: movePointDetail\r\n    /* 交互数据 */\r\n    get movePointData() { return this._movePointData }\r\n    set movePointData(data) { this._movePointData = data }\r\n\r\n    private _inputData: inputDetail[]\r\n    /* 输入数据 */\r\n    get inputData() { return this._inputData }\r\n    set inputData(data) { this._inputData = data }\r\n\r\n    constructor(\r\n        obj: JParamsModelInitType,\r\n        public dataService: JdesignDataService,\r\n        public DUService: JdesignUtil2dService,\r\n    ) {\r\n        super({ type: 'paramsModel', id: obj.id }, dataService);\r\n        this.j2d = obj.j2d ? obj.j2d : undefined\r\n        this.originJ2d = obj.originJ2d ? obj.originJ2d : undefined\r\n        this.absorbData = obj.absorbData ? obj.absorbData : undefined\r\n        this.pos = obj.pos ? obj.pos : { x: 0, y: 0 }\r\n        this.radian = obj.radian ? obj.radian : 0\r\n        this.inputData = obj.inputData ? obj.inputData : undefined\r\n        this.movePointData = obj.movePointData ? obj.movePointData : undefined\r\n        this.dataService.paramsModels[this.id] = this\r\n    }\r\n\r\n    getAbsorbObj() {\r\n        if (!this.absorbData || !this.absorbData.objType || !this.absorbData.objID)\r\n            return undefined\r\n        switch (this.absorbData.objType) {\r\n            case \"wall\":\r\n                return this.dataService.walls[this.absorbData.objID]\r\n            case \"point\":\r\n                return this.dataService.points[this.absorbData.objID]\r\n        }\r\n    }\r\n}\r\n\r\nclass AbsorbDetail {\r\n    type: string;\r\n    objType: string;\r\n    objID?: string;\r\n    minDistance?: number;\r\n    minRadian?: number;\r\n    calParams?: any;\r\n    pos?: DC.Pos;\r\n    radian?: number;\r\n    realPosX?: string;\r\n    realPosY?: string;\r\n    realRadian?: string;\r\n}\r\n\r\nexport class movePointDetail {\r\n    type: string;\r\n    radian?: number;\r\n    tag?: string;\r\n    add?: number;\r\n}\r\n\r\nexport class inputDetail {\r\n    inputName: string;\r\n    j2dName: string;\r\n}\r\n\r\nexport class JParamsModelInitType {\r\n    j2d?: any;\r\n    originJ2d?: any;\r\n    id?: string;\r\n    absorbData?: AbsorbDetail;\r\n    pos?: DC.Pos\r\n    radian?: number;\r\n    movePointData?: movePointDetail;\r\n    inputData?: inputDetail[]\r\n}","import { JDesign } from './JDesign'\r\nimport { DesignCommon as DC } from '../class/DesignCommon'\r\nimport { JCowall } from './JCowall';\r\nimport { JWall } from './JWall';\r\nimport { JRoom } from './JRoom';\r\nimport { JdesignDataService } from '../../../services/jdesign-data.service';\r\nimport { JdesignUtil2dService } from '../../../services/jdesign-util2d.service';\r\n\r\n/** 点类 */\r\nexport class JPoint extends JDesign {\r\n\r\n    /** 父对象cowallID*/\r\n    private _cowallIDs: string[];\r\n    /** 父对象cowallID*/\r\n    get cowallIDs() {\r\n        return this._cowallIDs\r\n    }\r\n    set cowallIDs(obj: string[]) {\r\n        this._cowallIDs = obj\r\n        //this.strongUpdate()\r\n    }\r\n\r\n    private _cornWinID: string\r\n    /** 转角飘窗IDs */\r\n    get cornWinID() { return this._cornWinID }\r\n    set cornWinID(data) { this._cornWinID = data }\r\n\r\n\r\n    /** 坐标 */\r\n    private _pos: DC.Pos;\r\n    /** 坐标 */\r\n    get pos() { return this._pos }\r\n    set pos(obj: DC.Pos) {\r\n        this._pos = obj\r\n    }\r\n\r\n    constructor(\r\n        obj: JPointInitType,\r\n        public dataService: JdesignDataService,\r\n        public DUService: JdesignUtil2dService\r\n    ) {\r\n        super({ type: 'point', id: obj.id }, dataService)\r\n        this.pos = obj.pos != undefined ? obj.pos : null\r\n        this.cowallIDs = obj.cowallIDs != undefined ? obj.cowallIDs : []\r\n        this.cornWinID = obj.cornWinID ? obj.cornWinID : null\r\n        this.dataService.points[this.id] = this\r\n    }\r\n\r\n    /** 获取射线cowall */\r\n    getRayCowallArr() {\r\n        let cowallArr = this.getCowallArr()\r\n        for (let i = cowallArr.length - 1; i >= 0; i--) {\r\n            if (cowallArr[i].getPointStart().id != this.id) {\r\n                cowallArr.splice(i, 1)\r\n            }\r\n        }\r\n        return cowallArr\r\n    }\r\n\r\n    /** 获取cowall */\r\n    getCowallArr() {\r\n        let cowallArr: JCowall[] = []\r\n        if (this.cowallIDs == undefined || this.cowallIDs == null)\r\n            return []\r\n        for (let i = 0; i < this.cowallIDs.length; i++) {\r\n            let obj: JCowall = this.dataService.cowalls[this.cowallIDs[i]]\r\n            cowallArr.push(obj)\r\n        }\r\n        return cowallArr\r\n    }\r\n\r\n    /** 获取转角飘窗对象 */\r\n    getCornWin() {\r\n        if (this.cornWinID == null)\r\n            return null\r\n        else\r\n            return this.dataService.cornerWins[this.cornWinID]\r\n    }\r\n\r\n    /** 获取wall */\r\n    getWallArr() {\r\n        let cowallArr: JCowall[] = this.getCowallArr()\r\n        let wallArr: JWall[] = []\r\n        let wallIDArr: string[] = []\r\n        let wall: JWall = null\r\n        for (let i = 0; i < cowallArr.length; i++) {\r\n            wallIDArr.push(cowallArr[i].edgeID)\r\n        }\r\n        /** 去数组重复 */\r\n        wallIDArr = this.DUService.cal.unique(wallIDArr)\r\n        for (let i = 0; i < wallIDArr.length; i++) {\r\n            wall = this.dataService.walls[wallIDArr[i]]\r\n            wallArr.push(wall)\r\n        }\r\n\r\n        return wallArr\r\n    }\r\n\r\n    /** 获取空间ID */\r\n    getRoomsID() {\r\n        let cowallArr: JCowall[] = this.getCowallArr()\r\n        let roomsID: string[] = []\r\n        for (let i = 0; i < cowallArr.length; i++) {\r\n            if (cowallArr[i].roomID != null || cowallArr[i].roomID != undefined)\r\n                roomsID.push(cowallArr[i].roomID)\r\n        }\r\n        roomsID = this.DUService.cal.unique(roomsID)\r\n        return roomsID\r\n    }\r\n\r\n    /** 获取空间 */\r\n    getRoomArr() {\r\n        let roomsID = this.getRoomsID()\r\n        let roomArr: JRoom[] = []\r\n        for (let i = 0; i < roomsID.length; i++) {\r\n            roomArr.push(this.dataService.rooms[roomsID[i]])\r\n        }\r\n\r\n        return roomArr\r\n    }\r\n\r\n    /** set移动 */\r\n    setTrans(plusPos: DC.Pos, RadianInterval?: number) {\r\n        if (RadianInterval == undefined)\r\n            this.pos = { x: this.pos.x + plusPos.x, y: this.pos.y + plusPos.y }\r\n        else {\r\n            let pos: DC.Pos = { x: this.pos.x + plusPos.x, y: this.pos.y + plusPos.y }\r\n            let pointArr: JPoint[] = this.getNearPointArr()\r\n            let point: JPoint = null\r\n            for (point of pointArr) {\r\n                let radian: number = this.DUService.pos.getRadian(pos, point.pos)\r\n                if (Math.abs(radian % (Math.PI / 2)) < RadianInterval) {\r\n                    console.log(radian)\r\n                }\r\n            }\r\n            this.pos = { x: this.pos.x + plusPos.x, y: this.pos.y + plusPos.y }\r\n        }\r\n\r\n    }\r\n\r\n    /** 获取相邻的点 */\r\n    getNearPointArr(): JPoint[] {\r\n        let wallArr: JWall[] = this.getWallArr()\r\n        let nearPointArr: JPoint[] = []\r\n        let pointArr: JPoint[] = null\r\n        for (let i = 0; i < wallArr.length; i++) {\r\n            pointArr = wallArr[i].getPointArr()\r\n            if (pointArr[0].id == this.id) {\r\n                nearPointArr.push(pointArr[1])\r\n            }\r\n            else {\r\n                nearPointArr.push(pointArr[0])\r\n            }\r\n        }\r\n        return nearPointArr\r\n    }\r\n\r\n    /** 相关更新 */\r\n    // relevantUpdate() {\r\n    //     let cowallArr = this.getCowallArr()\r\n    //     for (let cowall of cowallArr)\r\n    //         cowall.strongUpdate()\r\n\r\n    //     let wallArr = this.getWallArr()\r\n    //     for (let wall of wallArr)\r\n    //         wall.strongUpdate()\r\n\r\n    //     let roomArr = this.getRoomArr()\r\n    //     for (let room of roomArr) {\r\n    //         //console.log(room.id)\r\n    //         room.strongUpdate()\r\n    //     }\r\n\r\n    // }\r\n\r\n    /** 停止坐标更新 */\r\n    // stopPosUpdate() {\r\n    //     this._posUpdateON = false\r\n    // }\r\n\r\n    /** 启动坐标更新 */\r\n    // startPosUpdate() {\r\n    //     this._posUpdateON = true\r\n    //     // this.strongUpdate()\r\n\r\n    //     // let pointArr: JPoint[] = this.getNearPointArr()\r\n    //     // this.relevantUpdate()\r\n    //     // for (let point of pointArr)\r\n    //     //     point.relevantUpdate()\r\n    // }\r\n}\r\n\r\nexport class JPointInitType {\r\n    id?: string;\r\n    cowallIDs?: string[];\r\n    flag?: number;\r\n    pos?: DC.Pos;\r\n    cornWinID?: string;\r\n}","import { JDesign } from \"./JDesign\";\r\nimport { JdesignDataService } from \"../../../services/jdesign-data.service\";\r\nimport { JdesignUtil2dService } from \"../../../services/jdesign-util2d.service\";\r\nimport { JRoom } from \"./JRoom\";\r\n\r\nexport class JRoof extends JDesign {\r\n\r\n    /** 空间id */\r\n    private _roomID: string\r\n    /** 空间id */\r\n    get roomID() { return this._roomID }\r\n    set roomID(data) { this._roomID = data }\r\n\r\n    constructor(\r\n        obj: JRoofInitType,\r\n        public dataService: JdesignDataService,\r\n        public DUService: JdesignUtil2dService\r\n    ) {\r\n        super({ type: 'roof', id: obj.id, }, dataService)\r\n        this.roomID = obj.roomID\r\n        this.dataService.roofs[this.id] = this\r\n    }\r\n\r\n    /** 获取空间 */\r\n    getRoom() {\r\n        let room: JRoom = this.dataService.rooms[this.roomID]\r\n        return room\r\n    }\r\n\r\n    /** 获取轮廓 */\r\n    getInLine() {\r\n        let room = this.getRoom()\r\n        return room.getInLine()\r\n    }\r\n}\r\n\r\nexport class JRoofInitType {\r\n    id?: string;\r\n    roomID: string;\r\n}","import { JDesign } from \"./JDesign\";\r\nimport { JdesignDataService } from \"../../../services/jdesign-data.service\";\r\nimport { JCowall } from \"./JCowall\";\r\nimport { JWall } from \"./JWall\";\r\nimport { JPoint } from \"./JPoint\";\r\nimport { DesignCommon as DC } from \"../class/DesignCommon\"\r\nimport { JdesignUtil2dService } from \"../../../services/jdesign-util2d.service\";\r\nimport { JFloor } from \"./JFloor\";\r\nimport { JRoof } from \"./JRoof\";\r\n\r\nexport class JRoom extends JDesign {\r\n    /** 父对象 */\r\n    private _parentID: string;\r\n    /** 父对象 */\r\n    get parentID() { return this._parentID }\r\n    set parentID(obj) {\r\n        this._parentID = obj\r\n        //this.strongUpdate()\r\n    }\r\n\r\n    /** 子对象cowallID */\r\n    private _cowallIDs: string[];\r\n    /** 子对象cowallID(联动触发cowall) */\r\n    get cowallIDs() { return this._cowallIDs }\r\n    set cowallIDs(obj) {\r\n        this._cowallIDs = obj\r\n        for (let i = 0; i < obj.length; i++) {\r\n            let cowall: JCowall = this.dataService.cowalls[obj[i]]\r\n            if (cowall)\r\n                cowall.roomID = this.id\r\n        }\r\n        //this.strongUpdate()\r\n    }\r\n\r\n    /** floor对象 */\r\n    private _floorID: string;\r\n    /** floor对象 */\r\n    get floorID() { return this._floorID }\r\n    set floorID(obj: string) {\r\n        this._floorID = obj\r\n    }\r\n\r\n    /** 天花 */\r\n    private _roofID: string;\r\n    /** 天花 */\r\n    get roofID() { return this._roofID }\r\n    set roofID(data) {\r\n        this._roofID = data\r\n    }\r\n\r\n    /** 空间名 */\r\n    private _roomName: string;\r\n    /** 空间名 */\r\n    get roomName() { return this._roomName }\r\n    set roomName(data) { this._roomName = data }\r\n\r\n    /** 面积 */\r\n    private _areaCache: number;\r\n    /** 面积 */\r\n    get areaCache() { return this._areaCache }\r\n    set areaCache(data) { this._areaCache = data }\r\n\r\n    private _displayPos: DC.Pos;\r\n    /** 显示坐标 */\r\n    get displayPos() { return this._displayPos }\r\n    set displayPos(data) { this._displayPos = data }\r\n\r\n    /* 是否可以自动移动 */\r\n    private _isAutoMoveAreaPos: boolean = true\r\n    get isAutoMoveAreaPos() { return this._isAutoMoveAreaPos }\r\n    set isAutoMoveAreaPos(data) { this._isAutoMoveAreaPos = data }\r\n\r\n    constructor(obj: JRoomInitType,\r\n        public dataService: JdesignDataService,\r\n        public DUService: JdesignUtil2dService\r\n    ) {\r\n        super({ type: 'room', id: obj.id }, dataService)\r\n        this.parentID = obj.parentID != undefined ? obj.parentID : null\r\n        this.cowallIDs = obj.cowallIDs != undefined ? obj.cowallIDs : []\r\n        this.floorID = obj.floorID != undefined ? obj.floorID : null\r\n        this.roofID = obj.roofID != undefined ? obj.roofID : null\r\n        this.roomName = obj.roomName != undefined ? obj.roomName : '未命名'\r\n        this.displayPos = obj.displayPos != undefined ? obj.displayPos : undefined\r\n        this.isAutoMoveAreaPos = obj.isAutoMoveAreaPos != undefined ? obj.isAutoMoveAreaPos : true\r\n        this.dataService.rooms[this.id] = this\r\n        this.dataService.floorplan.roomsID.push(this.id)\r\n        // if (obj.floorID != undefined)\r\n        //     this.floorID = obj.floorID\r\n        //this.floor = new JFloor()\r\n    }\r\n\r\n    /** 获取cowall集合带顺序 */\r\n    getCowallArrBySort() {\r\n        if (this.cowallIDs.length == 0)\r\n            return []\r\n        let cowallArr: JCowall[] = []\r\n        let newCowall: JCowall = this.dataService.cowalls[this.cowallIDs[0]]\r\n        cowallArr.push(newCowall)\r\n        let startID: string = newCowall.prevID\r\n        while (startID != newCowall.id) {\r\n            newCowall = this.dataService.cowalls[newCowall.nextID]\r\n            // console.log(newCowall)\r\n            cowallArr.push(newCowall)\r\n        }\r\n        return cowallArr\r\n    }\r\n\r\n    /** 获取cowall集合 */\r\n    getCowallArr() {\r\n        let cowallArr: JCowall[] = []\r\n        for (let i = 0; i < this.cowallIDs.length; i++) {\r\n            cowallArr.push(this.dataService.cowalls[this.cowallIDs[i]])\r\n        }\r\n        return cowallArr\r\n    }\r\n\r\n    /** 获取wall集合,带有顺序 */\r\n    getWallArr() {\r\n        let cowalls: JCowall[] = this.getCowallArrBySort()\r\n        if (cowalls.length == 0)\r\n            return []\r\n        let wallArr: JWall[] = []\r\n        let wall: JWall = null\r\n        for (let i = 0; i < cowalls.length; i++) {\r\n            wall = cowalls[i].getWall()\r\n            wallArr.push(wall)\r\n        }\r\n        return wallArr\r\n    }\r\n\r\n    /** 获取点集合,带有顺序 */\r\n    getPointArr() {\r\n        let cowalls: JCowall[] = this.getCowallArrBySort()\r\n        if (cowalls.length == 0)\r\n            return []\r\n        let pointArr: JPoint[] = []\r\n        let point: JPoint = null\r\n        for (let i = 0; i < cowalls.length; i++) {\r\n            point = cowalls[i].getPointStart()\r\n            pointArr.push(point)\r\n        }\r\n        return pointArr\r\n    }\r\n\r\n    /** 获取坐标集合,带有顺序 */\r\n    getPosArr() {\r\n        let points: JPoint[] = this.getPointArr()\r\n        if (points.length == 0)\r\n            return []\r\n        let posArr: DC.Pos[] = []\r\n        for (let i = 0; i < points.length; i++) {\r\n            posArr.push(points[i].pos)\r\n        }\r\n        return posArr\r\n    }\r\n\r\n\r\n    /** 获取地板 */\r\n    getFloor() {\r\n        let floor: JFloor = this.dataService.floors[this.floorID]\r\n        return floor\r\n    }\r\n\r\n    /** 获取天花 */\r\n    getRoof() {\r\n        let roof: JRoof = this.dataService.roofs[this.roofID]\r\n        return roof\r\n    }\r\n\r\n    /** 获取轮廓坐标 */\r\n    getInLine() {\r\n        let cowallArr = this.getCowallArrBySort()\r\n        cowallArr.push(cowallArr[0])\r\n        let posArr: DC.Pos[] = []\r\n        for (let i = 0; i < cowallArr.length - 1; i++) {\r\n            let inLine = cowallArr[i].getInLine()\r\n            if (!inLine)\r\n                return []\r\n            posArr.push(inLine[0])\r\n            if (this.DUService.pos.isParallelRadian(cowallArr[i].getRadian(), cowallArr[i + 1].getRadian()) && cowallArr[i].getWall().thickness != cowallArr[i + 1].getWall().thickness) {\r\n                posArr.push(inLine[1])\r\n            }\r\n        }\r\n        return posArr\r\n    }\r\n\r\n    /** 重设cowalls */\r\n    resetCowallIDs(cowall: JCowall) {\r\n        let cowallIDs: string[] = []\r\n        let endID = cowall.id\r\n        cowallIDs.push(cowall.id)\r\n        let nextCowall = cowall.getNextCowall()\r\n        while (nextCowall.id != endID) {\r\n            cowallIDs.push(nextCowall.id)\r\n            nextCowall = nextCowall.getNextCowall()\r\n        }\r\n        this.cowallIDs = cowallIDs\r\n    }\r\n\r\n}\r\n\r\nexport class JRoomInitType {\r\n    id?: string;\r\n    parentID?: string;\r\n    cowallIDs?: string[];\r\n    flag?: number;\r\n    floorID?: string;\r\n    roofID?: string;\r\n    roomName?: string;\r\n    displayPos?: DC.Pos;\r\n    isAutoMoveAreaPos?: boolean;\r\n}\r\n","import { JLUWin3D } from \"../../../three/jDesign3D/JLUWin3D\";\r\nimport { JWall } from \"./JWall\";\r\nimport { DesignCommon as DC } from '../class/DesignCommon'\r\nimport { JLUWinTypeInit } from \"./JLUWin\";\r\nimport { JdesignDataService } from \"../../../services/jdesign-data.service\";\r\nimport { JdesignUtil2dService } from \"../../../services/jdesign-util2d.service\";\r\n\r\nexport class JUWin extends JLUWin3D {\r\n\r\n    constructor(\r\n        obj: JUWinTypeInit,\r\n        public dataService: JdesignDataService,\r\n        public DUService: JdesignUtil2dService,\r\n    ) {\r\n        super(\"UWin\", obj, dataService, DUService)\r\n        this.centerWallID = obj.centerWallID ? obj.centerWallID : undefined\r\n        this.centerRadian = obj.centerRadian ? obj.centerRadian : 0\r\n        this.dataService.UWins[this.id] = this\r\n    }\r\n\r\n    private _centerWallID: string\r\n    /** 中间墙id */\r\n    get centerWallID() { return this._centerWallID }\r\n    set centerWallID(data) { this._centerWallID = data }\r\n\r\n    private _centerRadian: number\r\n    /* 中间弧度 */\r\n    get centerRadian() { return this._centerRadian }\r\n    set centerRadian(data) { this._centerRadian = data }\r\n\r\n\r\n    /** 获取中间墙 */\r\n    getCenterWall(): JWall {\r\n        if (this.centerWallID)\r\n            return this.dataService.walls[this.centerWallID]\r\n        return undefined\r\n    }\r\n\r\n    get leftStartPoint() {\r\n        let wall = this.getCenterWall()\r\n        if (!wall)\r\n            return undefined\r\n        return wall.getPoint(0)\r\n    }\r\n\r\n    get rightStartPoint() {\r\n        let wall = this.getCenterWall()\r\n        if (!wall)\r\n            return undefined\r\n        return wall.getPoint(1)\r\n    }\r\n\r\n    getLeftWall() {\r\n        let wall = this.getCenterWall()\r\n        if (wall) {\r\n            let cowall = wall.getCowall()\r\n            let prevCowall = cowall.getPrevCowall()\r\n            let prevWall = prevCowall.getWall()\r\n            return prevWall\r\n        }\r\n        return undefined\r\n    }\r\n\r\n    getRightWall() {\r\n        let wall = this.getCenterWall()\r\n        if (wall) {\r\n            let cowall = wall.getCowall()\r\n            let nextCowall = cowall.getNextCowall()\r\n            let nextWall = nextCowall.getWall()\r\n            return nextWall\r\n        }\r\n        return undefined\r\n    }\r\n\r\n    /** 获取左边墙弧度 */\r\n    getLeftRadian(): number {\r\n        let point = this.leftStartPoint\r\n        if (!point)\r\n            return -Math.PI / 2\r\n        let wall = this.getLeftWall()\r\n        if (!wall)\r\n            return -Math.PI / 2\r\n        return this.getRadian(wall, point)\r\n    }\r\n    /** 获取右边墙弧度 */\r\n    getRightRadian(): number {\r\n        let point = this.rightStartPoint\r\n        if (!point)\r\n            return -Math.PI / 2\r\n        let wall = this.getRightWall()\r\n        if (!wall)\r\n            return -Math.PI / 2\r\n        return this.getRadian(wall, point)\r\n    }\r\n\r\n    getCenterLine(distance: number) {\r\n        let rayPos = this.DUService.pos.getRayPos(this.pos, this.centerRadian, distance)\r\n        return [{ x: this.pos.x, y: this.pos.y }, rayPos]\r\n    }\r\n\r\n    isAbsorb() {\r\n        let wall = this.getCenterWall()\r\n        return wall ? true : false\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class JUWinTypeInit extends JLUWinTypeInit {\r\n    centerWallID?: string;\r\n    centerRadian?: number;\r\n}","import { JDesign } from \"./JDesign\";\r\nimport { DesignCommon as DC } from '../class/DesignCommon'\r\nimport { JPoint } from \"./JPoint\";\r\nimport { JCowall } from \"./JCowall\";\r\nimport { JRoom } from \"./JRoom\";\r\nimport { JdesignDataService } from \"../../../services/jdesign-data.service\";\r\nimport { JdesignUtil2dService } from \"../../../services/jdesign-util2d.service\";\r\nimport { JDoor } from \"./JDoor\";\r\nimport { JWin } from \"./JWin\";\r\nimport { JFurniture } from \"./JFurniture\";\r\nimport { JCornerWin } from \"./JCornerWin\";\r\nimport { JGeometry } from \"./JGeometry\";\r\n\r\nexport class JWall extends JDesign {\r\n    /** 有序墙映射 */\r\n    private _coedgeID: string\r\n    /** 有序墙映射 */\r\n    get coedgeID() { return this._coedgeID }\r\n    set coedgeID(obj) {\r\n        this._coedgeID = obj\r\n        // if (this.coedgeID != undefined && this.coedgeID != null) {\r\n        //     let cowall: JCowall = this.getCowall()\r\n        //     if (cowall.edgeID != this.id)\r\n        //         cowall.edgeID = this.id\r\n        //     //this.strongUpdate()\r\n        // }\r\n\r\n    }\r\n\r\n    /** 厚度 */\r\n    private _thickness: number\r\n    /** 厚度 */\r\n    get thickness() { return this._thickness }\r\n    set thickness(obj) {\r\n        this._thickness = obj\r\n        //this.strongUpdate()\r\n    }\r\n\r\n    /** 门 */\r\n    private _doorIDs: string[] = []\r\n    /** 门 */\r\n    get doorIDs() { return this._doorIDs }\r\n    set doorIDs(obj: string[]) {\r\n        this._doorIDs = obj\r\n        //this.strongUpdate()\r\n    }\r\n\r\n    /** 窗 */\r\n    private _winIDs: string[] = []\r\n    /** 窗 */\r\n    get winIDs() { return this._winIDs }\r\n    set winIDs(obj: string[]) { this._winIDs = obj }\r\n\r\n    /** 家具 */\r\n    private _geometryIDs: string[] = []\r\n    /** 家具 */\r\n    get geometryIDs() { return this._geometryIDs }\r\n    set geometryIDs(data) { this._geometryIDs = data }\r\n\r\n    /** 墙的轮廓 */\r\n    private _outLine: DC.Pos[][] = null\r\n    /** 墙的轮廓 以从左往右为标准,坐标数组为: [[左上,左下],[右下,右上]] */\r\n    get outLine() { return this._outLine }\r\n    set outLine(data) { this._outLine = data }\r\n\r\n    /** 画墙轮廓(不一定是真实轮廓) */\r\n    private _drawOutLine: DC.Pos[][] = undefined\r\n    /**\r\n     * 画墙轮廓(不一定是真实轮廓)\r\n     * @returns 如果undefined,将返回outLine\r\n     * @returns 以从左往右为标准,坐标数组为: [[左上,左下],[右下,右上]]\r\n      */\r\n    get drawOutLine() {\r\n        if (!this._drawOutLine)\r\n            return this.outLine\r\n        return this._drawOutLine\r\n    }\r\n    set drawOutLine(data) { this._drawOutLine = data }\r\n\r\n\r\n    /** 弧形距离值 */\r\n    private _arcDistance: number\r\n    /** 弧形距离值(触发联动arcPer) */\r\n    get arcDistance() { return this._arcDistance }\r\n    set arcDistance(data) {\r\n        this.arcPer = data / this.getDistance()\r\n        this._arcDistance = data\r\n    }\r\n\r\n    /** 弧形半径 */\r\n    private _arcRadius: number = undefined\r\n    /** 弧形半径 */\r\n    get arcRadius() { return this._arcRadius }\r\n    set arcRadius(data) { this._arcRadius = data }\r\n\r\n    /** 弧形圆点 */\r\n    private _circlePos: DC.Pos = undefined\r\n    /** 弧形圆点 */\r\n    get circlePos() { return this._circlePos }\r\n    set circlePos(data) { this._circlePos = data }\r\n\r\n    /** 弧形比例 */\r\n    private _arcPer: number\r\n    /** 弧形比例 */\r\n    get arcPer() { return this._arcPer }\r\n    set arcPer(data) { this._arcPer = data }\r\n\r\n    private _cornWinIDs: string[]\r\n    /** 转角飘窗IDs */\r\n    get cornWinIDs() { return this._cornWinIDs }\r\n    set cornWinIDs(data) { this._cornWinIDs = data }\r\n\r\n    private _wallType: number;\r\n    /** 墙类型 */\r\n    get wallType() { return this._wallType }\r\n    set wallType(data) { this._wallType = data }\r\n\r\n    /** 是否过短 */\r\n    private _isVeryShort: boolean = false\r\n    /** 是否过短 */\r\n    get isVeryShort() { return this._isVeryShort }\r\n    set isVeryShort(data) { this._isVeryShort = data }\r\n\r\n    /** 隐藏运算 */\r\n    private _shadowRadian: number = undefined\r\n    private _shadowDistance: number = undefined\r\n\r\n\r\n    constructor(\r\n        obj: JWallInitType,\r\n        public dataService: JdesignDataService,\r\n        public DUService: JdesignUtil2dService,\r\n    ) {\r\n        super({ type: 'wall', id: obj.id }, dataService);\r\n        this.thickness = obj.thickness ? obj.thickness : this.dataService.cmd.wall.thickness\r\n        this.coedgeID = obj.coedgeID ? obj.coedgeID : null\r\n        this.doorIDs = obj.doorIDs ? obj.doorIDs : []\r\n        this.winIDs = obj.winIDs ? obj.winIDs : []\r\n        this.geometryIDs = obj.furnitureIDs ? obj.furnitureIDs : []\r\n        this.arcDistance = obj.arcDistance ? obj.arcDistance : 0\r\n        this.cornWinIDs = obj.cornWinIDs ? obj.cornWinIDs : []\r\n        this.wallType = obj.wallType ? obj.wallType : 0\r\n        this.arcPer = obj.arcPer ? obj.arcPer : 0\r\n        this.dataService.walls[this.id] = this\r\n    }\r\n\r\n    /** 获取点 */\r\n    getPoint(num: number): JPoint {\r\n        if (num != 0 && num != 1)\r\n            return null\r\n        let cowall: JCowall = this.getCowall()\r\n        if (!cowall)\r\n            return undefined\r\n\r\n        /** 为确定方向,以便让有序墙有个依赖 */\r\n        if (!cowall.reversed) {\r\n            let point: JPoint = this.dataService.points[cowall.pointIDs[num]]\r\n            return point\r\n        }\r\n        else {\r\n            let point: JPoint = this.dataService.points[cowall.pointIDs[num == 0 ? 1 : 0]]\r\n            return point\r\n        }\r\n\r\n    }\r\n\r\n    /** 是否大弧 */\r\n    isBigArc() {\r\n        if (this.arcDistance > this.arcRadius)\r\n            return true\r\n        else\r\n            return false\r\n    }\r\n\r\n    /** 获取path */\r\n    getPathPos(): DC.Pos[][] {\r\n        if (this.isSamePos()) {\r\n            return null\r\n        }\r\n        else {\r\n            /** new */\r\n            let pathArr: DC.Pos[][] = []\r\n            return pathArr\r\n        }\r\n    }\r\n\r\n    /** 获取长度 */\r\n    getDistance(reCal: boolean = false): number {\r\n        if (reCal || this._shadowDistance == undefined) {\r\n            let posArr: DC.Pos[] = this.getPosArr()\r\n            let distance: number = this.DUService.pos.getDistance(posArr[0], posArr[1])\r\n            this._shadowDistance = distance\r\n            return distance\r\n        }\r\n        return this._shadowDistance\r\n\r\n    }\r\n\r\n    /** 获取点集合 有顺序的 */\r\n    getPointArr(): JPoint[] {\r\n        let pointStart: JPoint = this.getPoint(0)\r\n        let pointEnd: JPoint = this.getPoint(1)\r\n        if (!pointStart || !pointEnd)\r\n            return undefined\r\n        return [pointStart, pointEnd]\r\n    }\r\n\r\n    /** 获取点ID集合(无序) */\r\n    getPointIDArr(): string[] {\r\n        let cowall: JCowall = this.dataService.cowalls[this.coedgeID]\r\n        return cowall.pointIDs\r\n    }\r\n\r\n    /** 获取中心点 */\r\n    getCenterPos(): DC.Pos {\r\n        let posArr: DC.Pos[] = this.getPosArr()\r\n        let pos: DC.Pos = this.DUService.pos.getCenterPos(posArr[0], posArr[1])\r\n        return pos\r\n    }\r\n\r\n\r\n    /** 获取坐标 */\r\n    getPosArr(): DC.Pos[] {\r\n        let pointArr: JPoint[] = this.getPointArr()\r\n        return [pointArr[0].pos, pointArr[1].pos]\r\n    }\r\n\r\n    /** 获取弧度\r\n     * @param reCal 是否重新计算,默认false,从_shadowRadian里取数据\r\n     */\r\n    getRadian(reCal: boolean = false): number {\r\n        if (this._shadowRadian == undefined || reCal) {\r\n            let posArr: DC.Pos[] = this.getPosArr()\r\n            let radian: number = this.DUService.pos.getRadian(posArr[0], posArr[1])\r\n            this._shadowRadian = radian\r\n            return radian\r\n        }\r\n        return this._shadowRadian\r\n\r\n    }\r\n\r\n    /** 获取角度 */\r\n    getRotate(): number {\r\n        let cowall: JCowall = this.getCowall()\r\n        return cowall.getRotate()\r\n    }\r\n\r\n    /** 获取有序墙集合 */\r\n    getCowallArr(): JCowall[] {\r\n        let cowallArr: JCowall[] = []\r\n        let obj: JCowall = this.dataService.cowalls[this.coedgeID]\r\n        if (!obj)\r\n            return []\r\n        cowallArr.push(obj)\r\n        if (obj.partnerID != null) {\r\n            let objA: JCowall = this.dataService.cowalls[obj.partnerID]\r\n            cowallArr.push(objA)\r\n        }\r\n\r\n        return cowallArr\r\n    }\r\n\r\n    /** 获取有序墙 */\r\n    getCowall(): JCowall {\r\n        let cowall: JCowall = this.dataService.cowalls[this.coedgeID]\r\n        return cowall\r\n    }\r\n\r\n    /** 是否为一点 */\r\n    isSamePos(): boolean {\r\n        let posArr: DC.Pos[] = this.getPosArr()\r\n        if (posArr[0].x == posArr[1].x && posArr[0].y == posArr[1].y)\r\n            return true\r\n        else\r\n            return false\r\n    }\r\n\r\n    /** 获取反向墙 */\r\n    getOppsiteCowall(): JCowall {\r\n        let cowall: JCowall = this.getCowall()\r\n        let newCowall: JCowall = this.dataService.cowalls[cowall.partnerID]\r\n        return newCowall\r\n    }\r\n\r\n    /** 获取空间 */\r\n    getRoomArr(): JRoom[] {\r\n        let cowallArr: JCowall[] = this.getCowallArr()\r\n        let roomArr: JRoom[] = []\r\n        for (let cowall of cowallArr) {\r\n            if (cowall.roomID != null) {\r\n                let room: JRoom = cowall.getRoom()\r\n                roomArr.push(room)\r\n            }\r\n        }\r\n        return roomArr\r\n    }\r\n\r\n    /** 获取门集合 */\r\n    getDoorArr() {\r\n        if (this.doorIDs == null)\r\n            return []\r\n\r\n        let doors: JDoor[] = []\r\n        for (let i = 0; i < this.doorIDs.length; i++) {\r\n            doors.push(this.dataService.doors[this.doorIDs[i]])\r\n        }\r\n        return doors\r\n    }\r\n\r\n    /** 获取窗集合 */\r\n    getWinArr() {\r\n        if (this.winIDs == null)\r\n            return []\r\n\r\n        let wins: JWin[] = []\r\n        for (let i = 0; i < this.winIDs.length; i++) {\r\n            wins.push(this.dataService.wins[this.winIDs[i]])\r\n        }\r\n        return wins\r\n    }\r\n\r\n    /** 获取家具集合 */\r\n    getGeometryArr() {\r\n        if (this.geometryIDs == null)\r\n            return []\r\n        let geometry: JGeometry[] = []\r\n        for (let i = 0; i < this.geometryIDs.length; i++) {\r\n            if (this.geometryIDs[i].indexOf('furniture') != -1)\r\n                geometry.push(this.dataService.furnitures[this.geometryIDs[i]])\r\n            else {\r\n                geometry.push(this.dataService.builds[this.geometryIDs[i]])\r\n            }\r\n        }\r\n        return geometry\r\n    }\r\n\r\n    /** 获取附近的空间 */\r\n    getNearRoomArr(): JRoom[] {\r\n        let pointArr: JPoint[] = this.getPointArr()\r\n        let cowallArr: JCowall[] = []\r\n        cowallArr.push(...pointArr[0].getCowallArr())\r\n        cowallArr.push(...pointArr[1].getCowallArr())\r\n        let roomArr: JRoom[] = []\r\n        let cowall: JCowall = null\r\n        let room: JRoom = null\r\n        let same: boolean = false\r\n        let newRoom: JRoom = null\r\n        for (cowall of cowallArr) {\r\n            if (cowall.roomID != null) {\r\n                newRoom = cowall.getRoom()\r\n                same = false\r\n                for (room of roomArr) {\r\n                    if (room.id == newRoom.id)\r\n                        same = true\r\n                    break\r\n                }\r\n                if (!same) {\r\n                    roomArr.push(newRoom)\r\n                }\r\n            }\r\n        }\r\n        return roomArr\r\n    }\r\n\r\n    /** 获取所有的相邻墙(排除自己) */\r\n    getNearWallArr(): JWall[] {\r\n        let pointArr = this.getPointArr()\r\n        let handWalls = pointArr[0].getWallArr()\r\n        this.DUService.cal.removeByAttr(handWalls, 'id', this.id)\r\n        let endWalls = pointArr[1].getWallArr()\r\n        this.DUService.cal.removeByAttr(endWalls, 'id', this.id)\r\n        handWalls.push(...endWalls)\r\n        return handWalls\r\n    }\r\n\r\n    /** 获取转角飘窗数组 */\r\n    getCornWinArr() {\r\n        let cornWins: JCornerWin[] = []\r\n        for (let i = 0; i < this.cornWinIDs.length; i++) {\r\n            cornWins.push(this.dataService.cornerWins[this.cornWinIDs[i]])\r\n        }\r\n        return cornWins\r\n    }\r\n\r\n    /** 获取内线坐标 */\r\n    getInLine(): DC.Pos[] {\r\n        return [this.outLine[0][1], this.outLine[1][0]]\r\n    }\r\n    /** 获取显示用的内线坐标 */\r\n    getDrawInLine(): DC.Pos[] {\r\n        return [this.drawOutLine[0][1], this.drawOutLine[1][0]]\r\n    }\r\n    /** 获取内线长度 */\r\n    getInLineDistance() {\r\n        let posArr = this.getInLine()\r\n        return this.DUService.pos.getDistance(posArr[0], posArr[1])\r\n    }\r\n\r\n    /** 获取外线坐标 */\r\n    getOutLine(): DC.Pos[] {\r\n        return [this.outLine[1][1], this.outLine[0][0]]\r\n    }\r\n\r\n    /** 获取显示用的外线坐标 */\r\n    getDrawOutLine(): DC.Pos[] {\r\n        return [this.drawOutLine[1][1], this.drawOutLine[0][0]]\r\n    }\r\n\r\n    /** 获取外线长度 */\r\n    getOutLineDistance() {\r\n        let posArr = this.getOutLine()\r\n        return this.DUService.pos.getDistance(posArr[0], posArr[1])\r\n    }\r\n    /** 转弧形墙 */\r\n    transArc(arcDistance?: number) {\r\n        this.arcDistance = arcDistance == undefined ? this.arcDistance : arcDistance\r\n        let distance = this.getDistance()\r\n        let radius = (Math.pow(this.arcDistance, 2) + Math.pow(distance / 2, 2)) / (2 * this.arcDistance)\r\n        this.arcRadius = radius\r\n        let posArr = this.getPosArr()\r\n        let radian = this.getRadian()\r\n        let centerPos = this.DUService.pos.getCenterPos(posArr[0], posArr[1])\r\n        let circlePos = this.DUService.pos.getRayPos(centerPos, radian - (Math.PI / 2), this.arcDistance - radius)\r\n        this.circlePos = circlePos\r\n    }\r\n}\r\n\r\nexport class JWallInitType {\r\n    id?: string;\r\n    flag?: number;\r\n    coedgeID?: string;\r\n    thickness?: number;\r\n    doorIDs?: string[];\r\n    winIDs?: string[];\r\n    furnitureIDs?: string[];\r\n    arcDistance?: number;\r\n    cornWinIDs?: string[];\r\n    wallType?: number;\r\n    arcPer?: number;\r\n}","import { JDWAbstract, JDWInitType } from \"./JDWAbstract\";\r\nimport { JdesignDataService } from \"../../../services/jdesign-data.service\";\r\nimport { JdesignUtil2dService } from \"../../../services/jdesign-util2d.service\";\r\nimport { JWall } from \"./JWall\";\r\nimport { JDW3D } from \"../../../three/jDesign3D/JDW3D\";\r\n\r\nexport class JWin extends JDW3D {\r\n\r\n    /** 墙对象ID */\r\n    // private _wall: string = null;\r\n    /**  墙对象id 会联动触发  */\r\n    set wallID(obj: string) {\r\n\r\n        if (this.wallID != null) {\r\n            if (this.oldWallID != this.wallID && this.wallID != obj) {\r\n                let wall: JWall = this.getwall()\r\n                this.oldWallID = wall ? this.wallID : undefined\r\n            }\r\n            let wall: JWall = this.getwall()\r\n            if (wall != undefined) {\r\n                for (let i = 0; i < wall.winIDs.length; i++) {\r\n                    if (wall.winIDs[i] == this.id) {\r\n                        wall.winIDs.splice(i, 1)\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        this._wall = obj\r\n        if (obj != undefined) {\r\n            let wall: JWall = this.getwall()\r\n            let same = false\r\n            for (let i = 0; i < wall.winIDs.length; i++) {\r\n                if (wall.winIDs[i] == this.id) {\r\n                    same = true\r\n                    break;\r\n                }\r\n            }\r\n            if (!same) {\r\n                wall.winIDs.push(this.id)\r\n            }\r\n        }\r\n        //this.strongUpdate()\r\n    }\r\n\r\n    get wallID() { return this._wall }\r\n\r\n    getWallDWIDs() {\r\n        let wall = this.getwall()\r\n        if (wall != undefined)\r\n            return wall.winIDs\r\n        return undefined\r\n    }\r\n\r\n    private _outThickness: number\r\n    /** 离外墙厚度(飘窗用的)  */\r\n    get outThickness() { return this._outThickness }\r\n    set outThickness(data) { this._outThickness = data }\r\n\r\n    private _outBoxThickness: number\r\n    /** 离外墙框架的厚度(飘窗用的) */\r\n    get outBoxThickness() { return this._outBoxThickness }\r\n    set outBoxThickness(data) { this._outBoxThickness = data }\r\n\r\n    private _isBay: boolean\r\n    /** 是否为飘窗 */\r\n    get isBay() { return this._isBay }\r\n    set isBay(data) { this._isBay = data }\r\n\r\n    constructor(\r\n        obj: JWinInitType,\r\n        public dataService: JdesignDataService,\r\n        public DUService: JdesignUtil2dService\r\n    ) {\r\n        super({ type: 'win', id: obj.id }, dataService, DUService)\r\n        this.dataInit(obj)\r\n        this.outThickness = obj.outThickness ? obj.outThickness : 0\r\n        this.outBoxThickness = obj.outBoxThickness ? obj.outBoxThickness : 0\r\n        this.isBay = obj.isBay ? obj.isBay : false\r\n        this.dataService.wins[this.id] = this\r\n    }\r\n\r\n\r\n}\r\n\r\nexport class JWinInitType extends JDWInitType {\r\n    outThickness?: number;\r\n    isBay?: boolean;\r\n    outBoxThickness?: number;\r\n}","import { DesignCommon as DC } from '../class/DesignCommon'\r\n\r\nexport namespace SaveType {\r\n\r\n    export class JDesign {\r\n        id: string;\r\n        flag: number;\r\n        type: string;\r\n        mode: string;\r\n        constructor() {\r\n            this.id = null\r\n            this.flag = null;\r\n            this.type = null;\r\n            this.mode = null;\r\n        }\r\n    }\r\n\r\n    export class JPoint extends JDesign {\r\n        pos: DC.Pos;\r\n        cowallIDs: string;\r\n\r\n        constructor() {\r\n            super()\r\n            this.pos = null\r\n            this.cowallIDs = null\r\n        }\r\n    }\r\n\r\n    export class JWall extends JDesign {\r\n        coedgeID: string;\r\n        thickness: number;\r\n        doorIDs: string[];\r\n        winIDs: string[]\r\n        outLine: DC.Pos[][]\r\n        wallType: number;\r\n        furnitureIDs: string[];\r\n        arcDistance: number;\r\n        arcPer: number;\r\n        cornWinIDs: string[]\r\n        constructor() {\r\n            super()\r\n            this.coedgeID = null\r\n            this.thickness = null\r\n            this.doorIDs = null\r\n            this.winIDs = null\r\n            this.outLine = null\r\n            this.wallType = null\r\n            this.furnitureIDs = null\r\n            this.arcDistance = null\r\n            this.arcPer = null\r\n            this.cornWinIDs = null\r\n            // this.windowsID = null\r\n        }\r\n    }\r\n\r\n    export class JCowall extends JDesign {\r\n        pointIDs: string[];\r\n        roomID: string;\r\n        nextID: string;\r\n        prevID: string;\r\n        edgeID: string;\r\n        partnerID: string;\r\n        reversed: boolean;\r\n        constructor() {\r\n            super()\r\n            this.pointIDs = null\r\n            this.roomID = null\r\n            this.nextID = null\r\n            this.prevID = null\r\n            this.edgeID = null\r\n            this.partnerID = null\r\n            this.reversed = null\r\n        }\r\n    }\r\n\r\n    export class JRoom extends JDesign {\r\n        parentID: string;\r\n        cowallIDs: string[];\r\n        floorID: string;\r\n        roofID: string;\r\n        roomName: string;\r\n        displayPos: DC.Pos;\r\n        isAutoMoveAreaPos: boolean;\r\n        constructor() {\r\n            super()\r\n            this.parentID = null\r\n            this.cowallIDs = null\r\n            this.floorID = null\r\n            this.roofID = null\r\n            this.roomName = null\r\n            this.displayPos = null\r\n            this.isAutoMoveAreaPos = null\r\n        }\r\n    }\r\n\r\n    export class JLUWin extends JDesign {\r\n        pos: DC.Pos;\r\n        j2d: any;\r\n        radian: number;\r\n        height3D: number;\r\n        floorHeight: number;\r\n        constructor() {\r\n            super()\r\n            this.pos = null\r\n            this.j2d = null\r\n            this.radian = null\r\n            this.height3D = null\r\n            this.floorHeight = null\r\n        }\r\n    }\r\n\r\n    export class JLWin extends JLUWin {\r\n        pointID: string;\r\n        constructor() {\r\n            super()\r\n            this.pointID = null\r\n        }\r\n    }\r\n\r\n    export class JUWin extends JLUWin {\r\n        centerWallID: string;\r\n        constructor() {\r\n            super()\r\n            this.centerWallID = null\r\n        }\r\n    }\r\n\r\n    export class JFloor extends JDesign {\r\n        roomID: string;\r\n        radian: number;\r\n        size: DC.Size;\r\n        imgUrl: string;\r\n\r\n        constructor() {\r\n            super()\r\n            this.roomID = null\r\n            this.radian = null\r\n            this.size = null\r\n            this.imgUrl = null\r\n        }\r\n    }\r\n\r\n    export class JRoof extends JDesign {\r\n        roomID: string;\r\n        constructor() {\r\n            super()\r\n            this.roomID = null\r\n        }\r\n    }\r\n\r\n    export class JFloorplan extends JDesign {\r\n        roomsID: string[];\r\n        cowallIDs: string[];\r\n        backImg: any;\r\n        constructor() {\r\n            super()\r\n            this.roomsID = null\r\n            this.cowallIDs = null\r\n            this.backImg = null\r\n        }\r\n    }\r\n\r\n    export class JDWAbstract extends JDesign {\r\n        wallID: string;\r\n        pos: DC.Pos;\r\n        size: DC.Size\r\n        mirror: boolean;\r\n        out: boolean;\r\n        distancePer: number;\r\n        oldWallID: string;\r\n        radian: number;\r\n        url3D: string;\r\n        svgImg: string;\r\n        style: string;\r\n        plankType: string;\r\n        floorHeight: number;\r\n        modelUrl: string;\r\n        isHaveFrame: boolean\r\n\r\n        constructor() {\r\n            super()\r\n            this.wallID = null\r\n            this.pos = null\r\n            this.size = null\r\n            this.mirror = null\r\n            this.out = null\r\n            this.distancePer = null\r\n            this.oldWallID = null\r\n            this.radian = null\r\n            this.url3D = null\r\n            this.svgImg = null\r\n            this.plankType = null\r\n            this.floorHeight = null\r\n            this.modelUrl = null\r\n            this.isHaveFrame = null\r\n            this.style = null\r\n        }\r\n\r\n    }\r\n\r\n    export class JDoor extends JDWAbstract {\r\n\r\n    }\r\n\r\n    export class JWin extends JDWAbstract {\r\n        isBay: boolean = null\r\n        outBoxThickness: number = null\r\n        outThickness: number = null\r\n        // constructor() {\r\n        //     super()\r\n        //     this.isBay = false\r\n        // }\r\n    }\r\n\r\n    export class JCornerWin extends JDesign {\r\n        pos: DC.Pos = null;\r\n        LThickness: number = null;\r\n        LWidth: number = null;\r\n        LDepth: number = null;\r\n        LRadian: number = null;\r\n        DThickness: number = null;\r\n        DWidth: number = null;\r\n        DDepth: number = null;\r\n        DRadian: number = null;\r\n        pointID: string = null;\r\n        outLine: DC.Pos[] = null;\r\n        outThickness: number = null\r\n        outWallThickness: number = null\r\n        height3D: number = null\r\n        floorHeight: number = null\r\n        constructor() {\r\n            super()\r\n        }\r\n    }\r\n\r\n    export class JCamera extends JDesign {\r\n        radian: number;\r\n        headUrl: string;\r\n        headSize: DC.Size;\r\n        rotateUrl: string;\r\n        rotateSize: DC.Size;\r\n        pos: DC.Pos;\r\n        constructor() {\r\n            super()\r\n            this.radian = null\r\n            this.headUrl = null\r\n            this.headSize = null\r\n            this.rotateSize = null\r\n            this.rotateUrl = null\r\n            this.pos = null\r\n        }\r\n    }\r\n\r\n    export class JGeometry extends JDesign {\r\n        url2D: string;\r\n        url3D: string;\r\n        pos: DC.Pos;\r\n        radian: number;\r\n        size: DC.Size;\r\n        mirror: boolean;\r\n        distancePer: number;\r\n        floorHeight: number;\r\n        wallID: string;\r\n        wallOut: boolean;\r\n        hgUrl: string\r\n        constructor() {\r\n            super()\r\n            this.url2D = null\r\n            this.url3D = null\r\n            this.pos = null\r\n            this.radian = null\r\n            this.size = null\r\n            this.mirror = null\r\n            this.distancePer = null\r\n            this.wallID = null\r\n            this.wallOut = null\r\n            this.hgUrl = null\r\n        }\r\n    }\r\n\r\n    export class JFurniture extends JGeometry {\r\n\r\n    }\r\n\r\n    export class JBuild extends JGeometry {\r\n\r\n    }\r\n\r\n\r\n\r\n    export class JCmd {\r\n        wall: any;\r\n        cowall: any;\r\n        point: any;\r\n        // floorplan: any;\r\n        back: any;\r\n        floor: any;\r\n        // common: any;\r\n        door: any;\r\n        win: any;\r\n        furniture: any;\r\n        cornerWin: any;\r\n        room: any;\r\n\r\n        constructor() {\r\n            this.wall = null\r\n            this.cowall = null\r\n            this.point = null\r\n            // this.floorplan = null\r\n            this.back = null\r\n            this.floor = null\r\n            // this.common = null\r\n            this.win = null\r\n            this.door = null\r\n            this.furniture = null\r\n            this.cornerWin = null\r\n            this.room = null\r\n        }\r\n\r\n    }\r\n\r\n    export class JCache {\r\n        wall: any;\r\n        room: any;\r\n        cowall: any;\r\n        floorplan: any;\r\n        common: any;\r\n        door: any;\r\n        win: any;\r\n        doorWin: any;\r\n        furniture: any;\r\n        build: any;\r\n\r\n        constructor() {\r\n            this.wall = null\r\n            this.room = null\r\n            this.cowall = null\r\n            this.floorplan = null\r\n            this.common = null\r\n            this.door = null\r\n            this.win = null\r\n            this.doorWin = null\r\n            this.furniture = null\r\n            this.build = null\r\n        }\r\n\r\n    }\r\n\r\n\r\n}","import { Injectable } from '@angular/core';\r\nimport { ConsoleUtil } from '../Util/consoleUtil';\r\n\r\n@Injectable()\r\nexport class ConsoleService {\r\n\r\n  private _consoleUtil: ConsoleUtil = new ConsoleUtil()\r\n  constructor() { }\r\n\r\n  logArr(arr: string[]) {\r\n    this._consoleUtil.logArr(arr)\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n@Injectable()\r\nexport class MouseEventService {\r\n\r\n  private _mouseDownEvents: ((e: MouseEvent) => void)[] = []\r\n  private _mouseMoveEvents: ((e: MouseEvent) => void)[] = []\r\n  private _mouseUpEvents: ((e: MouseEvent) => void)[] = []\r\n  private _mouseWheelEvents: ((e: WheelEvent) => void)[] = []\r\n\r\n  constructor() {\r\n\r\n  }\r\n\r\n  /** 获取鼠标按下的事件 */\r\n  getDownEvents() {\r\n    return this._mouseDownEvents\r\n  }\r\n\r\n  /** 实施鼠标按下事件 */\r\n  doDownEvents(e: MouseEvent) {\r\n    for (let i = 0; i < this._mouseDownEvents.length; i++) {\r\n      this._mouseDownEvents[i](e)\r\n    }\r\n  }\r\n\r\n  /** 获取鼠标移动的事件 */\r\n  getMoveEvents() {\r\n    return this._mouseMoveEvents\r\n  }\r\n\r\n  /** 实施鼠标移动事件 */\r\n  doMoveEvents(e: MouseEvent) {\r\n    for (let i = 0; i < this._mouseMoveEvents.length; i++) {\r\n      this._mouseMoveEvents[i](e)\r\n    }\r\n  }\r\n\r\n  /** 获取鼠标放开事件 */\r\n  getUpEvents() {\r\n    return this._mouseUpEvents\r\n  }\r\n\r\n  /** 实施鼠标放开事件 */\r\n  doUpEvents(e: MouseEvent) {\r\n    for (let i = 0; i < this._mouseUpEvents.length; i++) {\r\n      this._mouseUpEvents[i](e)\r\n    }\r\n  }\r\n}\r\n","module.exports = \".path_small {\\n  stroke: #d5d5d5;\\n}\\n\\n.path_big {\\n  stroke: #d5d5d5;\\n}\\n\\n.rect_protect {\\n  fill-opacity: 0;\\n}\\n\\n.back_color {\\n  fill: #ffffff;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc3ZnL2RvbS9iYWNrL0Q6XFxrbm93bGVkZ2VcXGhnXFxvbGRcXG9sZFJvb20vc3JjXFxhcHBcXHN2Z1xcZG9tXFxiYWNrXFxiYWNrLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9zdmcvZG9tL2JhY2svYmFjay5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUVJLGVBQUE7QUNBSjs7QURHQTtFQUVJLGVBQUE7QUNESjs7QURJQTtFQUNJLGVBQUE7QUNESjs7QURJQTtFQUNJLGFBQUE7QUNESiIsImZpbGUiOiJzcmMvYXBwL3N2Zy9kb20vYmFjay9iYWNrLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnBhdGhfc21hbGwge1xyXG4gICAgLy8gc3Ryb2tlLXdpZHRoOiAxO1xyXG4gICAgc3Ryb2tlOiAjZDVkNWQ1O1xyXG59XHJcblxyXG4ucGF0aF9iaWcge1xyXG4gICAgLy8gc3Ryb2tlLXdpZHRoOiAyO1xyXG4gICAgc3Ryb2tlOiAjZDVkNWQ1O1xyXG59XHJcblxyXG4ucmVjdF9wcm90ZWN0IHtcclxuICAgIGZpbGwtb3BhY2l0eTogMDtcclxufVxyXG5cclxuLmJhY2tfY29sb3J7XHJcbiAgICBmaWxsOiAjZmZmZmZmXHJcbn0iLCIucGF0aF9zbWFsbCB7XG4gIHN0cm9rZTogI2Q1ZDVkNTtcbn1cblxuLnBhdGhfYmlnIHtcbiAgc3Ryb2tlOiAjZDVkNWQ1O1xufVxuXG4ucmVjdF9wcm90ZWN0IHtcbiAgZmlsbC1vcGFjaXR5OiAwO1xufVxuXG4uYmFja19jb2xvciB7XG4gIGZpbGw6ICNmZmZmZmY7XG59Il19 */\"","import { Component, OnInit, Input, ChangeDetectionStrategy, ChangeDetectorRef, HostListener } from '@angular/core';\r\nimport { DomUpdateService } from '../../../services/dom-update.service';\r\nimport { JdesignDataService } from '../../../services/jdesign-data.service';\r\nimport { DesignCommon as DC } from '../../common/class/DesignCommon'\r\nimport { PopDivService } from '../../../services/pop-div.service';\r\nimport { RightMenuService } from '../../../services/right-menu.service';\r\nimport { JdesignUtil2dService } from '../../../services/jdesign-util2d.service';\r\nimport { BackDefault } from '../../common/jdesign/JCmd';\r\n\r\n@Component({\r\n  selector: '[back]',\r\n  templateUrl: './back.component.html',\r\n  styleUrls: ['./back.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class BackComponent implements OnInit {\r\n\r\n  private _backConfig: BackDefault = null\r\n\r\n  @Input() set back(data) {\r\n    this._backConfig = data\r\n  }\r\n  get back() { return this._backConfig }\r\n\r\n  constructor(\r\n    private ref: ChangeDetectorRef,\r\n    private domUpdateService: DomUpdateService,\r\n    public dataService: JdesignDataService,\r\n    private popService: PopDivService,\r\n    private rightService: RightMenuService,\r\n    private DUService: JdesignUtil2dService\r\n  ) {\r\n    this.domUpdateService.svgBack.subscribe(() => {\r\n      this.ref.detectChanges()\r\n    })\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.dataService.floorplan.lateChooseFuncArr.push(() => {\r\n      this.popService.panelRight.emit(undefined)\r\n    })\r\n    if (this.dataService.cmd.common.initLog) {\r\n      this.DUService.out.redLog('backs is ok!!')\r\n    }\r\n  }\r\n\r\n  @HostListener('mousedown', ['$event']) onmousedown(e: MouseEvent) {\r\n    // if (this.dataService.cache.common.mode == 'normal') {\r\n    if (e.which == 1) {\r\n      this.dataService.cache.common.choose = this.dataService.floorplan\r\n      this.dataService.cache.common.blockON = true\r\n      this.dataService.cache.common.firstPos = { x: e.offsetX, y: e.offsetY }\r\n      this.dataService.cmd.cowall.hide = false\r\n      this.popService.inputBoxs.emit([])\r\n      this.dataService.cache.common.initUpdate()\r\n      this.domUpdateService.allSvg.emit()\r\n    }\r\n    else if (e.which == 3) {\r\n      this.rightService.back.emit({ e: e })\r\n    }\r\n\r\n  }\r\n\r\n  @HostListener('mouseover', ['$event']) onmouseover(e: MouseEvent) {\r\n    // if (this.dataService.cache.common.mode == 'normal') {\r\n    if (this.dataService.cmd.floorplan.debugPos != null && this.dataService.cmd.floorplan.debugPos != undefined) {\r\n      let data = {\r\n        text: `floorplan:{\r\n          cos:${this.dataService.floorplan.cowallIDs},\r\n          chooseID:${this.dataService.cache.common.choose ? this.dataService.cache.common.choose.id : null}\r\n        }`,\r\n        position: this.dataService.cmd.floorplan.debugPos\r\n      }\r\n      this.popService.message.emit(data)\r\n    }\r\n  }\r\n\r\n  /** 获取小格的path排列 */\r\n  getSmallPathD(): string {\r\n    if (this._backConfig == null)\r\n      return null\r\n    let smallWidth = this._backConfig.pattern.width / this._backConfig.pattern.split\r\n    let pathD: string = ''\r\n    for (let i = 1; i < this._backConfig.pattern.split; i++) {\r\n      let m: string = `M${smallWidth * i} 0,L${smallWidth * i} ${this._backConfig.pattern.width}`\r\n      pathD += m\r\n      m = `M0 ${smallWidth * i},L${this._backConfig.pattern.width} ${smallWidth * i}`\r\n      pathD += m\r\n    }\r\n    return pathD\r\n\r\n  }\r\n\r\n  /** 获取大格的path排列 */\r\n  getBigPathD() {\r\n    if (this._backConfig == null)\r\n      return null\r\n    let pathD: string = ''\r\n    let m: string = `M0 0,L0 ${this._backConfig.pattern.width}`\r\n    pathD += m\r\n    m = `M0 0,L${this._backConfig.pattern.width} 0`\r\n    pathD += m\r\n    m = `M${this._backConfig.pattern.width} 0,L${this._backConfig.pattern.width} ${this._backConfig.pattern.width}`\r\n    pathD += m\r\n    m = `M0 ${this._backConfig.pattern.width},L${this._backConfig.pattern.width} ${this._backConfig.pattern.width}`\r\n    pathD += m\r\n    return pathD\r\n  }\r\n\r\n  /** 获取 */\r\n\r\n}\r\n\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { BackComponent } from './back.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  declarations: [BackComponent],\r\n  exports: [BackComponent]\r\n})\r\nexport class BackModule { }\r\n","module.exports = \".svg_block {\\n  position: relative;\\n  cursor: crosshair;\\n}\\n\\n.div_block {\\n  position: absolute;\\n  top: 0;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc3ZnL2RvbS9ibG9jay9EOlxca25vd2xlZGdlXFxoZ1xcb2xkXFxvbGRSb29tL3NyY1xcYXBwXFxzdmdcXGRvbVxcYmxvY2tcXGJsb2NrLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9zdmcvZG9tL2Jsb2NrL2Jsb2NrLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksa0JBQUE7RUFDQSxpQkFBQTtBQ0NKOztBREVBO0VBQ0ksa0JBQUE7RUFDQSxNQUFBO0FDQ0oiLCJmaWxlIjoic3JjL2FwcC9zdmcvZG9tL2Jsb2NrL2Jsb2NrLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnN2Z19ibG9jayB7XHJcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICBjdXJzb3I6IGNyb3NzaGFpcjtcclxufVxyXG5cclxuLmRpdl9ibG9jayB7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICB0b3A6IDA7XHJcbn0iLCIuc3ZnX2Jsb2NrIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBjdXJzb3I6IGNyb3NzaGFpcjtcbn1cblxuLmRpdl9ibG9jayB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAwO1xufSJdfQ== */\"","import { Component, OnInit, Input, ChangeDetectorRef, ElementRef, ChangeDetectionStrategy } from '@angular/core';\r\nimport { JdesignDataService } from '../../../services/jdesign-data.service';\r\nimport { DomUpdateService } from '../../../services/dom-update.service';\r\nimport { JdesignUtil2dService } from '../../../services/jdesign-util2d.service';\r\nimport { MouseEventService } from '../../common/services/mouse-event.service';\r\nimport { PopDivService } from '../../../services/pop-div.service';\r\nimport { CalculatorsService } from '../../../services/calculators.service';\r\nimport { JCmd } from '../../common/jdesign/JCmd';\r\nimport { JFloorplan3D } from '../../../three/jDesign3D/JFloorplan3D';\r\nimport { SvgEvent } from '../../common/event/svg.event';\r\nimport { RightMenuService } from '../../../services/right-menu.service';\r\nimport { HttpService } from '../../../services/http.service';\r\nimport { DomSanitizer } from '../../../../../node_modules/@angular/platform-browser';\r\n\r\n@Component({\r\n  selector: 'app-block',\r\n  templateUrl: './block.component.html',\r\n  styleUrls: ['./block.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class BlockComponent implements OnInit {\r\n\r\n  private _blockData;\r\n  @Input() set block(data) {\r\n    if (data) {\r\n      this.setEvent()\r\n    }\r\n  }\r\n\r\n  constructor(\r\n    public dataService: JdesignDataService,\r\n    private DUService: JdesignUtil2dService,\r\n    private domUpdateService: DomUpdateService,\r\n    private ref: ChangeDetectorRef,\r\n    private el: ElementRef,\r\n    private mouseEventService: MouseEventService,\r\n    private popService: PopDivService,\r\n    private calService: CalculatorsService,\r\n    private rightEventService: RightMenuService,\r\n    private httpService: HttpService,\r\n    private sanitizer: DomSanitizer\r\n  ) {\r\n    /** 强制更新 */\r\n    this.domUpdateService.svgBlock.subscribe(() => {\r\n      // this.dataService.cache.common.initUpdate(['cowallLabel'])\r\n      // this.domUpdateService.mainSvg.emit()\r\n      this.ref.detectChanges()\r\n    })\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n    if (this.dataService.cmd.common.initLog) {\r\n      this.DUService.out.redLog('block is ok!!')\r\n    }\r\n    //this.setEvent()\r\n  }\r\n\r\n  /** 设置事件 */\r\n  setEvent() {\r\n    let svgEvent = new SvgEvent(\r\n      this.mouseEventService,\r\n      this.rightEventService,\r\n      this.dataService,\r\n      this.domUpdateService,\r\n      this.DUService,\r\n      this.calService,\r\n      this.popService,\r\n      this.el,\r\n      'svg_block',\r\n      this.httpService,\r\n      this.sanitizer\r\n    )\r\n\r\n  }\r\n\r\n  /** 是否激活 */\r\n  isActive() {\r\n    if (this.dataService.cache.common.mode != 'moveWall') {\r\n      this.dataService.cache.common.blockON = true\r\n    }\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { BlockComponent } from './block.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  declarations: [BlockComponent],\r\n  exports: [BlockComponent]\r\n})\r\nexport class BlockModule { }\r\n","module.exports = \".camera_rotate:hover {\\n  cursor: move;\\n}\\n\\n.camera_rotate {\\n  fill: rgba(0, 0, 0, 0);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc3ZnL2RvbS9jYW1lcmEvRDpcXGtub3dsZWRnZVxcaGdcXG9sZFxcb2xkUm9vbS9zcmNcXGFwcFxcc3ZnXFxkb21cXGNhbWVyYVxcY2FtZXJhLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9zdmcvZG9tL2NhbWVyYS9jYW1lcmEuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFFSSxZQUFBO0FDQUo7O0FER0E7RUFDSSxzQkFBQTtBQ0FKIiwiZmlsZSI6InNyYy9hcHAvc3ZnL2RvbS9jYW1lcmEvY2FtZXJhLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmNhbWVyYV9yb3RhdGU6aG92ZXIge1xyXG4gICAgLy8gZmlsbDogcmdiYSg5MiwgMzksIDM5LCAwLjU0OCk7XHJcbiAgICBjdXJzb3I6IG1vdmU7XHJcbn1cclxuXHJcbi5jYW1lcmFfcm90YXRlIHtcclxuICAgIGZpbGw6IHJnYmEoMCwgMCwgMCwgMCk7XHJcbn0iLCIuY2FtZXJhX3JvdGF0ZTpob3ZlciB7XG4gIGN1cnNvcjogbW92ZTtcbn1cblxuLmNhbWVyYV9yb3RhdGUge1xuICBmaWxsOiByZ2JhKDAsIDAsIDAsIDApO1xufSJdfQ== */\"","import { Component, OnInit, ChangeDetectionStrategy, ChangeDetectorRef, HostListener } from '@angular/core';\r\nimport { JdesignDataService } from '../../../services/jdesign-data.service';\r\nimport { DomUpdateService } from '../../../services/dom-update.service';\r\nimport { JdesignUtil2dService } from '../../../services/jdesign-util2d.service';\r\nimport { RightMenuService } from '../../../services/right-menu.service';\r\n\r\n@Component({\r\n  selector: '[svgCamera]',\r\n  templateUrl: './camera.component.html',\r\n  styleUrls: ['./camera.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class CameraComponent implements OnInit {\r\n\r\n  constructor(\r\n    public dataService: JdesignDataService,\r\n    private domService: DomUpdateService,\r\n    private ref: ChangeDetectorRef,\r\n    private DUService: JdesignUtil2dService\r\n  ) {\r\n    this.domService.svgCamera.subscribe(() => {\r\n      this.ref.detectChanges()\r\n    })\r\n  }\r\n\r\n  ngOnInit() {\r\n    if (this.dataService.cmd.common.initLog) {\r\n      this.DUService.out.redLog('camera is ok!!')\r\n    }\r\n  }\r\n\r\n  /** 获取transform */\r\n  getTransform() {\r\n    let cosA = Math.cos(this.dataService.camera.radian)\r\n    let sinA = Math.sin(this.dataService.camera.radian)\r\n    let transform = this.DUService.pos.getTransfromString(cosA, sinA, -sinA, cosA, this.dataService.camera.pos.x, this.dataService.camera.pos.y)\r\n    return transform\r\n  }\r\n\r\n  /** 获取fill */\r\n  getFill() {\r\n    let string = `url(#${this.dataService.camera.id})`\r\n    return string\r\n  }\r\n\r\n  @HostListener('mousedown', ['$event']) onmousedown(e: MouseEvent) {\r\n    this.dataService.cache.common.choose = this.dataService.camera\r\n    this.dataService.cache.common.firstPos = { x: e.offsetX, y: e.offsetY }\r\n    this.dataService.cache.common.blockON = true\r\n    this.domService.allSvg.emit()\r\n    this.dataService.cache.common.initUpdate()\r\n  }\r\n\r\n  setMode(mode: string) {\r\n    this.dataService.camera.mode = mode\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { CameraComponent } from './camera.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  declarations: [CameraComponent],\r\n  exports: [CameraComponent]\r\n})\r\nexport class CameraModule { }\r\n","module.exports = \".line_path {\\n  stroke: #1ad6bd;\\n}\\n\\n.point_circle {\\n  fill: #f0e225;\\n  stroke: #331d3b;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc3ZnL2RvbS9jb21tb24vYWJzb3JiLWxpbmVzL0Q6XFxrbm93bGVkZ2VcXGhnXFxvbGRcXG9sZFJvb20vc3JjXFxhcHBcXHN2Z1xcZG9tXFxjb21tb25cXGFic29yYi1saW5lc1xcYWJzb3JiLWxpbmVzLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9zdmcvZG9tL2NvbW1vbi9hYnNvcmItbGluZXMvYWJzb3JiLWxpbmVzLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksZUFBQTtBQ0NKOztBREVBO0VBQ0ksYUFBQTtFQUNBLGVBQUE7QUNDSiIsImZpbGUiOiJzcmMvYXBwL3N2Zy9kb20vY29tbW9uL2Fic29yYi1saW5lcy9hYnNvcmItbGluZXMuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubGluZV9wYXRoIHtcclxuICAgIHN0cm9rZTogcmdiKDI2LCAyMTQsIDE4OSk7XHJcbn1cclxuXHJcbi5wb2ludF9jaXJjbGUge1xyXG4gICAgZmlsbDogcmdiYSgkY29sb3I6ICNmMGUyMjUsICRhbHBoYTogMS4wKTtcclxuICAgIHN0cm9rZTogcmdiKDUxLCAyOSwgNTkpO1xyXG59IiwiLmxpbmVfcGF0aCB7XG4gIHN0cm9rZTogIzFhZDZiZDtcbn1cblxuLnBvaW50X2NpcmNsZSB7XG4gIGZpbGw6ICNmMGUyMjU7XG4gIHN0cm9rZTogIzMzMWQzYjtcbn0iXX0= */\"","import { Component, OnInit, ChangeDetectorRef, ChangeDetectionStrategy, Input, Output, EventEmitter } from '@angular/core';\r\nimport { JdesignUtil2dService } from '../../../../services/jdesign-util2d.service';\r\nimport { DesignCommon as DC } from '../../../common/class/DesignCommon'\r\n\r\n@Component({\r\n  selector: '[absorbLines]',\r\n  templateUrl: './absorb-lines.component.html',\r\n  styleUrls: ['./absorb-lines.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class AbsorbLinesComponent implements OnInit {\r\n\r\n  absorbLine={\r\n    data:null,\r\n    ref:this.ref\r\n  }\r\n\r\n  @Output() ABEvent: EventEmitter<object> = new EventEmitter<object>()\r\n\r\n  constructor(\r\n    private DUService: JdesignUtil2dService,\r\n    private ref: ChangeDetectorRef,\r\n  ) {\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.ABEvent.emit(this.absorbLine)\r\n  }\r\n\r\n  /** 获取path */\r\n  getPath(line: { pos: DC.Pos, radian: number, radius?: number }) {\r\n    !line.radius ? line.radius = 100000 : null\r\n    let rayPosA = this.DUService.pos.getRayPos(line.pos, line.radian, line.radius)\r\n    let rayPosB = this.DUService.pos.getRayPos(line.pos, line.radian, -line.radius)\r\n    let path: string = this.DUService.svg.getPath(false, rayPosA, rayPosB)\r\n    return path\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { AbsorbLinesComponent } from './absorb-lines.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  declarations: [AbsorbLinesComponent],\r\n  exports: [AbsorbLinesComponent]\r\n})\r\nexport class AbsorbLinesModule { }\r\n","module.exports = \".label_circle {\\n  fill: #ffffff;\\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\\n  stroke: #257ab9;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc3ZnL2RvbS9jb21tb24vbGFiZWwtY2lyY2xlL0Q6XFxrbm93bGVkZ2VcXGhnXFxvbGRcXG9sZFJvb20vc3JjXFxhcHBcXHN2Z1xcZG9tXFxjb21tb25cXGxhYmVsLWNpcmNsZVxcbGFiZWwtY2lyY2xlLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9zdmcvZG9tL2NvbW1vbi9sYWJlbC1jaXJjbGUvbGFiZWwtY2lyY2xlLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksYUFBQTtFQUNBLDZDQUFBO0VBQ0EsZUFBQTtBQ0NKIiwiZmlsZSI6InNyYy9hcHAvc3ZnL2RvbS9jb21tb24vbGFiZWwtY2lyY2xlL2xhYmVsLWNpcmNsZS5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5sYWJlbF9jaXJjbGUge1xyXG4gICAgZmlsbDogI2ZmZmZmZjtcclxuICAgIC13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwKTtcclxuICAgIHN0cm9rZTogIzI1N2FiOTtcclxufSIsIi5sYWJlbF9jaXJjbGUge1xuICBmaWxsOiAjZmZmZmZmO1xuICAtd2Via2l0LXRhcC1oaWdobGlnaHQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMCk7XG4gIHN0cm9rZTogIzI1N2FiOTtcbn0iXX0= */\"","import { Component, OnInit, Input, ElementRef, AfterViewChecked } from '@angular/core';\r\n\r\n@Component({\r\n  selector: '[labelCircle]',\r\n  templateUrl: './label-circle.component.html',\r\n  styleUrls: ['./label-circle.component.scss']\r\n})\r\nexport class LabelCircleComponent implements OnInit, AfterViewChecked {\r\n\r\n  private _data: {\r\n    r: number;\r\n    overR: number;\r\n    data: {\r\n      pos: { x: number; y: number };\r\n      func: (e: MouseEvent) => void;\r\n    }[];\r\n    transform?: string;\r\n    otherTransform?:string;\r\n  }\r\n\r\n  circleClass: string = 'label_circle'\r\n\r\n  @Input() set labelCircle(data) {\r\n    this._data = data\r\n    // this.setMouseOver()\r\n    // this.ref.detectChanges()\r\n  }\r\n  get labelCircle() { return this._data }\r\n\r\n  constructor(private el: ElementRef) { }\r\n\r\n  /** 设置半径 */\r\n  setRadius(ele: Element, r: number) {\r\n    ele.setAttribute('r', r.toString())\r\n  }\r\n\r\n\r\n  setMouseOver() {\r\n    let dom = <Document>this.el.nativeElement\r\n    let circles = <any>dom.getElementsByClassName(this.circleClass)\r\n    for (let i = 0; i < circles.length; i++) {\r\n      circles[i].onmouseover = () => {\r\n        this.setRadius(circles[i], this.labelCircle.overR)\r\n      }\r\n\r\n      circles[i].onmouseleave = () => {\r\n        this.setRadius(circles[i], this.labelCircle.r)\r\n      }\r\n\r\n      circles[i].onmousedown = (e) => {\r\n        this.labelCircle.data[i].func(e)\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  ngAfterViewChecked() {\r\n    this.setMouseOver()\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { LabelCircleComponent } from './label-circle.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  declarations: [LabelCircleComponent],\r\n  exports: [LabelCircleComponent]\r\n})\r\nexport class LabelCircleModule { }\r\n","module.exports = \".label_img {\\n  text-align: center;\\n}\\n\\n.label_line {\\n  stroke: #5f5f5f;\\n}\\n\\n.label_text {\\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\\n  text-anchor: middle;\\n  font-family: \\\"Frutiger Next LT W1G\\\", Calibri, Arial, Helvetica, sans-serif;\\n  fill: #5f5f5f;\\n  font-weight: 900;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc3ZnL2RvbS9jb21tb24vbGFiZWwtbGluZXMvRDpcXGtub3dsZWRnZVxcaGdcXG9sZFxcb2xkUm9vbS9zcmNcXGFwcFxcc3ZnXFxkb21cXGNvbW1vblxcbGFiZWwtbGluZXNcXGxhYmVsLWxpbmVzLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9zdmcvZG9tL2NvbW1vbi9sYWJlbC1saW5lcy9sYWJlbC1saW5lcy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGtCQUFBO0FDQ0o7O0FERUE7RUFDSSxlQUFBO0FDQ0o7O0FERUE7RUFDSSw2Q0FBQTtFQUNBLG1CQUFBO0VBQ0EsMEVBQUE7RUFDQSxhQUFBO0VBQ0EsZ0JBQUE7QUNDSiIsImZpbGUiOiJzcmMvYXBwL3N2Zy9kb20vY29tbW9uL2xhYmVsLWxpbmVzL2xhYmVsLWxpbmVzLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmxhYmVsX2ltZyB7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbn1cclxuXHJcbi5sYWJlbF9saW5lIHtcclxuICAgIHN0cm9rZTogIzVmNWY1ZjtcclxufVxyXG5cclxuLmxhYmVsX3RleHQge1xyXG4gICAgLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOiByZ2JhKDAsIDAsIDAsIDApO1xyXG4gICAgdGV4dC1hbmNob3I6IG1pZGRsZTtcclxuICAgIGZvbnQtZmFtaWx5OiBcIkZydXRpZ2VyIE5leHQgTFQgVzFHXCIsIENhbGlicmksIEFyaWFsLCBIZWx2ZXRpY2EsIHNhbnMtc2VyaWY7XHJcbiAgICBmaWxsOiAjNWY1ZjVmO1xyXG4gICAgZm9udC13ZWlnaHQ6IDkwMDtcclxufSIsIi5sYWJlbF9pbWcge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG5cbi5sYWJlbF9saW5lIHtcbiAgc3Ryb2tlOiAjNWY1ZjVmO1xufVxuXG4ubGFiZWxfdGV4dCB7XG4gIC13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwKTtcbiAgdGV4dC1hbmNob3I6IG1pZGRsZTtcbiAgZm9udC1mYW1pbHk6IFwiRnJ1dGlnZXIgTmV4dCBMVCBXMUdcIiwgQ2FsaWJyaSwgQXJpYWwsIEhlbHZldGljYSwgc2Fucy1zZXJpZjtcbiAgZmlsbDogIzVmNWY1ZjtcbiAgZm9udC13ZWlnaHQ6IDkwMDtcbn0iXX0= */\"","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\nimport { DesignCommon as DC } from '../../../common/class/DesignCommon'\r\nimport { JdesignDataService } from '../../../../services/jdesign-data.service';\r\nimport { JdesignUtil2dService } from '../../../../services/jdesign-util2d.service';\r\n\r\n@Component({\r\n  selector: '[labelLines]',\r\n  templateUrl: './label-lines.component.html',\r\n  styleUrls: ['./label-lines.component.scss']\r\n})\r\nexport class LabelLinesComponent implements OnInit {\r\n\r\n  private _data: LabelType\r\n  private _transformMsg: TransformMsg = null\r\n  domDatas: DomType[] = []\r\n  defualtDasharray: string = '50,50'\r\n  moveTransfrom: string = this.DUService.pos.getTransformStringByRM({})\r\n  rotateTransform: string = this.DUService.pos.getTransformStringByRM({})\r\n\r\n  @Input() set labelLines(data) {\r\n    this._data = data\r\n    this.domDatas = []\r\n    if (data) {\r\n      this.moveTransfrom = this.DUService.pos.getTransformStringByRM(data.movePos ? { movePos: data.movePos } : {})\r\n      this.rotateTransform = this.DUService.pos.getTransformStringByRM(data.moveRadian ? { radian: data.moveRadian } : {})\r\n      for (let i = 0; i < this._data.data.length; i++) {\r\n        this.domDatas.push(this.getDomData(this._data.data[i]))\r\n      }\r\n    }\r\n\r\n  }\r\n  get labelLines() { return this._data }\r\n\r\n  @Output() labelData = new EventEmitter();\r\n\r\n  constructor(private DUService: JdesignUtil2dService) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  /* 获取html使用的数据 */\r\n  getDomData(lineData: LineType): DomType {\r\n    let textTransform = this.getTextTransform(lineData.line, lineData.radian)\r\n    let a = this.isShow(lineData.line)\r\n    if (!a)\r\n      return undefined\r\n    let data: DomType = {\r\n      path: this.getPath(lineData.line),\r\n      textTransform: lineData.text ? textTransform : undefined,\r\n      transformStart: this.labelLines.img ? this.getTransformStart(lineData.line) : undefined,\r\n      transformEnd: this.labelLines.img ? this.getTransformEnd(lineData.line) : undefined,\r\n      text: lineData.text,\r\n      auxiliaryLines: lineData.auxiliary ? this.getauxiliarypaths(lineData.auxiliary) : [],\r\n      dasharray: lineData.dasharray ? lineData.dasharray : this.defualtDasharray\r\n    }\r\n    return data\r\n  }\r\n\r\n  /* 获取辅助线段paths */\r\n  getauxiliarypaths(lines: DC.Pos[][]) {\r\n    let paths: string[] = []\r\n    for (let i = 0; i < lines.length; i++) {\r\n      paths.push(this.DUService.svg.getPath(false, ...lines[i]))\r\n    }\r\n    return paths\r\n  }\r\n\r\n  /** 获取path */\r\n  getPath(line: DC.Pos[]) {\r\n    let newPosArr: DC.Pos[] = []\r\n    for (let i = 0; i < line.length; i++) {\r\n      newPosArr.push({\r\n        x: line[i].x,\r\n        y: line[i].y\r\n      })\r\n    }\r\n    let path: string = this.DUService.svg.getPath(false, ...newPosArr)\r\n\r\n    /** 设置transform */\r\n    this.setTransformMsg(newPosArr)\r\n\r\n    return path\r\n  }\r\n\r\n  /** 设置transfromMsg */\r\n  setTransformMsg(line: DC.Pos[]) {\r\n    let radian: number = this.DUService.pos.getRadian(line[0], line[1])\r\n    let sinA = Math.sin(radian)\r\n    let cosA = Math.cos(radian)\r\n    this._transformMsg = {\r\n      radian: radian,\r\n      sin: sinA,\r\n      cos: cosA\r\n    }\r\n  }\r\n\r\n  /** 获取头transform信息 */\r\n  getTransformStart(line: DC.Pos[]) {\r\n    let transform = this.DUService.pos.getTransfromString(\r\n      this._transformMsg.cos, this._transformMsg.sin, -this._transformMsg.sin, this._transformMsg.cos, line[0].x , line[0].y )\r\n    return transform\r\n  }\r\n\r\n  /** 获取尾transform信息 */\r\n  getTransformEnd(line: DC.Pos[]) {\r\n    let transform = this.DUService.pos.getTransfromString(\r\n      this._transformMsg.cos, this._transformMsg.sin, -this._transformMsg.sin, this._transformMsg.cos, line[1].x , line[1].y)\r\n    return transform\r\n  }\r\n\r\n  /** 获取文本坐标 */\r\n  getTextTransform(line: DC.Pos[], radian?: number) {\r\n    let cosA = radian ? Math.cos(radian) : 1\r\n    let sinA = radian ? Math.sin(radian) : 0\r\n    let centerPos: DC.Pos = this.DUService.pos.getCenterPos(line[0], line[1])\r\n    let transform = this.DUService.pos.getTransfromString(cosA, sinA, -sinA, cosA, centerPos.x , centerPos.y)\r\n\r\n    this.labelData.emit({\r\n      pos: centerPos\r\n    })\r\n\r\n    return transform\r\n  }\r\n\r\n  /** 是否显示 */\r\n  isShow(line: DC.Pos[]) {\r\n    return !this.DUService.pos.isSamePos(line[0], line[1])\r\n  }\r\n\r\n  /* 获取文字class */\r\n  getTextClass() {\r\n    let className = ''\r\n    if (!this.labelLines.isRemoveStyle)\r\n      className = \"label_text font_size text_shadow \"\r\n    if (this.labelLines.className != undefined) {\r\n      className += this.labelLines.className\r\n    }\r\n    return className\r\n  }\r\n\r\n  getTextStyle() {\r\n    let style = []\r\n    if (this.labelLines.fontSize != undefined) {\r\n      style['font-size'] = this.labelLines.fontSize + 'px'\r\n      style['font-weight'] = 0\r\n    }\r\n    return style\r\n  }\r\n\r\n\r\n}\r\n\r\nclass LineType {\r\n  line: DC.Pos[];\r\n  /* 文本 */\r\n  text?: string;\r\n  /* 文本弧度 */\r\n  radian?: number;\r\n  /* 辅助线段组===== */\r\n  /* 辅助线段 */\r\n  auxiliary?: DC.Pos[][];\r\n  /* 分割距离比 */\r\n  dasharray?: string;\r\n}\r\n\r\nclass LabelType {\r\n  img?: string;\r\n  imgWidth?: number;\r\n  imgHeight?: number;\r\n  data: LineType[]\r\n  movePos?: DC.Pos;\r\n  moveRadian?: number;\r\n  lineThickness: number;\r\n  className?: string;\r\n  fontSize?: number;\r\n  fontWeight?: number;\r\n  isRemoveStyle?: boolean;\r\n}\r\n\r\nclass DomType {\r\n  path: string;\r\n  textTransform: string;\r\n  transformStart: string;\r\n  transformEnd: string;\r\n  text: string;\r\n  auxiliaryLines: string[];\r\n  dasharray: string;\r\n}\r\n\r\nclass TransformMsg {\r\n  radian: number;\r\n  cos: number;\r\n  sin: number;\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { LabelLinesComponent } from './label-lines.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  declarations: [LabelLinesComponent],\r\n  exports: [LabelLinesComponent]\r\n})\r\nexport class LabelLinesModule { }\r\n","module.exports = \".lu_path {\\n  opacity: 0.5;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc3ZnL2RvbS9jb21tb24vcmVwZWF0LXBhdGgvRDpcXGtub3dsZWRnZVxcaGdcXG9sZFxcb2xkUm9vbS9zcmNcXGFwcFxcc3ZnXFxkb21cXGNvbW1vblxccmVwZWF0LXBhdGhcXHJlcGVhdC1wYXRoLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9zdmcvZG9tL2NvbW1vbi9yZXBlYXQtcGF0aC9yZXBlYXQtcGF0aC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLFlBQUE7QUNDSiIsImZpbGUiOiJzcmMvYXBwL3N2Zy9kb20vY29tbW9uL3JlcGVhdC1wYXRoL3JlcGVhdC1wYXRoLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmx1X3BhdGgge1xyXG4gICAgb3BhY2l0eTogMC41O1xyXG59IiwiLmx1X3BhdGgge1xuICBvcGFjaXR5OiAwLjU7XG59Il19 */\"","import { Component, OnInit, Input } from '@angular/core';\n\n@Component({\n  selector: '[repeatPathDatas]',\n  templateUrl: './repeat-path.component.html',\n  styleUrls: ['./repeat-path.component.scss']\n})\nexport class RepeatPathComponent implements OnInit {\n\n  private _pathDatas: LUPathType[]\n  private _ColorData: string[] = ['red', 'blue', \"green\"]\n  private _colorInt: number = 0\n\n  @Input() set repeatPathDatas(data: LUPathType[]) {\n    this._pathDatas = data\n  }\n  get repeatPathDatas() { return this._pathDatas }\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n  getColor() {\n    if (this._colorInt > this._ColorData.length) {\n      this._colorInt = 0\n    }\n    this._colorInt += 1\n    return this._ColorData[this._colorInt - 1]\n  }\n\n}\n\nexport class LUPathType {\n  paths?: string[];\n  transform?: string;\n  children?: LUPathType[];\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RepeatPathComponent } from './repeat-path.component';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  declarations: [RepeatPathComponent],\n  exports: [RepeatPathComponent]\n})\nexport class RepeatPathModule { }\n","module.exports = \".point_circle {\\n  fill: #eb540e;\\n  stroke: #331d3b;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc3ZnL2RvbS9jb21tb24vdGVzdC1zdmcvRDpcXGtub3dsZWRnZVxcaGdcXG9sZFxcb2xkUm9vbS9zcmNcXGFwcFxcc3ZnXFxkb21cXGNvbW1vblxcdGVzdC1zdmdcXHRlc3Qtc3ZnLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9zdmcvZG9tL2NvbW1vbi90ZXN0LXN2Zy90ZXN0LXN2Zy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGFBQUE7RUFDQSxlQUFBO0FDQ0oiLCJmaWxlIjoic3JjL2FwcC9zdmcvZG9tL2NvbW1vbi90ZXN0LXN2Zy90ZXN0LXN2Zy5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5wb2ludF9jaXJjbGUge1xyXG4gICAgZmlsbDogcmdiYSgkY29sb3I6ICNlYjU0MGUsICRhbHBoYTogMS4wKTtcclxuICAgIHN0cm9rZTogcmdiKDUxLCAyOSwgNTkpO1xyXG59IiwiLnBvaW50X2NpcmNsZSB7XG4gIGZpbGw6ICNlYjU0MGU7XG4gIHN0cm9rZTogIzMzMWQzYjtcbn0iXX0= */\"","import { Component, OnInit, ChangeDetectorRef, ChangeDetectionStrategy, Output, EventEmitter } from '@angular/core';\r\n\r\n@Component({\r\n  selector: '[testSvg]',\r\n  templateUrl: './test-svg.component.html',\r\n  styleUrls: ['./test-svg.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n\r\n})\r\nexport class TestSvgComponent implements OnInit {\r\n\r\n  testSvgData = {\r\n    data: null,\r\n    ref: this.ref\r\n  }\r\n\r\n  @Output() TSEvent: EventEmitter<object> = new EventEmitter<object>()\r\n\r\n  constructor(\r\n    private ref: ChangeDetectorRef\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.TSEvent.emit(this.testSvgData)\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { TestSvgComponent } from './test-svg.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  declarations: [TestSvgComponent],\r\n  exports: [TestSvgComponent]\r\n})\r\nexport class TestSvgModule { }\r\n","module.exports = \".CW_path {\\n  fill: white;\\n  stroke: #333333;\\n}\\n\\n.wall_path {\\n  fill: #acacac;\\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\\n  stroke-linejoin: round;\\n  stroke: #333333;\\n  cursor: default;\\n}\\n\\n.win_circle {\\n  fill: #ffffff;\\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\\n  stroke: #257ab9;\\n}\\n\\n.up_path {\\n  fill: #257ab9;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc3ZnL2RvbS9jb3JuZXItd2lucy9jb3JuZXItd2luL0Q6XFxrbm93bGVkZ2VcXGhnXFxvbGRcXG9sZFJvb20vc3JjXFxhcHBcXHN2Z1xcZG9tXFxjb3JuZXItd2luc1xcY29ybmVyLXdpblxcY29ybmVyLXdpbi5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvc3ZnL2RvbS9jb3JuZXItd2lucy9jb3JuZXItd2luL2Nvcm5lci13aW4uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxXQUFBO0VBQ0EsZUFBQTtBQ0NKOztBREVBO0VBQ0ksYUFBQTtFQUNBLDZDQUFBO0VBQ0Esc0JBQUE7RUFDQSxlQUFBO0VBQ0EsZUFBQTtBQ0NKOztBREVBO0VBQ0ksYUFBQTtFQUNBLDZDQUFBO0VBQ0EsZUFBQTtBQ0NKOztBREVBO0VBQ0ksYUFBQTtBQ0NKIiwiZmlsZSI6InNyYy9hcHAvc3ZnL2RvbS9jb3JuZXItd2lucy9jb3JuZXItd2luL2Nvcm5lci13aW4uY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuQ1dfcGF0aCB7XHJcbiAgICBmaWxsOiB3aGl0ZTtcclxuICAgIHN0cm9rZTogIzMzMzMzMztcclxufVxyXG5cclxuLndhbGxfcGF0aCB7XHJcbiAgICBmaWxsOiAjYWNhY2FjO1xyXG4gICAgLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOiByZ2JhKDAsIDAsIDAsIDApO1xyXG4gICAgc3Ryb2tlLWxpbmVqb2luOiByb3VuZDtcclxuICAgIHN0cm9rZTogIzMzMzMzMztcclxuICAgIGN1cnNvcjogZGVmYXVsdDtcclxufVxyXG5cclxuLndpbl9jaXJjbGUge1xyXG4gICAgZmlsbDogI2ZmZmZmZjtcclxuICAgIC13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwKTtcclxuICAgIHN0cm9rZTogIzI1N2FiOTtcclxufVxyXG5cclxuLnVwX3BhdGgge1xyXG4gICAgZmlsbDogIzI1N2FiOVxyXG59XHJcbiIsIi5DV19wYXRoIHtcbiAgZmlsbDogd2hpdGU7XG4gIHN0cm9rZTogIzMzMzMzMztcbn1cblxuLndhbGxfcGF0aCB7XG4gIGZpbGw6ICNhY2FjYWM7XG4gIC13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwKTtcbiAgc3Ryb2tlLWxpbmVqb2luOiByb3VuZDtcbiAgc3Ryb2tlOiAjMzMzMzMzO1xuICBjdXJzb3I6IGRlZmF1bHQ7XG59XG5cbi53aW5fY2lyY2xlIHtcbiAgZmlsbDogI2ZmZmZmZjtcbiAgLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOiByZ2JhKDAsIDAsIDAsIDApO1xuICBzdHJva2U6ICMyNTdhYjk7XG59XG5cbi51cF9wYXRoIHtcbiAgZmlsbDogIzI1N2FiOTtcbn0iXX0= */\"","import { Component, OnInit, Input, DoCheck } from '@angular/core';\r\nimport { CalculatorsService } from '../../../../services/calculators.service';\r\nimport { JdesignUtil2dService } from '../../../../services/jdesign-util2d.service';\r\nimport { JdesignDataService } from '../../../../services/jdesign-data.service';\r\nimport { DomUpdateService } from '../../../../services/dom-update.service';\r\nimport { RightMenuService } from '../../../../services/right-menu.service';\r\nimport { PopDivService } from '../../../../services/pop-div.service';\r\nimport { JCornerWin } from '../../../common/jdesign/JCornerWin';\r\nimport { DesignCommon as DC } from '../../../common/class/DesignCommon'\r\n\r\n@Component({\r\n  selector: '[cornerWin]',\r\n  templateUrl: './corner-win.component.html',\r\n  styleUrls: ['./corner-win.component.scss']\r\n})\r\nexport class CornerWinComponent implements OnInit, DoCheck {\r\n\r\n  private _cornerWin: JCornerWin\r\n  path: string = ''\r\n  transform: string = undefined\r\n\r\n  @Input() set cornerWin(data) {\r\n    this._cornerWin = data\r\n  }\r\n  get cornerWin() { return this._cornerWin }\r\n\r\n  constructor(\r\n    private calService: CalculatorsService,\r\n    private DUService: JdesignUtil2dService,\r\n    public dataService: JdesignDataService,\r\n    private domService: DomUpdateService,\r\n    private rightService: RightMenuService,\r\n    private popService: PopDivService\r\n  ) {\r\n  }\r\n\r\n  ngDoCheck() {\r\n    this.setTransform()\r\n    this.setPath()\r\n  }\r\n\r\n  /** 选中状态 */\r\n  setChoose(e: MouseEvent) {\r\n    this.cornerWin.act3D.start()\r\n    this.dataService.cache.common.choose = this.cornerWin\r\n    this.dataService.cache.common.firstPos = { x: e.offsetX, y: e.offsetY }\r\n    this.dataService.cache.common.blockON = true\r\n    this.dataService.cmd.cowall.hide = true\r\n    this.domService.allSvg.emit()\r\n    this.rightService.wall.emit(null)\r\n  }\r\n\r\n  /** 是否选中 */\r\n  isChoose() {\r\n    return (\r\n      this.dataService.cache.common.choose &&\r\n      this.dataService.cache.common.choose.id == this.cornerWin.id\r\n    )\r\n  }\r\n\r\n\r\n  /** 显示信息 */\r\n  setMsg(e: MouseEvent) {\r\n    if (this.dataService.cmd.floorplan.debugPos != null && this.dataService.cmd.floorplan.debugPos != undefined) {\r\n      let data = {\r\n        text: `${this.cornerWin.id}:{\r\n        point:${this.cornerWin.pointID};\r\n        LRotate:${this.cornerWin.getLRotate()};\r\n        DRotate:${this.cornerWin.getDRotate()};\r\n        LWidth:${this.cornerWin.LWidth};\r\n        DWidth:${this.cornerWin.DWidth};\r\n        LDepth:${this.cornerWin.LDepth};\r\n        DDepth:${this.cornerWin.DDepth};\r\n      }`,\r\n        position: this.dataService.cmd.floorplan.debugPos\r\n      }\r\n      this.popService.message.emit(data)\r\n    }\r\n  }\r\n\r\n  /** 设置path */\r\n  setPath() {\r\n    let outLinePosArr = this.cornerWin.getPathPosArr({ x: 0, y: 0 })\r\n    this.cornerWin.outLine = outLinePosArr\r\n    this.path = this.DUService.svg.getPath(true, ...outLinePosArr)\r\n  }\r\n\r\n  /** 设置transform */\r\n  setTransform() {\r\n    let transformString = this.DUService.pos.getTransfromString(1, 0, 0, 1, this.cornerWin.pos.x, this.cornerWin.pos.y)\r\n    this.transform = transformString\r\n  }\r\n\r\n  /** 获取左边轮廓 */\r\n  getLPath(isWall: boolean) {\r\n    let thickness = isWall ? this.cornerWin.outWallThickness : this.cornerWin.outThickness\r\n    let newLDPos = this.DUService.pos.getRayPos(this.cornerWin.outLine[1], this.cornerWin.LRadian, thickness)\r\n    let distance = this.DUService.pos.getDistance(this.cornerWin.outLine[1], this.cornerWin.outLine[2]) + this.cornerWin.outThickness\r\n    let rayPos = this.DUService.pos.getRayPos(this.cornerWin.outLine[1], this.cornerWin.LRadian + (Math.PI / 2), distance)\r\n    let newLUPos = this.DUService.pos.getRayPos(rayPos, this.cornerWin.LRadian, thickness)\r\n    let path = this.DUService.svg.getPath(true, this.cornerWin.outLine[1], newLDPos, newLUPos, rayPos)\r\n    return path\r\n  }\r\n\r\n  /** 获取下边轮廓 */\r\n  getDPath(isWall: boolean) {\r\n    let thickness = isWall ? this.cornerWin.outWallThickness : this.cornerWin.outThickness\r\n    let newDLPos = this.DUService.pos.getRayPos(this.cornerWin.outLine[5], this.cornerWin.DRadian, thickness)\r\n    let distance = this.DUService.pos.getDistance(this.cornerWin.outLine[5], this.cornerWin.outLine[4]) + this.cornerWin.outThickness\r\n    let rayPos = this.DUService.pos.getRayPos(this.cornerWin.outLine[5], this.cornerWin.DRadian - (Math.PI / 2), distance)\r\n    let newDRPos = this.DUService.pos.getRayPos(rayPos, this.cornerWin.DRadian, thickness)\r\n    let path = this.DUService.svg.getPath(true, this.cornerWin.outLine[5], rayPos, newDRPos, newDLPos)\r\n    return path\r\n  }\r\n\r\n  /** 获取上轮廓 */\r\n  getUPath() {\r\n    let rayPosA = this.DUService.pos.getRayPos(this.cornerWin.outLine[2], this.cornerWin.LRadian + (Math.PI / 2), this.cornerWin.outThickness)\r\n    let shadowPosA = this.DUService.pos.getRayPos(rayPosA, this.cornerWin.LRadian, 10)\r\n    let rayPosB = this.DUService.pos.getRayPos(this.cornerWin.outLine[4], this.cornerWin.DRadian - (Math.PI / 2), this.cornerWin.outThickness)\r\n    let shadowPosB = this.DUService.pos.getRayPos(rayPosB, this.cornerWin.DRadian, 10)\r\n    let intersectPos = this.DUService.pos.getIntersect(rayPosA, shadowPosA, rayPosB, shadowPosB)\r\n    let posArr = [this.cornerWin.outLine[2], rayPosA, intersectPos, rayPosB, this.cornerWin.outLine[4], this.cornerWin.outLine[3]]\r\n    let path = this.DUService.svg.getPath(true, ...posArr)\r\n    return path\r\n  }\r\n\r\n  /** 获取path的特定线段中心坐标 */\r\n  getCenterPos(num: number) {\r\n    return this.DUService.pos.getCenterPos(this.cornerWin.outLine[num], this.cornerWin.outLine[num + 1] ? this.cornerWin.outLine[num + 1] : this.cornerWin.outLine[0])\r\n  }\r\n\r\n  /** 获取点数据 */\r\n  getALLCircleData(transform: string) {\r\n    if (!transform)\r\n      return null\r\n\r\n    let data = {\r\n      r: 96,\r\n      overR: 128,\r\n      data: [\r\n        /** 左 */\r\n        {\r\n          pos: this.getCenterPos(1), func: (e: MouseEvent) => {\r\n            this.cornerWin.mode = 'leftMove'\r\n            this.setChoose(e)\r\n            console.log(\"left\")\r\n          }\r\n        },\r\n        /** 右 */\r\n        {\r\n          pos: this.getCenterPos(3), func: (e: MouseEvent) => {\r\n            this.cornerWin.mode = 'rightMove'\r\n            this.setChoose(e)\r\n            console.log(\"right\")\r\n          }\r\n        },\r\n        /** 上 */\r\n        {\r\n          pos: this.getCenterPos(2), func: (e: MouseEvent) => {\r\n            this.cornerWin.mode = 'upMove'\r\n            this.setChoose(e)\r\n            console.log(\"up\")\r\n          }\r\n        },\r\n        /** 下 */\r\n        {\r\n          pos: this.getCenterPos(4), func: (e: MouseEvent) => {\r\n            this.cornerWin.mode = 'downMove'\r\n            this.setChoose(e)\r\n            console.log(\"down\")\r\n          }\r\n        },\r\n      ],\r\n      transform: transform\r\n    }\r\n    return data\r\n  }\r\n\r\n  /** 激活窗 */\r\n  setActive(e: MouseEvent) {\r\n    if (e.which == 1) {\r\n      this.setChoose(e)\r\n      this.dataService.cache.cornerWin.hideAllCircle = false\r\n      this.dataService.cache.cornerWin.hideMoveCircle = true\r\n      this.cornerWin.mode = 'move'\r\n      this.domService.svgCornerWin.emit()\r\n    }\r\n    else if (e.which == 3) {\r\n      this.rightService.cornWin.emit({ e: e, cornerWin: this.cornerWin })\r\n    }\r\n  }\r\n\r\n  /** 获取标注线 */\r\n  getLabelLines() {\r\n    /* 判断 */\r\n    if (this.cornerWin.outLine == undefined || this.cornerWin.outLine == null || this.cornerWin.outLine.length != 6)\r\n      return null\r\n    /* 主体数据 */\r\n    let datas = {\r\n      img: this.dataService.cmd.cornerWin.ico.url,\r\n      imgWidth: this.dataService.cmd.cornerWin.ico.width,\r\n      imgHeight: this.dataService.cmd.cornerWin.ico.height,\r\n      data: [],\r\n      movePos: this.cornerWin.pos\r\n    }\r\n    let text: number | string = null\r\n    /* 获取单独标签数据方法 */\r\n    let getDataFunc = (posArr: DC.Pos[]) => {\r\n      text = this.dataService.cmd.getPixelTransLength(this.DUService.pos.getDistance(posArr[0], posArr[1]), 'mm')\r\n      text = parseInt(text.toFixed(0))\r\n      return {\r\n        line: [posArr[0], posArr[1]],\r\n        text: text\r\n      }\r\n    }\r\n\r\n    /** 左深度 */\r\n    let newPosArr = this.DUService.pos.getPosTrans(this.cornerWin.outLine[0], this.cornerWin.outLine[1], -this.dataService.cmd.cornerWin.depthHeight)\r\n    datas.data.push(getDataFunc(newPosArr))\r\n\r\n    /** 下深度 */\r\n    newPosArr = this.DUService.pos.getPosTrans(this.cornerWin.outLine[5], this.cornerWin.outLine[0], -this.dataService.cmd.cornerWin.depthHeight)\r\n    datas.data.push(getDataFunc(newPosArr))\r\n\r\n    /** 左宽度 */\r\n    newPosArr = this.DUService.pos.getPosTrans(this.cornerWin.outLine[1], this.cornerWin.outLine[2], this.dataService.cmd.cornerWin.widthHight + this.cornerWin.LThickness)\r\n    datas.data.push(getDataFunc(newPosArr))\r\n\r\n    /** 下宽度 */\r\n    newPosArr = this.DUService.pos.getPosTrans(this.cornerWin.outLine[4], this.cornerWin.outLine[5], this.dataService.cmd.cornerWin.widthHight + this.cornerWin.DThickness)\r\n    datas.data.push(getDataFunc(newPosArr))\r\n\r\n    return datas\r\n  }\r\n\r\n\r\n  ngOnInit() {\r\n    this.cornerWin.lateChooseFuncArr.push(() => {\r\n      this.popService.panelRight.emit(this.cornerWin)\r\n    })\r\n  }\r\n\r\n}\r\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3N2Zy9kb20vY29ybmVyLXdpbnMvY29ybmVyLXdpbnMuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit, ChangeDetectorRef, ChangeDetectionStrategy } from '@angular/core';\r\nimport { JdesignUtil2dService } from '../../../services/jdesign-util2d.service';\r\nimport { JdesignDataService } from '../../../services/jdesign-data.service';\r\nimport { DomUpdateService } from '../../../services/dom-update.service';\r\n\r\n@Component({\r\n  selector: '[cornerWins]',\r\n  templateUrl: './corner-wins.component.html',\r\n  styleUrls: ['./corner-wins.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class CornerWinsComponent implements OnInit {\r\n\r\n  constructor(\r\n    private DUService: JdesignUtil2dService,\r\n    public dataService: JdesignDataService,\r\n    private domService: DomUpdateService,\r\n    private ref: ChangeDetectorRef\r\n  ) {\r\n    this.domService.svgCornerWin.subscribe(() => {\r\n      this.ref.detectChanges()\r\n    })\r\n  }\r\n\r\n  ngOnInit() {\r\n    if (this.dataService.cmd.common.initLog) {\r\n      this.DUService.out.redLog('cornWins is ok!!')\r\n    }\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { CornerWinsComponent } from './corner-wins.component';\r\nimport { CornerWinComponent } from './corner-win/corner-win.component';\r\nimport { LabelCircleModule } from '../common/label-circle/label-circle.module';\r\nimport { LabelLinesModule } from '../common/label-lines/label-lines.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    LabelCircleModule,\r\n    LabelLinesModule\r\n  ],\r\n  declarations: [CornerWinsComponent, CornerWinComponent],\r\n  exports: [CornerWinsComponent]\r\n})\r\nexport class CornerWinsModule { }\r\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3N2Zy9kb20vY293YWxscy9jb3dhbGwtc2hhZG93L2Nvd2FsbC1zaGFkb3cuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit, ChangeDetectorRef } from '@angular/core';\r\nimport { JdesignDataService } from '../../../../services/jdesign-data.service';\r\nimport { JdesignUtil2dService } from '../../../../services/jdesign-util2d.service';\r\nimport { DomUpdateService } from '../../../../services/dom-update.service';\r\nimport { DesignCommon as DC } from '../../../common/class/DesignCommon'\r\nimport { CalculatorsService } from '../../../../services/calculators.service';\r\nimport { PopDivService } from '../../../../services/pop-div.service';\r\n\r\n@Component({\r\n  selector: '[cowall-shadow]',\r\n  templateUrl: './cowall-shadow.component.html',\r\n  styleUrls: ['./cowall-shadow.component.scss']\r\n})\r\nexport class CowallShadowComponent implements OnInit {\r\n\r\n  transformMsg: {\r\n    radian: number,\r\n    cos: number,\r\n    sin: number,\r\n  } = null\r\n  labelPosArr: DC.Pos[] = [{ x: 0, y: 0 }, { x: 0, y: 0 }]\r\n\r\n  constructor(\r\n    private dataService: JdesignDataService,\r\n    private DUService: JdesignUtil2dService,\r\n    private domService: DomUpdateService,\r\n    private ref: ChangeDetectorRef,\r\n    private calService: CalculatorsService,\r\n    private popService: PopDivService\r\n  ) {\r\n    this.domService.svgCowallShadow.subscribe(() => {\r\n      this.ref.detectChanges()\r\n    })\r\n  }\r\n\r\n  ngOnInit() {\r\n    if (this.dataService.cmd.common.initLog) {\r\n      this.DUService.out.redLog('cowall-shadow is ok!!')\r\n    }\r\n  }\r\n\r\n  /** 返回是否为 */\r\n  isShow() {\r\n    if (this.dataService.cmd != undefined\r\n      && this.dataService.cache.common.mode == 'drawWall'\r\n      && this.dataService.cache.wall.ShadowPosArr != null\r\n      && !this.DUService.pos.isSamePos(this.dataService.cache.wall.ShadowPosArr[0], this.dataService.cache.wall.ShadowPosArr[1])\r\n    )\r\n      return true\r\n    else\r\n      return false\r\n  }\r\n\r\n  /** 数据获取 */\r\n  getLabelData() {\r\n    let line = this.DUService.pos.getPosTrans(this.dataService.cache.wall.ShadowPosArr[0], this.dataService.cache.wall.ShadowPosArr[1], -(this.dataService.cmd.wall.thickness / 2 + this.dataService.cmd.cowall.height))\r\n    let distance = this.DUService.pos.getDistance(line[0], line[1])\r\n    distance = this.dataService.cmd.getDefaultLength(distance)\r\n    distance = parseInt(distance.toFixed(0))\r\n    let data = {\r\n      img: this.dataService.cmd.cowall.ico.url,\r\n      imgWidth: this.dataService.cmd.cowall.ico.width,\r\n      imgHeight: this.dataService.cmd.cowall.ico.height,\r\n      data: [{\r\n        line: line,\r\n        text: ''\r\n      }]\r\n\r\n    }\r\n    return data\r\n  }\r\n\r\n}\r\n","module.exports = \".label_img {\\n  text-align: center;\\n}\\n\\n.label_text {\\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\\n  text-anchor: middle;\\n  font-family: \\\"Frutiger Next LT W1G\\\", Calibri, Arial, Helvetica, sans-serif;\\n  font-size: 18px;\\n  text-shadow: #f3f3f3 -1px -1px 0px, #f3f3f3 -1px 1px 0px, #f3f3f3 1px -1px 0px, #f3f3f3 1px 1px 0px;\\n  fill: #5f5f5f;\\n  font-weight: 900;\\n}\\n\\n.label_path {\\n  stroke: #5f5f5f;\\n  stroke-width: 1;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc3ZnL2RvbS9jb3dhbGxzL2Nvd2FsbC9EOlxca25vd2xlZGdlXFxoZ1xcb2xkXFxvbGRSb29tL3NyY1xcYXBwXFxzdmdcXGRvbVxcY293YWxsc1xcY293YWxsXFxjb3dhbGwuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL3N2Zy9kb20vY293YWxscy9jb3dhbGwvY293YWxsLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksa0JBQUE7QUNDSjs7QURFQTtFQUNJLDZDQUFBO0VBQ0EsbUJBQUE7RUFDQSwwRUFBQTtFQUNBLGVBQUE7RUFDQSxtR0FBQTtFQUNBLGFBQUE7RUFDQSxnQkFBQTtBQ0NKOztBREVBO0VBQ0ksZUFBQTtFQUNBLGVBQUE7QUNDSiIsImZpbGUiOiJzcmMvYXBwL3N2Zy9kb20vY293YWxscy9jb3dhbGwvY293YWxsLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmxhYmVsX2ltZyB7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbn1cclxuXHJcbi5sYWJlbF90ZXh0IHtcclxuICAgIC13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwKTtcclxuICAgIHRleHQtYW5jaG9yOiBtaWRkbGU7XHJcbiAgICBmb250LWZhbWlseTogXCJGcnV0aWdlciBOZXh0IExUIFcxR1wiLCBDYWxpYnJpLCBBcmlhbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmO1xyXG4gICAgZm9udC1zaXplOiAxOHB4O1xyXG4gICAgdGV4dC1zaGFkb3c6IHJnYigyNDMsIDI0MywgMjQzKSAtMXB4IC0xcHggMHB4LCByZ2IoMjQzLCAyNDMsIDI0MykgLTFweCAxcHggMHB4LCByZ2IoMjQzLCAyNDMsIDI0MykgMXB4IC0xcHggMHB4LCByZ2IoMjQzLCAyNDMsIDI0MykgMXB4IDFweCAwcHg7XHJcbiAgICBmaWxsOiAjNWY1ZjVmO1xyXG4gICAgZm9udC13ZWlnaHQ6IDkwMDtcclxufVxyXG5cclxuLmxhYmVsX3BhdGgge1xyXG4gICAgc3Ryb2tlOiAjNWY1ZjVmO1xyXG4gICAgc3Ryb2tlLXdpZHRoOiAxXHJcbn0iLCIubGFiZWxfaW1nIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuXG4ubGFiZWxfdGV4dCB7XG4gIC13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwKTtcbiAgdGV4dC1hbmNob3I6IG1pZGRsZTtcbiAgZm9udC1mYW1pbHk6IFwiRnJ1dGlnZXIgTmV4dCBMVCBXMUdcIiwgQ2FsaWJyaSwgQXJpYWwsIEhlbHZldGljYSwgc2Fucy1zZXJpZjtcbiAgZm9udC1zaXplOiAxOHB4O1xuICB0ZXh0LXNoYWRvdzogI2YzZjNmMyAtMXB4IC0xcHggMHB4LCAjZjNmM2YzIC0xcHggMXB4IDBweCwgI2YzZjNmMyAxcHggLTFweCAwcHgsICNmM2YzZjMgMXB4IDFweCAwcHg7XG4gIGZpbGw6ICM1ZjVmNWY7XG4gIGZvbnQtd2VpZ2h0OiA5MDA7XG59XG5cbi5sYWJlbF9wYXRoIHtcbiAgc3Ryb2tlOiAjNWY1ZjVmO1xuICBzdHJva2Utd2lkdGg6IDE7XG59Il19 */\"","import { Component, OnInit, Input, DoCheck } from '@angular/core';\r\nimport { JCowall } from '../../../common/jdesign/JCowall';\r\nimport { JdesignDataService } from '../../../../services/jdesign-data.service';\r\nimport { JdesignUtil2dService } from '../../../../services/jdesign-util2d.service';\r\nimport { CalculatorsService } from '../../../../services/calculators.service';\r\nimport { DesignCommon as DC } from '../../../common/class/DesignCommon'\r\nimport { JWall } from '../../../common/jdesign/JWall';\r\nimport { distinct } from 'rxjs/operators';\r\nimport { PopDivService } from '../../../../services/pop-div.service';\r\n\r\n@Component({\r\n  selector: '[cowall]',\r\n  templateUrl: './cowall.component.html',\r\n  styleUrls: ['./cowall.component.scss']\r\n})\r\nexport class CowallComponent implements OnInit, DoCheck {\r\n\r\n  private _cowall: JCowall\r\n  private _distance: number = null\r\n  private _radian: number = undefined\r\n  private _displayText: number = undefined\r\n  inLine: DC.Pos[] = undefined\r\n  labelData: any = undefined\r\n\r\n  @Input() set cowall(data: JCowall) {\r\n    this._cowall = data\r\n  }\r\n  get cowall() { return this._cowall }\r\n\r\n  constructor(\r\n    public dataService: JdesignDataService,\r\n    private DUService: JdesignUtil2dService,\r\n    private calService: CalculatorsService,\r\n    private popService: PopDivService,\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.cowall.lateChooseFuncArr.push(() => {\r\n      // console.log(this.cowall)\r\n      this.popService.panelRight.emit(this.cowall)\r\n    })\r\n  }\r\n\r\n  ngDoCheck() {\r\n    this.inLine = this.cowall.getDrawInLine()\r\n    if (this.inLine)\r\n      this.labelData = this.getLabelData()\r\n    else\r\n      this.labelData = undefined\r\n  }\r\n\r\n  mouseOver(e: MouseEvent) {\r\n    if (this.dataService.cmd.floorplan.debugPos != null && this.dataService.cmd.floorplan.debugPos != undefined) {\r\n      let data = {\r\n        text: `${this.cowall.id}:{\r\n          edge:${this.cowall.edgeID};\r\n          next:${this.cowall.nextID};\r\n          prev:${this.cowall.prevID};\r\n          partner:${this.cowall.partnerID};\r\n          room:${this.cowall.roomID};\r\n          points:${this.cowall.getPointStart().id},${this.cowall.getPointEnd().id};\r\n          rotate:${this.cowall.getRotate()},\r\n          distance:${this.cowall.getDistance()}\r\n        }`,\r\n        position: this.dataService.cmd.floorplan.debugPos\r\n      }\r\n      this.popService.message.emit(data)\r\n    }\r\n  }\r\n\r\n  /** 获取文本 */\r\n  getText(line: DC.Pos[]) {\r\n    let text = this.cowall.id\r\n    if (!this.dataService.cmd.cowall.displayName) {\r\n      this._distance = this.DUService.pos.getDistance(line[0], line[1])\r\n      // this._distance = this.dataService.cmd.getDefaultLength(this._distance)\r\n      if (\r\n        !this.cowall.labelDisplay || (\r\n          this.dataService.cache.common.mode != 'normal' &&\r\n          this.dataService.cache.common.choose != null &&\r\n          this.dataService.cache.common.choose.type == \"wall\"\r\n        )\r\n      )\r\n        return ''\r\n      // let numText = this._distance.toString().split('.')[0]\r\n      let numText = this._distance.toFixed(0)\r\n      text = numText\r\n    }\r\n    return text\r\n  }\r\n\r\n  /* 数据获取(调试模式) */\r\n  getLabelDataDebug() {\r\n    let radian = this.DUService.pos.getRadian(this.inLine[0], this.inLine[1])\r\n    radian = this.DUService.pos.getLimitRadian(radian, Math.PI / 2)\r\n    let data = {\r\n      img: this.dataService.cmd.cowall.ico.url,\r\n      imgWidth: this.dataService.cmd.cowall.ico.width,\r\n      imgHeight: this.dataService.cmd.cowall.ico.height,\r\n      className: this.cowall.id,\r\n      fontSize: 100,\r\n      isRemoveStyle: true,\r\n      data: [{\r\n        line: this.inLine,\r\n        text: this.cowall.id,\r\n        radian: radian\r\n      }]\r\n    }\r\n    return data\r\n  }\r\n\r\n  /** 数据获取 */\r\n  getLabelData() {\r\n    if (this.dataService.cache.floorplan.display.inLabel_inOrCenterWall) {\r\n      this.inLine = this.DUService.pos.getPosTrans(this.inLine[0], this.inLine[1], -this.dataService.cmd.cowall.height)\r\n    }\r\n    else {\r\n      let posArr = this.cowall.getPosArr()\r\n      this.inLine = this.DUService.pos.getPosTrans(posArr[0], posArr[1], -this.dataService.cmd.cowall.height)\r\n    }\r\n    if (!this.inLine)\r\n      return undefined\r\n    let radian = this.DUService.pos.getRadian(this.inLine[0], this.inLine[1])\r\n    this._radian = radian\r\n    radian = this.DUService.pos.getLimitRadian(radian, Math.PI / 2)\r\n    let data = {\r\n      img: this.dataService.cmd.cowall.ico.url,\r\n      imgWidth: this.dataService.cmd.cowall.ico.width,\r\n      imgHeight: this.dataService.cmd.cowall.ico.height,\r\n      className: this.cowall.id,\r\n      data: [{\r\n        line: this.inLine,\r\n        // text: this.getText(this.inLine),\r\n        text: this.cowall.id,\r\n        radian: radian\r\n      }]\r\n    }\r\n    return data\r\n  }\r\n\r\n  /** 设置输出 */\r\n  setInput(event) {\r\n    // this.isInPut(this._distance, event.pos)\r\n    let displayDistance = this.DUService.pos.getDistance(this.inLine[0], this.inLine[1])\r\n    this.dataService.cache.cowall.inputData[this.cowall.id] = {\r\n      pos: event.pos,\r\n      text: this._distance,\r\n      radian: this._radian,\r\n      displayText: displayDistance,\r\n      distance: this._distance\r\n    }\r\n  }\r\n\r\n  /** 是否显示 */\r\n  isShow() {\r\n    let posArr = this.cowall.getPosArr()\r\n    let a = !this._cowall.getWall().isVeryShort && !this.DUService.pos.isSamePos(posArr[0], posArr[1])\r\n    return a\r\n  }\r\n\r\n}\r\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3N2Zy9kb20vY293YWxscy9jb3dhbGxzLmNvbXBvbmVudC5zY3NzIn0= */\"","import { Component, OnInit, ChangeDetectorRef, ChangeDetectionStrategy } from '@angular/core';\r\nimport { JdesignDataService } from '../../../services/jdesign-data.service';\r\nimport { JdesignUtil2dService } from '../../../services/jdesign-util2d.service';\r\nimport { DomUpdateService } from '../../../services/dom-update.service';\r\nimport { JCowall } from '../../common/jdesign/JCowall';\r\n\r\n@Component({\r\n  selector: '[cowalls]',\r\n  templateUrl: './cowalls.component.html',\r\n  styleUrls: ['./cowalls.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class CowallsComponent implements OnInit {\r\n\r\n  constructor(\r\n    private ref: ChangeDetectorRef,\r\n    public dataService: JdesignDataService,\r\n    private DUService: JdesignUtil2dService,\r\n    private domSerive: DomUpdateService,\r\n  ) {\r\n    this.domSerive.svgCowall.subscribe(() => {\r\n      this.ref.detectChanges()\r\n    })\r\n  }\r\n\r\n  ngOnInit() {\r\n    if (this.dataService.cmd.common.initLog) {\r\n      this.DUService.out.redLog('cowalls is ok!!')\r\n    }\r\n  }\r\n\r\n  getCowallArr() {\r\n    let cowalls: JCowall[] = this.DUService.cal.getStringArrByNum(this.dataService.cowalls)\r\n    return cowalls\r\n  }\r\n\r\n  isDisplayOutLine() {\r\n    // let a = (\r\n    //   this.dataService.cache.floorplan.display.outLabel_inLine || this.dataService.cache.floorplan.display.outLabel_outLine ||\r\n    //   this.dataService.cache.floorplan.display.outLabel_thickness)\r\n    let a = this.dataService.cache.floorplan.display.outLabel\r\n    return a\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { CowallsComponent } from './cowalls.component';\r\nimport { CowallComponent } from './cowall/cowall.component';\r\nimport { CowallShadowComponent } from './cowall-shadow/cowall-shadow.component';\r\nimport { LabelLinesModule } from '../common/label-lines/label-lines.module';\r\nimport { OutLabelComponent } from './out-label/out-label.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    LabelLinesModule\r\n  ],\r\n  declarations: [CowallsComponent, CowallComponent, CowallShadowComponent, OutLabelComponent],\r\n  exports: [CowallsComponent]\r\n})\r\nexport class CowallsModule { }\r\n","import { DesignCommon as DC } from '../../../common/class/DesignCommon'\r\nimport { JdesignUtil2dService } from '../../../../services/jdesign-util2d.service';\r\nimport { CalculatorsService } from '../../../../services/calculators.service';\r\nimport { LinePoint } from './TransOutLines';\r\n\r\nexport class AnalysisOutLines {\r\n    constructor(\r\n        private DUService: JdesignUtil2dService,\r\n        private calService: CalculatorsService\r\n    ) {\r\n\r\n    }\r\n\r\n    /* 通过线段方向分类 */\r\n    getMsgsByLineCompass(msgs: LinePoint[]) {\r\n        let LMsgs: LinePoint[] = []\r\n        let RMsgs: LinePoint[] = []\r\n        let DMsgs: LinePoint[] = []\r\n        let UMsgs: LinePoint[] = []\r\n        /** 判断是否轴上相同 */\r\n        let func = (arr: LinePoint[], msg: LinePoint, isVertical: boolean) => {\r\n            let minDistance = 1\r\n            let same = false\r\n            /** 垂直 */\r\n            if (isVertical) {\r\n                for (let i = 0; i < arr.length; i++) {\r\n                    let absDistance = Math.abs(arr[i].pos.y - msg.pos.y)\r\n                    let sameDistance = Math.abs(arr[i].length - msg.length)\r\n                    if (absDistance <= minDistance && sameDistance <= minDistance) {\r\n                        same = true\r\n                        break\r\n                    }\r\n                }\r\n                if (!same)\r\n                    arr.push(msg)\r\n            }\r\n            /** 水平 */\r\n            else {\r\n                for (let i = 0; i < arr.length; i++) {\r\n                    let absDistance = Math.abs(arr[i].pos.x - msg.pos.x)\r\n                    let sameDistance = Math.abs(arr[i].length - msg.length)\r\n                    if (absDistance <= minDistance && sameDistance <= minDistance) {\r\n                        same = true\r\n                        break\r\n                    }\r\n                }\r\n                if (!same)\r\n                    arr.push(msg)\r\n            }\r\n        }\r\n        /** 对数据进行方向分类 */\r\n        for (let i = 0; i < msgs.length; i++) {\r\n            if (msgs[i] == undefined) {\r\n                i += 1\r\n                if (i >= msgs.length) {\r\n                    break\r\n                }\r\n            }\r\n            /** 垂直 */\r\n            if (msgs[i].isVertical) {\r\n                if (msgs[i].line[0].y > msgs[i].line[1].y) {\r\n                    msgs[i].line[0].x = -1\r\n                    msgs[i].line[1].x = -1\r\n                    func(LMsgs, msgs[i], true)\r\n                }\r\n                else {\r\n                    msgs[i].line[0].x = 1\r\n                    msgs[i].line[1].x = 1\r\n                    func(RMsgs, msgs[i], true)\r\n                }\r\n            }\r\n            /** 水平 */\r\n            else {\r\n                if (msgs[i].line[0].x < msgs[i].line[1].x) {\r\n                    msgs[i].line[0].y = -1\r\n                    msgs[i].line[1].y = -1\r\n                    func(UMsgs, msgs[i], false)\r\n                }\r\n                else {\r\n                    msgs[i].line[0].y = 1\r\n                    msgs[i].line[1].y = 1\r\n                    func(DMsgs, msgs[i], false)\r\n                }\r\n            }\r\n        }\r\n        /** 长度 */\r\n        this.DUService.cal.bubbleSortByAttr(LMsgs, 'length')\r\n        this.DUService.cal.bubbleSortByAttr(RMsgs, 'length')\r\n        this.DUService.cal.bubbleSortByAttr(UMsgs, 'length')\r\n        this.DUService.cal.bubbleSortByAttr(DMsgs, 'length')\r\n        return [LMsgs, RMsgs, UMsgs, DMsgs]\r\n    }\r\n\r\n    /**\r\n   * 通过位置方向分类\r\n   * @param centerPos \r\n   * @returns (左,右,上,下)\r\n   */\r\n    getMsgsByDirection(centerPos: DC.Pos, msgs: LinePoint[]) {\r\n        let LMsgs: LinePoint[] = []\r\n        let RMsgs: LinePoint[] = []\r\n        let DMsgs: LinePoint[] = []\r\n        let UMsgs: LinePoint[] = []\r\n        /** 判断是否轴上相同 */\r\n        let func = (arr: LinePoint[], msg: LinePoint, isVertical: boolean) => {\r\n            let minDistance = 1\r\n            let same = false\r\n            /** 垂直 */\r\n            if (isVertical) {\r\n                for (let i = 0; i < arr.length; i++) {\r\n                    let absDistance = Math.abs(arr[i].pos.y - msg.pos.y)\r\n                    let sameDistance = Math.abs(arr[i].length - msg.length)\r\n                    if (absDistance <= minDistance && sameDistance <= minDistance) {\r\n                        same = true\r\n                        break\r\n                    }\r\n                }\r\n                if (!same)\r\n                    arr.push(msg)\r\n            }\r\n            /** 水平 */\r\n            else {\r\n                for (let i = 0; i < arr.length; i++) {\r\n                    let absDistance = Math.abs(arr[i].pos.x - msg.pos.x)\r\n                    let sameDistance = Math.abs(arr[i].length - msg.length)\r\n                    if (absDistance <= minDistance && sameDistance <= minDistance) {\r\n                        same = true\r\n                        break\r\n                    }\r\n                }\r\n                if (!same)\r\n                    arr.push(msg)\r\n            }\r\n        }\r\n        /** 对数据进行方向分类 */\r\n        for (let i = 0; i < msgs.length; i++) {\r\n            if (msgs[i] == undefined) {\r\n                i += 1\r\n                if (i >= msgs.length) {\r\n                    break\r\n                }\r\n            }\r\n            /** 垂直 */\r\n            if (msgs[i].isVertical) {\r\n                if (msgs[i].pos.x <= centerPos.x) {\r\n                    func(LMsgs, msgs[i], true)\r\n                }\r\n                else {\r\n                    func(RMsgs, msgs[i], true)\r\n                }\r\n            }\r\n            /** 水平 */\r\n            else {\r\n                if (msgs[i].pos.y <= centerPos.y) {\r\n                    func(UMsgs, msgs[i], false)\r\n                }\r\n                else {\r\n                    func(DMsgs, msgs[i], false)\r\n                }\r\n            }\r\n        }\r\n        /** 长度 */\r\n        this.DUService.cal.bubbleSortByAttr(LMsgs, 'length')\r\n        this.DUService.cal.bubbleSortByAttr(RMsgs, 'length')\r\n        this.DUService.cal.bubbleSortByAttr(UMsgs, 'length')\r\n        this.DUService.cal.bubbleSortByAttr(DMsgs, 'length')\r\n        return [LMsgs, RMsgs, UMsgs, DMsgs]\r\n    }\r\n\r\n    /** 获取合并线 */\r\n    getCombineLines(lineMsgs: LinePoint[], compass: string) {\r\n        let headPos: DC.Pos = undefined\r\n        let endPos: DC.Pos = undefined\r\n        let originLine: DC.Pos[] = [undefined, undefined]\r\n        compass = compass.toUpperCase()\r\n        let int = 0\r\n        let func = (cb: (line: LinePoint) => void) => {\r\n            for (let i = 0; i < lineMsgs.length; i++) {\r\n                int++\r\n                cb(lineMsgs[i])\r\n            }\r\n        }\r\n        switch (compass) {\r\n            case \"U\": case \"D\":\r\n                func((lineMsg) => {\r\n                    let lineStartPos = lineMsg.line[0].x > lineMsg.line[1].x ? lineMsg.line[0] : lineMsg.line[1]\r\n                    let lineEndPos = lineMsg.line[0].x > lineMsg.line[1].x ? lineMsg.line[1] : lineMsg.line[0]\r\n                    if (headPos == undefined || lineStartPos.x > headPos.x) {\r\n                        headPos = lineStartPos\r\n                        let newOriginLine = lineMsg.line[0].x > lineMsg.line[1].x ? lineMsg.originLine[0] : lineMsg.originLine[1]\r\n                        originLine[0] = { x: newOriginLine.x, y: newOriginLine.y }\r\n                        if (endPos == undefined)\r\n                            endPos = headPos\r\n                        else\r\n                            endPos.y = headPos.y\r\n                    }\r\n                    if (endPos == undefined || lineEndPos.x < endPos.x) {\r\n                        endPos = lineEndPos\r\n                        let newOriginLine = lineMsg.line[0].x > lineMsg.line[1].x ? lineMsg.originLine[1] : lineMsg.originLine[0]\r\n                        originLine[1] = { x: newOriginLine.x, y: newOriginLine.y }\r\n                        headPos.y = endPos.y\r\n                    }\r\n                })\r\n                break;\r\n            case \"L\": case \"R\":\r\n                func((lineMsg) => {\r\n                    let lineStartPos = lineMsg.line[0].y > lineMsg.line[1].y ? lineMsg.originLine[0] : lineMsg.originLine[1]\r\n                    let lineEndPos = lineMsg.line[0].y > lineMsg.line[1].y ? lineMsg.line[1] : lineMsg.line[0]\r\n                    if (headPos == undefined || lineStartPos.y > headPos.y) {\r\n                        headPos = lineStartPos\r\n                        let newOriginLine = lineMsg.line[0].y > lineMsg.line[1].y ? lineMsg.originLine[0] : lineMsg.originLine[1]\r\n                        originLine[0] = { x: newOriginLine.x, y: newOriginLine.y }\r\n                        if (endPos == undefined)\r\n                            endPos = headPos\r\n                        else\r\n                            endPos.x = headPos.x\r\n                    }\r\n                    if (endPos == undefined || lineEndPos.y < endPos.y) {\r\n                        let newOriginLine = lineMsg.line[0].y > lineMsg.line[1].y ? lineMsg.originLine[1] : lineMsg.originLine[0]\r\n                        originLine[1] = { x: newOriginLine.x, y: newOriginLine.y }\r\n                        endPos = lineEndPos\r\n                        headPos.x = endPos.x\r\n                    }\r\n                })\r\n                break;\r\n        }\r\n        if (!endPos || !headPos)\r\n            return []\r\n        let centerPos = { x: (endPos.x + headPos.x) / 2, y: (endPos.y + headPos.y) / 2 }\r\n        let distance = this.DUService.pos.getDistance(endPos, headPos)\r\n        let newLine: LinePoint = {\r\n            pos: centerPos,\r\n            length: distance,\r\n            isVertical: compass == 'U' || compass == 'D' ? false : true,\r\n            line: [endPos, headPos],\r\n            radian: compass == 'U' || compass == 'D' ? 0 : Math.PI / 2,\r\n            level: lineMsgs[0].level,\r\n            originLine: (originLine[0] && originLine[1]) ? (compass == \"L\" || compass == \"D\") ? originLine : [originLine[1], originLine[0]] : undefined\r\n        }\r\n        return [newLine]\r\n    }\r\n\r\n    /** 获取所有合并线 */\r\n    getCombineAllLines(lineMsgs: LinePoint[][]) {\r\n        let newLineMsgs: LinePoint[][] = []\r\n        newLineMsgs.push(this.getCombineLines(lineMsgs[0], 'L'))\r\n        newLineMsgs.push(this.getCombineLines(lineMsgs[1], 'R'))\r\n        newLineMsgs.push(this.getCombineLines(lineMsgs[2], 'U'))\r\n        newLineMsgs.push(this.getCombineLines(lineMsgs[3], 'D'))\r\n        return newLineMsgs\r\n    }\r\n\r\n    /** 设置线段级数 */\r\n    setMsgsLevel(msgs: LinePoint[], isVertical: boolean, upLevel: number = 0) {\r\n        let maxLevel = 0\r\n        for (let i = 0; i < msgs.length; i++) {\r\n            msgs[i].level = upLevel\r\n            let isIntersect: boolean = false\r\n            let levelInt = 0\r\n            for (let j = 0; j < i; j++) {\r\n                let absDistance = isVertical ? Math.abs(msgs[i].pos.y - msgs[j].pos.y) : Math.abs(msgs[i].pos.x - msgs[j].pos.x)\r\n                let maxDistance = (msgs[i].length + msgs[j].length) / 2\r\n                if (absDistance < maxDistance) {\r\n                    isIntersect = true\r\n                    levelInt = msgs[j].level\r\n                }\r\n            }\r\n            if (isIntersect) {\r\n                msgs[i].level = levelInt + 1\r\n            }\r\n            if (maxLevel < msgs[i].level)\r\n                maxLevel = msgs[i].level\r\n        }\r\n        return maxLevel\r\n    }\r\n}","import { JCowall } from \"../../../common/jdesign/JCowall\";\r\nimport { JdesignUtil2dService } from \"../../../../services/jdesign-util2d.service\";\r\nimport { CalculatorsService } from \"../../../../services/calculators.service\";\r\nimport { JWall } from \"../../../common/jdesign/JWall\";\r\nimport { DesignCommon as DC } from '../../../common/class/DesignCommon'\r\n\r\nexport class TransOutLines {\r\n\r\n    constructor(\r\n        private DUService: JdesignUtil2dService,\r\n        private calService: CalculatorsService\r\n    ) {\r\n\r\n    }\r\n\r\n    /** 墙转信息 */\r\n    wallTransCenterLineMsg(wall: JWall): LinePoint {\r\n        let radian = wall.getRadian()\r\n        if (radian == undefined)\r\n            return undefined\r\n        let isVertical: boolean = false\r\n        if (this.DUService.pos.isParallelRadian(radian, 0)) {\r\n            isVertical = false\r\n        }\r\n        else if (this.DUService.pos.isParallelRadian(radian, Math.PI / 2)) {\r\n            isVertical = true\r\n        }\r\n        else {\r\n            return undefined\r\n        }\r\n        let line = wall.getPosArr()\r\n        let distance = wall.getDistance()\r\n        return {\r\n            pos: { x: (line[0].x + line[1].x) / 2, y: (line[0].y + line[1].y) / 2 },\r\n            level: 0,\r\n            length: distance,\r\n            isVertical: isVertical,\r\n            radian: radian,\r\n            line: this.DUService.obj.clone(line),\r\n            wallID: wall.id,\r\n            originLine: this.DUService.obj.clone(line)\r\n        }\r\n    }\r\n\r\n    /** 有序墙转内线信息 */\r\n    cowallTransInLineMsg(cowall: JCowall): LinePoint {\r\n        let radian = cowall.getRadian()\r\n        if (radian == undefined)\r\n            return undefined\r\n        let isVertical: boolean = false\r\n        if (this.DUService.pos.isParallelRadian(radian, 0)) {\r\n            isVertical = false\r\n        }\r\n        else if (this.DUService.pos.isParallelRadian(radian, Math.PI / 2)) {\r\n            isVertical = true\r\n        }\r\n        else {\r\n            return undefined\r\n        }\r\n        let line = cowall.getInLine()\r\n        let distance = this.DUService.pos.getDistance(line[0], line[1])\r\n        let data: LinePoint = {\r\n            pos: { x: (line[0].x + line[1].x) / 2, y: (line[0].y + line[1].y) / 2 },\r\n            level: 0,\r\n            length: distance,\r\n            isVertical: isVertical,\r\n            radian: radian,\r\n            line: this.DUService.obj.clone(line),\r\n            cowallID: cowall.id,\r\n            originLine: this.DUService.obj.clone(line)\r\n        }\r\n        return data\r\n    }\r\n\r\n    /** 墙转墙厚信息 */\r\n    wallTransThicknessMsg(wall: JWall) {\r\n        let radian = wall.getRadian()\r\n        if (radian == undefined)\r\n            return undefined\r\n        let isVertical: boolean = false\r\n        if (this.DUService.pos.isParallelRadian(radian, 0)) {\r\n            isVertical = false\r\n        }\r\n        else if (this.DUService.pos.isParallelRadian(radian, Math.PI / 2)) {\r\n            isVertical = true\r\n        }\r\n        else {\r\n            return undefined\r\n        }\r\n        let wallPosArr = wall.getPosArr()\r\n        let pointPos = { x: (wallPosArr[0].x + wallPosArr[1].x) / 2, y: (wallPosArr[0].y + wallPosArr[1].y) / 2 }\r\n        radian = radian - Math.PI\r\n        let distance = wall.thickness\r\n        let line = [this.DUService.pos.getRayPos(pointPos, radian, distance), this.DUService.pos.getRayPos(pointPos, radian, -distance)]\r\n        let data = {\r\n            pos: pointPos,\r\n            level: 0,\r\n            length: distance,\r\n            isVertical: !isVertical,\r\n            radian: radian,\r\n            line: this.DUService.obj.clone(line)\r\n        }\r\n        return data\r\n    }\r\n\r\n    /** 墙转线段信息 */\r\n    wallTransLineMsg(wall: JWall, isOut: boolean) {\r\n        let cowalls = wall.getCowallArr()\r\n        let radian = wall.getRadian()\r\n        let isVertical: boolean = false\r\n        if (this.DUService.pos.isParallelRadian(radian, 0)) {\r\n            isVertical = false\r\n        }\r\n        else if (this.DUService.pos.isParallelRadian(radian, Math.PI / 2)) {\r\n            isVertical = true\r\n        }\r\n        else {\r\n            return undefined\r\n        }\r\n        let line = isOut ? wall.getOutLine() : wall.getInLine()\r\n        let distance = this.DUService.pos.getDistance(line[0], line[1])\r\n        let data: LinePoint = {\r\n            pos: { x: (line[0].x + line[1].x) / 2, y: (line[0].y + line[1].y) / 2 },\r\n            level: 0,\r\n            length: distance,\r\n            isVertical: isVertical,\r\n            radian: radian,\r\n            line: this.DUService.obj.clone(line),\r\n            wallID: wall.id,\r\n            originLine: this.DUService.obj.clone(line)\r\n        }\r\n        return data\r\n    }\r\n}\r\n\r\nexport class LinePoint {\r\n    pos: DC.Pos;\r\n    /** 长度 */\r\n    length: number;\r\n    isVertical: boolean;\r\n    line: DC.Pos[];\r\n    radian: number;\r\n    wallID?: string;\r\n    cowallID?: string;\r\n    level?: number;\r\n    isOut?: boolean;\r\n    originLine?: DC.Pos[]\r\n}","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3N2Zy9kb20vY293YWxscy9vdXQtbGFiZWwvb3V0LWxhYmVsLmNvbXBvbmVudC5zY3NzIn0= */\"","import { Component, OnInit, DoCheck } from '@angular/core';\r\nimport { JdesignDataService } from '../../../../services/jdesign-data.service';\r\nimport { CalculatorsService } from '../../../../services/calculators.service';\r\nimport { DesignCommon as DC } from '../../../common/class/DesignCommon'\r\nimport { JWall } from '../../../common/jdesign/JWall';\r\nimport { JdesignUtil2dService } from '../../../../services/jdesign-util2d.service';\r\nimport { JCowall } from '../../../common/jdesign/JCowall';\r\nimport { LinePoint, TransOutLines } from './TransOutLines';\r\nimport { AnalysisOutLines } from './AnalysisOutLines';\r\n\r\n@Component({\r\n  selector: '[outLabel]',\r\n  templateUrl: './out-label.component.html',\r\n  styleUrls: ['./out-label.component.scss']\r\n})\r\nexport class OutLabelComponent implements OnInit, DoCheck {\r\n\r\n  testPosArr: DC.Pos[] = []\r\n  labelData = undefined\r\n  maxLevels: number[] = []\r\n  transOutLines = new TransOutLines(this.DUService, this.calService)\r\n  analysisOutLines = new AnalysisOutLines(this.DUService, this.calService)\r\n  constructor(\r\n    private dataService: JdesignDataService,\r\n    private calService: CalculatorsService,\r\n    private DUService: JdesignUtil2dService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  ngDoCheck() {\r\n    this.maxLevels = [0, 0, 0, 0]\r\n    let rectPosArr = this.getrectPosArr()\r\n    if (rectPosArr && rectPosArr.length == 4) {\r\n      this.testPosArr = rectPosArr\r\n      this.labelData = this.getHeadLabelData()\r\n      this.labelData.data = this.getMainLabelDataByLineCompassTest(rectPosArr)\r\n    }\r\n    else {\r\n      this.labelData = undefined\r\n    }\r\n  }\r\n\r\n  /** 筛选外墙 */\r\n  selectOutWalls(walls: JWall[]) {\r\n    for (let i = walls.length - 1; i >= 0; i--) {\r\n      let cowalls = walls[i].getCowallArr()\r\n      if (cowalls.length == 2)\r\n        walls.splice(i, 1)\r\n      else if (walls[i].getRadian() == undefined) {\r\n        walls.splice(i, 1)\r\n      }\r\n    }\r\n  }\r\n\r\n  /** 收集内外线 */\r\n  collectWallLinePoints(walls: JWall[], isOut: boolean) {\r\n    let msgs: LinePoint[] = []\r\n    for (let i = 0; i < walls.length; i++) {\r\n      let msg: LinePoint = this.transOutLines.wallTransLineMsg(walls[i], isOut)\r\n      if (msg)\r\n        msgs.push(msg)\r\n    }\r\n    return msgs\r\n  }\r\n\r\n  /* 收集点线数据(线段方向版测试) */\r\n  getMainLabelDataByLineCompassTest(rect: DC.Pos[]) {\r\n    let walls: JWall[] = this.calService.transData.getUnArcWalls()\r\n    this.selectOutWalls(walls)\r\n    let labelData = []\r\n    let outMsgs: LinePoint[] = []\r\n    let centerPos = this.getCenterPos(rect[0], rect[2])\r\n    /** 内线计算 */\r\n    outMsgs = this.collectWallLinePoints(walls, false)\r\n    // outMsgs.push(...this.collectWallLinePoints(walls, true))\r\n    let newMsgs = this.analysisOutLines.getMsgsByLineCompass(outMsgs)\r\n    this.setCompassAndLevelMsgs(newMsgs)\r\n    labelData.push(...this.pointLinesTransLabelData(newMsgs, rect))\r\n    /** 外线计算 */\r\n    this.setMaxLevelsPlus(1)\r\n    outMsgs = this.collectWallLinePoints(walls, true)\r\n    newMsgs = this.analysisOutLines.getMsgsByLineCompass(outMsgs)\r\n    this.setCompassAndLevelMsgs(newMsgs, this.maxLevels)\r\n    newMsgs = this.analysisOutLines.getCombineAllLines(newMsgs)\r\n    labelData.push(...this.pointLinesTransLabelData(newMsgs, rect))\r\n    return labelData\r\n  }\r\n\r\n  /* 收集点线数据(线段方向版) */\r\n  getMainLabelDataByLineCompass(rect: DC.Pos[]) {\r\n    let walls: JWall[] = this.calService.transData.getUnArcWalls()\r\n    let cowalls = this.calService.wall.getCowallArr(walls)\r\n    // this.selectOutWalls(walls)\r\n    let labelData = []\r\n    let outMsgs: LinePoint[] = []\r\n    let centerPos = { x: 0, y: 0 }\r\n    /** 内线计算 */\r\n    for (let i = 0; i < cowalls.length; i++) {\r\n      outMsgs.push(this.transOutLines.cowallTransInLineMsg(cowalls[i]))\r\n    }\r\n    let newMsgs = this.analysisOutLines.getMsgsByLineCompass(outMsgs)\r\n    this.setCompassAndLevelMsgs(newMsgs)\r\n    labelData.push(...this.pointLinesTransLabelData(newMsgs, rect))\r\n    return labelData\r\n  }\r\n\r\n  /** 收集点线数据(方向版) */\r\n  getMainLabelDataByCompass(rect: DC.Pos[]) {\r\n    let walls: JWall[] = this.calService.transData.getUnArcWalls()\r\n    this.selectOutWalls(walls)\r\n    let labelData = []\r\n    let outMsgs: LinePoint[] = []\r\n    let centerPos = this.getCenterPos(rect[0], rect[2])\r\n    /** 内线计算 */\r\n    outMsgs = this.collectWallLinePoints(walls, false)\r\n    outMsgs.push(...this.collectWallLinePoints(walls, true))\r\n    let newMsgs = this.analysisOutLines.getMsgsByDirection(centerPos, outMsgs)\r\n    this.setCompassAndLevelMsgs(newMsgs)\r\n    labelData.push(...this.pointLinesTransLabelData(newMsgs, rect))\r\n    return labelData\r\n  }\r\n\r\n  /** 收集点线数据(两层版) */\r\n  getMainLabelDataByTwoLevel(rect: DC.Pos[]) {\r\n    let walls: JWall[] = this.calService.transData.getUnArcWalls()\r\n    this.selectOutWalls(walls)\r\n    let labelData = []\r\n    let outMsgs: LinePoint[] = []\r\n    let centerPos = this.getCenterPos(rect[0], rect[2])\r\n    /** 内线计算 */\r\n    outMsgs = this.collectWallLinePoints(walls, false)\r\n    // outMsgs.push(...this.collectWallLinePoints(walls, true))\r\n    let newMsgs = this.analysisOutLines.getMsgsByDirection(centerPos, outMsgs)\r\n    this.setCompassAndLevelMsgs(newMsgs)\r\n    labelData.push(...this.pointLinesTransLabelData(newMsgs, rect))\r\n    /** 外线计算 */\r\n    this.setMaxLevelsPlus(1)\r\n    outMsgs = this.collectWallLinePoints(walls, true)\r\n    newMsgs = this.analysisOutLines.getMsgsByDirection(centerPos, outMsgs)\r\n    this.setCompassAndLevelMsgs(newMsgs, this.maxLevels)\r\n    newMsgs = this.analysisOutLines.getCombineAllLines(newMsgs)\r\n    labelData.push(...this.pointLinesTransLabelData(newMsgs, rect))\r\n    return labelData\r\n  }\r\n\r\n  /* 追加级数 */\r\n  setMaxLevelsPlus(num: number) {\r\n    for (let i = 0; i < this.maxLevels.length; i++) {\r\n      this.maxLevels[i] += 1\r\n    }\r\n  }\r\n\r\n  /** 设置方向和数据 */\r\n  setCompassAndLevelMsgs(msgs: LinePoint[][], upLevels: number[] = [0, 0, 0, 0]) {\r\n    this.maxLevels[0] = this.analysisOutLines.setMsgsLevel(msgs[0], true, upLevels[0])\r\n    this.maxLevels[1] = this.analysisOutLines.setMsgsLevel(msgs[1], true, upLevels[1])\r\n    this.maxLevels[2] = this.analysisOutLines.setMsgsLevel(msgs[2], false, upLevels[2])\r\n    this.maxLevels[3] = this.analysisOutLines.setMsgsLevel(msgs[3], false, upLevels[3])\r\n  }\r\n\r\n  /** 获取中心点 */\r\n  getCenterPos(startPos: DC.Pos, endPos: DC.Pos) {\r\n    let newPos = { x: (startPos.x + endPos.x) / 2, y: (startPos.y + endPos.y) / 2 }\r\n    return newPos\r\n  }\r\n\r\n  /** 获取矩形四点 */\r\n  getrectPosArr() {\r\n    let posArr = this.calService.floorplan.getRectPosArr()\r\n    return posArr\r\n  }\r\n\r\n  /**\r\n   * 获取线段头数据\r\n   * @param msgs \r\n   * @param rect\r\n   */\r\n  getHeadLabelData() {\r\n    let datas = {\r\n      img: this.dataService.cmd.cowall.ico.url,\r\n      imgWidth: this.dataService.cmd.cowall.ico.width,\r\n      imgHeight: this.dataService.cmd.cowall.ico.height,\r\n      data: []\r\n    }\r\n    return datas\r\n  }\r\n\r\n  /** 点线转线段数据 */\r\n  pointLinesTransLabelData(msgs: LinePoint[][], rect: DC.Pos[]) {\r\n    let datas = []\r\n    let data = this.getLabelData(msgs[0], 'l', rect[0].x)\r\n    datas.push(...data)\r\n    data = this.getLabelData(msgs[1], 'r', rect[1].x)\r\n    datas.push(...data)\r\n    data = this.getLabelData(msgs[2], 'u', rect[0].y)\r\n    datas.push(...data)\r\n    data = this.getLabelData(msgs[3], 'd', rect[3].y)\r\n    datas.push(...data)\r\n    return datas\r\n  }\r\n\r\n  /**\r\n   * 获取方向坐标\r\n   * @param compass 方向有(u上,d下,l左,r右)大小写通用 \r\n   * @param distance \r\n   */\r\n  getCompassPos(compass: string, distance: number) {\r\n    let compassPos: DC.Pos\r\n    compass = compass.toUpperCase()\r\n    switch (compass) {\r\n      case \"U\":\r\n        compassPos = { x: 0, y: -distance }\r\n        break;\r\n      case \"D\":\r\n        compassPos = { x: 0, y: distance }\r\n        break;\r\n      case \"L\":\r\n        compassPos = { x: -distance, y: 0 }\r\n        break\r\n      case \"R\":\r\n        compassPos = { x: distance, y: 0 }\r\n        break\r\n    }\r\n    return compassPos\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @param msgs \r\n   * @param compass 方向有(u上,d下,l左,r右)大小写通用 \r\n   *  @param originDistance 起源距离(实际上只是坐标一部分)\r\n   */\r\n  getLabelData(msgs: LinePoint[], compass: string, originDistance: number) {\r\n    let datas = []\r\n    compass = compass.toUpperCase()\r\n    let compassPos: DC.Pos = this.getCompassPos(compass, this.dataService.cmd.cowall.outLabel.centerDistance)\r\n    let levelPos: DC.Pos = this.getCompassPos(compass, this.dataService.cmd.cowall.outLabel.levelDistance)\r\n    let getMultiFunc = (pos: DC.Pos, level: number) => {\r\n      let newPos = { x: pos.x * level, y: pos.y * level }\r\n      return newPos\r\n    }\r\n    for (let i = 0; i < msgs.length; i++) {\r\n      let newLevelPos = getMultiFunc(levelPos, msgs[i].level)\r\n      let posX = compass == \"L\" || compass == \"R\" ? originDistance : msgs[i].pos.x\r\n      let posY = compass == \"U\" || compass == \"D\" ? originDistance : msgs[i].pos.y\r\n      let newPoint = { x: posX + compassPos.x + newLevelPos.x, y: posY + compassPos.y + newLevelPos.y }\r\n      let lineRadian = msgs[i].isVertical ? Math.PI / 2 : 0\r\n      let rayPosA = this.DUService.pos.getRayPos(newPoint, lineRadian, msgs[i].length / 2)\r\n      let rayPosB = this.DUService.pos.getRayPos(newPoint, lineRadian, -msgs[i].length / 2)\r\n      let line = [rayPosA, rayPosB]\r\n      let text = msgs[i].length.toFixed(0).toString()\r\n      // console.log(msgs[i].originLine)\r\n      let data = {\r\n        line: line,\r\n        text: text,\r\n        radian: lineRadian,\r\n        auxiliary: msgs[i].originLine ? (compass == \"L\" || compass == \"D\") ? [[msgs[i].originLine[0], line[0]], [msgs[i].originLine[1], line[1]]] : [[msgs[i].originLine[1], line[0]], [msgs[i].originLine[0], line[1]]] : []\r\n      }\r\n      datas.push(data)\r\n    }\r\n    return datas\r\n  }\r\n\r\n}\r\n\r\n\r\n","module.exports = \".door_path {\\n  fill: white;\\n  stroke: black;\\n}\\n\\n.door_mirror {\\n  -webkit-transform: scaleX(-1);\\n          transform: scaleX(-1);\\n}\\n\\n.door_in {\\n  -webkit-transform: scaleY(-1);\\n          transform: scaleY(-1);\\n}\\n\\n.door_mirror_in {\\n  -webkit-transform: scale(-1, -1);\\n          transform: scale(-1, -1);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc3ZnL2RvbS9kb29ycy9kb29yL0Q6XFxrbm93bGVkZ2VcXGhnXFxvbGRcXG9sZFJvb20vc3JjXFxhcHBcXHN2Z1xcZG9tXFxkb29yc1xcZG9vclxcZG9vci5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvc3ZnL2RvbS9kb29ycy9kb29yL2Rvb3IuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxXQUFBO0VBQ0EsYUFBQTtBQ0NKOztBREVBO0VBRUksNkJBQUE7VUFBQSxxQkFBQTtBQ0FKOztBREdBO0VBQ0ksNkJBQUE7VUFBQSxxQkFBQTtBQ0FKOztBREdBO0VBQ0ksZ0NBQUE7VUFBQSx3QkFBQTtBQ0FKIiwiZmlsZSI6InNyYy9hcHAvc3ZnL2RvbS9kb29ycy9kb29yL2Rvb3IuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuZG9vcl9wYXRoIHtcclxuICAgIGZpbGw6IHJnYmEoJGNvbG9yOiAjZmZmZmZmLCAkYWxwaGE6IDEpO1xyXG4gICAgc3Ryb2tlOiBibGFjaztcclxufVxyXG5cclxuLmRvb3JfbWlycm9yIHtcclxuICAgIC8vIHRyYW5zZm9ybS1vcmlnaW46IDUwJSwgNTAlO1xyXG4gICAgdHJhbnNmb3JtOiBzY2FsZVgoLTEpXHJcbn1cclxuXHJcbi5kb29yX2luIHtcclxuICAgIHRyYW5zZm9ybTogc2NhbGVZKC0xKVxyXG59XHJcblxyXG4uZG9vcl9taXJyb3JfaW4ge1xyXG4gICAgdHJhbnNmb3JtOiBzY2FsZSgtMSwgLTEpXHJcbn0iLCIuZG9vcl9wYXRoIHtcbiAgZmlsbDogd2hpdGU7XG4gIHN0cm9rZTogYmxhY2s7XG59XG5cbi5kb29yX21pcnJvciB7XG4gIHRyYW5zZm9ybTogc2NhbGVYKC0xKTtcbn1cblxuLmRvb3JfaW4ge1xuICB0cmFuc2Zvcm06IHNjYWxlWSgtMSk7XG59XG5cbi5kb29yX21pcnJvcl9pbiB7XG4gIHRyYW5zZm9ybTogc2NhbGUoLTEsIC0xKTtcbn0iXX0= */\"","import { Component, OnInit, Input, DoCheck } from '@angular/core';\r\nimport { JDoor } from '../../../common/jdesign/JDoor';\r\nimport { CalculatorsService } from '../../../../services/calculators.service';\r\nimport { JdesignUtil2dService } from '../../../../services/jdesign-util2d.service';\r\nimport { JdesignDataService } from '../../../../services/jdesign-data.service';\r\nimport { DomUpdateService } from '../../../../services/dom-update.service';\r\nimport { RightMenuService } from '../../../../services/right-menu.service';\r\nimport { PopDivService } from '../../../../services/pop-div.service';\r\nimport { DesignCommon as DC } from '../../../common/class/DesignCommon'\r\n\r\n@Component({\r\n  selector: '[door]',\r\n  templateUrl: './door.component.html',\r\n  styleUrls: ['./door.component.scss']\r\n})\r\nexport class DoorComponent implements OnInit, DoCheck {\r\n\r\n  private _door: JDoor\r\n  originPos: DC.Pos = null\r\n  pixSize: DC.Size = null\r\n  transformString: string = null\r\n  private _leftPos: DC.Pos = undefined\r\n  private _rightPos: DC.Pos = undefined\r\n  @Input() set door(data) {\r\n    this._door = data\r\n  }\r\n  get door() { return this._door }\r\n\r\n  constructor(\r\n    private calService: CalculatorsService,\r\n    private DUService: JdesignUtil2dService,\r\n    public dataService: JdesignDataService,\r\n    private domService: DomUpdateService,\r\n    private rightService: RightMenuService,\r\n    private popService: PopDivService\r\n  ) { }\r\n\r\n  mouseDown(e: MouseEvent) {\r\n    this.dataService.cache.common.choose = this.door\r\n    this.dataService.cache.common.firstPos = { x: e.offsetX, y: e.offsetY }\r\n    this.dataService.cache.common.blockON = true\r\n    this.dataService.cmd.cowall.hide = true\r\n    this.door.mode = 'move'\r\n    this.domService.allSvg.emit()\r\n    this.dataService.cache.common.initUpdate(['door'])\r\n    this.dataService.cache.doorWin.displayLabel = true\r\n    this.door.act3D.start()\r\n    if (e.which == 3) {\r\n      this.rightService.door.emit({ e: e, door: this.door })\r\n    }\r\n  }\r\n\r\n  mouseOver(e: MouseEvent) {\r\n    if (this.dataService.cmd.floorplan.debugPos != null && this.dataService.cmd.floorplan.debugPos != undefined) {\r\n      let data = {\r\n        text: `${this.door.id}:{\r\n        wall:${this.door.wallID};\r\n        rotate:${this.door.getRotate()};\r\n        per:${this.door.distancePer};\r\n        out:${this.door.out};\r\n        mirror:${this.door.mirror};\r\n      }`,\r\n        position: this.dataService.cmd.floorplan.debugPos\r\n      }\r\n      this.popService.message.emit(data)\r\n    }\r\n\r\n  }\r\n\r\n  /** 获取path */\r\n  getPath() {\r\n    let pathString = this.calService.door.getNormalPathString(this.door, { x: 0, y: 0 })\r\n    return pathString\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.door.lateChooseFuncArr.push(() => {\r\n      this.popService.panelRight.emit(this.door)\r\n    })\r\n  }\r\n\r\n  ngDoCheck() {\r\n    this.originPos = this.door.getOriginPos()\r\n    let size = this.door.getPixSize()\r\n    this._leftPos = { x: -size.width / 2, y: 0 }\r\n    this._rightPos = { x: size.width / 2, y: 0 }\r\n    this.pixSize = {\r\n      width: size.width,\r\n      height: this.door.plankType == 'twoDoor' ? size.width / 2 : this.door.plankType == 'pullDoor' ? size.height : size.width\r\n    }\r\n    this.transformString = this.getTransform()\r\n  }\r\n\r\n  /** 获取transform */\r\n  getTransform() {\r\n    let cosA = Math.cos(this.door.radian)\r\n    let sinA = Math.sin(this.door.radian)\r\n    let transformString = this.DUService.pos.getTransfromString(cosA, sinA, -sinA, cosA, this.door.pos.x, this.door.pos.y)\r\n    return transformString\r\n  }\r\n\r\n  /** 获取标签data集合 */\r\n  getLabelDatas() {\r\n    let datas = {\r\n      img: this.dataService.cmd.door.ico.url,\r\n      imgWidth: this.dataService.cmd.door.ico.width,\r\n      imgHeight: this.dataService.cmd.door.ico.height,\r\n      data: []\r\n    }\r\n    let cacheData = []\r\n    let ceterLine = this.getCenterLine()\r\n    let line = this.getLabelLine(ceterLine[0], ceterLine[1])\r\n    if (!line)\r\n      return undefined\r\n    let data = {\r\n      line: line,\r\n      text: ''\r\n    }\r\n    datas.data.push(data)\r\n    cacheData.push({ pos: { x: (line[0].x + line[1].x) / 2, y: (line[0].y + line[1].y) / 2 }, text: this.door.size.width })\r\n\r\n    let msg = this.calService.door.getNearPosArr(this.door)\r\n    let text = this.dataService.cmd.getPixelTransLength(this.DUService.pos.getDistance(ceterLine[1], msg.endPos), 'mm')\r\n    text = parseInt(text.toString())\r\n    line = this.getLabelLine(ceterLine[1], msg.endPos)\r\n    if (!line)\r\n      return undefined\r\n    data = {\r\n      line: line,\r\n      text: ''\r\n    }\r\n    datas.data.push(data)\r\n    cacheData.push({ pos: { x: (line[0].x + line[1].x) / 2, y: (line[0].y + line[1].y) / 2 }, text: text })\r\n\r\n\r\n    text = this.dataService.cmd.getPixelTransLength(this.DUService.pos.getDistance(msg.StartPos, ceterLine[0]), 'mm')\r\n    text = parseInt(text.toString())\r\n    line = this.getLabelLine(msg.StartPos, ceterLine[0])\r\n    if (!line)\r\n      return undefined\r\n    data = {\r\n      line: line,\r\n      text: ''\r\n    }\r\n    datas.data.push(data)\r\n    cacheData.push({ pos: { x: (line[0].x + line[1].x) / 2, y: (line[0].y + line[1].y) / 2 }, text: text })\r\n\r\n    this.dataService.cache.doorWin.labelData = cacheData\r\n\r\n\r\n    return datas\r\n  }\r\n\r\n  /** 获取标签坐标组 */\r\n  getLabelLine(lineStart: DC.Pos, lineEnd: DC.Pos) {\r\n    let halfHeight = this.dataService.cmd.getLengthTransPixel(this.door.size.height / 2, 'mm')\r\n    let newPosArr: DC.Pos[] = this.DUService.pos.getPosTrans(lineStart, lineEnd, (halfHeight + this.dataService.cmd.door.labelHeight))\r\n    return newPosArr\r\n  }\r\n\r\n  /** 获取线坐标 */\r\n  getCenterLine() {\r\n    let halfWidth = this.dataService.cmd.getLengthTransPixel(this.door.size.width / 2, 'mm')\r\n    let posA: DC.Pos = this.DUService.pos.getRayPos(this.door.pos, this.door.radian, -halfWidth)\r\n    let posB: DC.Pos = this.DUService.pos.getRayPos(this.door.pos, this.door.radian, halfWidth)\r\n    let posArr = [posA, posB]\r\n    return posArr\r\n  }\r\n\r\n  showLabel() {\r\n    let a = (\r\n      this.dataService.cache.common.choose != null &&\r\n      this.dataService.cache.common.choose.type == \"door\" &&\r\n      this.dataService.cache.common.mode == \"normal\" &&\r\n      this.dataService.cache.common.choose.id == this.door.id &&\r\n      this.door.wallID != null &&\r\n      this.dataService.cache.thumbnail.three.zIndex > this.dataService.cache.thumbnail.svg.zIndex &&\r\n      this.dataService.cache.doorWin.displayLabel\r\n    )\r\n    return a\r\n  }\r\n\r\n  /* 获取所有点 */\r\n  getALLPointData(transform: string) {\r\n    if (!transform || !this._leftPos || !this._rightPos)\r\n      return null\r\n    let data = {\r\n      r: 96,\r\n      overR: 128,\r\n      data: [\r\n        /** 左 */\r\n        {\r\n          pos: this._leftPos, func: (e: MouseEvent) => {\r\n            this.mouseDown(e)\r\n            this.door.mode = 'leftMove'\r\n            console.log(\"left\")\r\n          }\r\n        },\r\n        /** 右 */\r\n        {\r\n          pos: this._rightPos, func: (e: MouseEvent) => {\r\n            this.mouseDown(e)\r\n            this.door.mode = 'rightMove'\r\n            console.log(\"right\")\r\n          }\r\n        }\r\n      ],\r\n      transform: transform\r\n    }\r\n    return data\r\n  }\r\n\r\n\r\n\r\n}\r\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3N2Zy9kb20vZG9vcnMvZG9vcnMuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit, ChangeDetectorRef, ChangeDetectionStrategy } from '@angular/core';\r\nimport { JdesignUtil2dService } from '../../../services/jdesign-util2d.service';\r\nimport { JdesignDataService } from '../../../services/jdesign-data.service';\r\nimport { DomUpdateService } from '../../../services/dom-update.service';\r\nimport { JDoor } from '../../common/jdesign/JDoor';\r\nimport { RightMenuService } from '../../../services/right-menu.service';\r\n\r\n@Component({\r\n  selector: '[doors]',\r\n  templateUrl: './doors.component.html',\r\n  styleUrls: ['./doors.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class DoorsComponent implements OnInit {\r\n\r\n  constructor(\r\n    private DUService: JdesignUtil2dService,\r\n    public dataService: JdesignDataService,\r\n    private domService: DomUpdateService,\r\n    private ref: ChangeDetectorRef\r\n  ) {\r\n    this.domService.svgDoor.subscribe(() => {\r\n      this.ref.detectChanges()\r\n    })\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n    if (this.dataService.cmd.common.initLog) {\r\n      this.DUService.out.redLog('doors is ok!!')\r\n    }\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { DoorsComponent } from './doors.component';\r\nimport { DoorComponent } from './door/door.component';\r\nimport { LabelLinesModule } from '../common/label-lines/label-lines.module';\r\nimport { LabelCircleModule } from '../common/label-circle/label-circle.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    LabelLinesModule,\r\n    LabelCircleModule,\r\n  ],\r\n  declarations: [DoorsComponent, DoorComponent],\r\n  exports: [DoorsComponent]\r\n})\r\nexport class DoorsModule { }\r\n","module.exports = \".geometry_path {\\n  fill: rgba(255, 255, 255, 0);\\n  stroke: black;\\n}\\n\\n.circle_line {\\n  stroke: green;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc3ZnL2RvbS9nZW9tZXRyeXMvZ2VvbWV0cnkvRDpcXGtub3dsZWRnZVxcaGdcXG9sZFxcb2xkUm9vbS9zcmNcXGFwcFxcc3ZnXFxkb21cXGdlb21ldHJ5c1xcZ2VvbWV0cnlcXGdlb21ldHJ5LmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9zdmcvZG9tL2dlb21ldHJ5cy9nZW9tZXRyeS9nZW9tZXRyeS5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLDRCQUFBO0VBQ0EsYUFBQTtBQ0NKOztBREVBO0VBQ0ksYUFBQTtBQ0NKIiwiZmlsZSI6InNyYy9hcHAvc3ZnL2RvbS9nZW9tZXRyeXMvZ2VvbWV0cnkvZ2VvbWV0cnkuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuZ2VvbWV0cnlfcGF0aCB7XHJcbiAgICBmaWxsOiByZ2JhKCRjb2xvcjogI2ZmZmZmZiwgJGFscGhhOiAwKTtcclxuICAgIHN0cm9rZTogYmxhY2s7XHJcbn1cclxuXHJcbi5jaXJjbGVfbGluZSB7XHJcbiAgICBzdHJva2U6IGdyZWVuXHJcbn0iLCIuZ2VvbWV0cnlfcGF0aCB7XG4gIGZpbGw6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMCk7XG4gIHN0cm9rZTogYmxhY2s7XG59XG5cbi5jaXJjbGVfbGluZSB7XG4gIHN0cm9rZTogZ3JlZW47XG59Il19 */\"","import { Component, OnInit, Input, HostListener } from '@angular/core';\nimport { JdesignDataService } from '../../../../services/jdesign-data.service';\nimport { DomUpdateService } from '../../../../services/dom-update.service';\nimport { RightMenuService } from '../../../../services/right-menu.service';\nimport { CalculatorsService } from '../../../../services/calculators.service';\nimport { JdesignUtil2dService } from '../../../../services/jdesign-util2d.service';\nimport { DesignCommon as DC } from '../../../common/class/DesignCommon'\nimport { PopDivService } from '../../../../services/pop-div.service';\nimport { JGeometry } from '../../../common/jdesign/JGeometry';\n\n@Component({\n  selector: '[geometry]',\n  templateUrl: './geometry.component.html',\n  styleUrls: ['./geometry.component.scss']\n})\nexport class GeometryComponent implements OnInit {\n\n  private _geometry: JGeometry\n  public pixSize: DC.Size\n\n  @Input() set geometry(data) {\n    this.pixSize = data.getPixSize()\n    this._geometry = data\n  }\n  get geometry() { return this._geometry }\n\n  constructor(\n    public dataService: JdesignDataService,\n    private domService: DomUpdateService,\n    private rightService: RightMenuService,\n    private calService: CalculatorsService,\n    private DUService: JdesignUtil2dService,\n    private popService: PopDivService\n  ) {\n\n  }\n\n  mouseDown(e: MouseEvent, mode: string) {\n    this.dataService.cache.common.choose = this.geometry\n    this.dataService.cache.common.firstPos = { x: e.offsetX, y: e.offsetY }\n    this.dataService.cache.common.blockON = true\n    this.domService.allSvg.emit()\n    this.dataService.cache.common.initUpdate(['furniture'])\n    this.setMode(mode)\n    if (e.which == 3) {\n      this.rightService.furniture.emit({ e: e, furniture: this.geometry })\n    }\n  }\n\n  mouseOver(e: MouseEvent) {\n    if (this.dataService.cmd.floorplan.debugPos != null && this.dataService.cmd.floorplan.debugPos != undefined) {\n      let data = {\n        text: `${this.geometry.id}:{\n        wall:${this.geometry.wallID};\n        rotate:${this.geometry.getRotate()};\n        per:${this.geometry.distancePer};\n        out:${this.geometry.wallOut};\n        mirror:${this.geometry.mirror};\n      }`,\n        position: this.dataService.cmd.floorplan.debugPos\n      }\n      this.popService.message.emit(data)\n    }\n  }\n\n  ngOnInit() {\n    this.geometry.chooseFuncArr.push(() => {\n      this.domService.svgGeometry.emit()\n    })\n\n    this.geometry.noChooseFuncArr.push(() => {\n      this.domService.svgGeometry.emit()\n    })\n    this.geometry.lateChooseFuncArr.push(() => {\n      if (this.dataService.cache.common.threeOn == 1)\n        this.popService.panelRight.emit(this.geometry)\n    })\n  }\n\n  /** 获取path */\n  getPath() {\n    return this.calService.geometry.getPath(this.geometry)\n  }\n\n  /** 获取transform */\n  getTransform() {\n    let cosA = Math.cos(this.geometry.radian)\n    let sinA = Math.sin(this.geometry.radian)\n    let transformString = this.DUService.pos.getTransfromString(cosA, sinA, -sinA, cosA, this.geometry.pos.x, this.geometry.pos.y)\n    return transformString\n  }\n\n  /** 获取旋转transform */\n  getRotateTransform() {\n    let cosA = Math.cos(this.geometry.radian)\n    let sinA = Math.sin(this.geometry.radian)\n    let pos = this.DUService.pos.getRayPos(this.geometry.pos, this.geometry.radian + Math.PI / 2, this.dataService.cmd.furniture.radius)\n    let transformString = this.DUService.pos.getTransfromString(cosA, sinA, -sinA, cosA, pos.x, pos.y)\n    return transformString\n  }\n\n  /** 设置模式 */\n  setMode(mode: string) {\n    this.geometry.mode = mode\n  }\n\n}","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3N2Zy9kb20vZ2VvbWV0cnlzL2dlb21ldHJ5cy5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, OnInit, ChangeDetectionStrategy, ChangeDetectorRef } from '@angular/core';\nimport { JdesignUtil2dService } from '../../../services/jdesign-util2d.service';\nimport { JdesignDataService } from '../../../services/jdesign-data.service';\nimport { DomUpdateService } from '../../../services/dom-update.service';\n\n@Component({\n  selector: '[geometrys]',\n  templateUrl: './geometrys.component.html',\n  styleUrls: ['./geometrys.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class GeometrysComponent implements OnInit {\n\n  constructor(\n    private DUService: JdesignUtil2dService,\n    public dataService: JdesignDataService,\n    private domService: DomUpdateService,\n    private ref: ChangeDetectorRef\n  ) {\n    this.domService.svgGeometry.subscribe(() => {\n      this.ref.detectChanges()\n    })\n  }\n\n  ngOnInit() {\n    if (this.dataService.cmd.common.initLog) {\n      this.DUService.out.redLog('geometrys is ok!!')\n    }\n  }\n\n  /** 获取数据 */\n  getData() {\n    let furnitures = this.dataService.doFurnitures().arr()\n    let builds = this.dataService.doBuilds().arr()\n    let arr = [...furnitures, ...builds]\n    return arr\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { GeometrysComponent } from './geometrys.component';\nimport { GeometryComponent } from './geometry/geometry.component';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  declarations: [GeometrysComponent, GeometryComponent],\n  exports: [GeometrysComponent]\n})\nexport class GeometrysModule { }\n","module.exports = \".lu_path {\\n  fill: red;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc3ZnL2RvbS9sdS13aW5zL2x1LXdpbi9EOlxca25vd2xlZGdlXFxoZ1xcb2xkXFxvbGRSb29tL3NyY1xcYXBwXFxzdmdcXGRvbVxcbHUtd2luc1xcbHUtd2luXFxsdS13aW4uY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL3N2Zy9kb20vbHUtd2lucy9sdS13aW4vbHUtd2luLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksU0FBQTtBQ0NKIiwiZmlsZSI6InNyYy9hcHAvc3ZnL2RvbS9sdS13aW5zL2x1LXdpbi9sdS13aW4uY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubHVfcGF0aCB7XHJcbiAgICBmaWxsOiByZWRcclxufSIsIi5sdV9wYXRoIHtcbiAgZmlsbDogcmVkO1xufSJdfQ== */\"","import { Component, OnInit, Input, DoCheck } from '@angular/core';\nimport { JLUWin3D } from '../../../../three/jDesign3D/JLUWin3D';\nimport { JdesignDataService } from '../../../../services/jdesign-data.service';\nimport { DomUpdateService } from '../../../../services/dom-update.service';\nimport { RightMenuService } from '../../../../services/right-menu.service';\nimport { CalculatorsService } from '../../../../services/calculators.service';\nimport { JdesignUtil2dService } from '../../../../services/jdesign-util2d.service';\nimport { PopDivService } from '../../../../services/pop-div.service';\nimport { DesignCommon as DC } from '../../../common/class/DesignCommon'\nimport { JLWin } from '../../../common/jdesign/JLWin';\nimport { JUWin } from '../../../common/jdesign/JUWin';\nimport { JWall } from '../../../common/jdesign/JWall';\nimport { JPoint } from '../../../common/jdesign/JPoint';\nimport { JLUWin } from '../../../common/jdesign/JLUWin';\nimport { LUPathType as RepeatPathType } from '../../common/repeat-path/repeat-path.component';\n\n@Component({\n  selector: '[LUWin]',\n  templateUrl: './lu-win.component.html',\n  styleUrls: ['./lu-win.component.scss']\n})\nexport class LuWinComponent implements OnInit, DoCheck {\n\n  pathD: string = \"\"\n\n  private _LUWin: JLUWin3D\n  pathDatas: any = undefined\n  @Input() set LUWin(data) {\n    this._LUWin = data\n  }\n  get LUWin() { return this._LUWin }\n\n  constructor(\n    public dataService: JdesignDataService,\n    private domService: DomUpdateService,\n    private rightService: RightMenuService,\n    private calService: CalculatorsService,\n    private DUService: JdesignUtil2dService,\n    private popService: PopDivService) {\n\n  }\n\n  ngOnInit() {\n    this.LUWin.lateChooseFuncArr.push(() => {\n      if (this.dataService.cache.common.threeOn == 1) {\n        this.popService.panelRight.emit(this.LUWin)\n      }\n    })\n  }\n\n  ngDoCheck() {\n    /* 初版 */\n    // switch (this.LUWin.type) {\n    //   case \"LWin\":\n    //     this.setLWinData(<JLWin>this.LUWin)\n    //     break;\n    //   case \"UWin\":\n    //     this.setUWinData(<JUWin>this.LUWin)\n    //     break;\n    // }\n    /* 参数化版 */\n    switch (this.LUWin.type) {\n      case \"LWin\":\n        this.setLWinData(<JLWin>this.LUWin)\n        break;\n      case \"UWin\":\n        this.setUWinData(<JUWin>this.LUWin)\n        break\n    }\n    /* 测试 */\n    // this.test(this.LUWin, this.LUWin.j2d)\n  }\n\n  /* 设置L型窗数据 */\n  setLWinData(LWin: JLWin) {\n    let point = LWin.getPoint()\n    if (point) {\n      this.pathDatas = this.getLWinDataByPoint(LWin, LWin.j2d)\n    }\n    else {\n      this.pathDatas = this.getLWinDataByNoPoint(LWin)\n    }\n  }\n\n  test(LWin: JLUWin, j2d) {\n    let newJ2d = this.DUService.parseJ2D.getRealData(j2d.childs[0].params, j2d.params)\n    let pointArr = this.DUService.parseJ2D.getRealPoint(j2d.childs[0].childs, newJ2d)\n    console.log(pointArr)\n  }\n\n  getDataByj2d(j2d: any, obj: { movePos: DC.Pos, radian?: number }) {\n    let newJ2d = this.DUService.parseJ2D.getRealData(j2d.childs[0].params, j2d.params)\n    let pointArr = this.DUService.parseJ2D.getRealPoint(j2d.childs[0].childs, newJ2d)\n    let path = this.DUService.svg.getPath(true, ...pointArr)\n    let transform = this.DUService.pos.getTransformStringByRM({ movePos: obj.movePos })\n    let transformRotate = this.DUService.pos.getTransformStringByRM({ radian: obj.radian ? obj.radian : 0 })\n    let data: RepeatPathType[] = [{\n      transform: transform,\n      children: [{ transform: transformRotate, children: [{ paths: [path] }] }]\n    }]\n    return data\n  }\n\n\n\n  /* 不吸附获取L型窗的数据 */\n  getLWinDataByNoPoint(LWin: JLWin) {\n    let data = this.getDataByj2d(this.dataService.cache.baseData.j2d['LWin'], { movePos: LWin.pos, radian: LWin.radian })\n    return data\n  }\n\n  private getEndPos(point: JPoint, wall: JWall) {\n    let pos = this.calService.point.isOppositeRayPoint(point, wall) ? wall.outLine[1][1] : wall.outLine[0][0]\n    return pos\n  }\n\n  private getStartPos(point: JPoint, wall: JWall) {\n    let pos = this.calService.point.isOppositeRayPoint(point, wall) ? wall.outLine[1][1] : wall.outLine[0][0]\n    return pos\n  }\n\n  /* 通过点获取L型窗的数据 */\n  getLWinDataByPoint(LWin: JLWin, j2d: any) {\n    let leftAndRightWalls = this.calService.LWin.getLeftAndRightWall(LWin)\n    let point = LWin.getPoint()\n    /* 弧度计算 */\n    let a = this.calService.point.isOppositeRayPoint(point, leftAndRightWalls[0])\n    let leftRadian = leftAndRightWalls[0].getRadian()\n    leftRadian = a ? leftRadian + Math.PI : leftRadian\n    a = this.calService.point.isOppositeRayPoint(point, leftAndRightWalls[1])\n    let rightRadian = leftAndRightWalls[1].getRadian()\n    rightRadian = a ? rightRadian + Math.PI : rightRadian\n    LWin.radian = rightRadian\n    let b = -rightRadian + leftRadian\n    // console.log(b * 180 / Math.PI)\n    j2d.params[\"leftThickness\"].formula = leftAndRightWalls[0].thickness\n    j2d.params[\"rightThickness\"].formula = leftAndRightWalls[1].thickness\n    j2d.params[\"radian\"].formula = b\n    /* 解析数据 */\n    let data = this.getDataByj2d(j2d, { movePos: LWin.pos, radian: LWin.radian })\n    return data\n  }\n\n\n\n  /* 获取U型窗的数据(不吸附) */\n  getUWinDataByNoWall(UWin: JUWin) {\n    let data = this.getDataByj2d(this.dataService.cache.baseData.j2d['UWin'], { movePos: UWin.pos, radian: UWin.radian })\n    return data\n  }\n\n  /* 通过墙获取U型窗 */\n  getUWinDataByWall(UWin: JUWin, j2d: any) {\n    let centerWall = UWin.getCenterWall()\n    let centerCowall = centerWall.getCowall()\n    let centerRadian = centerCowall.getRadian()\n    j2d.params[\"centerThickness\"].formula = centerWall.thickness\n    j2d.params[\"centerWidth\"].formula = centerWall.getInLineDistance()\n    let prevCowall = centerCowall.getPrevCowall()\n    let prevWall = prevCowall.getWall()\n    let prevRadian = prevCowall.getRadian() + Math.PI\n    j2d.params[\"leftThickness\"].formula = prevWall.thickness\n    j2d.params[\"leftRadian\"].formula = -centerRadian + prevRadian\n    let nextCowall = centerCowall.getNextCowall()\n    let nextWall = nextCowall.getWall()\n    let nextRadian = nextCowall.getRadian()\n    j2d.params[\"rightThickness\"].formula = nextWall.thickness\n    j2d.params[\"rightRadian\"].formula = centerRadian + Math.PI - nextRadian\n    /* 解析数据 */\n    let data = this.getDataByj2d(UWin.j2d, { movePos: UWin.pos, radian: UWin.radian })\n    return data\n  }\n\n  /* 设置U型窗数据 */\n  setUWinData(UWin: JUWin) {\n    let wall = UWin.getCenterWall()\n    if (wall) {\n      this.pathDatas = this.getUWinDataByWall(UWin, UWin.j2d)\n    }\n    else {\n      this.pathDatas = this.getUWinDataByNoWall(UWin)\n    }\n  }\n\n  getCircles(obj: JLUWin) {\n    let func = (j2d) => {\n      let newJ2d = this.DUService.parseJ2D.getRealData(j2d.childs[0].params, j2d.params)\n      let pointArr = this.DUService.parseJ2D.getRealPoint(j2d.childs[0].childs, newJ2d)\n      let transform = this.DUService.pos.getTransformStringByRM({ movePos: obj.pos })\n      let transformRotate = this.DUService.pos.getTransformStringByRM({ radian: obj.radian ? obj.radian : 0 })\n      return {\n        posArr: pointArr,\n        transforms: [transform, transformRotate]\n      }\n    }\n    let data = undefined\n    switch (obj.type) {\n      case 'LWin':\n        let lwin = <JLWin>obj\n        data = func(lwin.getPoint() ? lwin.j2d : this.dataService.cache.baseData.j2d['LWin'])\n        return this.getLWinCirles(data.posArr, data.transforms)\n      case 'UWin':\n        let uwin = <JUWin>obj\n        data = func(uwin.getCenterWall() ? uwin.j2d : this.dataService.cache.baseData.j2d['UWin'])\n        return this.getUWinCircles(data.posArr, data.transforms)\n    }\n  }\n\n  /* 获取L型窗小圆圈 */\n  getLWinCirles(pointArr: DC.Pos[], transforms: string[]) {\n    let data = {\n      r: 96,\n      overR: 128,\n      data: [\n        /** 左 */\n        {\n          pos: pointArr[1], func: (e: MouseEvent) => {\n            this.mouseDown(e)\n            this.LUWin.mode = 'leftMove'\n            console.log(\"left\")\n          }\n        },\n        /** 右 */\n        {\n          pos: pointArr[5], func: (e: MouseEvent) => {\n            this.mouseDown(e)\n            this.LUWin.mode = 'rightMove'\n            console.log(\"right\")\n          }\n        }\n      ],\n      transform: transforms[0],\n      otherTransform: transforms[1]\n    }\n    return data\n  }\n\n  /* 获取U型窗小圆圈 */\n  getUWinCircles(pointArr: DC.Pos[], transforms: string[]) {\n    let data = {\n      r: 96,\n      overR: 128,\n      data: [\n        /** 左 */\n        {\n          pos: pointArr[8], func: (e: MouseEvent) => {\n            this.mouseDown(e)\n            this.LUWin.mode = 'leftMove'\n            console.log(\"left\")\n          }\n        },\n        /** 右 */\n        {\n          pos: pointArr[3], func: (e: MouseEvent) => {\n            this.mouseDown(e)\n            this.LUWin.mode = 'rightMove'\n            console.log(\"right\")\n          }\n        }\n      ],\n      transform: transforms[0],\n      otherTransform: transforms[1]\n    }\n    return data\n  }\n\n  mouseDown(e: MouseEvent) {\n    this.dataService.cache.common.choose = this.LUWin\n    this.LUWin.mode = 'move'\n    this.dataService.cache.common.firstPos = { x: e.offsetX, y: e.offsetY }\n    this.dataService.cache.common.blockON = true\n    this.domService.allSvg.emit()\n    this.dataService.cache.common.initUpdate()\n  }\n\n  isShowCircles() {\n    let a = this.dataService.cache.common.choose != null && this.dataService.cache.common.choose.id == this.LUWin.id &&\n      this.LUWin.isAbsorb()\n    return a\n  }\n\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3N2Zy9kb20vbHUtd2lucy9sdS13aW5zLmNvbXBvbmVudC5zY3NzIn0= */\"","import { Component, OnInit, ChangeDetectorRef, ChangeDetectionStrategy } from '@angular/core';\nimport { JdesignUtil2dService } from '../../../services/jdesign-util2d.service';\nimport { JdesignDataService } from '../../../services/jdesign-data.service';\nimport { DomUpdateService } from '../../../services/dom-update.service';\n\n@Component({\n  selector: '[LUWins]',\n  templateUrl: './lu-wins.component.html',\n  styleUrls: ['./lu-wins.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class LuWinsComponent implements OnInit {\n\n  constructor(\n    private DUService: JdesignUtil2dService,\n    public dataService: JdesignDataService,\n    private domService: DomUpdateService,\n    private ref: ChangeDetectorRef\n  ) {\n    this.domService.svgLUWin.subscribe(() => {\n      this.ref.detectChanges()\n    })\n  }\n\n  ngOnInit() {\n    if (this.dataService.cmd.common.initLog) {\n      this.DUService.out.redLog('LUWins is ok!!')\n    }\n  }\n\n  getData() {\n    let LWins = this.dataService.doLWins().arr()\n    let UWins = this.dataService.doUWins().arr()\n    let data = [...LWins, ...UWins]\n    return data\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { LuWinsComponent } from './lu-wins.component';\nimport { LuWinComponent } from './lu-win/lu-win.component';\nimport { LabelCircleModule } from '../common/label-circle/label-circle.module';\nimport { RepeatPathModule } from '../common/repeat-path/repeat-path.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    LabelCircleModule,\n    RepeatPathModule\n  ],\n  declarations: [LuWinsComponent, LuWinComponent],\n  exports: [LuWinsComponent]\n})\nexport class LuWinsModule { }\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3N2Zy9kb20vcGFyYW1zLW1vZGVscy9wYXJhbXMtbW9kZWwvcGFyYW1zLW1vZGVsLmNvbXBvbmVudC5zY3NzIn0= */\"","import { Component, OnInit, Input } from '@angular/core';\nimport { JParamsModel } from '../../../common/jdesign/JParamsModel';\nimport { JdesignDataService } from '../../../../services/jdesign-data.service';\nimport { DomUpdateService } from '../../../../services/dom-update.service';\nimport { RightMenuService } from '../../../../services/right-menu.service';\nimport { CalculatorsService } from '../../../../services/calculators.service';\nimport { JdesignUtil2dService } from '../../../../services/jdesign-util2d.service';\nimport { PopDivService } from '../../../../services/pop-div.service';\nimport { DesignCommon as DC } from '../../../common/class/DesignCommon'\nimport { LUPathType as RepeatPathType } from '../../common/repeat-path/repeat-path.component';\n\n\n@Component({\n  selector: '[paramsModel]',\n  templateUrl: './params-model.component.html',\n  styleUrls: ['./params-model.component.scss']\n})\nexport class ParamsModelComponent implements OnInit {\n\n  private _paramsModel: JParamsModel\n  pathDatas: any = undefined\n  labelData: any = undefined\n  circleData: any = undefined\n  get paramsModel() { return this._paramsModel }\n  @Input() set paramsModel(data) {\n    this._paramsModel = data\n  }\n\n  constructor(\n    public dataService: JdesignDataService,\n    private domService: DomUpdateService,\n    private calService: CalculatorsService,\n    private DUService: JdesignUtil2dService,\n    private popService: PopDivService) {\n  }\n\n  ngOnInit() {\n    this.paramsModel.lateChooseFuncArr.push(() => {\n      if (this.dataService.cache.common.threeOn == 1) {\n        this.popService.panelRight.emit(this.paramsModel)\n      }\n    })\n  }\n\n  ngDoCheck() {\n    if (this.paramsModel.absorbData && this.paramsModel.originJ2d) {\n      let obj = this.paramsModel.getAbsorbObj()\n      if (obj) {\n        let data = this.getDataByj2dSuper(this.paramsModel.j2d)\n        this.pathDatas = data.path\n        this.labelData = data.label\n        this.circleData = data.circle\n        // this.pathDatas = this.getDataByj2d(this.paramsModel.j2d)\n      }\n      else {\n        let data = this.getDataByj2dSuper(this.paramsModel.originJ2d)\n        this.pathDatas = data.path\n        this.labelData = undefined\n        this.circleData = undefined\n        // this.pathDatas = this.getDataByj2d(this.paramsModel.originJ2d)\n      }\n    }\n    else {\n      let data = this.getDataByj2dSuper(this.paramsModel.j2d)\n      this.pathDatas = data.path\n      this.labelData = data.label\n      this.circleData = data.circle\n    }\n  }\n\n  mouseDown(e: MouseEvent) {\n    this.dataService.cache.common.choose = this.paramsModel\n    this.paramsModel.mode = 'move'\n    this.dataService.cache.common.firstPos = { x: e.offsetX, y: e.offsetY }\n    this.dataService.cache.common.blockON = true\n    this.domService.allSvg.emit()\n    this.dataService.cache.common.initUpdate()\n  }\n\n  /* 获取数据 */\n  getDataByj2d(j2d: any) {\n    let pointArr = this.DUService.parseJ2D.getAllPoints(j2d)\n    let paths: string[] = []\n    for (let i = 0; i < pointArr[0].length; i++) {\n      let path = this.DUService.svg.getPath(true, ...pointArr[0][i])\n      paths.push(path)\n    }\n    let transform = this.DUService.pos.getTransformStringByRM({ movePos: this.paramsModel.pos })\n    let transformRotate = this.DUService.pos.getTransformStringByRM({ radian: this.paramsModel.radian })\n    let data: RepeatPathType[] = [{\n      transform: transform,\n      children: [{ transform: transformRotate, children: [{ paths: paths }] }]\n    }]\n    return data\n  }\n\n  /* 获取数据 */\n  getDataByj2dSuper(j2d: any) {\n    let pointArr = this.DUService.parseJ2D.getAllPoints(j2d)\n    let newJ2d = this.DUService.parseJ2D.getslipData(j2d)\n    let paths: DC.Pos[][] = []\n    let labelLines: DC.Pos[][] = []\n    let moveData: any[] = []\n    /* 收集数据 */\n    for (let i = 0; i < newJ2d.length; i++) {\n      if (newJ2d[i].params) {\n        if (newJ2d[i].params['jtype'] && newJ2d[i].params['jtype'].formula == 'label') {\n          // console.log(newJ2d[i].point)\n          for (let j = 0; j < (newJ2d[i].point.length / 2); j++) {\n            let posA = { x: newJ2d[i].point[2 * j]['x'], y: newJ2d[i].point[2 * j]['y'] }\n            let posB = { x: newJ2d[i].point[2 * j + 1]['x'], y: newJ2d[i].point[2 * j + 1]['y'] }\n            labelLines.push([posA, posB])\n          }\n        }\n        else if (newJ2d[i].params['jtype'] && newJ2d[i].params['jtype'].formula == 'move') {\n          moveData.push(newJ2d[i])\n        }\n        else {\n          paths.push(newJ2d[i].point)\n        }\n      }\n    }\n    // console.log(paths)\n    /* 处理数据 */\n    let pathData = this.getPathData(paths, this.paramsModel.pos, this.paramsModel.radian)\n    let labelData = this.getLabelData(labelLines, this.paramsModel.pos, this.paramsModel.radian)\n    let circleData = this.getCircleData(moveData, this.paramsModel.pos, this.paramsModel.radian)\n    return {\n      path: pathData,\n      label: labelData,\n      circle: circleData\n    }\n  }\n\n  /* 获取svg数据 */\n  getPathData(lines: DC.Pos[][], movePos: DC.Pos, moveRadian: number) {\n    let paths: string[] = []\n    for (let i = 0; i < lines.length; i++) {\n      let path = this.DUService.svg.getPath(true, ...lines[i])\n      paths.push(path)\n    }\n    let transform = this.DUService.pos.getTransformStringByRM({ movePos: movePos })\n    let transformRotate = this.DUService.pos.getTransformStringByRM({ radian: moveRadian })\n    let pathData: RepeatPathType[] = [{\n      transform: transform,\n      children: [{ transform: transformRotate, children: [{ paths: paths }] }]\n    }]\n    return pathData\n  }\n\n  getCircleData(j2ds: any[], movePos: DC.Pos, moveRadian: number) {\n    let moveData = {\n      r: 96,\n      overR: 128,\n      data: [],\n      transform: this.DUService.pos.getTransformStringByRM({ movePos: movePos }),\n      otherTransform: this.DUService.pos.getTransformStringByRM({ radian: moveRadian })\n    }\n    for (let i = 0; i < j2ds.length; i++) {\n      let obj = {\n        pos: { x: j2ds[i].point[0]['x'], y: j2ds[i].point[0][\"y\"] }, func: (e: MouseEvent) => {\n          this.mouseDown(e)\n          this.paramsModel.mode = 'paramsMove'\n          this.paramsModel.movePointData = {\n            type: j2ds[i].params['moveType'].formula,\n            radian: j2ds[i].params['moveRadian'].formula,\n            tag: j2ds[i].params['moveTag'].formula,\n            add: j2ds[i].params['moveAdd'].formula,\n          }\n        }\n      }\n      moveData.data.push(obj)\n    }\n    return moveData\n  }\n\n  /* 获取标签数据 */\n  getLabelData(lines: DC.Pos[][], movePos: DC.Pos, moveRadian: number) {\n    let data = {\n      img: this.dataService.cmd.cowall.ico.url,\n      imgWidth: this.dataService.cmd.cowall.ico.width,\n      imgHeight: this.dataService.cmd.cowall.ico.height,\n      movePos: movePos,\n      moveRadian: moveRadian,\n      data: []\n    }\n    for (let i = 0; i < lines.length; i++) {\n      let obj = {\n        line: lines[i],\n        text: this.DUService.pos.getDistance(lines[i][0], lines[i][1]).toFixed(0),\n        radian: this.DUService.pos.getRadian(lines[i][0], lines[i][1])\n      }\n      data.data.push(obj)\n    }\n    return data\n  }\n\n\n\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3N2Zy9kb20vcGFyYW1zLW1vZGVscy9wYXJhbXMtbW9kZWxzLmNvbXBvbmVudC5zY3NzIn0= */\"","import { Component, OnInit, ChangeDetectorRef } from '@angular/core';\nimport { JdesignUtil2dService } from '../../../services/jdesign-util2d.service';\nimport { JdesignDataService } from '../../../services/jdesign-data.service';\nimport { DomUpdateService } from '../../../services/dom-update.service';\n\n@Component({\n  selector: '[paramsModels]',\n  templateUrl: './params-models.component.html',\n  styleUrls: ['./params-models.component.scss']\n})\nexport class ParamsModelsComponent implements OnInit {\n\n  constructor(\n    private DUService: JdesignUtil2dService,\n    public dataService: JdesignDataService,\n    private domService: DomUpdateService,\n    private ref: ChangeDetectorRef\n  ) {\n    this.domService.svgParamsModel.subscribe(() => {\n      this.ref.detectChanges()\n    })\n\n  }\n\n  ngOnInit() {\n    if (this.dataService.cmd.common.initLog) {\n      this.DUService.out.redLog('paramsModels is ok!!')\n    }\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ParamsModelsComponent } from './params-models.component';\nimport { ParamsModelComponent } from './params-model/params-model.component';\nimport { LabelCircleModule } from '../common/label-circle/label-circle.module';\nimport { RepeatPathModule } from '../common/repeat-path/repeat-path.module';\nimport { LabelLinesModule } from '../common/label-lines/label-lines.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    LabelCircleModule,\n    LabelLinesModule,\n    RepeatPathModule\n  ],\n  declarations: [ParamsModelsComponent, ParamsModelComponent],\n  exports: [ParamsModelsComponent]\n})\nexport class ParamsModelsModule { }\n","module.exports = \".svg_circle {\\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\\n  stroke-opacity: 0.25;\\n  fill-opacity: 0;\\n  fill: #909090;\\n  stroke: #909090;\\n  cursor: move;\\n}\\n\\n.svg_circle_shadow {\\n  fill-opacity: 0.8;\\n  fill: #422222;\\n  cursor: move;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc3ZnL2RvbS9wb2ludHMvcG9pbnQvRDpcXGtub3dsZWRnZVxcaGdcXG9sZFxcb2xkUm9vbS9zcmNcXGFwcFxcc3ZnXFxkb21cXHBvaW50c1xccG9pbnRcXHBvaW50LmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9zdmcvZG9tL3BvaW50cy9wb2ludC9wb2ludC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLDZDQUFBO0VBQ0Esb0JBQUE7RUFDQSxlQUFBO0VBQ0EsYUFBQTtFQUNBLGVBQUE7RUFDQSxZQUFBO0FDQ0o7O0FERUE7RUFDSSxpQkFBQTtFQUNBLGFBQUE7RUFDQSxZQUFBO0FDQ0oiLCJmaWxlIjoic3JjL2FwcC9zdmcvZG9tL3BvaW50cy9wb2ludC9wb2ludC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5zdmdfY2lyY2xlIHtcclxuICAgIC13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwKTtcclxuICAgIHN0cm9rZS1vcGFjaXR5OiAwLjI1O1xyXG4gICAgZmlsbC1vcGFjaXR5OiAwO1xyXG4gICAgZmlsbDogIzkwOTA5MDtcclxuICAgIHN0cm9rZTogIzkwOTA5MDtcclxuICAgIGN1cnNvcjogbW92ZTtcclxufVxyXG5cclxuLnN2Z19jaXJjbGVfc2hhZG93IHtcclxuICAgIGZpbGwtb3BhY2l0eTogMC44O1xyXG4gICAgZmlsbDogIzQyMjIyMjtcclxuICAgIGN1cnNvcjogbW92ZTtcclxufSIsIi5zdmdfY2lyY2xlIHtcbiAgLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOiByZ2JhKDAsIDAsIDAsIDApO1xuICBzdHJva2Utb3BhY2l0eTogMC4yNTtcbiAgZmlsbC1vcGFjaXR5OiAwO1xuICBmaWxsOiAjOTA5MDkwO1xuICBzdHJva2U6ICM5MDkwOTA7XG4gIGN1cnNvcjogbW92ZTtcbn1cblxuLnN2Z19jaXJjbGVfc2hhZG93IHtcbiAgZmlsbC1vcGFjaXR5OiAwLjg7XG4gIGZpbGw6ICM0MjIyMjI7XG4gIGN1cnNvcjogbW92ZTtcbn0iXX0= */\"","import { Component, OnInit, Input, DoCheck } from '@angular/core';\r\nimport { JPoint } from '../../../common/jdesign/JPoint';\r\nimport { PopDivService } from '../../../../services/pop-div.service';\r\nimport { JdesignDataService } from '../../../../services/jdesign-data.service';\r\nimport { RightMenuService } from '../../../../services/right-menu.service';\r\nimport { DomUpdateService } from '../../../../services/dom-update.service';\r\n\r\n@Component({\r\n  selector: '[point]',\r\n  templateUrl: './point.component.html',\r\n  styleUrls: ['./point.component.scss']\r\n\r\n})\r\nexport class PointComponent implements OnInit, DoCheck {\r\n\r\n  private _point: JPoint;\r\n  isOver: boolean = false\r\n  testPos: { x: number, y: number } = undefined\r\n  @Input() set point(data) {\r\n    this._point = data\r\n  }\r\n  get point() { return this._point }\r\n\r\n  constructor(\r\n    private popService: PopDivService,\r\n    private dataService: JdesignDataService,\r\n    private rightService: RightMenuService,\r\n    private domService: DomUpdateService\r\n  ) {\r\n\r\n  }\r\n\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  ngDoCheck() {\r\n    this.testPos = this.point.pos\r\n    if (!this.testPos) {\r\n      console.log(this.testPos)\r\n      console.log(this.point.cowallIDs)\r\n    }\r\n  }\r\n\r\n  mouseDown(e: MouseEvent) {\r\n    if (e.which == 3) {\r\n      this.rightService.point.emit({ e: e, point: this.point })\r\n      this.dataService.cache.common.initUpdate(['rightMenu'])\r\n    }\r\n    else {\r\n      this.dataService.cache.common.choose = this.point\r\n      this.dataService.cache.common.firstPos = { x: e.offsetX, y: e.offsetY }\r\n      this.dataService.cache.common.blockON = true\r\n      this.dataService.cmd.cowall.hide = false\r\n      this.domService.allSvg.emit()\r\n      this.dataService.cache.common.initUpdate()\r\n    }\r\n\r\n  }\r\n\r\n  mouseOver(e: MouseEvent) {\r\n    if (this.dataService.cmd.floorplan.debugPos != null && this.dataService.cmd.floorplan.debugPos != undefined) {\r\n      let data = {\r\n        text: `${this.point.id}:{\r\n         cos:${this.point.cowallIDs};\r\n         x:${this.point.pos.x};\r\n         y:${this.point.pos.y};\r\n        }`,\r\n        position: this.dataService.cmd.floorplan.debugPos\r\n      }\r\n\r\n      this.popService.message.emit(data)\r\n    }\r\n    this.isOver = true\r\n  }\r\n\r\n  mouseLeave(e: MouseEvent) {\r\n    this.isOver = false\r\n  }\r\n\r\n\r\n}\r\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3N2Zy9kb20vcG9pbnRzL3BvaW50cy5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, OnInit, ChangeDetectionStrategy, ChangeDetectorRef } from '@angular/core';\r\nimport { JdesignUtil2dService } from '../../../services/jdesign-util2d.service';\r\nimport { JdesignDataService } from '../../../services/jdesign-data.service';\r\nimport { DomUpdateService } from '../../../services/dom-update.service';\r\nimport { RightMenuService } from '../../../services/right-menu.service';\r\n\r\n@Component({\r\n  selector: '[points]',\r\n  templateUrl: './points.component.html',\r\n  styleUrls: ['./points.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class PointsComponent implements OnInit {\r\n\r\n  constructor(\r\n    private DUService: JdesignUtil2dService,\r\n    private dataService: JdesignDataService,\r\n    private domUpdateService: DomUpdateService,\r\n    private ref: ChangeDetectorRef\r\n  ) {\r\n    this.domUpdateService.svgPoint.subscribe(() => {\r\n      this.ref.detectChanges()\r\n    })\r\n  }\r\n\r\n  ngOnInit() {\r\n    if (this.dataService.cmd.common.initLog) {\r\n      this.DUService.out.redLog('points is ok!!')\r\n    }\r\n\r\n  }\r\n\r\n  getPointArr() {\r\n    return this.DUService.cal.getStringArrByNum(this.dataService.points)\r\n  }\r\n\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { PointsComponent } from './points.component';\r\nimport { PointComponent } from './point/point.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  declarations: [PointsComponent, PointComponent],\r\n  exports: [PointsComponent]\r\n})\r\nexport class PointsModule { }\r\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3N2Zy9kb20vcm9vbXMvZmxvb3IvZmxvb3IuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit, Input, DoCheck } from '@angular/core';\r\nimport { JFloor } from '../../../common/jdesign/JFloor';\r\nimport { JdesignDataService } from '../../../../services/jdesign-data.service';\r\n\r\n\r\n@Component({\r\n  selector: '[floor]',\r\n  templateUrl: './floor.component.html',\r\n  styleUrls: ['./floor.component.scss']\r\n})\r\nexport class FloorComponent implements OnInit {\r\n\r\n  private _floor: JFloor\r\n  @Input() set floor(data) {\r\n\r\n    this._floor = data\r\n  }\r\n  get floor() { return this._floor }\r\n\r\n  constructor(public dataService: JdesignDataService) {\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","module.exports = \".room_shadow_path {\\n  fill: #c5daeb;\\n  stroke: #a8ceec;\\n  fill-opacity: 0.5;\\n}\\n\\n.room_shadow_area {\\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\\n  text-anchor: middle;\\n  font-family: \\\"Frutiger Next LT W1G\\\", Calibri, Arial, Helvetica, sans-serif;\\n  fill: #202020;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc3ZnL2RvbS9yb29tcy9yb29tLXNoYWRvdy9EOlxca25vd2xlZGdlXFxoZ1xcb2xkXFxvbGRSb29tL3NyY1xcYXBwXFxzdmdcXGRvbVxccm9vbXNcXHJvb20tc2hhZG93XFxyb29tLXNoYWRvdy5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvc3ZnL2RvbS9yb29tcy9yb29tLXNoYWRvdy9yb29tLXNoYWRvdy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGFBQUE7RUFDQSxlQUFBO0VBQ0EsaUJBQUE7QUNDSjs7QURFQTtFQUNJLDZDQUFBO0VBQ0EsbUJBQUE7RUFDQSwwRUFBQTtFQUNBLGFBQUE7QUNDSiIsImZpbGUiOiJzcmMvYXBwL3N2Zy9kb20vcm9vbXMvcm9vbS1zaGFkb3cvcm9vbS1zaGFkb3cuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIucm9vbV9zaGFkb3dfcGF0aCB7XHJcbiAgICBmaWxsOiByZ2IoMTk3LCAyMTgsIDIzNSk7XHJcbiAgICBzdHJva2U6IHJnYigxNjgsIDIwNiwgMjM2KTtcclxuICAgIGZpbGwtb3BhY2l0eTogMC41O1xyXG59XHJcblxyXG4ucm9vbV9zaGFkb3dfYXJlYSB7XHJcbiAgICAtd2Via2l0LXRhcC1oaWdobGlnaHQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMCk7XHJcbiAgICB0ZXh0LWFuY2hvcjogbWlkZGxlO1xyXG4gICAgZm9udC1mYW1pbHk6IFwiRnJ1dGlnZXIgTmV4dCBMVCBXMUdcIiwgQ2FsaWJyaSwgQXJpYWwsIEhlbHZldGljYSwgc2Fucy1zZXJpZjtcclxuICAgIGZpbGw6ICMyMDIwMjA7XHJcbn0iLCIucm9vbV9zaGFkb3dfcGF0aCB7XG4gIGZpbGw6ICNjNWRhZWI7XG4gIHN0cm9rZTogI2E4Y2VlYztcbiAgZmlsbC1vcGFjaXR5OiAwLjU7XG59XG5cbi5yb29tX3NoYWRvd19hcmVhIHtcbiAgLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOiByZ2JhKDAsIDAsIDAsIDApO1xuICB0ZXh0LWFuY2hvcjogbWlkZGxlO1xuICBmb250LWZhbWlseTogXCJGcnV0aWdlciBOZXh0IExUIFcxR1wiLCBDYWxpYnJpLCBBcmlhbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmO1xuICBmaWxsOiAjMjAyMDIwO1xufSJdfQ== */\"","import { Component, OnInit, ChangeDetectionStrategy, ChangeDetectorRef } from '@angular/core';\r\nimport { JdesignDataService } from '../../../../services/jdesign-data.service';\r\nimport { DomUpdateService } from '../../../../services/dom-update.service';\r\nimport { JdesignUtil2dService } from '../../../../services/jdesign-util2d.service';\r\nimport { DesignCommon as DC } from '../../../common/class/DesignCommon'\r\n\r\n@Component({\r\n  selector: '[room-shadow]',\r\n  templateUrl: './room-shadow.component.html',\r\n  styleUrls: ['./room-shadow.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n\r\n})\r\nexport class RoomShadowComponent implements OnInit {\r\n\r\n  private _assistPosA: DC.Pos = null\r\n  private _assistPosB: DC.Pos = null\r\n  centerPos: DC.Pos = null\r\n  size: DC.Size = null\r\n\r\n\r\n  constructor(\r\n    private dataService: JdesignDataService,\r\n    private ref: ChangeDetectorRef,\r\n    private domService: DomUpdateService,\r\n    private DUService: JdesignUtil2dService,\r\n  ) {\r\n    this.domService.svgRoomShadow.subscribe(() => {\r\n      this.ref.detectChanges()\r\n    })\r\n  }\r\n\r\n  ngOnInit() {\r\n    if (this.dataService.cmd.common.initLog) {\r\n      this.DUService.out.redLog('room-shadow is ok!!')\r\n    }\r\n  }\r\n\r\n  /** 是否隐藏 */\r\n  isShow() {\r\n    if (this.dataService.cmd != undefined\r\n      && this.dataService.cache.common.mode == 'drawRoom'\r\n      && this.dataService.cache.room.shadowPosArr != null\r\n      && !this.DUService.pos.isSamePos(this.dataService.cache.room.shadowPosArr[0], this.dataService.cache.room.shadowPosArr[1])\r\n    )\r\n      return true\r\n    else\r\n      return false\r\n    // return false\r\n  }\r\n\r\n  /** 是否显示标签 */\r\n  isLabel() {\r\n    this.centerPos = this.getCenterPos()\r\n    this.size = this.getSize()\r\n    if (this.size.width <= 0 || this.size.height <= 0) {\r\n      this.dataService.cache.room.inputData = []\r\n      return false\r\n    }\r\n    return true\r\n  }\r\n\r\n  /** 获取厚度 */\r\n  getThickness() {\r\n    return this.dataService.cmd.wall.thickness\r\n  }\r\n\r\n  /** 获取path */\r\n  getPath() {\r\n    this._assistPosA = { x: this.dataService.cache.room.shadowPosArr[0].x, y: this.dataService.cache.room.shadowPosArr[1].y }\r\n    this._assistPosB = { x: this.dataService.cache.room.shadowPosArr[1].x, y: this.dataService.cache.room.shadowPosArr[0].y }\r\n    let path: string = this.DUService.svg.getPath(true, this.dataService.cache.room.shadowPosArr[0], this._assistPosA, this.dataService.cache.room.shadowPosArr[1], this._assistPosB)\r\n    return path\r\n  }\r\n\r\n  /** 获取中心 */\r\n  getCenterPos() {\r\n    let pos: DC.Pos = { x: (this.dataService.cache.room.shadowPosArr[0].x + this.dataService.cache.room.shadowPosArr[1].x) / 2, y: (this.dataService.cache.room.shadowPosArr[0].y + this.dataService.cache.room.shadowPosArr[1].y) / 2 }\r\n    return pos\r\n  }\r\n\r\n  /** 获取宽高 */\r\n  getSize(): DC.Size {\r\n    let width: number = Math.abs(this.dataService.cache.room.shadowPosArr[1].x - this.dataService.cache.room.shadowPosArr[0].x)\r\n    width -= this.dataService.cmd.wall.thickness\r\n    let height: number = Math.abs(this.dataService.cache.room.shadowPosArr[1].y - this.dataService.cache.room.shadowPosArr[0].y)\r\n    height -= this.dataService.cmd.wall.thickness\r\n    return {\r\n      width: width,\r\n      height: height\r\n    }\r\n  }\r\n\r\n  /** 获取标签线 返回的数组[水平线,垂直线] */\r\n  getLabelLine(centerPos: DC.Pos, size: DC.Size) {\r\n\r\n    let lineA = this.DUService.pos.getLineByCenterPos(centerPos, size.width / 2, 0)\r\n    let lineB = this.DUService.pos.getLineByCenterPos(centerPos, size.height / 2, Math.PI / 2)\r\n    /** 水平线 */\r\n    lineA = this.DUService.pos.getPosTrans(lineA[0], lineA[1], -(size.height / 2 - this.dataService.cmd.cowall.height))\r\n    /** 垂直线 */\r\n    lineB = this.DUService.pos.getPosTrans(lineB[0], lineB[1], -(size.width / 2 - this.dataService.cmd.cowall.height))\r\n\r\n    return [lineA, lineB]\r\n\r\n  }\r\n\r\n  /** 获取标签数据 */\r\n  getLabelData(centerPos: DC.Pos, size: DC.Size) {\r\n    let lines: DC.Pos[][] = this.getLabelLine(centerPos, size)\r\n    let inputDatas = []\r\n    let datas = {\r\n      img: this.dataService.cmd.cowall.ico.url,\r\n      imgWidth: this.dataService.cmd.cowall.ico.width,\r\n      imgHeight: this.dataService.cmd.cowall.ico.height,\r\n      data: [],\r\n      movePos: { x: 0, y: 0 }\r\n    }\r\n    let text: number | string = null\r\n\r\n    let getDataFunc = (posArr: DC.Pos[]) => {\r\n      text = this.dataService.cmd.getPixelTransLength(this.DUService.pos.getDistance(posArr[0], posArr[1]), 'mm')\r\n      text = parseInt(text.toFixed(0))\r\n\r\n      return {\r\n        line: [posArr[0], posArr[1]],\r\n        text: text\r\n      }\r\n    }\r\n\r\n    for (let i = 0; i < lines.length; i++) {\r\n      let data = getDataFunc(lines[i])\r\n      let inputData = {\r\n        pos: { x: (data.line[1].x + data.line[0].x) / 2, y: (data.line[1].y + data.line[0].y) / 2 },\r\n        text: data.text,\r\n        isX: true\r\n      }\r\n      data.text = null\r\n      inputDatas.push(inputData)\r\n      datas.data.push(data)\r\n    }\r\n    inputDatas[1].isX = false\r\n    this.dataService.cache.room.inputData = inputDatas\r\n\r\n    return datas\r\n\r\n  }\r\n\r\n  /** 获取textTransform */\r\n  getTextTransform(centerPos: DC.Pos) {\r\n    let transform = this.DUService.pos.getTransfromString(1, 0, 0, 1, centerPos.x, centerPos.y)\r\n    return transform\r\n  }\r\n\r\n  /** 获取面积 */\r\n  getArea(size: DC.Size) {\r\n    let area = size.width * size.height\r\n    area = this.dataService.cmd.getPixelTransLength(area, 'm')\r\n    area = this.dataService.cmd.getPixelTransLength(area, 'm')\r\n    let text = area.toFixed(2) + 'm²'\r\n    return text\r\n  }\r\n\r\n\r\n}\r\n","module.exports = \".room_path {\\n  fill: rgba(62, 127, 168, 0.712);\\n}\\n\\n.room_area {\\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\\n  text-anchor: middle;\\n  font-family: \\\"Frutiger Next LT W1G\\\", Calibri, Arial, Helvetica, sans-serif;\\n  fill: #202020;\\n}\\n\\n.test_circle {\\n  fill: firebrick;\\n}\\n\\n.test_room {\\n  fill: rgba(62, 127, 168, 0.712);\\n}\\n\\n.shadow_room:hover {\\n  fill: rgba(99, 103, 105, 0.512);\\n}\\n\\n.shadow_room {\\n  fill: rgba(0, 0, 0, 0);\\n}\\n\\n.room_click {\\n  fill: rgba(124, 197, 240, 0.312);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc3ZnL2RvbS9yb29tcy9yb29tL0Q6XFxrbm93bGVkZ2VcXGhnXFxvbGRcXG9sZFJvb20vc3JjXFxhcHBcXHN2Z1xcZG9tXFxyb29tc1xccm9vbVxccm9vbS5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvc3ZnL2RvbS9yb29tcy9yb29tL3Jvb20uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSwrQkFBQTtBQ0NKOztBREVBO0VBQ0ksNkNBQUE7RUFDQSxtQkFBQTtFQUNBLDBFQUFBO0VBQ0EsYUFBQTtBQ0NKOztBREVBO0VBQ0ksZUFBQTtBQ0NKOztBREVBO0VBQ0ksK0JBQUE7QUNDSjs7QURFQTtFQUNJLCtCQUFBO0FDQ0o7O0FEQ0E7RUFDSSxzQkFBQTtBQ0VKOztBRENBO0VBQ0ksZ0NBQUE7QUNFSiIsImZpbGUiOiJzcmMvYXBwL3N2Zy9kb20vcm9vbXMvcm9vbS9yb29tLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnJvb21fcGF0aCB7XHJcbiAgICBmaWxsOiByZ2JhKDYyLCAxMjcsIDE2OCwgMC43MTIpO1xyXG59XHJcblxyXG4ucm9vbV9hcmVhIHtcclxuICAgIC13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwKTtcclxuICAgIHRleHQtYW5jaG9yOiBtaWRkbGU7XHJcbiAgICBmb250LWZhbWlseTogXCJGcnV0aWdlciBOZXh0IExUIFcxR1wiLCBDYWxpYnJpLCBBcmlhbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmO1xyXG4gICAgZmlsbDogIzIwMjAyMDtcclxufVxyXG5cclxuLnRlc3RfY2lyY2xlIHtcclxuICAgIGZpbGw6IGZpcmVicmljaztcclxufVxyXG5cclxuLnRlc3Rfcm9vbSB7XHJcbiAgICBmaWxsOiByZ2JhKDYyLCAxMjcsIDE2OCwgMC43MTIpO1xyXG59XHJcblxyXG4uc2hhZG93X3Jvb206aG92ZXIge1xyXG4gICAgZmlsbDogcmdiYSg5OSwgMTAzLCAxMDUsIDAuNTEyKTtcclxufVxyXG4uc2hhZG93X3Jvb217XHJcbiAgICBmaWxsOnJnYmEoMCwgMCwgMCwgMClcclxufVxyXG5cclxuLnJvb21fY2xpY2sge1xyXG4gICAgZmlsbDogcmdiYSgxMjQsIDE5NywgMjQwLCAwLjMxMik7XHJcbn0iLCIucm9vbV9wYXRoIHtcbiAgZmlsbDogcmdiYSg2MiwgMTI3LCAxNjgsIDAuNzEyKTtcbn1cblxuLnJvb21fYXJlYSB7XG4gIC13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwKTtcbiAgdGV4dC1hbmNob3I6IG1pZGRsZTtcbiAgZm9udC1mYW1pbHk6IFwiRnJ1dGlnZXIgTmV4dCBMVCBXMUdcIiwgQ2FsaWJyaSwgQXJpYWwsIEhlbHZldGljYSwgc2Fucy1zZXJpZjtcbiAgZmlsbDogIzIwMjAyMDtcbn1cblxuLnRlc3RfY2lyY2xlIHtcbiAgZmlsbDogZmlyZWJyaWNrO1xufVxuXG4udGVzdF9yb29tIHtcbiAgZmlsbDogcmdiYSg2MiwgMTI3LCAxNjgsIDAuNzEyKTtcbn1cblxuLnNoYWRvd19yb29tOmhvdmVyIHtcbiAgZmlsbDogcmdiYSg5OSwgMTAzLCAxMDUsIDAuNTEyKTtcbn1cblxuLnNoYWRvd19yb29tIHtcbiAgZmlsbDogcmdiYSgwLCAwLCAwLCAwKTtcbn1cblxuLnJvb21fY2xpY2sge1xuICBmaWxsOiByZ2JhKDEyNCwgMTk3LCAyNDAsIDAuMzEyKTtcbn0iXX0= */\"","import { Component, OnInit, Input, DoCheck, } from '@angular/core';\r\nimport { JdesignDataService } from '../../../../services/jdesign-data.service';\r\nimport { JdesignUtil2dService } from '../../../../services/jdesign-util2d.service';\r\nimport { JRoom } from '../../../common/jdesign/JRoom';\r\nimport { CalculatorsService } from '../../../../services/calculators.service';\r\nimport { PopDivService } from '../../../../services/pop-div.service';\r\nimport { RightMenuService } from '../../../../services/right-menu.service';\r\nimport { DesignCommon as DC } from '../../../common/class/DesignCommon'\r\nimport { DomUpdateService } from '../../../../services/dom-update.service';\r\nimport { JWall } from '../../../common/jdesign/JWall';\r\n\r\n@Component({\r\n  selector: '[room]',\r\n  templateUrl: './room.component.html',\r\n  styleUrls: ['./room.component.scss']\r\n})\r\nexport class RoomComponent implements OnInit, DoCheck {\r\n\r\n  private _roomData: JRoom\r\n  transform: string = null\r\n  path: string = null\r\n  fillString: string = null\r\n  area: string = null\r\n  @Input() set room(data) {\r\n    this._roomData = data\r\n  }\r\n  get room() { return this._roomData }\r\n\r\n  constructor(\r\n    public dataService: JdesignDataService,\r\n    private DUService: JdesignUtil2dService,\r\n    private calService: CalculatorsService,\r\n    private popService: PopDivService,\r\n    private rightService: RightMenuService,\r\n    private domService: DomUpdateService,\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.fillString = this.getFillString()\r\n    let floor = this.room.getFloor()\r\n    floor.lateChooseFuncArr.push(() => {\r\n      this.popService.panelRight.emit(floor)\r\n    })\r\n    this.room.lateChooseFuncArr.push(() => {\r\n      this.popService.panelRight.emit(floor)\r\n    })\r\n    let roof = this.room.getRoof()\r\n    roof.lateChooseFuncArr.push(() => {\r\n      this.popService.panelRight.emit(roof)\r\n    })\r\n  }\r\n\r\n  ngDoCheck() {\r\n    let inPosArr = null\r\n    try {\r\n      inPosArr = this.room.getInLine()\r\n      this.path = this.getPath(inPosArr)\r\n      this.area = this.getArea(inPosArr)\r\n      if (this.room.isAutoMoveAreaPos) {\r\n        /* 矩形算法 */\r\n        // let centerPos = this.DUService.pos.getCenterPosByPolygon(...inPosArr)\r\n        /* 延长算法 */\r\n        let centerPos = this.getCenterPosSuper(inPosArr)\r\n        // if (centerPos.x < 0 || centerPos.y < 0) {\r\n        //   centerPos = this.DUService.pos.getCenterPosByPolygon(...inPosArr)\r\n        // }\r\n        this.room.displayPos = centerPos\r\n      }\r\n      // if (this.room.displayPos == null) {\r\n      //   this.transform = null\r\n      // }\r\n      // else {\r\n      //   this.transform = this.getTextTransform(this.room.displayPos)\r\n      // }\r\n    }\r\n    catch (e) {\r\n      console.log(e)\r\n      // console.log(this.area)\r\n    }\r\n  }\r\n\r\n  mouseOver(e: MouseEvent) {\r\n    if (this.dataService.cmd.floorplan.debugPos != null && this.dataService.cmd.floorplan.debugPos != undefined) {\r\n      let data = {\r\n        text: `${this.room.id}:{\r\n         cos:${this.room.cowallIDs},\r\n         floor:${this.room.floorID}\r\n        }`,\r\n        position: this.dataService.cmd.floorplan.debugPos\r\n      }\r\n      this.popService.message.emit(data)\r\n    }\r\n  }\r\n\r\n  mouseDown(e: MouseEvent) {\r\n    if (this.dataService.cmd.floorplan.debugPos != null && this.dataService.cmd.floorplan.debugPos != undefined) {\r\n      let data = {\r\n        text: `${this.room.getFloor().id}:{\r\n         room:${this.room.getFloor().roomID}\r\n        }`,\r\n        position: this.dataService.cmd.floorplan.debugPos\r\n      }\r\n      this.popService.message.emit(data)\r\n    }\r\n    this.dataService.cache.common.blockON = true\r\n    this.dataService.cache.common.firstPos = { x: e.offsetX, y: e.offsetY }\r\n    // this.dataService.cmd.cowall.hide = true\r\n    this.dataService.cache.common.choose = this.room\r\n    this.dataService.cache.common.chooseOtherMsg = 'room'\r\n    this.dataService.cache.common.initUpdate()\r\n    this.domService.allSvg.emit()\r\n    if (e.which == 3) {\r\n      this.rightService.room.emit({ e: e, room: this.room })\r\n    }\r\n  }\r\n\r\n  textDown(e: MouseEvent) {\r\n    this.mouseDown(e)\r\n    this.room.isAutoMoveAreaPos = false\r\n    this.dataService.cache.common.chooseOtherMsg = 'text'\r\n  }\r\n\r\n  /** 获取path */\r\n  getPath(posArr: DC.Pos[]) {\r\n    let path: string = this.DUService.svg.getPath(true, ...posArr)\r\n    let wallArr = this.room.getWallArr()\r\n    for (let i = 0; i < wallArr.length; i++) {\r\n      if (wallArr[i].arcDistance != 0)\r\n        path += this.getArcPath(wallArr[i])\r\n    }\r\n    return path\r\n  }\r\n\r\n  getCenterPosSuper(posArr: DC.Pos[]) {\r\n    let centerPos = this.DUService.pos.getCenterPosByPolygon(...posArr)\r\n    let a = this.DUService.pos.isInPosArrByPos(centerPos, posArr)\r\n    if (a)\r\n      return centerPos\r\n    let lines = this.DUService.pos.getLines(posArr)\r\n    let minInt = undefined\r\n    let minDistance = undefined\r\n    let intersectPos: DC.Pos = undefined\r\n    for (let i = 0; i < lines.length; i++) {\r\n      let newPos\r\n        = this.DUService.pos.getRightAngleIntersect(centerPos, lines[i][0], lines[i][1], false)\r\n      if (!newPos) {\r\n        continue\r\n      }\r\n      let distance = this.DUService.pos.getPowDistance(newPos, centerPos)\r\n      if (minDistance == undefined || minDistance > distance) {\r\n        minInt = i\r\n        minDistance = distance\r\n        intersectPos = newPos\r\n      }\r\n    }\r\n    if (minInt == undefined)\r\n      return centerPos\r\n\r\n    let lineA = lines[minInt]\r\n    let newLine = [intersectPos, centerPos]\r\n    newLine = this.DUService.pos.getlongLine(newLine)\r\n    lines.splice(minInt, 1)\r\n    for (let i = 0; i < lines.length; i++) {\r\n      let newIntersectPos = this.DUService.pos.getIntersect(newLine[0], newLine[1], lines[i][0], lines[i][1], false)\r\n      if (newIntersectPos) {\r\n        let newCenterPos = this.DUService.pos.getCenterPos(newIntersectPos, intersectPos)\r\n        return newCenterPos\r\n      }\r\n    }\r\n    return centerPos\r\n  }\r\n\r\n  /** 获取圆弧的path */\r\n  getArcPath(wall: JWall) {\r\n    let a = wall.isBigArc()\r\n    let path = this.DUService.svg.getArcPath(wall.arcRadius - (wall.thickness / 2), wall.outLine[0][1], a)\r\n    path = this.DUService.svg.getAddPath(wall.outLine[1][0], true) + ',' + path\r\n    path += ',Z'\r\n    return path\r\n  }\r\n\r\n  /** 获取面积 */\r\n  getArea(posArr: DC.Pos[]) {\r\n    let area = this.DUService.pos.getArea(...posArr)\r\n    let wallArr = this.room.getWallArr()\r\n    for (let i = 0; i < wallArr.length; i++) {\r\n      if (wallArr[i].arcDistance != 0) {\r\n        area += this.getArcArea(wallArr[i])\r\n      }\r\n    }\r\n    area = this.dataService.cmd.getPixelTransLength(area, 'm')\r\n    area = this.dataService.cmd.getPixelTransLength(area, 'm')\r\n    this.room.areaCache = area\r\n    let text = area.toFixed(2) + 'm²'\r\n    return text\r\n  }\r\n\r\n  /** 获取弧形面积 */\r\n  getArcArea(wall: JWall) {\r\n    let distance = this.DUService.pos.getDistance(wall.outLine[0][1], wall.outLine[1][0])\r\n    let a = wall.isBigArc()\r\n    let area = this.DUService.pos.getArcArea(distance, wall.arcRadius - (wall.thickness / 2), a)\r\n    return area\r\n  }\r\n\r\n  /** 获取textTransform */\r\n  getTextTransform(centerPos: DC.Pos) {\r\n    let transform = this.DUService.pos.getTransfromString(1, 0, 0, 1, centerPos.x, centerPos.y)\r\n    return transform\r\n  }\r\n\r\n\r\n  /** 中心算法 */\r\n  getCenterPos(posArr: DC.Pos[]): DC.Pos {\r\n    let triangles = this.getTriangles(posArr)\r\n    if (triangles.length == 0) {\r\n      return undefined\r\n    }\r\n    let lineArr = this.getAllLines(...posArr)\r\n    this.DUService.pos.removeSamePosLine(lineArr)\r\n    let len = triangles.length - 1\r\n    let circlePos: DC.Pos = triangles[len].centerPos\r\n    // return circlePos\r\n    let normalLengthFactor = 500\r\n    let lengthFactor = normalLengthFactor\r\n    let minLengthFactor = 1\r\n    let int = 0\r\n    while (int < 50 && minLengthFactor < lengthFactor) {\r\n      let msg = this.getNewCircleMsg(circlePos, lineArr, lengthFactor)\r\n      /** 距离变大,用新的圆心继续计算 */\r\n      if (msg.distance > 0) {\r\n        circlePos = msg.pos\r\n        if (!this.DUService.pos.isInPosArrByPos(circlePos, posArr)) {\r\n          len--\r\n          if (len < 0)\r\n            return null\r\n          circlePos = triangles[len].centerPos\r\n          lengthFactor = normalLengthFactor\r\n        }\r\n      }\r\n      /** 距离变小,减少步长因子继续计算 */\r\n      else if (msg.distance < 0) {\r\n        lengthFactor = lengthFactor * 0.618\r\n      }\r\n      int++\r\n    }\r\n    return circlePos\r\n  }\r\n\r\n  /** 测试用的 */\r\n  testSetCenterPos(posArr: DC.Pos[]) {\r\n    let lineArr = this.getAllLines(...posArr)\r\n    let triangles = this.getTriangles(posArr)\r\n    let len = triangles.length - 1\r\n    let circlePos: DC.Pos = triangles[len].centerPos\r\n    // return circlePos\r\n    let normalLengthFactor = 500\r\n    let lengthFactor = normalLengthFactor\r\n    let minLengthFactor = 1\r\n    let int = 0\r\n\r\n    let time = 200\r\n    let isGo = true\r\n    this.dataService.cache.testSvg = [{\r\n      mode: 'circle',\r\n      radius: 300,\r\n      pos: circlePos\r\n    }]\r\n    this.domService.testSvg.emit()\r\n    // console.log(`pos:x:${circlePos.x},y:${circlePos.y}`)\r\n\r\n    let func = (int, minLengthFactor, lengthFactor, isGo) => {\r\n      setTimeout(() => {\r\n\r\n        let msg = this.getNewCircleMsg(circlePos, lineArr, lengthFactor)\r\n\r\n        /** 距离变大,用新的圆心继续计算 */\r\n        if (msg.distance > 0) {\r\n          circlePos = msg.pos\r\n          if (!this.DUService.pos.isInPosArrByPos(circlePos, posArr)) {\r\n            isGo = false\r\n            // len--\r\n            // circlePos = triangles[len].centerPos\r\n            // lengthFactor = normalLengthFactor\r\n          }\r\n        }\r\n        /** 距离变小,减少步长因子继续计算 */\r\n        else if (msg.distance < 0) {\r\n          lengthFactor = lengthFactor * 0.618\r\n        }\r\n        int++\r\n\r\n        this.dataService.cache.testSvg = [{\r\n          mode: 'circle',\r\n          radius: 300,\r\n          pos: circlePos\r\n        }]\r\n        this.domService.testSvg.emit()\r\n        // console.log(`pos:x:${circlePos.x},y:${circlePos.y}`)\r\n        // console.log(\"%c\" + int, 'color:red')\r\n        if (int < 50 && minLengthFactor < lengthFactor && isGo) {\r\n          func(int, minLengthFactor, lengthFactor, isGo)\r\n        }\r\n      }, time);\r\n    }\r\n    setTimeout(() => {\r\n      func(int, minLengthFactor, lengthFactor, isGo)\r\n    }, time);\r\n\r\n  }\r\n\r\n\r\n\r\n  /** 获取第一次圆心 必须由三个点及以上组成 num从第0个算起 */\r\n  getTriangles(posArr: DC.Pos[]) {\r\n    let triangles: TriangleType[] = []\r\n    let newPosArr: DC.Pos[] = []\r\n    let newArea: number = null\r\n    let centerPos: DC.Pos = null\r\n\r\n\r\n    for (let i = 0; i < posArr.length - 2; i++) {\r\n      newPosArr = [posArr[i], posArr[i + 1], posArr[i + 2]]\r\n      if (!this.DUService.pos.isSamePos(posArr[i], posArr[i + 1]) &&\r\n        !this.DUService.pos.isSamePos(posArr[i + 1], posArr[i + 2]) &&\r\n        !this.DUService.pos.isSamePos(posArr[i + 2], posArr[i])\r\n      ) {\r\n        centerPos = this.DUService.pos.getTriangleCenterPos(newPosArr[0], newPosArr[1], newPosArr[2])\r\n        newArea = this.DUService.pos.getArea(...newPosArr)\r\n        let a = this.DUService.pos.isInPosArrByPos(centerPos, posArr)\r\n        if (newArea > 0 && a) {\r\n\r\n          triangles.push({ centerPos: centerPos, area: newArea })\r\n        }\r\n      }\r\n    }\r\n    this.DUService.cal.bubbleSortByAttr(triangles, 'area')\r\n\r\n    return triangles\r\n\r\n  }\r\n\r\n  /** 计算新新圆心 */\r\n  getNewCircleMsg(circlePos: DC.Pos, lineArr: DC.Pos[][], lengthFactor: number): CrossPos {\r\n    let twoCrossPosArr = this.getTwoCrossPosArr(circlePos, ...lineArr)\r\n    let referencePos = this.getReferencePos(circlePos, twoCrossPosArr[0], twoCrossPosArr[1])\r\n    let extendsCirclePos = this.getExtendsCirclePos(circlePos, referencePos, lengthFactor)\r\n    let newCrossPos = this.getCrossPos(extendsCirclePos, ...lineArr)\r\n    let newDistance = newCrossPos.distance - twoCrossPosArr[0].distance\r\n    return {\r\n      distance: newDistance,\r\n      pos: extendsCirclePos\r\n    }\r\n  }\r\n\r\n  /** 获取所有线段 */\r\n  getAllLines(...posArr: DC.Pos[]) {\r\n    let lines: DC.Pos[][] = []\r\n    for (let i = 0; i < posArr.length - 1; i++) {\r\n      lines.push([posArr[i], posArr[i + 1]])\r\n    }\r\n    lines.push([posArr[posArr.length - 1], posArr[0]])\r\n    return lines\r\n  }\r\n\r\n  /** 获取最小距离两个坐标 */\r\n  getTwoCrossPosArr(pos: DC.Pos, ...lineArr: DC.Pos[][]): CrossPos[] {\r\n    /** 第一小 */\r\n    let posA: DC.Pos = null\r\n    /** 第二小 */\r\n    let posB: DC.Pos = null\r\n    let distanceA: number = null\r\n    let distanceB: number = null\r\n    let distance: number = null\r\n    let crossPos: DC.Pos = null\r\n    for (let i = 0; i < lineArr.length; i++) {\r\n      crossPos = this.DUService.pos.getPointToLinePos(pos, lineArr[i][0], lineArr[i][1])\r\n\r\n      distance = this.DUService.pos.getDistance(pos, crossPos)\r\n      /** 初始值 */\r\n      if (distanceA == null) {\r\n        distanceA = distance\r\n        posA = crossPos\r\n      }\r\n      /** 第二初始值 */\r\n      else if (distanceB == null) {\r\n        if (distance < distanceA) {\r\n          distanceB = distanceA\r\n          posB = posA\r\n          distanceA = distance\r\n          posA = crossPos\r\n        }\r\n        else {\r\n          distanceB = distance\r\n          posB = crossPos\r\n        }\r\n      }\r\n      /** 开始比较 */\r\n      /** 先比较第一小 */\r\n      else if (distance < distanceA) {\r\n        distanceA = distance\r\n        posA = crossPos\r\n      }\r\n      /** 再比较`第二小 */\r\n      else if (distance < distanceB) {\r\n        distanceB = distance\r\n        posB = crossPos\r\n      }\r\n\r\n    }\r\n    return [{ pos: posA, distance: distanceA }, { pos: posB, distance: distanceB }]\r\n  }\r\n\r\n  /** 获取最近距离的坐标 */\r\n  getCrossPos(pos: DC.Pos, ...lineArr: DC.Pos[][]): CrossPos {\r\n    let minPos: DC.Pos = null\r\n    let minDistance: number = null\r\n    let crossPos: DC.Pos = null\r\n    let distance: number = null\r\n    for (let i = 0; i < lineArr.length; i++) {\r\n      crossPos = this.DUService.pos.getPointToLinePos(pos, lineArr[i][0], lineArr[i][1])\r\n      distance = this.DUService.pos.getDistance(pos, crossPos)\r\n      if (minDistance == null || minDistance > distance) {\r\n        minDistance = distance\r\n        minPos = crossPos\r\n      }\r\n    }\r\n    return { pos: minPos, distance: minDistance }\r\n  }\r\n\r\n  /** 获取参考点 */\r\n  getReferencePos(pos: DC.Pos, crossPosA: CrossPos, crossPosB: CrossPos): DC.Pos {\r\n    /** 三点共线 */\r\n    let radianA = this.DUService.pos.getRadian(pos, crossPosA.pos)\r\n    let radianB = this.DUService.pos.getRadian(pos, crossPosB.pos)\r\n    let radian = Math.abs(radianA - radianB)\r\n    if (radian % Math.PI == 0 || radian == 0) {\r\n      return crossPosA.pos\r\n    }\r\n    else {\r\n      let a = crossPosA.distance / (crossPosA.distance + crossPosB.distance)\r\n      let x = crossPosA.pos.x + (a * (crossPosB.pos.x - crossPosA.pos.x))\r\n      let y = crossPosA.pos.y + (a * (crossPosB.pos.y - crossPosA.pos.y))\r\n      let newPos = { x: x, y: y }\r\n      return newPos\r\n    }\r\n  }\r\n\r\n  /** 获取延长圆心 lengthFactor为步长因子*/\r\n  getExtendsCirclePos(oldCirclePos: DC.Pos, extendsPos: DC.Pos, lengthFactor: number): DC.Pos {\r\n    let b = Math.sqrt(Math.pow(oldCirclePos.x - extendsPos.x, 2) + Math.pow(oldCirclePos.y - extendsPos.y, 2))\r\n    let x = oldCirclePos.x + (lengthFactor * ((oldCirclePos.x - extendsPos.x) / b))\r\n    let y = oldCirclePos.y + (lengthFactor * ((oldCirclePos.y - extendsPos.y) / b))\r\n    let newPos = { x: x, y: y }\r\n    return newPos\r\n  }\r\n\r\n  /** 获取fillID */\r\n  getFillString() {\r\n    let id = this.room.getFloor().id\r\n    let text = `url(#${id})`\r\n    return text\r\n  }\r\n\r\n}\r\n\r\nclass CrossPos {\r\n  pos: DC.Pos;\r\n  distance: number;\r\n}\r\n\r\nclass TriangleType {\r\n  centerPos: DC.Pos;\r\n  area: number\r\n}\r\n","module.exports = \"@charset \\\"UTF-8\\\";\\n.room_area {\\n  text-anchor: middle;\\n  /* 文本水平居中 */\\n  dominant-baseline: middle;\\n  /* 文本垂直居中 */\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc3ZnL2RvbS9yb29tcy9yb29tcy10ZXh0L3Jvb21zLXRleHQuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL3N2Zy9kb20vcm9vbXMvcm9vbXMtdGV4dC9EOlxca25vd2xlZGdlXFxoZ1xcb2xkXFxvbGRSb29tL3NyY1xcYXBwXFxzdmdcXGRvbVxccm9vbXNcXHJvb21zLXRleHRcXHJvb21zLXRleHQuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsZ0JBQWdCO0FDQWhCO0VBQ0ksbUJBQUE7RUFDQSxXQUFBO0VBQ0EseUJBQUE7RUFDQSxXQUFBO0FERUoiLCJmaWxlIjoic3JjL2FwcC9zdmcvZG9tL3Jvb21zL3Jvb21zLXRleHQvcm9vbXMtdGV4dC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIkBjaGFyc2V0IFwiVVRGLThcIjtcbi5yb29tX2FyZWEge1xuICB0ZXh0LWFuY2hvcjogbWlkZGxlO1xuICAvKiDmlofmnKzmsLTlubPlsYXkuK0gKi9cbiAgZG9taW5hbnQtYmFzZWxpbmU6IG1pZGRsZTtcbiAgLyog5paH5pys5Z6C55u05bGF5LitICovXG59IiwiLnJvb21fYXJlYSB7XHJcbiAgICB0ZXh0LWFuY2hvcjogbWlkZGxlO1xyXG4gICAgLyog5paH5pys5rC05bmz5bGF5LitICovXHJcbiAgICBkb21pbmFudC1iYXNlbGluZTogbWlkZGxlO1xyXG4gICAgLyog5paH5pys5Z6C55u05bGF5LitICovXHJcbn0iXX0= */\"","import { Component, OnInit } from '@angular/core';\nimport { JdesignDataService } from '../../../../services/jdesign-data.service';\nimport { JRoom } from '../../../common/jdesign/JRoom';\nimport { JdesignUtil2dService } from '../../../../services/jdesign-util2d.service';\nimport { PopDivService } from '../../../../services/pop-div.service';\nimport { RightMenuService } from '../../../../services/right-menu.service';\nimport { DomUpdateService } from '../../../../services/dom-update.service';\n\n@Component({\n  selector: '[roomsText]',\n  templateUrl: './rooms-text.component.html',\n  styleUrls: ['./rooms-text.component.scss']\n})\nexport class RoomsTextComponent implements OnInit {\n\n  constructor(\n    public dataService: JdesignDataService,\n    private DUService: JdesignUtil2dService,\n    private popService: PopDivService,\n    private rightService: RightMenuService,\n    private domService: DomUpdateService,\n  ) { }\n\n  ngOnInit() {\n  }\n\n  /** 获取对象 */\n  getRoomArr() {\n    let rooms: JRoom[] = this.DUService.cal.getStringArrByNum(this.dataService.rooms)\n    return rooms\n  }\n\n  /** 获取位置 */\n  getTransform(room: JRoom) {\n    if (!room.displayPos) {\n      return undefined\n    }\n    else {\n      return this.getTextTransform(room.displayPos)\n    }\n  }\n\n  /** 获取面积 */\n  getArea(room: JRoom) {\n    let text = room.areaCache.toFixed(2) + 'm²'\n    return text\n  }\n\n  getClassName(room: JRoom) {\n    let className = \"room_area font_size \"\n    className += room.id\n    return className\n  }\n\n  mouseDown(e, room: JRoom) {\n    this.dataService.cache.common.blockON = true\n    this.dataService.cache.common.firstPos = { x: e.offsetX, y: e.offsetY }\n    // this.dataService.cmd.cowall.hide = true\n    this.dataService.cache.common.choose = room\n    this.dataService.cache.common.chooseOtherMsg = 'room'\n    this.dataService.cache.common.initUpdate()\n    this.domService.allSvg.emit()\n    if (e.which == 3) {\n      this.rightService.room.emit({ e: e, room: room })\n    }\n    this.dataService.cache.common.chooseOtherMsg = 'text'\n  }\n\n  /** 获取textTransform */\n  getTextTransform(centerPos: { x: number, y: number }) {\n    let transform = this.DUService.pos.getTransfromString(1, 0, 0, 1, centerPos.x, centerPos.y)\n    return transform\n  }\n\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3N2Zy9kb20vcm9vbXMvcm9vbXMuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit, ChangeDetectorRef, ChangeDetectionStrategy } from '@angular/core';\r\nimport { JdesignDataService } from '../../../services/jdesign-data.service';\r\nimport { JdesignUtil2dService } from '../../../services/jdesign-util2d.service';\r\nimport { JRoom } from '../../common/jdesign/JRoom';\r\nimport { DomUpdateService } from '../../../services/dom-update.service';\r\n\r\n@Component({\r\n  selector: '[rooms]',\r\n  templateUrl: './rooms.component.html',\r\n  styleUrls: ['./rooms.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class RoomsComponent implements OnInit {\r\n\r\n  constructor(\r\n    private dataService: JdesignDataService,\r\n    private DUService: JdesignUtil2dService,\r\n    private domService: DomUpdateService,\r\n    private ref: ChangeDetectorRef\r\n  ) {\r\n    this.domService.svgRoom.subscribe(() => {\r\n      this.ref.detectChanges()\r\n    })\r\n  }\r\n\r\n  ngOnInit() {\r\n    if (this.dataService.cmd.common.initLog) {\r\n      this.DUService.out.redLog('rooms is ok!!')\r\n    }\r\n  }\r\n\r\n  /*获取房间的集合 */\r\n  getRoomArr() {\r\n    let rooms: JRoom[] = this.DUService.cal.getStringArrByNum(this.dataService.rooms)\r\n    return rooms\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RoomsComponent } from './rooms.component';\r\nimport { RoomComponent } from './room/room.component';\r\nimport { RoomShadowComponent } from './room-shadow/room-shadow.component';\r\nimport { FloorComponent } from './floor/floor.component';\r\nimport { LabelLinesModule } from '../common/label-lines/label-lines.module';\nimport { RoomsTextComponent } from './rooms-text/rooms-text.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    LabelLinesModule\r\n  ],\r\n  declarations: [RoomsComponent, RoomComponent, RoomShadowComponent, FloorComponent, RoomsTextComponent],\r\n  exports: [RoomsComponent, RoomShadowComponent]\r\n})\r\nexport class RoomsModule { }\r\n","module.exports = \".wall_shadow_path {\\n  stroke: #636363;\\n  stroke-width: 2;\\n  fill: rgba(50, 79, 143, 0.5);\\n}\\n\\n.wall_circle {\\n  fill: rgba(84, 85, 87, 0.5);\\n  stroke: #636363;\\n  stroke-width: 30;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc3ZnL2RvbS93YWxscy93YWxsLXNoYWRvdy9EOlxca25vd2xlZGdlXFxoZ1xcb2xkXFxvbGRSb29tL3NyY1xcYXBwXFxzdmdcXGRvbVxcd2FsbHNcXHdhbGwtc2hhZG93XFx3YWxsLXNoYWRvdy5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvc3ZnL2RvbS93YWxscy93YWxsLXNoYWRvdy93YWxsLXNoYWRvdy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGVBQUE7RUFDQSxlQUFBO0VBQ0EsNEJBQUE7QUNDSjs7QURFQTtFQUNJLDJCQUFBO0VBQ0EsZUFBQTtFQUNBLGdCQUFBO0FDQ0oiLCJmaWxlIjoic3JjL2FwcC9zdmcvZG9tL3dhbGxzL3dhbGwtc2hhZG93L3dhbGwtc2hhZG93LmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLndhbGxfc2hhZG93X3BhdGgge1xyXG4gICAgc3Ryb2tlOiByZ2IoOTksIDk5LCA5OSk7XHJcbiAgICBzdHJva2Utd2lkdGg6IDI7XHJcbiAgICBmaWxsOiByZ2JhKCRjb2xvcjogIzMyNGY4ZiwgJGFscGhhOiAwLjUpXHJcbn1cclxuXHJcbi53YWxsX2NpcmNsZSB7XHJcbiAgICBmaWxsOnJnYmEoJGNvbG9yOiAjNTQ1NTU3LCAkYWxwaGE6IDAuNSk7XHJcbiAgICBzdHJva2U6IHJnYig5OSwgOTksIDk5KTtcclxuICAgIHN0cm9rZS13aWR0aDogMzA7XHJcbn0iLCIud2FsbF9zaGFkb3dfcGF0aCB7XG4gIHN0cm9rZTogIzYzNjM2MztcbiAgc3Ryb2tlLXdpZHRoOiAyO1xuICBmaWxsOiByZ2JhKDUwLCA3OSwgMTQzLCAwLjUpO1xufVxuXG4ud2FsbF9jaXJjbGUge1xuICBmaWxsOiByZ2JhKDg0LCA4NSwgODcsIDAuNSk7XG4gIHN0cm9rZTogIzYzNjM2MztcbiAgc3Ryb2tlLXdpZHRoOiAzMDtcbn0iXX0= */\"","import { Component, OnInit, ChangeDetectorRef } from '@angular/core';\r\nimport { JdesignDataService } from '../../../../services/jdesign-data.service';\r\nimport { JdesignUtil2dService } from '../../../../services/jdesign-util2d.service';\r\nimport { DomUpdateService } from '../../../../services/dom-update.service';\r\n\r\n@Component({\r\n  selector: '[wall-shadow]',\r\n  templateUrl: './wall-shadow.component.html',\r\n  styleUrls: ['./wall-shadow.component.scss']\r\n})\r\nexport class WallShadowComponent implements OnInit {\r\n\r\n  circlePos: { x: number, y: number } = null\r\n\r\n  constructor(\r\n    public dataService: JdesignDataService,\r\n    private DUService: JdesignUtil2dService,\r\n    private domService: DomUpdateService,\r\n    private ref: ChangeDetectorRef\r\n  ) {\r\n    this.domService.svgWallShadow.subscribe(() => {\r\n      this.ref.detectChanges()\r\n    })\r\n  }\r\n\r\n  ngOnInit() {\r\n    if (this.dataService.cmd.common.initLog) {\r\n      this.DUService.out.redLog('wall-shadow is ok!!')\r\n    }\r\n  }\r\n\r\n  /** 返回是否为 */\r\n  isShow() {\r\n    if (this.dataService.cmd != undefined && this.dataService.cache.common.mode == 'drawWall')\r\n      return true\r\n    else\r\n      return false\r\n  }\r\n\r\n  /** 获取path */\r\n  getPath() {\r\n    let wallHThickness = this.dataService.cmd.wall.thickness / 2\r\n    if (this.dataService.cache.wall.ShadowPosArr != null && !this.isSamePos()) {\r\n      switch (this.dataService.cache.wall.location) {\r\n        case 0:\r\n          return this.getCenterPath(this.dataService.cmd.wall.thickness / 2, this.dataService.cache.wall.ShadowPosArr)\r\n        case 1:\r\n          return this.getOutPath(this.dataService.cmd.wall.thickness, this.dataService.cache.wall.ShadowPosArr)\r\n        case -1:\r\n          return this.getInPath(this.dataService.cmd.wall.thickness, this.dataService.cache.wall.ShadowPosArr)\r\n      }\r\n    }\r\n    else {\r\n      return ''\r\n    }\r\n  }\r\n\r\n  /** 获取居中轮廓 */\r\n  getCenterPath(wallHThickness, posArr) {\r\n    let LPosArr = this.DUService.pos.getPosTrans(posArr[0], posArr[1], wallHThickness)\r\n    let RPosArr = this.DUService.pos.getPosTrans(posArr[0], posArr[1], -wallHThickness)\r\n    let newPosArr = [LPosArr[0], LPosArr[1], RPosArr[1], RPosArr[0]]\r\n    let path = this.DUService.svg.getPath(false, ...newPosArr)\r\n    return path\r\n  }\r\n\r\n  /** 获取靠外轮廓 */\r\n  getOutPath(wallThickness, posArr) {\r\n    let LPosArr = this.DUService.pos.getPosTrans(posArr[0], posArr[1], wallThickness)\r\n    let newPosArr = [LPosArr[0], LPosArr[1], posArr[1], posArr[0]]\r\n    let path = this.DUService.svg.getPath(false, ...newPosArr)\r\n    return path\r\n  }\r\n\r\n  /** 获取靠内轮廓 */\r\n  getInPath(wallThickness, posArr) {\r\n    let RPosArr = this.DUService.pos.getPosTrans(posArr[0], posArr[1], -wallThickness)\r\n    let newPosArr = [RPosArr[0], RPosArr[1], posArr[1], posArr[0]]\r\n    let path = this.DUService.svg.getPath(false, ...newPosArr)\r\n    return path\r\n  }\r\n\r\n  setCircle(pos) {\r\n    if (this.dataService.cache.wall.ShadowPosArr != null && !this.isSamePos()) {\r\n      this.circlePos = this.dataService.cache.wall.ShadowPosArr[1]\r\n    }\r\n    else {\r\n      this.circlePos = null\r\n    }\r\n\r\n    return this.circlePos\r\n  }\r\n\r\n  /** 是否相同坐标 */\r\n  isSamePos() {\r\n    return this.DUService.pos.isSamePos(this.dataService.cache.wall.ShadowPosArr[0], this.dataService.cache.wall.ShadowPosArr[1])\r\n  }\r\n\r\n}\r\n","module.exports = \".null,\\n.normal {\\n  fill: rgba(172, 172, 172, 0.4);\\n}\\n\\n.balcony {\\n  fill: #b131a6;\\n}\\n\\n.choose_wall {\\n  fill: #51aae6;\\n  fill-opacity: 0.3;\\n}\\n\\n.wall_path {\\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\\n  stroke-linejoin: round;\\n  cursor: default;\\n}\\n\\n.wall_line {\\n  fill: none;\\n}\\n\\n.wall_stroke_color {\\n  fill: #ACACAC;\\n  stroke: #ACACAC;\\n  stroke-width: 16;\\n}\\n\\n.wall_path:focus {\\n  fill: #51aae6;\\n}\\n\\n.test_center_line {\\n  stroke: #b131a6;\\n}\\n\\n.test_out_line {\\n  stroke: #51aae6;\\n}\\n\\n.test_in_line {\\n  stroke: aquamarine;\\n}\\n\\n.wall_label {\\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\\n  text-anchor: middle;\\n  font-family: \\\"Frutiger Next LT W1G\\\", Calibri, Arial, Helvetica, sans-serif;\\n  fill: #202020;\\n  font-size: 200px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc3ZnL2RvbS93YWxscy93YWxsL0Q6XFxrbm93bGVkZ2VcXGhnXFxvbGRcXG9sZFJvb20vc3JjXFxhcHBcXHN2Z1xcZG9tXFx3YWxsc1xcd2FsbFxcd2FsbC5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvc3ZnL2RvbS93YWxscy93YWxsL3dhbGwuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0VBRUksOEJBQUE7QUNDSjs7QURFQTtFQUNJLGFBQUE7QUNDSjs7QURFQTtFQUNJLGFBQUE7RUFDQSxpQkFBQTtBQ0NKOztBREVBO0VBQ0ksNkNBQUE7RUFDQSxzQkFBQTtFQUNBLGVBQUE7QUNDSjs7QURFQTtFQUNJLFVBQUE7QUNDSjs7QURFQTtFQUNJLGFBQUE7RUFDQSxlQUFBO0VBQ0EsZ0JBQUE7QUNDSjs7QURFQTtFQUNJLGFBQUE7QUNDSjs7QURFQTtFQUNJLGVBQUE7QUNDSjs7QURFQTtFQUNJLGVBQUE7QUNDSjs7QURFQTtFQUNJLGtCQUFBO0FDQ0o7O0FERUE7RUFDSSw2Q0FBQTtFQUNBLG1CQUFBO0VBQ0EsMEVBQUE7RUFDQSxhQUFBO0VBQ0EsZ0JBQUE7QUNDSiIsImZpbGUiOiJzcmMvYXBwL3N2Zy9kb20vd2FsbHMvd2FsbC93YWxsLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLm51bGwsXHJcbi5ub3JtYWwge1xyXG4gICAgZmlsbDogcmdiYSgxNzIsIDE3MiwgMTcyLCAwLjQpO1xyXG59XHJcblxyXG4uYmFsY29ueSB7XHJcbiAgICBmaWxsOiAjYjEzMWE2O1xyXG59XHJcblxyXG4uY2hvb3NlX3dhbGwge1xyXG4gICAgZmlsbDogIzUxYWFlNjtcclxuICAgIGZpbGwtb3BhY2l0eTogMC4zO1xyXG59XHJcblxyXG4ud2FsbF9wYXRoIHtcclxuICAgIC13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwKTtcclxuICAgIHN0cm9rZS1saW5lam9pbjogcm91bmQ7XHJcbiAgICBjdXJzb3I6IGRlZmF1bHQ7XHJcbn1cclxuXHJcbi53YWxsX2xpbmUge1xyXG4gICAgZmlsbDogbm9uZVxyXG59XHJcblxyXG4ud2FsbF9zdHJva2VfY29sb3Ige1xyXG4gICAgZmlsbDogI0FDQUNBQztcclxuICAgIHN0cm9rZTogI0FDQUNBQztcclxuICAgIHN0cm9rZS13aWR0aDogMTY7XHJcbn1cclxuXHJcbi53YWxsX3BhdGg6Zm9jdXMge1xyXG4gICAgZmlsbDogIzUxYWFlNjtcclxufVxyXG5cclxuLnRlc3RfY2VudGVyX2xpbmUge1xyXG4gICAgc3Ryb2tlOiAjYjEzMWE2O1xyXG59XHJcblxyXG4udGVzdF9vdXRfbGluZSB7XHJcbiAgICBzdHJva2U6ICM1MWFhZTY7XHJcbn1cclxuXHJcbi50ZXN0X2luX2xpbmUge1xyXG4gICAgc3Ryb2tlOiBhcXVhbWFyaW5lO1xyXG59XHJcblxyXG4ud2FsbF9sYWJlbCB7XHJcbiAgICAtd2Via2l0LXRhcC1oaWdobGlnaHQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMCk7XHJcbiAgICB0ZXh0LWFuY2hvcjogbWlkZGxlO1xyXG4gICAgZm9udC1mYW1pbHk6IFwiRnJ1dGlnZXIgTmV4dCBMVCBXMUdcIiwgQ2FsaWJyaSwgQXJpYWwsIEhlbHZldGljYSwgc2Fucy1zZXJpZjtcclxuICAgIGZpbGw6ICMyMDIwMjA7XHJcbiAgICBmb250LXNpemU6IDIwMHB4O1xyXG59IiwiLm51bGwsXG4ubm9ybWFsIHtcbiAgZmlsbDogcmdiYSgxNzIsIDE3MiwgMTcyLCAwLjQpO1xufVxuXG4uYmFsY29ueSB7XG4gIGZpbGw6ICNiMTMxYTY7XG59XG5cbi5jaG9vc2Vfd2FsbCB7XG4gIGZpbGw6ICM1MWFhZTY7XG4gIGZpbGwtb3BhY2l0eTogMC4zO1xufVxuXG4ud2FsbF9wYXRoIHtcbiAgLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOiByZ2JhKDAsIDAsIDAsIDApO1xuICBzdHJva2UtbGluZWpvaW46IHJvdW5kO1xuICBjdXJzb3I6IGRlZmF1bHQ7XG59XG5cbi53YWxsX2xpbmUge1xuICBmaWxsOiBub25lO1xufVxuXG4ud2FsbF9zdHJva2VfY29sb3Ige1xuICBmaWxsOiAjQUNBQ0FDO1xuICBzdHJva2U6ICNBQ0FDQUM7XG4gIHN0cm9rZS13aWR0aDogMTY7XG59XG5cbi53YWxsX3BhdGg6Zm9jdXMge1xuICBmaWxsOiAjNTFhYWU2O1xufVxuXG4udGVzdF9jZW50ZXJfbGluZSB7XG4gIHN0cm9rZTogI2IxMzFhNjtcbn1cblxuLnRlc3Rfb3V0X2xpbmUge1xuICBzdHJva2U6ICM1MWFhZTY7XG59XG5cbi50ZXN0X2luX2xpbmUge1xuICBzdHJva2U6IGFxdWFtYXJpbmU7XG59XG5cbi53YWxsX2xhYmVsIHtcbiAgLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOiByZ2JhKDAsIDAsIDAsIDApO1xuICB0ZXh0LWFuY2hvcjogbWlkZGxlO1xuICBmb250LWZhbWlseTogXCJGcnV0aWdlciBOZXh0IExUIFcxR1wiLCBDYWxpYnJpLCBBcmlhbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmO1xuICBmaWxsOiAjMjAyMDIwO1xuICBmb250LXNpemU6IDIwMHB4O1xufSJdfQ== */\"","import { Component, OnInit, Input, Host, HostListener, DoCheck } from '@angular/core';\r\nimport { JWall } from '../../../common/jdesign/JWall';\r\nimport { CalculatorsService } from '../../../../services/calculators.service';\r\nimport { DesignCommon as DC } from '../../../common/class/DesignCommon'\r\nimport { JdesignUtil2dService } from '../../../../services/jdesign-util2d.service';\r\nimport { JdesignDataService } from '../../../../services/jdesign-data.service';\r\nimport { DomUpdateService } from '../../../../services/dom-update.service';\r\nimport { RightMenuService } from '../../../../services/right-menu.service';\r\nimport { PopDivService } from '../../../../services/pop-div.service';\r\nimport { JPoint } from '../../../common/jdesign/JPoint';\r\nimport { LineMsgType } from '../../../common/calculator/wall.cal';\r\n\r\n@Component({\r\n  selector: '[wall]',\r\n  templateUrl: './wall.component.html',\r\n  styleUrls: ['./wall.component.scss']\r\n})\r\nexport class WallComponent implements OnInit, DoCheck {\r\n\r\n  private _wall: JWall;\r\n  path: string = null\r\n  linePaths: string[] = []\r\n  centerLine: DC.Pos[] = []\r\n  outLine: DC.Pos[] = []\r\n  inLine: DC.Pos[] = []\r\n  centertransform: string = null\r\n  posArr: DC.Pos[] = []\r\n  typeSrc: string = ''\r\n  wallRotate: number = 0\r\n  patternName: string = ''\r\n  fillName: string = ''\r\n  PIArr: number[] = [Math.PI / 180 * 45, Math.PI / 180 * 135]\r\n  @Input() set wall(data) {\r\n    this._wall = data\r\n    this.patternName = 'pattern' + this._wall.id\r\n    this.fillName = `url(#${this.patternName})`\r\n  }\r\n  get wall() { return this._wall }\r\n\r\n  constructor(\r\n    private calService: CalculatorsService,\r\n    private DUService: JdesignUtil2dService,\r\n    public dataService: JdesignDataService,\r\n    private domService: DomUpdateService,\r\n    private rightService: RightMenuService,\r\n    private popService: PopDivService\r\n  ) {\r\n\r\n  }\r\n\r\n  mouseDown(e: MouseEvent) {\r\n    if (e.which == 3) {\r\n      this.rightService.wall.emit({ e: e, wall: this.wall })\r\n      this.dataService.cache.common.initUpdate(['rightMenu'])\r\n    } else {\r\n      this.calService.wall.setWallsCalFlag(undefined)\r\n      this.dataService.cache.cowall.inputData = []\r\n      this.dataService.cache.common.choose = this.wall\r\n      this.dataService.cache.common.firstPos = { x: e.offsetX, y: e.offsetY }\r\n      this.dataService.cache.common.blockON = true\r\n      this.dataService.cmd.cowall.hide = false\r\n      this.domService.allSvg.emit()\r\n      this.dataService.cache.common.initUpdate()\r\n      let cowalls = this.wall.getCowallArr()\r\n      console.log(this.dataService.floorplan)\r\n      console.log(this.dataService.points)\r\n      console.log(this.dataService.walls)\r\n      console.log(this.dataService.cowalls)\r\n      console.log(this.dataService.rooms)\r\n      /* 隐藏标签 */\r\n      let otherCowalls = this.calService.cowall.getNearCowalls(cowalls[0])\r\n      if (cowalls[1]) {\r\n        this.DUService.cal.removeByAttr(otherCowalls, 'id', cowalls[1].id)\r\n      }\r\n      for (let key in this.dataService.cowalls) {\r\n        let cowall = this.dataService.cowalls[key]\r\n        cowall.labelDisplay = true\r\n      }\r\n      for (let i = 0; i < otherCowalls.length; i++) {\r\n        otherCowalls[i].labelDisplay = false\r\n      }\r\n    }\r\n  }\r\n\r\n  mouseOver(e: MouseEvent) {\r\n    if (this.dataService.cmd.floorplan.debugPos) {\r\n      let pointIDArr = this.wall.getPointIDArr()\r\n      let data = {\r\n        text: `${this.wall.id}:{\r\n        co:${this.wall.coedgeID};\r\n        door:${this.wall.doorIDs};\r\n        win:${this.wall.winIDs};\r\n        furn:${this.wall.geometryIDs};\r\n        rotate:${this.wall.getRotate()};\r\n        pointID:${pointIDArr[0]},${pointIDArr[1]};\r\n    } `,\r\n        position: this.dataService.cmd.floorplan.debugPos\r\n      }\r\n\r\n      this.popService.message.emit(data)\r\n    }\r\n    this.dataService.cmd.cowall.hide = false\r\n    this.domService.svgCowall.emit()\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.wall.lateChooseFuncArr.push(() => {\r\n      if (this.dataService.cache.common.threeOn == 1) {\r\n        this.popService.panelRight.emit(this.wall)\r\n      }\r\n    })\r\n    this.wall.urgentUpdate.subscribe(() => {\r\n      let msg = this.getPathMsg()\r\n      if (!msg) {\r\n        this.path = undefined\r\n        this.linePaths = undefined\r\n        return false\r\n      }\r\n      this.path = msg.path\r\n      // let bearPath = this.getBearingWallPath()\r\n      // if (bearPath != undefined)\r\n      //   this.path = bearPath\r\n      // this.wall.isVeryShort = this.wall.getDistance() <= this.wall.thickness / 2\r\n      this.typeSrc = this.getTypeSrc()\r\n      let radian = this.wall.getRadian(true)\r\n      this.wall.getDistance(true)\r\n      if (this.wall.arcDistance == 0)\r\n        this.setDisplayOutLine()\r\n      else\r\n        this.wall.drawOutLine = undefined\r\n      this.linePaths = this.getLines(this.wall.getPointArr(), this.wall.drawOutLine, radian)\r\n      this.linePaths.push(...msg.lines)\r\n      this.wallRotate = radian * 180 / Math.PI\r\n      if (this.dataService.cmd.wall.displayName) {\r\n        let centerPos = this.DUService.pos.getCenterPos(this.posArr[0], this.posArr[1])\r\n        radian = this.DUService.pos.getAbsRadian(radian)\r\n        radian = radian < 0 ? radian + Math.PI : radian\r\n        let cosA = Math.cos(radian)\r\n        let sinA = Math.sin(radian)\r\n        this.centertransform = this.DUService.pos.getTransfromString(cosA, sinA, -sinA, cosA, centerPos.x, centerPos.y)\r\n      }\r\n      if (this.wall.arcDistance != 0) {\r\n        this.calService.wall.arcWallUpdata(this.wall)\r\n      }\r\n      return true\r\n    })\r\n  }\r\n\r\n  ngDoCheck() {\r\n    this.wall.urgentUpdate.emit()\r\n  }\r\n\r\n  /** 是否选中 */\r\n  isChoose() {\r\n    return (this.dataService.cache.common.choose && this.dataService.cache.common.choose.id == this.wall.id)\r\n  }\r\n\r\n  /** 是否垂直 */\r\n  isVertical() {\r\n    let radian = this.DUService.pos.getAbsRadian(this.wall.getRadian(), false)\r\n    return ((radian > this.PIArr[0] && radian < this.PIArr[1]) || (radian > -this.PIArr[1] && radian < -this.PIArr[0]))\r\n  }\r\n\r\n  getPathMsg() {\r\n    let msg: {\r\n      path: string,\r\n      lines: string[]\r\n    } = { path: undefined, lines: [] }\r\n    this.posArr = this.wall.getPosArr()\r\n    if (this.wall.arcDistance != 0 && !this.wall.arcRadius) {\r\n      this.wall.transArc()\r\n    }\r\n    let posArrS: DC.Pos[][] = this.calService.wall.getOutLine(this.wall)\r\n    if (!posArrS)\r\n      return undefined\r\n    this.wall.outLine = posArrS\r\n    /** 直墙 */\r\n    if (this.wall.arcDistance == 0) {\r\n      let newPosArr: DC.Pos[] = [this.posArr[0], posArrS[0][0], posArrS[1][1], this.posArr[1], posArrS[1][0], posArrS[0][1]]\r\n      msg.path = this.DUService.svg.getPath(true, ...newPosArr)\r\n      msg.lines = [this.DUService.svg.getPath(false, posArrS[0][0], posArrS[1][1]), this.DUService.svg.getPath(false, posArrS[1][0], posArrS[0][1])]\r\n    }\r\n    /** 弧形墙 */\r\n    else {\r\n      let halfThickness = this.wall.thickness / 2\r\n      let a = this.wall.isBigArc()\r\n      // /** 内圆 */\r\n      let inPath = this.DUService.svg.getArcPath(this.wall.arcRadius - halfThickness, this.wall.outLine[1][0], a, true)\r\n      /** 外圆 */\r\n      let outPath = this.DUService.svg.getArcPath(this.wall.arcRadius + halfThickness, this.wall.outLine[0][0], a, false)\r\n      msg.path = this.DUService.svg.getAddPath(this.posArr[0], true)\r\n      msg.path += this.DUService.svg.getAddPath(this.wall.outLine[0][1])\r\n      msg.path += `,${inPath}`\r\n      msg.path += this.DUService.svg.getAddPath(this.posArr[1])\r\n      msg.path += this.DUService.svg.getAddPath(this.wall.outLine[1][1])\r\n      msg.path += `,${outPath},Z`\r\n      let line = this.DUService.svg.getPath(false, this.wall.outLine[0][1])\r\n      line += `,${inPath}`\r\n      msg.lines.push(line)\r\n      line = this.DUService.svg.getPath(false, this.wall.outLine[1][1])\r\n      line += `,${outPath}`\r\n      msg.lines.push(line)\r\n      // console.log(msg.lines)\r\n      // let newPath = `M${LDPos.x} ${LDPos.y},L${LUPos.x} ${LUPos.y},L${RUPos.x} ${RUPos.y},L${RDPos.x} ${RDPos.y},Z`\r\n      // path += newPath\r\n\r\n    }\r\n    return msg\r\n\r\n  }\r\n\r\n  /** 设置体制墙 */\r\n  getTypePath(radianNum, step) {\r\n    let lineA = [this.wall.outLine[0][0], this.wall.outLine[1][1]]\r\n    let lineB = [this.wall.outLine[0][1], this.wall.outLine[1][0]]\r\n    let path = ''\r\n    let radianA = this.DUService.pos.getRadian(lineA[0], lineA[1])\r\n    let distance = 0\r\n    let distanceA = this.DUService.pos.getDistance(lineA[0], lineA[1])\r\n    while (distance < distanceA) {\r\n      let rayPos = this.DUService.pos.getRayPos(lineA[0], radianA, distance)\r\n      let lineEnd = this.DUService.pos.getRayPos(rayPos, radianA - (radianNum), 1000)\r\n      let lineStart = this.DUService.pos.getRayPos(rayPos, radianA + (radianNum), 1000)\r\n      let intersectPos = this.DUService.pos.getIntersect(lineB[0], lineB[1], lineStart, lineEnd, false)\r\n      if (intersectPos) {\r\n        path += this.DUService.svg.getPath(false, rayPos, intersectPos) + ' '\r\n      }\r\n      distance += step\r\n    }\r\n    return path\r\n  }\r\n\r\n  /** 获取墙类型src */\r\n  getTypeSrc() {\r\n    switch (this.wall.wallType) {\r\n      case 0:\r\n        return ''\r\n      case 2:\r\n        return this.dataService.cmd.wall.lightSteelWallSrc\r\n      case 3:\r\n        return this.dataService.cmd.wall.lightBrickWallSrc\r\n      case 4:\r\n        return this.dataService.cmd.wall.fixtureWallSrc\r\n      case 1:\r\n        return this.dataService.cmd.wall.bearingwallSrc\r\n    }\r\n  }\r\n\r\n  /** 获取坐标 */\r\n  getPosArr() {\r\n    return this.wall.getPosArr()\r\n  }\r\n\r\n  /** 是否显示 */\r\n  isShow() {\r\n    let posArr = this.getPosArr()\r\n    let judge = !this.DUService.pos.isSamePos(posArr[0], posArr[1])\r\n    return judge\r\n  }\r\n\r\n  /** 获取轮廓线 */\r\n  getLines(pointArr: JPoint[], outLine: DC.Pos[][], mainRadian: number) {\r\n    let linePaths: string[] = []\r\n    /** 调试用的 */\r\n    // linePaths.push(this.DUService.svg.getPath(false, outLine[0][0], outLine[0][1]))\r\n    // linePaths.push(this.DUService.svg.getPath(false, outLine[1][0], outLine[1][1]))\r\n    /** =================== */\r\n    // linePaths.push(this.DUService.svg.getPath(false, outLine[0][1], outLine[1][0]))\r\n    // linePaths.push(this.DUService.svg.getPath(false, outLine[1][1], outLine[0][0]))\r\n    let line: DC.Pos[] = []\r\n    for (let i = 0; i < pointArr.length; i++) {\r\n      for (let j = 0; j < outLine[i].length; j++) {\r\n        line = [pointArr[i].pos, outLine[i][j]]\r\n        let radian = this.DUService.pos.getRadian(line[0], line[1])\r\n        radian += Math.PI / 2\r\n        if (this.DUService.pos.isParallelRadian(radian, mainRadian)) {\r\n          let path = this.checkLineIntersectsPath(pointArr[i], line)\r\n          if (path)\r\n            linePaths.push(path)\r\n        }\r\n      }\r\n    }\r\n    return linePaths\r\n  }\r\n\r\n  /* 判断是否何以生成相交轮廓 */\r\n  checkLineIntersectsPath(point: JPoint, line: DC.Pos[]) {\r\n    let otherWall = point.getWallArr()\r\n    this.DUService.cal.removeByAttr(otherWall, 'id', this.wall.id)\r\n    for (let i = 0; i < otherWall.length; i++) {\r\n      let radian = otherWall[i].getRadian()\r\n      if (this.DUService.pos.isParallelRadian(radian, this.wall.getRadian())) {\r\n        if (otherWall[i].thickness >= this.wall.thickness) {\r\n          return undefined\r\n        }\r\n        else {\r\n          radian = this.DUService.pos.getRadian(line[0], line[1])\r\n          let distance = (this.wall.thickness - otherWall[i].thickness) / 2\r\n          let rayPos = this.DUService.pos.getRayPos(line[0], radian, distance)\r\n          let path = this.DUService.svg.getPath(false, rayPos, line[1])\r\n          return path\r\n        }\r\n      }\r\n    }\r\n    let path = this.DUService.svg.getPath(false, line[0], line[1])\r\n    return path\r\n  }\r\n\r\n  /** 获取附近平行的墙 */\r\n  getNearParallelWalls() {\r\n    let pointArr = this.wall.getPointArr()\r\n    let parallelWalls: JWall[] = []\r\n    for (let i = 0; i < pointArr.length; i++) {\r\n      let parallelWall: JWall = undefined\r\n      let wallArr = this.calService.point.getWallArr(pointArr[i])\r\n      this.DUService.cal.removeByAttr(wallArr, 'id', this.wall.id)\r\n      for (let j = 0; j < wallArr.length; j++) {\r\n        let radian = wallArr[j].getRadian(true)\r\n        if (this.DUService.pos.isParallelRadian(radian, this.wall.getRadian())) {\r\n          parallelWall = wallArr[j]\r\n          break\r\n        }\r\n      }\r\n      parallelWalls.push(parallelWall)\r\n    }\r\n    return parallelWalls\r\n  }\r\n\r\n  /**\r\n   * 获取平行墙相邻的信息\r\n   * @param parallelWalls \r\n   * @returns 返回的顺序依次为[左上,左下,右下,右上]\r\n   */\r\n  getParallelWallNearestWalls(parallelWalls: JWall[]) {\r\n    let nearestWallMsgs: LineMsgType[] = []\r\n    let pointArr = this.wall.getPointArr()\r\n    let wallL = parallelWalls[0]\r\n    /** 左边设置===================== */\r\n    /** 为空则左边不用设置 */\r\n    if (!wallL) {\r\n      nearestWallMsgs.push(undefined, undefined)\r\n    }\r\n    else {\r\n      let LPointArr = wallL.getPointArr()\r\n      let isReveser = LPointArr[1].id != pointArr[0].id\r\n      let msg = this.calService.wall.getNearestWalls(wallL)\r\n      let distance = wallL.getDistance(true)\r\n      let msgCompass = isReveser ? msg.RD : msg.LU\r\n      if (msgCompass && distance < msgCompass.wall.thickness) {\r\n        // if (isReveser) {\r\n        //   msgCompass.line = [msgCompass.line[1], msgCompass.line[0]]\r\n        // }\r\n        nearestWallMsgs.push(msgCompass)\r\n      }\r\n      else {\r\n        nearestWallMsgs.push(undefined)\r\n      }\r\n      msgCompass = isReveser ? msg.RU : msg.LD\r\n      if (msgCompass && distance < msgCompass.wall.thickness) {\r\n        // if (isReveser) {\r\n        //   msgCompass.line = [msgCompass.line[1], msgCompass.line[0]]\r\n        // }\r\n        nearestWallMsgs.push(msgCompass)\r\n      }\r\n      else {\r\n        nearestWallMsgs.push(undefined)\r\n      }\r\n    }\r\n    /** 右边设置======================== */\r\n    let wallR = parallelWalls[1]\r\n    /** 为空则不用设置 */\r\n    if (!wallR) {\r\n      nearestWallMsgs.push(undefined, undefined)\r\n    }\r\n    else {\r\n      let RPointArr = wallR.getPointArr()\r\n      let isReveser = RPointArr[0].id != pointArr[1].id\r\n      let msg = this.calService.wall.getNearestWalls(wallR)\r\n      let msgCompass = isReveser ? msg.LU : msg.RD\r\n      let distance = wallR.getDistance(true)\r\n      if (msgCompass && distance < msgCompass.wall.thickness) {\r\n        // if (isReveser) {\r\n        //   msgCompass.line = [msgCompass.line[1], msgCompass.line[0]]\r\n        // }\r\n        nearestWallMsgs.push(msgCompass)\r\n      }\r\n      else {\r\n        nearestWallMsgs.push(undefined)\r\n      }\r\n      msgCompass = isReveser ? msg.LD : msg.RU\r\n      if (msgCompass && distance < msgCompass.wall.thickness) {\r\n        // if (isReveser) {\r\n        //   msgCompass.line = [msgCompass.line[1], msgCompass.line[0]]\r\n        // }\r\n        nearestWallMsgs.push(msgCompass)\r\n      }\r\n      else {\r\n        nearestWallMsgs.push(undefined)\r\n      }\r\n    }\r\n    return nearestWallMsgs\r\n  }\r\n\r\n  /** 获取显示用的轮廓 */\r\n  getDisplayOutLine(nearestWallMsgs: LineMsgType[]) {\r\n    let outLine: DC.Pos[][] = [[], []]\r\n    let posArr = this.wall.getPosArr()\r\n    let upLine = this.DUService.pos.getPosTrans(posArr[0], posArr[1], this.wall.thickness / 2)\r\n    let downLine = this.DUService.pos.getPosTrans(posArr[0], posArr[1], -this.wall.thickness / 2)\r\n    /*左上 */\r\n    if (nearestWallMsgs[0]) {\r\n      let line = [nearestWallMsgs[0].line[0], nearestWallMsgs[0].line[1]]\r\n      line = this.DUService.pos.getPosTrans(line[0], line[1], -nearestWallMsgs[0].wall.thickness / 2)\r\n      let intersectPos = line ? this.DUService.pos.getIntersect(line[0], line[1], upLine[0], upLine[1]) : undefined\r\n      if (intersectPos) {\r\n        outLine[0].push(intersectPos)\r\n      }\r\n      else {\r\n        outLine[0].push(this.wall.outLine[0][0])\r\n      }\r\n    }\r\n    else {\r\n      outLine[0].push(this.wall.outLine[0][0])\r\n    }\r\n    /** 左下 */\r\n    if (nearestWallMsgs[1]) {\r\n      let line = [nearestWallMsgs[1].line[0], nearestWallMsgs[1].line[1]]\r\n      line = this.DUService.pos.getPosTrans(line[0], line[1], nearestWallMsgs[1].wall.thickness / 2)\r\n      let intersectPos = line ? this.DUService.pos.getIntersect(line[0], line[1], downLine[0], downLine[1]) : undefined\r\n      if (intersectPos) {\r\n        outLine[0].push(intersectPos)\r\n      }\r\n      else {\r\n        outLine[0].push(this.wall.outLine[0][1])\r\n      }\r\n    }\r\n    else {\r\n      outLine[0].push(this.wall.outLine[0][1])\r\n    }\r\n    /** 右下 */\r\n    if (nearestWallMsgs[2]) {\r\n      let line = [nearestWallMsgs[2].line[0], nearestWallMsgs[2].line[1]]\r\n      line = this.DUService.pos.getPosTrans(line[0], line[1], -nearestWallMsgs[2].wall.thickness / 2)\r\n      let intersectPos = line ? this.DUService.pos.getIntersect(line[0], line[1], downLine[0], downLine[1]) : undefined\r\n      if (intersectPos) {\r\n        outLine[1].push(intersectPos)\r\n      }\r\n      else {\r\n        outLine[1].push(this.wall.outLine[1][0])\r\n      }\r\n    }\r\n    else {\r\n      outLine[1].push(this.wall.outLine[1][0])\r\n    }\r\n    /** 右上 */\r\n    if (nearestWallMsgs[3]) {\r\n      let line = [nearestWallMsgs[3].line[0], nearestWallMsgs[3].line[1]]\r\n      line = this.DUService.pos.getPosTrans(line[0], line[1], nearestWallMsgs[3].wall.thickness / 2)\r\n      let intersectPos = line ? this.DUService.pos.getIntersect(line[0], line[1], upLine[0], upLine[1]) : undefined\r\n      if (intersectPos) {\r\n        outLine[1].push(intersectPos)\r\n      }\r\n      else {\r\n        outLine[1].push(this.wall.outLine[1][1])\r\n      }\r\n    }\r\n    else {\r\n      outLine[1].push(this.wall.outLine[1][1])\r\n    }\r\n    return outLine\r\n  }\r\n\r\n  /** 设置显示用的轮廓 */\r\n  setDisplayOutLine() {\r\n    let parallelWalls = this.getNearParallelWalls()\r\n    let msg = this.getParallelWallNearestWalls(parallelWalls)\r\n    for (let i = 0; i < parallelWalls.length; i++) {\r\n      if (parallelWalls[i]) {\r\n        if (msg[2 * i] || msg[2 * i + 1]) {\r\n          parallelWalls[i].isVeryShort = true\r\n        }\r\n      }\r\n    }\r\n    let outLine = this.getDisplayOutLine(msg)\r\n    this.wall.drawOutLine = outLine\r\n    // console.log(this.wall.id)\r\n    // console.log(this.wall.drawOutLine)\r\n    // console.log(this.wall.outLine)\r\n    // console.log('=================')\r\n  }\r\n\r\n  /* 承重墙轮廓 */\r\n  getBearingWallPath() {\r\n    if (this.wall.arcDistance != 0 || this.wall.wallType != 1)\r\n      return undefined\r\n    let line = this.wall.getPosArr()\r\n    let lineA = this.DUService.pos.getPosTrans(line[0], line[1], this.wall.thickness / 2)\r\n    let lineB = this.DUService.pos.getPosTrans(line[0], line[1], -this.wall.thickness / 2)\r\n    let path = this.DUService.svg.getPath(true, lineA[0], lineA[1], lineB[1], lineB[0])\r\n    return path\r\n  }\r\n\r\n}\r\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3N2Zy9kb20vd2FsbHMvd2FsbHMuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit, ChangeDetectorRef, ChangeDetectionStrategy } from '@angular/core';\r\nimport { JdesignUtil2dService } from '../../../services/jdesign-util2d.service';\r\nimport { JdesignDataService } from '../../../services/jdesign-data.service';\r\nimport { DomUpdateService } from '../../../services/dom-update.service';\r\nimport { JWall } from '../../common/jdesign/JWall';\r\n\r\n@Component({\r\n  selector: '[walls]',\r\n  templateUrl: './walls.component.html',\r\n  styleUrls: ['./walls.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class WallsComponent implements OnInit {\r\n\r\n  constructor(\r\n    private DUService: JdesignUtil2dService,\r\n    private dataService: JdesignDataService,\r\n    private domUpdateService: DomUpdateService,\r\n    private ref: ChangeDetectorRef\r\n  ) {\r\n    this.domUpdateService.svgWall.subscribe(() => {\r\n      this.displayTest()\r\n      this.ref.detectChanges()\r\n    })\r\n  }\r\n\r\n  ngOnInit() {\r\n    if (this.dataService.cmd.common.initLog) {\r\n      this.DUService.out.redLog('walls is ok!!')\r\n    }\r\n  }\r\n\r\n  getWallArr() {\r\n    let walls: JWall[] = this.DUService.cal.getStringArrByNum(this.dataService.walls)\r\n    // let newWalls: JWall[] = []\r\n    // for (let i = 0; i < walls.length; i++) {\r\n    //   if (walls[i].wallType != 1)\r\n    //     newWalls.push(walls[i])\r\n    // }\r\n    // for (let i = 0; i < walls.length; i++) {\r\n    //   if (walls[i].wallType == 1)\r\n    //     newWalls.push(walls[i])\r\n    // }\r\n    return walls\r\n  }\r\n\r\n  displayTest() {\r\n    for (let key in this.dataService.walls) {\r\n      let wall = this.dataService.walls[key]\r\n      wall.isVeryShort = false\r\n    }\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { WallsComponent } from './walls.component';\r\nimport { WallComponent } from './wall/wall.component';\r\nimport { WallShadowComponent } from './wall-shadow/wall-shadow.component';\r\nimport { LabelLinesModule } from '../common/label-lines/label-lines.module';\r\n\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    LabelLinesModule\r\n  ],\r\n  declarations: [WallsComponent, WallComponent, WallShadowComponent],\r\n  exports: [WallsComponent, WallShadowComponent]\r\n})\r\nexport class WallsModule { }\r\n","module.exports = \".win_path {\\n  fill: white;\\n  stroke: black;\\n}\\n\\n.bayWin_path {\\n  fill: #24409c;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc3ZnL2RvbS93aW5zL3dpbi9EOlxca25vd2xlZGdlXFxoZ1xcb2xkXFxvbGRSb29tL3NyY1xcYXBwXFxzdmdcXGRvbVxcd2luc1xcd2luXFx3aW4uY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL3N2Zy9kb20vd2lucy93aW4vd2luLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksV0FBQTtFQUNBLGFBQUE7QUNDSjs7QURFQTtFQUNJLGFBQUE7QUNDSiIsImZpbGUiOiJzcmMvYXBwL3N2Zy9kb20vd2lucy93aW4vd2luLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLndpbl9wYXRoIHtcclxuICAgIGZpbGw6IHJnYmEoJGNvbG9yOiAjZmZmZmZmLCAkYWxwaGE6IDEpO1xyXG4gICAgc3Ryb2tlOiBibGFjaztcclxufVxyXG5cclxuLmJheVdpbl9wYXRoIHtcclxuICAgIGZpbGw6IHJnYmEoJGNvbG9yOiAjMjQ0MDljLCAkYWxwaGE6IDEpO1xyXG59IiwiLndpbl9wYXRoIHtcbiAgZmlsbDogd2hpdGU7XG4gIHN0cm9rZTogYmxhY2s7XG59XG5cbi5iYXlXaW5fcGF0aCB7XG4gIGZpbGw6ICMyNDQwOWM7XG59Il19 */\"","import { Component, OnInit, Input, DoCheck } from '@angular/core';\r\nimport { CalculatorsService } from '../../../../services/calculators.service';\r\nimport { JdesignUtil2dService } from '../../../../services/jdesign-util2d.service';\r\nimport { JdesignDataService } from '../../../../services/jdesign-data.service';\r\nimport { RightMenuService } from '../../../../services/right-menu.service';\r\nimport { DomUpdateService } from '../../../../services/dom-update.service';\r\nimport { PopDivService } from '../../../../services/pop-div.service';\r\nimport { JWin } from '../../../common/jdesign/JWin';\r\nimport { DesignCommon as DC } from '../../../common/class/DesignCommon'\r\n\r\n@Component({\r\n  selector: '[win]',\r\n  templateUrl: './win.component.html',\r\n  styleUrls: ['./win.component.scss']\r\n})\r\nexport class WinComponent implements OnInit, DoCheck {\r\n\r\n  private _win: JWin\r\n  private _leftPos: DC.Pos = undefined\r\n  private _rightPos: DC.Pos = undefined\r\n  originPos: DC.Pos = null\r\n  pixSize: DC.Size = null\r\n  transformString: string = null\r\n  @Input() set win(data) {\r\n    this._win = data\r\n  }\r\n  get win() { return this._win }\r\n\r\n  constructor(\r\n    private calService: CalculatorsService,\r\n    private DUService: JdesignUtil2dService,\r\n    public dataService: JdesignDataService,\r\n    private domService: DomUpdateService,\r\n    private rightService: RightMenuService,\r\n    private popService: PopDivService\r\n  ) { }\r\n\r\n  mouseDown(e: MouseEvent) {\r\n    this.dataService.cache.common.choose = this.win\r\n    this.dataService.cache.common.firstPos = { x: e.offsetX, y: e.offsetY }\r\n    this.dataService.cache.common.blockON = true\r\n    this.dataService.cmd.cowall.hide = true\r\n    this.dataService.cache.doorWin.displayLabel = true\r\n    this.win.mode = 'move'\r\n    this.domService.allSvg.emit()\r\n    this.dataService.cache.common.initUpdate()\r\n    if (e.which == 3) {\r\n      this.rightService.win.emit({ e: e, win: this.win })\r\n    }\r\n  }\r\n\r\n  mouseOver(e: MouseEvent) {\r\n    if (this.dataService.cmd.floorplan.debugPos != null && this.dataService.cmd.floorplan.debugPos != undefined) {\r\n      let data = {\r\n        text: `${this.win.id}:{\r\n        wall:${this.win.wallID};\r\n        rotate:${this.win.getRotate()};\r\n        per:${this.win.distancePer};\r\n        out:${this.win.out};\r\n        mirror:${this.win.mirror};\r\n      }`,\r\n        position: this.dataService.cmd.floorplan.debugPos\r\n      }\r\n      this.popService.message.emit(data)\r\n    }\r\n\r\n  }\r\n\r\n  ngDoCheck() {\r\n    this.transformString = this.getTransform()\r\n    this._leftPos = { x: -this.win.size.width / 2, y: 0 }\r\n    this._rightPos = { x: this.win.size.width / 2, y: 0 }\r\n  }\r\n\r\n  /** 获取黑框边框 (从左下往上循环)) */\r\n  getBayBlockPath() {\r\n    let pos = { x: 0, y: 0 }\r\n    let thickness = this.win.outBoxThickness\r\n    let realSize = this.win.getPixSize()\r\n    let rayPos = this.DUService.pos.getRayPos(pos, - (Math.PI / 2), realSize.height / 2)\r\n    let posA = this.DUService.pos.getRayPos(rayPos, - Math.PI, (realSize.width / 2) + thickness)\r\n    let posB = this.DUService.pos.getRayPos(posA, - (Math.PI / 2), this.win.outThickness + thickness)\r\n    let posC = this.DUService.pos.getRayPos(posB, 0, realSize.width + (thickness * 2))\r\n    let posD = this.DUService.pos.getRayPos(posC, 0 + (Math.PI / 2), this.win.outThickness + thickness)\r\n\r\n    let path = this.DUService.svg.getPath(true, rayPos, posA, posB, posC, posD)\r\n    return path\r\n\r\n  }\r\n\r\n  /** 获取path */\r\n  getPath() {\r\n    let pathString = this.calService.win.getNormalPathString(this.win, { x: 0, y: 0 })\r\n    return pathString\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.win.lateChooseFuncArr.push(() => {\r\n      this.popService.panelRight.emit(this.win)\r\n    })\r\n  }\r\n\r\n  /** 获取transform */\r\n  getTransform() {\r\n    let realRadian = this.win.getRealRadian()\r\n    let cosA = Math.cos(realRadian)\r\n    let sinA = Math.sin(realRadian)\r\n    let transformString = this.DUService.pos.getTransfromString(cosA, sinA, -sinA, cosA, this.win.pos.x, this.win.pos.y)\r\n    return transformString\r\n  }\r\n\r\n  /** 获取标签data集合 */\r\n  getLabelDatas() {\r\n    let datas = {\r\n      img: this.dataService.cmd.win.ico.url,\r\n      imgWidth: this.dataService.cmd.win.ico.width,\r\n      imgHeight: this.dataService.cmd.win.ico.height,\r\n      data: []\r\n    }\r\n    let cacheData = []\r\n    let ceterLine = this.getCenterLine()\r\n    let line = this.getLabelLine(ceterLine[0], ceterLine[1])\r\n    if (!line)\r\n      return undefined\r\n    let data = {\r\n      line: line,\r\n      text: ''\r\n    }\r\n    datas.data.push(data)\r\n    cacheData.push({ pos: { x: (line[0].x + line[1].x) / 2, y: (line[0].y + line[1].y) / 2 }, text: this.win.size.width })\r\n\r\n    let msg = this.calService.win.getNearPosArr(this.win)\r\n    let text = this.dataService.cmd.getPixelTransLength(this.DUService.pos.getDistance(ceterLine[1], msg.endPos), 'mm')\r\n    text = parseInt(text.toString())\r\n    line = this.getLabelLine(ceterLine[1], msg.endPos)\r\n    if (!line)\r\n      return undefined\r\n    data = {\r\n      line: line,\r\n      text: ''\r\n    }\r\n    datas.data.push(data)\r\n    cacheData.push({ pos: { x: (line[0].x + line[1].x) / 2, y: (line[0].y + line[1].y) / 2 }, text: text })\r\n\r\n\r\n    text = this.dataService.cmd.getPixelTransLength(this.DUService.pos.getDistance(msg.StartPos, ceterLine[0]), 'mm')\r\n    text = parseInt(text.toString())\r\n    line = this.getLabelLine(msg.StartPos, ceterLine[0])\r\n    data = {\r\n      line: line,\r\n      text: ''\r\n    }\r\n    datas.data.push(data)\r\n    cacheData.push({ pos: { x: (line[0].x + line[1].x) / 2, y: (line[0].y + line[1].y) / 2 }, text: text })\r\n\r\n    this.dataService.cache.doorWin.labelData = cacheData\r\n\r\n\r\n    return datas\r\n  }\r\n\r\n  /** 获取黑边 */\r\n\r\n  /** 获取标签坐标组 */\r\n  getLabelLine(lineStart: DC.Pos, lineEnd: DC.Pos) {\r\n\r\n    let halfHeight = this.dataService.cmd.getLengthTransPixel(this.win.size.height / 2, 'mm')\r\n    let newPosArr: DC.Pos[] = this.DUService.pos.getPosTrans(lineStart, lineEnd, (halfHeight + this.dataService.cmd.win.labelHeight))\r\n\r\n    return newPosArr\r\n  }\r\n\r\n  /** 获取线坐标 */\r\n  getCenterLine() {\r\n    let halfWidth = this.dataService.cmd.getLengthTransPixel(this.win.size.width / 2, 'mm')\r\n    let posA: DC.Pos = this.DUService.pos.getRayPos(this.win.pos, this.win.radian, -halfWidth)\r\n    let posB: DC.Pos = this.DUService.pos.getRayPos(this.win.pos, this.win.radian, halfWidth)\r\n    let posArr = [posA, posB]\r\n    return posArr\r\n  }\r\n\r\n  showLabel() {\r\n    let a = (\r\n      this.dataService.cache.common.choose != null &&\r\n      this.dataService.cache.common.choose.type == \"win\" &&\r\n      this.dataService.cache.common.mode == \"normal\" &&\r\n      this.dataService.cache.common.choose.id == this.win.id &&\r\n      this.win.wallID != null &&\r\n      this.dataService.cache.thumbnail.three.zIndex > this.dataService.cache.thumbnail.svg.zIndex &&\r\n      this.dataService.cache.doorWin.displayLabel\r\n    )\r\n    return a\r\n  }\r\n\r\n  /* 获取所有点 */\r\n  getALLPointData(transform: string) {\r\n    if (!transform || !this._leftPos || !this._rightPos)\r\n      return null\r\n    let data = {\r\n      r: 96,\r\n      overR: 128,\r\n      data: [\r\n        /** 左 */\r\n        {\r\n          pos: this._leftPos, func: (e: MouseEvent) => {\r\n            this.mouseDown(e)\r\n            this.win.mode = 'leftMove'\r\n            console.log(\"left\")\r\n          }\r\n        },\r\n        /** 右 */\r\n        {\r\n          pos: this._rightPos, func: (e: MouseEvent) => {\r\n            this.mouseDown(e)\r\n            this.win.mode = 'rightMove'\r\n            console.log(\"right\")\r\n          }\r\n        }\r\n      ],\r\n      transform: transform\r\n    }\r\n    return data\r\n  }\r\n\r\n\r\n}\r\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3N2Zy9kb20vd2lucy93aW5zLmNvbXBvbmVudC5zY3NzIn0= */\"","import { Component, OnInit, ChangeDetectorRef, ChangeDetectionStrategy } from '@angular/core';\r\nimport { JdesignUtil2dService } from '../../../services/jdesign-util2d.service';\r\nimport { JdesignDataService } from '../../../services/jdesign-data.service';\r\nimport { DomUpdateService } from '../../../services/dom-update.service';\r\n\r\n@Component({\r\n  selector: '[wins]',\r\n  templateUrl: './wins.component.html',\r\n  styleUrls: ['./wins.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class WinsComponent implements OnInit {\r\n\r\n  constructor(\r\n    private DUService: JdesignUtil2dService,\r\n    public dataService: JdesignDataService,\r\n    private domService: DomUpdateService,\r\n    private ref: ChangeDetectorRef\r\n  ) {\r\n    this.domService.svgWin.subscribe(() => {\r\n      this.ref.detectChanges()\r\n    })\r\n  }\r\n\r\n  ngOnInit() {\r\n    if (this.dataService.cmd.common.initLog) {\r\n      this.DUService.out.redLog('wins is ok!!')\r\n    }\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { WinsComponent } from './wins.component';\r\nimport { WinComponent } from './win/win.component';\r\nimport { LabelLinesModule } from '../common/label-lines/label-lines.module';\r\nimport { LabelCircleModule } from '../common/label-circle/label-circle.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    LabelLinesModule,\r\n    LabelCircleModule,\r\n  ],\r\n  declarations: [WinsComponent, WinComponent],\r\n  exports: [WinsComponent]\r\n})\r\nexport class WinsModule { }\r\n","module.exports = \".main_svg {\\n  position: relative;\\n  cursor: move;\\n}\\n\\n.svg_div {\\n  width: 100%;\\n  height: 100%;\\n}\\n\\n.svg_test {\\n  display: none;\\n}\\n\\n.block_svg {\\n  position: relative;\\n  width: 0px;\\n  height: 0px;\\n  top: 0;\\n  left: 0;\\n}\\n\\n.block_div {\\n  position: absolute;\\n  width: 0px;\\n  height: 0px;\\n  top: 0;\\n}\\n\\n.viewContainer {\\n  display: block;\\n  width: 100%;\\n  height: 100%;\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  overflow: hidden;\\n}\\n\\n.threeView {\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  width: 100%;\\n  height: 100%;\\n}\\n\\n.testDiv {\\n  width: 100%;\\n  height: 100%;\\n  background-color: #ff0000;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc3ZnL0Q6XFxrbm93bGVkZ2VcXGhnXFxvbGRcXG9sZFJvb20vc3JjXFxhcHBcXHN2Z1xcc3ZnLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9zdmcvc3ZnLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksa0JBQUE7RUFDQSxZQUFBO0FDQ0o7O0FERUE7RUFDSSxXQUFBO0VBQ0EsWUFBQTtBQ0NKOztBREVBO0VBQ0ksYUFBQTtBQ0NKOztBREVBO0VBQ0ksa0JBQUE7RUFDQSxVQUFBO0VBQ0EsV0FBQTtFQUNBLE1BQUE7RUFDQSxPQUFBO0FDQ0o7O0FERUE7RUFDSSxrQkFBQTtFQUNBLFVBQUE7RUFDQSxXQUFBO0VBQ0EsTUFBQTtBQ0NKOztBREVBO0VBQ0ksY0FBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBRUEsa0JBQUE7RUFDQSxNQUFBO0VBQ0EsUUFBQTtFQUNBLGdCQUFBO0FDQUo7O0FESUE7RUFDSSxrQkFBQTtFQUNBLE1BQUE7RUFDQSxRQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7QUNESjs7QURJQTtFQUNJLFdBQUE7RUFDQSxZQUFBO0VBQ0EseUJBQUE7QUNESiIsImZpbGUiOiJzcmMvYXBwL3N2Zy9zdmcuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubWFpbl9zdmcge1xyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgY3Vyc29yOiBtb3ZlO1xyXG59XHJcblxyXG4uc3ZnX2RpdiB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGhlaWdodDogMTAwJTtcclxufVxyXG5cclxuLnN2Z190ZXN0IHtcclxuICAgIGRpc3BsYXk6IG5vbmVcclxufVxyXG5cclxuLmJsb2NrX3N2ZyB7XHJcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICB3aWR0aDogMHB4O1xyXG4gICAgaGVpZ2h0OiAwcHg7XHJcbiAgICB0b3A6IDA7XHJcbiAgICBsZWZ0OiAwO1xyXG59XHJcblxyXG4uYmxvY2tfZGl2IHtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHdpZHRoOiAwcHg7XHJcbiAgICBoZWlnaHQ6IDBweDtcclxuICAgIHRvcDogMDtcclxufVxyXG5cclxuLnZpZXdDb250YWluZXIge1xyXG4gICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGhlaWdodDogMTAwJTsgLy8gd2lkdGg6IDEwMDBweDtcclxuICAgIC8vIGhlaWdodDogMTAwMHB4O1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgdG9wOiAwO1xyXG4gICAgcmlnaHQ6IDA7XHJcbiAgICBvdmVyZmxvdzogaGlkZGVuOyAvLyB0cmFuc2Zvcm06IHNjYWxlKDAuMiwgMC4yKTtcclxuICAgIC8vIHRyYW5zZm9ybS1vcmlnaW46IGxlZnQgdG9wO1xyXG59XHJcblxyXG4udGhyZWVWaWV3IHtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHRvcDogMDtcclxuICAgIHJpZ2h0OiAwO1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBoZWlnaHQ6IDEwMCU7XHJcbn1cclxuXHJcbi50ZXN0RGl2IHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmMDAwMDtcclxufSIsIi5tYWluX3N2ZyB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgY3Vyc29yOiBtb3ZlO1xufVxuXG4uc3ZnX2RpdiB7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMCU7XG59XG5cbi5zdmdfdGVzdCB7XG4gIGRpc3BsYXk6IG5vbmU7XG59XG5cbi5ibG9ja19zdmcge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHdpZHRoOiAwcHg7XG4gIGhlaWdodDogMHB4O1xuICB0b3A6IDA7XG4gIGxlZnQ6IDA7XG59XG5cbi5ibG9ja19kaXYge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHdpZHRoOiAwcHg7XG4gIGhlaWdodDogMHB4O1xuICB0b3A6IDA7XG59XG5cbi52aWV3Q29udGFpbmVyIHtcbiAgZGlzcGxheTogYmxvY2s7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMCU7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAwO1xuICByaWdodDogMDtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbn1cblxuLnRocmVlVmlldyB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAwO1xuICByaWdodDogMDtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwJTtcbn1cblxuLnRlc3REaXYge1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmYwMDAwO1xufSJdfQ== */\"","import { Component, OnInit, ChangeDetectionStrategy, ChangeDetectorRef, ElementRef } from '@angular/core';\r\nimport { JdesignDataService } from '../services/jdesign-data.service';\r\nimport { JdesignUtil2dService } from '../services/jdesign-util2d.service';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { DomUpdateService } from '../services/dom-update.service';\r\nimport { JFloorplan } from './common/jdesign/JFloorplan';\r\nimport { JFloorplan3D } from '../three/jDesign3D/JFloorplan3D';\r\nimport { JPoint } from './common/jdesign/JPoint';\r\nimport { JPoint3D } from '../three/jDesign3D/JPoint3D';\r\nimport { DesignCommon as DC } from './common/class/DesignCommon'\r\nimport { JCmd } from './common/jdesign/JCmd';\r\nimport { MouseEventService } from './common/services/mouse-event.service';\r\nimport { PopDivService } from '../services/pop-div.service';\r\nimport { CalculatorsService } from '../services/calculators.service';\r\nimport { RightMenuService } from '../services/right-menu.service';\r\nimport { JCamera3D } from '../three/jDesign3D/JCamera3D';\r\nimport { HttpService } from '../services/http.service';\r\nimport { JIcon } from './common/jdesign/JIcon';\r\nimport { series } from 'async'\r\nimport { ReadJsonEvent } from './common/event/readJson.event';\r\n\r\n\r\n@Component({\r\n  selector: 'app-svg',\r\n  templateUrl: './svg.component.html',\r\n  styleUrls: ['./svg.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n\r\n})\r\nexport class SvgComponent implements OnInit {\r\n\r\n  backData = null;\r\n  cmd: JCmd = null;\r\n  blockData: boolean = false;\r\n  floorplan: JFloorplan = null;\r\n  private _svg_div: any = null\r\n  private _three_div: any = null\r\n  private _main_svg: any = null\r\n  threeOn: number = 0\r\n  cameraOn: boolean = false\r\n\r\n\r\n  constructor(\r\n    public dataService: JdesignDataService,\r\n    private rightService: RightMenuService,\r\n    private DUService: JdesignUtil2dService,\r\n    private domService: DomUpdateService,\r\n    private ref: ChangeDetectorRef,\r\n    private el: ElementRef,\r\n    private mouseEventService: MouseEventService,\r\n    private popService: PopDivService,\r\n    private calService: CalculatorsService,\r\n    private httpService: HttpService,\r\n\r\n  ) {\r\n    /** 强制更新 */\r\n    this.domService.mainSvg.subscribe(() => {\r\n      this.ref.detectChanges()\r\n    })\r\n    // this.domService.threeInit.subscribe(() => {\r\n    //   this.dataService.camera.strongUpdate3D()\r\n    // })\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n    /** 3d初始化 */\r\n    this.domService.threeInit.subscribe(() => {\r\n      this.popService.loadingPage.emit({ loadingOn: false })\r\n      this.dataService.cache.common.initUpdate()\r\n    })\r\n    let readJson = new ReadJsonEvent(this.dataService, this.httpService, this.DUService)\r\n    series([\r\n      (cb) => { readJson.readData(cb) },\r\n      (cb) => { this.setUrlOption(cb) },\r\n      (cb) => { this.setMainEvent(cb) },\r\n      (cb) => { this.readFloorplan(cb) }\r\n    ], (err, result) => {\r\n      let a = this.DUService.obj.getQueryStringSuper('isSimplify')\r\n      if (a != 1) {\r\n        this.cameraOn = true\r\n        this.dataService.cache.common.allInit.emit()\r\n        this.setInitUpdateFuncs()\r\n      }\r\n      else {\r\n        this.cameraOn = false\r\n        this.dataService.cache.floorplan.display.roomImg = false\r\n      }\r\n      this.domService.allSvg.emit()\r\n      this.dataService.cache.cowall.update3D.emit()\r\n      this.ref.detectChanges()\r\n    })\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n  }\r\n\r\n  /** 设置链接参数 */\r\n  setUrlOption(cb) {\r\n    /** 调试显示隐藏three */\r\n    let a = this.DUService.obj.getQueryStringSuper('isThree')\r\n    this.threeOn = a == undefined ? 1 : parseInt(a)\r\n    this.dataService.cache.common.threeOn = this.threeOn\r\n    /** 调试用  */\r\n    // this.DUService.obj.getQueryString('is')\r\n    // if (this.threeOn == 0 || !this.dataService.cmd.common.isThree) {\r\n    //   this.domService.threeInit.emit()\r\n    //   this.dataService.cache.common.initUpdate()\r\n    // }\r\n    /** 调试显示信息 */\r\n    if (this.DUService.obj.getQueryStringSuper('debugPos') != \"1\")\r\n      this.dataService.cmd.floorplan.debugPos = null\r\n    /** 调试输入框 */\r\n    if (this.DUService.obj.getQueryStringSuper('testInput') != \"1\")\r\n      this.dataService.cmd.floorplan.testInputPos = null\r\n    cb()\r\n  }\r\n\r\n  /** 设置主要事件 */\r\n  setMainEvent(cb) {\r\n    this.setDom()\r\n    this.cmd = this.dataService.cmd\r\n    this.dataService.cache.floorplan.minZoom = this.cmd.floorplan.zoom * 0.5\r\n    this.dataService.cache.floorplan.maxZoom = this.cmd.floorplan.zoom * 5\r\n    this.dataService.cache.floorplan.multiple = 1 / this.cmd.floorplan.zoom\r\n    this.dataService.floorplan = new JFloorplan3D({ mode: 'back' }, this.dataService)\r\n    this.floorplan = this.dataService.floorplan\r\n    this.backData = this.dataService.cmd.back\r\n    this.blockData = true\r\n    /** 设置居中 */\r\n    let centerPos = this.getCenterPos()\r\n    this.dataService.cmd.floorplan.left = -centerPos.x\r\n    this.dataService.cmd.floorplan.top = -centerPos.y\r\n    this.dataService.cache.floorplan.centerData = {\r\n      zoom: this.dataService.cmd.floorplan.zoom,\r\n      top: this.dataService.cmd.floorplan.top,\r\n      left: this.dataService.cmd.floorplan.left\r\n    }\r\n    this.dataService.camera = new JCamera3D({ pos: { x: centerPos.x, y: centerPos.y }, radian: Math.PI / 4 }, this.dataService, this.DUService)\r\n    this.dataService.camera.strongUpdate3D()\r\n    /** 设置缩放 */\r\n    this.dataService.cache.thumbnail.svg = {\r\n      zoomSize: {\r\n        width: 210, height: 210\r\n      },\r\n      divSize: {\r\n        width: window.innerWidth,\r\n        height: window.innerHeight\r\n      },\r\n      isZoom: false,\r\n      zIndex: 10,\r\n      isStretch: true\r\n    }\r\n    /** 方法更新 */\r\n    this.popService.transPos = (pos) => {\r\n      return this.dataService.cmd.getWindowPos(pos)\r\n    }\r\n    /** 设置缩放 */\r\n    this.dataService.cache.thumbnail.three = {\r\n      zoomSize: {\r\n        width: 210, height: 210\r\n      },\r\n      divSize: {\r\n        width: window.innerWidth,\r\n        height: window.innerHeight\r\n      },\r\n      isZoom: true,\r\n      zIndex: 40,\r\n      isStretch: false\r\n    }\r\n    /** 更新 */\r\n    this.domService.three.emit()\r\n    this.domService.mainSvg.emit()\r\n    this.domService.svgInit.emit()\r\n    this.dataService.camera.strongUpdate3D()\r\n    /** 事件 */\r\n    this.setDom()\r\n    this.setWheel()\r\n    this.setResize()\r\n    console.log('加载完成')\r\n    cb()\r\n  }\r\n\r\n  /** 设置吸附线事件 */\r\n  setAbsorbLineEvent(event) {\r\n    this.domService.absorbLine.subscribe(() => {\r\n      event.data = this.dataService.cache.absorbLines\r\n      event.ref.detectChanges()\r\n    })\r\n  }\r\n\r\n  /** 设置测试svg事件 */\r\n  setTestSvgEvent(event) {\r\n    this.domService.testSvg.subscribe(() => {\r\n      event.data = this.dataService.cache.testSvg\r\n      event.ref.detectChanges()\r\n    })\r\n  }\r\n\r\n  /** 设置dom元素 */\r\n  setDom() {\r\n    this._svg_div = this.el.nativeElement.getElementsByClassName('svg_div')[0]\r\n    this._three_div = this.el.nativeElement.getElementsByClassName('threeView')[0]\r\n    this._main_svg = this.el.nativeElement.getElementsByClassName('main_svg')[0]\r\n  }\r\n\r\n  /** 获取居中坐标 */\r\n  getCenterPos() {\r\n    let centerPos = { x: 0, y: 0 }\r\n    if (this.dataService.cmd.floorplan.left == null) {\r\n      let divW = this._svg_div.offsetWidth\r\n      centerPos.x = (this.dataService.cmd.back.size.width - divW) / 2\r\n    }\r\n    if (this.dataService.cmd.floorplan.top == null) {\r\n      let divH = this._svg_div.offsetHeight\r\n      centerPos.y = (this.dataService.cmd.back.size.height - divH) / 2\r\n    }\r\n    return centerPos\r\n  }\r\n\r\n  /** 放大 */\r\n  setWheel() {\r\n    this._svg_div.addEventListener('wheel', (e: WheelEvent) => {\r\n      let max = this.dataService.cache.floorplan.maxZoom\r\n      let min = this.dataService.cache.floorplan.minZoom\r\n      let oldZoom = this.dataService.cmd.floorplan.zoom\r\n      if (e.deltaY < 0) {\r\n        this.dataService.cmd.floorplan.zoom = Math.max(min, Math.min(max, this.dataService.cmd.floorplan.zoom + 0.01))\r\n      }\r\n      else {\r\n        this.dataService.cmd.floorplan.zoom = Math.max(min, Math.min(max, this.dataService.cmd.floorplan.zoom - 0.01))\r\n      }\r\n      let newZoom = this.dataService.cmd.floorplan.zoom\r\n      let scale = newZoom / oldZoom\r\n      let mousePos = { x: e.offsetX * oldZoom, y: e.offsetY * oldZoom }\r\n      let oldRealLeft = this.dataService.cmd.floorplan.left - ((this.dataService.cmd.back.size.width / 2) * (oldZoom - 1))\r\n      let oldRealTop = this.dataService.cmd.floorplan.top - ((this.dataService.cmd.back.size.height / 2) * (oldZoom - 1))\r\n      let newRealLeft = (1 - scale) * mousePos.x + oldRealLeft\r\n      let newRealTop = (1 - scale) * mousePos.y + oldRealTop\r\n      this.dataService.cmd.floorplan.left = newRealLeft + ((this.dataService.cmd.back.size.width / 2) * (newZoom - 1))\r\n      this.dataService.cmd.floorplan.top = newRealTop + ((this.dataService.cmd.back.size.height / 2) * (newZoom - 1))\r\n      this.popService.setInputBoxs()\r\n      this.popService.setButtons()\r\n      this.domService.mainSvg.emit()\r\n    })\r\n    let distance = 200\r\n    if (this.threeOn == 1 && this.dataService.cmd.common.isThree) {\r\n      this._three_div.addEventListener('wheel', (e: WheelEvent) => {\r\n        if (e.deltaY > 0) {\r\n          this.dataService.cache.shortFuncs['cameraUp'](distance)\r\n        }\r\n        else {\r\n          this.dataService.cache.shortFuncs['cameraDown'](distance)\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  /** 调整尺寸 */\r\n  setResize() {\r\n    window.addEventListener('resize', (e) => {\r\n      if (this.dataService.cache != null) {\r\n        this.dataService.cache.thumbnail.svg.divSize = {\r\n          width: window.innerWidth,\r\n          height: window.innerHeight\r\n        }\r\n        this.dataService.cache.thumbnail.svg = this.DUService.obj.clone(this.dataService.cache.thumbnail.svg)\r\n        this.dataService.cache.thumbnail.three.divSize = {\r\n          width: window.innerWidth,\r\n          height: window.innerHeight\r\n        }\r\n        this.dataService.cache.thumbnail.three = this.DUService.obj.clone(this.dataService.cache.thumbnail.three)\r\n        this.ref.detectChanges()\r\n        this.domService.three.emit()\r\n      }\r\n    })\r\n  }\r\n\r\n  /** 修改div尺寸 */\r\n  setDivSize() {\r\n\r\n  }\r\n\r\n  /* 读取房型图 */\r\n  readFloorplan(cb) {\r\n    let url = this.DUService.obj.gethash()\r\n    if (url) {\r\n      this.httpService.getRes(url, 3, true).subscribe((data: any) => {\r\n        this.calService.undoRedo.open(data, () => {\r\n          // this.dataService.cache.cowall.update3D.emit()\r\n        }, () => {\r\n          this.calService.wall.arcInit()\r\n          this.domService.svgWall.emit()\r\n        }, (maxNum) => {\r\n          if (this.dataService.cmd.floorplan.nextID < (maxNum + 100)) {\r\n            this.dataService.cmd.floorplan.nextID = maxNum + 100\r\n          }\r\n          this.calService.room.resetCowalls()\r\n          this.dataService.cache.floorplan.dataEmit.emit()\r\n          this.dataService.floorplan.setCenter()\r\n          cb()\r\n        })\r\n      })\r\n    }\r\n    else {\r\n      cb()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 设置一些初始化的方法\r\n   */\r\n  setInitUpdateFuncs() {\r\n    /* 按钮初始画 */\r\n    this.dataService.cache.common.initFuncs['buttons'] = () => {\r\n      this.popService.buttons.emit(null)\r\n    }\r\n    /* 输入框初始化 */\r\n    this.dataService.cache.common.initFuncs['inputBoxs'] = () => {\r\n      this.popService.inputBoxs.emit([])\r\n    }\r\n    /* 右键初始化 */\r\n    this.dataService.cache.common.initFuncs['rightMenu'] = () => {\r\n      this.popService.rightClick.emit(null)\r\n    }\r\n    /* 标签初始化 */\r\n    this.dataService.cache.common.initFuncs['cowallLabel'] = () => {\r\n      for (let key in this.dataService.cowalls) {\r\n        let cowall = this.dataService.cowalls[key]\r\n        if (cowall)\r\n          cowall.labelDisplay = true\r\n      }\r\n    }\r\n    /* 测试 */\r\n    this.dataService.cache.common.initFuncs['test'] = () => {\r\n      // console.log('ssss')\r\n    }\r\n\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { SvgComponent } from './svg.component';\r\nimport { BackComponent } from './dom/back/back.component';\r\nimport { PointsModule } from './dom/points/points.module';\r\nimport { WallsModule } from './dom/walls/walls.module';\r\nimport { CowallsModule } from './dom/cowalls/cowalls.module';\r\nimport { RoomsModule } from './dom/rooms/rooms.module';\r\nimport { BackModule } from './dom/back/back.module';\r\nimport { MouseEventService } from './common/services/mouse-event.service';\r\nimport { BlockModule } from './dom/block/block.module';\r\n\r\nimport { AbsorbLinesModule } from './dom/common/absorb-lines/absorb-lines.module';\r\nimport { ConsoleService } from './common/services/console.service';\r\nimport { DoorsModule } from './dom/doors/doors.module';\r\nimport { WinsModule } from './dom/wins/wins.module';\r\nimport { CornerWinsModule } from './dom/corner-wins/corner-wins.module';\r\nimport { TestSvgModule } from './dom/common/test-svg/test-svg.module';\r\nimport { CameraModule } from './dom/camera/camera.module';\r\nimport { ToggleWindowModule } from '../design-pop/toggle-window/toggle-window.module';\r\nimport { ThreeModule } from '../three/three.module';\r\nimport { GeometrysModule } from './dom/geometrys/geometrys.module';\r\nimport { LuWinsModule } from './dom/lu-wins/lu-wins.module';\nimport { ParamsModelsModule } from './dom/params-models/params-models.module';\r\n\r\n\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    PointsModule,\r\n    WallsModule,\r\n    CowallsModule,\r\n    RoomsModule,\r\n    BackModule,\r\n    BlockModule,\r\n    AbsorbLinesModule,\r\n    DoorsModule,\r\n    WinsModule,\r\n    CornerWinsModule,\r\n    TestSvgModule,\r\n    CameraModule,\r\n    ToggleWindowModule,\r\n    ThreeModule,\r\n    GeometrysModule,\r\n    LuWinsModule,\r\n    ParamsModelsModule\r\n  ],\r\n  declarations: [SvgComponent],\r\n  exports: [SvgComponent],\r\n  providers: [MouseEventService, ConsoleService]\r\n})\r\nexport class SvgModule { }\r\n","/*\r\n 作者：张建。\r\n 类说明：这个类用来做飘窗的模型用的。===============================================================\r\n*/\r\nimport { IBayWin } from \"../interface/IBayWin\";\r\nimport { THREEDataServer } from \"./THREEDataServer\";\r\nimport { JdesignDataService } from '../../services/jdesign-data.service';\r\ndeclare var THREE: any;\r\n\r\n\r\nexport class BaywinModel implements IBayWin {\r\n    bayWinModelFather: any                  //飘窗上所有的模型的父对象。\r\n    windowsillTile: any                     //窗台瓷砖对象。\r\n    windowsillTileTexture: any;              //窗台瓷砖贴图。\r\n    windowsillTileHeight: number = 40;      //窗台瓷砖对象的高度。\r\n    windowsDownConcrete: any                //窗台下的混凝土。\r\n    windowsConcreteHeight: number = 100;    //窗台上下混凝土的高度。\r\n    windowsUpConcrete: any;                 //窗台上面的混凝土。   \r\n    concreteColor: any = new THREE.Color(0xe8e8e8);                 //混凝土的颜色。\r\n    railings = [];                                                  //所有的栏杆都放这里。\r\n\r\n    railingColor: any = new THREE.Color(0x461701);\r\n\r\n    private dataServer: THREEDataServer;\r\n    private jDataServer: JdesignDataService;\r\n    width: number;\r\n    deep: number;\r\n    height: number;\r\n    outThickness: number;\r\n    outBoxThickness: number;\r\n\r\n    public paramsValues =\r\n        {\r\n            windowsillMaterialIndex: [],                                //当前普通飘窗的大理石的贴图。\r\n        }\r\n\r\n\r\n    constructor(_dataServer: THREEDataServer, _jDataServer: JdesignDataService, _width: number, _deep: number, _height: number, _outThickness: number, _outBoxThickness: number) {\r\n        this.dataServer = _dataServer;\r\n        this.jDataServer = _jDataServer;\r\n        this.width = _width;\r\n        this.deep = _deep;\r\n        this.height = _height;\r\n        this.outBoxThickness = _outBoxThickness;\r\n        this.outThickness = _outThickness;\r\n    }\r\n\r\n    public MakeBayWin() {\r\n        //创建飘窗上所有模型的父对象。----------------------------------\r\n        this.bayWinModelFather = new THREE.Object3D();\r\n        this.dataServer.sceneCommonObj.scene.add(this.bayWinModelFather);\r\n\r\n\r\n        //创建放置在窗台上的瓷砖。--------------------------------------\r\n        let _bayWinDeep = this.deep + this.outThickness + 60;\r\n        this.windowsillTile = this.dataServer.classesObj.boxMaker.MakeBox(this.width, this.windowsillTileHeight, _bayWinDeep, true, true);\r\n        this.windowsillTile.material = new THREE.MeshPhongMaterial({ color: 0xcccccc });\r\n        this.LoadWindowsillInitTexture(\"windowsill\");\r\n        this.windowsillTile.material.map = this.windowsillTileTexture;\r\n        this.bayWinModelFather.add(this.windowsillTile);\r\n        //更新好窗台瓷砖的位置。------------------------------------\r\n        this.windowsillTile.position.z = this.deep / 2 - (this.deep + this.outThickness) / 2 + 30;\r\n\r\n        //创建放置在窗台下的混凝土。------------------------------------\r\n        this.windowsDownConcrete = this.dataServer.classesObj.boxMaker.MakeBox(this.width + 2 * this.outBoxThickness, this.windowsConcreteHeight, this.outThickness + this.outBoxThickness, true, true);\r\n        this.windowsDownConcrete.material = new THREE.MeshPhongMaterial({ color: this.concreteColor });\r\n        this.bayWinModelFather.add(this.windowsDownConcrete);\r\n\r\n        //创建放置在上面的混凝度。--------------------------------------\r\n        this.windowsUpConcrete = this.dataServer.classesObj.boxMaker.MakeBox(this.width + 2 * this.outBoxThickness, this.windowsConcreteHeight, this.outThickness + this.outBoxThickness, true, true);\r\n        this.windowsUpConcrete.material = new THREE.MeshPhongMaterial({ color: this.concreteColor });\r\n        this.bayWinModelFather.add(this.windowsUpConcrete);\r\n\r\n\r\n        //更新好窗台下的混凝土的位置。------------------------------\r\n        this.windowsDownConcrete.position.z = - this.outThickness / 2 - this.deep / 2 - this.outBoxThickness / 2;\r\n        this.windowsDownConcrete.position.y = -this.windowsConcreteHeight;\r\n\r\n        this.windowsUpConcrete.position.z = - this.outThickness / 2 - this.deep / 2 - this.outBoxThickness / 2;\r\n        this.windowsUpConcrete.position.y = this.height;\r\n        //开始构建飘窗上的围栏。------------------------------------\r\n        this.MakeRailing();\r\n    }\r\n\r\n    public SetBaywindowStillTexture(_path) {\r\n        this.windowsillTileTexture.image.src = _path;\r\n        this.windowsillTileTexture.image.onload = () => {\r\n            this.windowsillTileTexture.needsUpdate = true;\r\n        }\r\n    }\r\n\r\n    public MakeRailing() {\r\n        //第一条竖的栏杆。-----------------------------------------------------------------\r\n        let _verticalRailing1 = this.dataServer.classesObj.boxMaker.MakeBox(this.outBoxThickness, this.height, this.outBoxThickness, true, true);\r\n        _verticalRailing1.material = new THREE.MeshPhongMaterial({ color: this.railingColor });\r\n        this.bayWinModelFather.add(_verticalRailing1);\r\n        _verticalRailing1.position.x = -this.width / 2 - this.outBoxThickness / 2;\r\n        _verticalRailing1.position.z = -this.deep / 2 - this.outBoxThickness / 2;\r\n        this.railings.push(_verticalRailing1);\r\n        //第二条竖的栏杆。------------------------------------------------------------------\r\n        let _verticalRailing2 = this.dataServer.classesObj.boxMaker.MakeBox(this.outBoxThickness, this.height, this.outBoxThickness, true, true);\r\n        _verticalRailing2.material = new THREE.MeshPhongMaterial({ color: this.railingColor });\r\n        this.bayWinModelFather.add(_verticalRailing2);\r\n        _verticalRailing2.position.x = -this.width / 2 - this.outBoxThickness / 2;\r\n        _verticalRailing2.position.z = -this.deep / 2 - this.outBoxThickness / 2 - this.outThickness;\r\n        this.railings.push(_verticalRailing2);\r\n        //第三条竖的栏杆。-------------------------------------------------------------------\r\n        let _verticalRailing3 = this.dataServer.classesObj.boxMaker.MakeBox(this.outBoxThickness, this.height, this.outBoxThickness, true, true);\r\n        _verticalRailing3.material = new THREE.MeshPhongMaterial({ color: this.railingColor });\r\n        this.bayWinModelFather.add(_verticalRailing3);\r\n        _verticalRailing3.position.x = +this.width / 2 + this.outBoxThickness / 2;\r\n        _verticalRailing3.position.z = -this.deep / 2 - this.outBoxThickness / 2;\r\n        this.railings.push(_verticalRailing3);\r\n        //第四条竖的栏杆。------------------------------------------------------------------\r\n        let _verticalRailing4 = this.dataServer.classesObj.boxMaker.MakeBox(this.outBoxThickness, this.height, this.outBoxThickness, true, true);\r\n        _verticalRailing4.material = new THREE.MeshPhongMaterial({ color: this.railingColor });\r\n        this.bayWinModelFather.add(_verticalRailing4);\r\n        _verticalRailing4.position.x = +this.width / 2 + this.outBoxThickness / 2;\r\n        _verticalRailing4.position.z = -this.deep / 2 - this.outBoxThickness / 2 - this.outThickness;\r\n        this.railings.push(_verticalRailing4);\r\n        //第一条Z轴方向横放的栏杆。----------------------------------------------------------\r\n        let _zHorizontalRailing1 = this.dataServer.classesObj.boxMaker.MakeBox(this.outBoxThickness, this.outBoxThickness, this.outThickness, true, true);\r\n        _zHorizontalRailing1.material = new THREE.MeshPhongMaterial({ color: this.railingColor });\r\n        this.bayWinModelFather.add(_zHorizontalRailing1);\r\n        _zHorizontalRailing1.position.x = +this.width / 2 + this.outBoxThickness / 2;\r\n        _zHorizontalRailing1.position.z = - this.outThickness / 2 - this.deep / 2;\r\n        this.railings.push(_zHorizontalRailing1);\r\n        //第二条Z轴方向横放的栏杆。----------------------------------------------------------\r\n        let _zHorizontalRailing2 = this.dataServer.classesObj.boxMaker.MakeBox(this.outBoxThickness, this.outBoxThickness, this.outThickness, true, true);\r\n        _zHorizontalRailing2.material = new THREE.MeshPhongMaterial({ color: this.railingColor });\r\n        this.bayWinModelFather.add(_zHorizontalRailing2);\r\n        _zHorizontalRailing2.position.x = -this.width / 2 - this.outBoxThickness / 2;\r\n        _zHorizontalRailing2.position.z = - this.outThickness / 2 - this.deep / 2;\r\n        this.railings.push(_zHorizontalRailing2);\r\n        //第三条Z轴方向横放的栏杆。----------------------------------------------------------\r\n        let _zHorizontalRailing3 = this.dataServer.classesObj.boxMaker.MakeBox(this.outBoxThickness, this.outBoxThickness, this.outThickness, true, true);\r\n        _zHorizontalRailing3.material = new THREE.MeshPhongMaterial({ color: this.railingColor });\r\n        this.bayWinModelFather.add(_zHorizontalRailing3);\r\n        _zHorizontalRailing3.position.x = +this.width / 2 + this.outBoxThickness / 2;\r\n        _zHorizontalRailing3.position.z = - this.outThickness / 2 - this.deep / 2;\r\n        _zHorizontalRailing3.position.y = this.height - this.outBoxThickness;\r\n        this.railings.push(_zHorizontalRailing3);\r\n        //第四条Z轴方向横放的栏杆。----------------------------------------------------------\r\n        let _zHorizontalRailing4 = this.dataServer.classesObj.boxMaker.MakeBox(this.outBoxThickness, this.outBoxThickness, this.outThickness, true, true);\r\n        _zHorizontalRailing4.material = new THREE.MeshPhongMaterial({ color: this.railingColor });\r\n        this.bayWinModelFather.add(_zHorizontalRailing4);\r\n        _zHorizontalRailing4.position.x = -this.width / 2 - this.outBoxThickness / 2;\r\n        _zHorizontalRailing4.position.z = - this.outThickness / 2 - this.deep / 2;\r\n        _zHorizontalRailing4.position.y = this.height - this.outBoxThickness;\r\n        this.railings.push(_zHorizontalRailing4);\r\n        //第一条X轴方向横放的栏杆。-----------------------------------------------------------\r\n        let _xHorizontalRailing1 = this.dataServer.classesObj.boxMaker.MakeBox(this.width, this.outBoxThickness, this.outBoxThickness, true, true);\r\n        _xHorizontalRailing1.material = new THREE.MeshPhongMaterial({ color: this.railingColor });\r\n        this.bayWinModelFather.add(_xHorizontalRailing1);\r\n        _xHorizontalRailing1.position.z = -this.outThickness - this.deep / 2 - this.outBoxThickness / 2;\r\n        this.railings.push(_xHorizontalRailing1);\r\n\r\n        //第二条X轴方向横放的栏杆。-----------------------------------------------------------\r\n        let _xHorizontalRailing2 = this.dataServer.classesObj.boxMaker.MakeBox(this.width, this.outBoxThickness, this.outBoxThickness, true, true);\r\n        _xHorizontalRailing2.material = new THREE.MeshPhongMaterial({ color: this.railingColor });\r\n        this.bayWinModelFather.add(_xHorizontalRailing2);\r\n        _xHorizontalRailing2.position.z = -this.outThickness - this.deep / 2 - this.outBoxThickness / 2;\r\n        _xHorizontalRailing2.position.y = this.height - this.outBoxThickness;\r\n        this.railings.push(_xHorizontalRailing2);\r\n\r\n    }\r\n\r\n\r\n    /**\r\n     * 用来设置飘窗模型的位置。==============================================================\r\n     * @param _pos \r\n     */\r\n    public SetPosition(_pos) {\r\n        this.bayWinModelFather.position.copy(_pos);\r\n    }\r\n\r\n    /**\r\n     * 用来设置飘窗模型的旋转角度。===========================================================\r\n     * @param _radian \r\n     */\r\n    public SetRotation(_radian) {\r\n        this.bayWinModelFather.rotation.y = _radian;\r\n    }\r\n\r\n    /**\r\n     * 销毁普通飘窗的方法。===================================================================\r\n     */\r\n    public DestroyBaywinModel() {\r\n        //销毁窗台上的瓷砖。------------------------------------------------\r\n        this.bayWinModelFather.remove(this.windowsillTile);\r\n        this.windowsillTile.material.dispose();\r\n        this.windowsillTile.geometry.dispose();\r\n        //销毁窗台下的混凝土。-----------------------------------------------\r\n        this.bayWinModelFather.remove(this.windowsDownConcrete);\r\n        this.windowsDownConcrete.material.dispose();\r\n        this.windowsDownConcrete.geometry.dispose();\r\n        //销毁飘窗顶上的混凝土。-----------------------------------------------\r\n        this.bayWinModelFather.remove(this.windowsUpConcrete);\r\n        this.windowsUpConcrete.material.dispose();\r\n        this.windowsUpConcrete.geometry.dispose();\r\n        //把所有窗户上的栏杆都销毁掉。------------------------------------------\r\n        for (let i = 0; i < this.railings.length; i++) {\r\n            this.bayWinModelFather.remove(this.railings[i]);\r\n            this.railings[i].material.dispose();\r\n            this.railings[i].geometry.dispose();\r\n        }\r\n\r\n        //最后销毁飘窗模型的父对象。-----------------------------------------\r\n        this.dataServer.sceneCommonObj.scene.remove(this.bayWinModelFather);\r\n        this.bayWinModelFather = null;\r\n    }\r\n\r\n    /**\r\n   * 为普通飘窗窗台加载初始化的贴图。==========================================================================\r\n   */\r\n    private LoadWindowsillInitTexture(_name) {\r\n        let initTextureUrl = this.jDataServer.json.marblePics[0];\r\n        this.windowsillTileTexture = this.dataServer.loaders.textureLoader.load(initTextureUrl);\r\n        this.windowsillTileTexture.wrapS = THREE.RepeatWrapping;\r\n        this.windowsillTileTexture.wrapT = THREE.RepeatWrapping;\r\n    }\r\n}","import { MyUtil } from \"./MyUtil\";\r\n\r\n/*\r\n 作者：张建。\r\n 类说明：这个类就是用来做很简单的盒子模型的。水平面看模型的坐标轴中心在模型中心，垂直方向看模型的坐标轴中心在最下面。\r\n*/\r\ndeclare var THREE: any;\r\n\r\nexport class BoxMaker {\r\n    /**\r\n     * 创建一个box模型的自定义函数。================================================\r\n     * @param _width \r\n     * @param _height \r\n     * @param _deep \r\n     * @param _hasCap 这个box两端是否封口？用来做布尔的是不用封口的。true则封口，false不封口。\r\n     * @param _hasBottom 这个box下面是否有面？做门的时候估计下面也不用封面的，true代表有下面的面，false代表没有。\r\n     */\r\n    public MakeBox(_width: number, _height: number, _deep: number, _hasCap: boolean, _hasBottom: boolean) {\r\n        let _vertexes = [\r\n            new THREE.Vector3(_width / 2, 0.0, _deep / 2.0),\r\n            new THREE.Vector3(_width / 2, 0.0, -_deep / 2.0),\r\n            new THREE.Vector3(-_width / 2, 0.0, -_deep / 2.0),\r\n            new THREE.Vector3(-_width / 2, 0.0, _deep / 2.0),\r\n            new THREE.Vector3(_width / 2, _height, _deep / 2.0),\r\n            new THREE.Vector3(_width / 2, _height, -_deep / 2.0),\r\n            new THREE.Vector3(-_width / 2, _height, -_deep / 2.0),\r\n            new THREE.Vector3(-_width / 2, _height, _deep / 2.0)\r\n        ]\r\n        let _uvs = [[]];\r\n        let _faces = [\r\n            new THREE.Face3(4, 5, 6),   //顶面。\r\n            new THREE.Face3(4, 6, 7),   //顶面。\r\n            new THREE.Face3(2, 3, 6),   //侧面。\r\n            new THREE.Face3(3, 7, 6),   //侧面。\r\n            new THREE.Face3(0, 1, 4),   //另一侧面。\r\n            new THREE.Face3(1, 5, 4)    //另一侧面。\r\n        ];\r\n        this.AddUVs(_uvs, _vertexes, _faces[0], \"y\");\r\n        this.AddUVs(_uvs, _vertexes, _faces[1], \"y\");\r\n        this.AddUVs(_uvs, _vertexes, _faces[2], \"x\");\r\n        this.AddUVs(_uvs, _vertexes, _faces[3], \"x\");\r\n        this.AddUVs(_uvs, _vertexes, _faces[4], \"x\");\r\n        this.AddUVs(_uvs, _vertexes, _faces[5], \"x\");\r\n\r\n\r\n\r\n        if (_hasCap == true) {\r\n            let _capFrontFace1 = new THREE.Face3(1, 2, 5);\r\n            let _capFrontFace2 = new THREE.Face3(2, 6, 5);\r\n            let _capBackFace1 = new THREE.Face3(3, 0, 7);\r\n            let _capBackFace2 = new THREE.Face3(0, 4, 7);\r\n            _faces.push(_capFrontFace1);  //前面。\r\n            _faces.push(_capFrontFace2);  //前面。\r\n            _faces.push(_capBackFace1);  //后面。\r\n            _faces.push(_capBackFace2);  //后面。\r\n            this.AddUVs(_uvs, _vertexes, _capFrontFace1, \"z\");\r\n            this.AddUVs(_uvs, _vertexes, _capFrontFace2, \"z\");\r\n            this.AddUVs(_uvs, _vertexes, _capBackFace1, \"z\");\r\n            this.AddUVs(_uvs, _vertexes, _capBackFace2, \"z\");\r\n        }\r\n        if (_hasBottom == true) {\r\n            let _bottomFace1 = new THREE.Face3(0, 2, 1);\r\n            let _bottomFace2 = new THREE.Face3(0, 3, 2);\r\n            _faces.push(_bottomFace1);  //底面。\r\n            _faces.push(_bottomFace2);  //底面。\r\n            this.AddUVs(_uvs, _vertexes, _bottomFace1, \"y\");\r\n            this.AddUVs(_uvs, _vertexes, _bottomFace2, \"y\");\r\n        }\r\n\r\n        let _geom = new THREE.Geometry();\r\n        _geom.vertices = _vertexes;\r\n        _geom.faces = _faces;\r\n        _geom.faceVertexUvs = _uvs;\r\n        _geom.computeFaceNormals();\r\n        _geom.mergeVertices();\r\n\r\n        let _returnMesh = new THREE.Mesh(_geom, new THREE.MeshPhongMaterial());\r\n\r\n        return _returnMesh;\r\n    }\r\n\r\n    private AddUVs(_uvs, _allVertexes, _theFace, _ignoreDir) {\r\n        let _xyz = [\"x\", \"y\", \"z\"];\r\n        MyUtil.RemoveItem(_xyz, _ignoreDir);\r\n        let _oneFaceUvs = [];\r\n\r\n        let _thePointA = _allVertexes[_theFace.a];\r\n        let _thePointB = _allVertexes[_theFace.b];\r\n        let _thePointC = _allVertexes[_theFace.c];\r\n\r\n        _oneFaceUvs.push(new THREE.Vector2(_thePointA[_xyz[0]] / 1000, _thePointA[_xyz[1]] / 1000));\r\n        _oneFaceUvs.push(new THREE.Vector2(_thePointB[_xyz[0]] / 1000, _thePointB[_xyz[1]] / 1000));\r\n        _oneFaceUvs.push(new THREE.Vector2(_thePointC[_xyz[0]] / 1000, _thePointC[_xyz[1]] / 1000));\r\n        _uvs[0].push(_oneFaceUvs);\r\n    }\r\n}","\r\n/*\r\n 作者：张建。\r\n 类说明：这个类主要是用来做转角飘窗上的所有模型的。==============================\r\n*/\r\nimport { IBayWin } from \"../interface/IBayWin\";\r\nimport { THREEDataServer } from \"./THREEDataServer\";\r\nimport { JdesignDataService } from '../../services/jdesign-data.service';\r\nimport { MyUtil } from \"./MyUtil\";\r\ndeclare var THREE: any;\r\n\r\nexport class CornerBaywinModel implements IBayWin {\r\n    bayWinModelFather: any;                             //飘窗上所有的模型的父对象。\r\n    windowsillTile: any;                                //窗台瓷砖对象。\r\n    windowsillTileTexture: any;                          //窗台瓷砖贴图。\r\n    windowsillTileHeight: number = 40;                  //窗台瓷砖对象的高度。\r\n    windowsDownConcrete: any;                           //窗台下的混凝土。\r\n    windowsConcreteHeight: number = 100;                //窗台上下混凝土的高度。\r\n    windowsUpConcrete: any;                             //窗台上面的混凝土。   \r\n    concreteColor: any = new THREE.Color(0xe8e8e8);     //混凝土的颜色。 \r\n    railingColor: any = new THREE.Color(0x461701);\r\n\r\n    leftConcrete: any;                                  //左手边的混凝土。 \r\n    rightConcrete: any;                                  //右手边的混凝土。\r\n    outThickness: number;\r\n    private dataServer: THREEDataServer;\r\n    private jDataServer: JdesignDataService;\r\n    private height: number;\r\n    private shapePoint3DList;                            //转角飘窗的一圈点。是一个Vector3数组。\r\n    private railFatherList = [];                           //所有窗户的栏杆的父对象都放在这里。\r\n\r\n    public paramsValues =\r\n        {\r\n            windowsillMaterialIndex: [],                                //当前转角飘窗的大理石的贴图。\r\n        }\r\n\r\n    /**\r\n     * 用来设置转角飘窗模型的位置。=============================================\r\n     * @param _pos \r\n     */\r\n    SetPosition(_pos) {\r\n        this.bayWinModelFather.position.copy(_pos);\r\n    }\r\n\r\n    SetRotation(_radian) {\r\n\r\n    }\r\n\r\n    constructor(_dataServer: THREEDataServer, _jDataServer: JdesignDataService, _outThickness: number) {\r\n        this.dataServer = _dataServer;\r\n        this.jDataServer = _jDataServer;\r\n        this.outThickness = _outThickness;\r\n    }\r\n\r\n    /**\r\n     * 用来设置转角飘窗窗台瓷砖的函数。=============================================\r\n     * @param _path \r\n     */\r\n    public SetBaywindowStillTexture(_path) {\r\n        this.windowsillTileTexture.image.src = _path;\r\n        this.windowsillTileTexture.image.onload = () => {\r\n            this.windowsillTileTexture.needsUpdate = true;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 为转角飘窗创建围栏的函数。===========================================================\r\n     */\r\n    public MakeRailing() {\r\n        //制作其中一个面上的所有围栏。---------------------------------------------------\r\n        let _oneRailing = this.MakeOneRailing(this.shapePoint3DList[2], this.shapePoint3DList[3]);\r\n        this.bayWinModelFather.add(_oneRailing);\r\n        //这一面的栏杆要稍微往后退一点点才合适。------------------------------------------\r\n        let _fallBackDir = this.shapePoint3DList[3].clone().sub(this.shapePoint3DList[4]).normalize();\r\n        let _newPoint3 = this.shapePoint3DList[3].clone().addScaledVector(_fallBackDir, this.outThickness);\r\n        let _newPoint4 = this.shapePoint3DList[4].clone().addScaledVector(_fallBackDir, this.outThickness);\r\n        let _anotherRailing = this.MakeOneRailing(_newPoint3, _newPoint4);\r\n        this.bayWinModelFather.add(_anotherRailing);\r\n        //把两面围栏的父对象推到一个数组里。---------------------------------------------\r\n        this.railFatherList.push(_oneRailing);\r\n        this.railFatherList.push(_anotherRailing);\r\n    }\r\n\r\n    /**\r\n     * 为一面转角飘窗创建围栏的函数。========================================================\r\n     * @param _startPoint 围栏的开始点。\r\n     * @param _endPoint 围栏的结束点。\r\n     * @param _railingWith 一根围栏的宽度。\r\n     */\r\n    private MakeOneRailing(_startPoint, _endPoint) {\r\n        let _railDir = _endPoint.clone().sub(_startPoint)\r\n        let _railLength = _railDir.length();\r\n        let _oneRailingFather = new THREE.Object3D();\r\n        //制作下面的那一条横杆。-------------------------------------------------\r\n        let _xHorizontalDownBar = this.dataServer.classesObj.boxMaker.MakeBox(_railLength + this.outThickness, this.outThickness, this.outThickness, true, true)\r\n        _xHorizontalDownBar.position.x = (_railLength + this.outThickness) / 2;\r\n        _xHorizontalDownBar.position.z = -this.outThickness / 2;\r\n        _xHorizontalDownBar.material = new THREE.MeshPhongMaterial({ color: this.railingColor });\r\n        _oneRailingFather.add(_xHorizontalDownBar);\r\n        //制作上面那一条横杆。---------------------------------------------------\r\n        let _xHorizontalUpBar = this.dataServer.classesObj.boxMaker.MakeBox(_railLength + this.outThickness, this.outThickness, this.outThickness, true, true)\r\n        _xHorizontalUpBar.position.x = (_railLength + this.outThickness) / 2;\r\n        _xHorizontalUpBar.position.z = -this.outThickness / 2;\r\n        _xHorizontalUpBar.position.y = this.height - this.outThickness;\r\n        _xHorizontalUpBar.material = new THREE.MeshPhongMaterial({ color: this.railingColor });\r\n        _oneRailingFather.add(_xHorizontalUpBar);\r\n        //制作左边那条竖杆。-----------------------------------------------------\r\n        let _leftVerticalBar = this.dataServer.classesObj.boxMaker.MakeBox(this.outThickness, this.height, this.outThickness, true, true)\r\n        _leftVerticalBar.position.x = this.outThickness / 2;\r\n        _leftVerticalBar.position.z = -this.outThickness / 2;\r\n        _leftVerticalBar.material = new THREE.MeshPhongMaterial({ color: this.railingColor });\r\n        _oneRailingFather.add(_leftVerticalBar);\r\n        //制作中间那条竖杆。----------------------------------------------------\r\n        let _middleVerticalBar = this.dataServer.classesObj.boxMaker.MakeBox(this.outThickness, this.height, this.outThickness, true, true)\r\n        _middleVerticalBar.position.x = (_railLength + this.outThickness) / 2;\r\n        _middleVerticalBar.position.z = -this.outThickness / 2;\r\n        _middleVerticalBar.material = new THREE.MeshPhongMaterial({ color: this.railingColor });\r\n        _oneRailingFather.add(_middleVerticalBar);\r\n        //制作右边那条竖杆。----------------------------------------------------\r\n        let _rightVerticalBar = this.dataServer.classesObj.boxMaker.MakeBox(this.outThickness, this.height, this.outThickness, true, true)\r\n        _rightVerticalBar.position.x = _railLength + this.outThickness / 2;\r\n        _rightVerticalBar.position.z = -this.outThickness / 2;\r\n        _rightVerticalBar.material = new THREE.MeshPhongMaterial({ color: this.railingColor });\r\n        _oneRailingFather.add(_rightVerticalBar);\r\n\r\n        //调节一面窗的所谓围栏的位置和旋转。----------------------------------\r\n        _oneRailingFather.position.copy(_startPoint);\r\n        let _winDirV2 = new THREE.Vector2(_railDir.x, _railDir.z);\r\n        _oneRailingFather.rotation.y = -_winDirV2.angle();\r\n\r\n        return _oneRailingFather;\r\n    }\r\n\r\n\r\n    /**\r\n   * 为转角飘窗窗台加载初始化的贴图。==========================================================================\r\n   */\r\n    private LoadWindowsillInitTexture(_name) {\r\n        let initTextureUrl = this.jDataServer.json.marblePics[0];\r\n        this.windowsillTileTexture = this.dataServer.loaders.textureLoader.load(initTextureUrl);\r\n        this.windowsillTileTexture.wrapS = THREE.RepeatWrapping;\r\n        this.windowsillTileTexture.wrapT = THREE.RepeatWrapping;\r\n    }\r\n\r\n    public MakeCornerbayWinModel(_shapePoints3D, _height) {\r\n        this.height = _height;\r\n        console.log(this.height);\r\n        this.shapePoint3DList = _shapePoints3D;\r\n        //创建转角飘窗上所有模型的父对象。----------------------------------\r\n        this.bayWinModelFather = new THREE.Object3D();\r\n        this.dataServer.sceneCommonObj.scene.add(this.bayWinModelFather);\r\n        //创建放置在窗台上的瓷砖。------------------------------------------------------------------------\r\n        //窗台的瓷砖要往里面收一点点哦。-----------------------------\r\n        let _shapePoints3DWithInThinkness = this.ShapePointAddInThinkness(this.shapePoint3DList, 60);\r\n        this.windowsillTile = this.dataServer.classesObj.extrudeModelMaker.MakeExtrueModel(_shapePoints3DWithInThinkness, new THREE.Vector3(0.0, 1.0, 0.0), this.windowsillTileHeight, 1000);\r\n        this.windowsillTile.material = new THREE.MeshPhongMaterial({ color: 0xcccccc });\r\n        this.bayWinModelFather.add(this.windowsillTile);\r\n        //给窗台瓷砖赋予贴图。-----------------------------------------------------\r\n        this.LoadWindowsillInitTexture(\"windowsill\");\r\n        this.windowsillTile.material.map = this.windowsillTileTexture;\r\n\r\n        //创建放置在上面的混凝度。--------------------------------------------------\r\n        let _shapePoints3DWithOutThinkness = this.ShapePointsAddOutThinkness(this.shapePoint3DList, this.outThickness);\r\n        this.windowsUpConcrete = this.dataServer.classesObj.extrudeModelMaker.MakeExtrueModel(_shapePoints3DWithOutThinkness, new THREE.Vector3(0.0, 1.0, 0.0), this.windowsConcreteHeight, 1000, [0, 5]);\r\n        this.windowsUpConcrete.material = new THREE.MeshPhongMaterial({ color: this.concreteColor });\r\n        this.bayWinModelFather.add(this.windowsUpConcrete);\r\n        this.windowsUpConcrete.position.y = this.height;\r\n\r\n        //创建放置在窗台下的混凝土。------------------------------------------------\r\n        this.windowsDownConcrete = this.dataServer.classesObj.extrudeModelMaker.MakeExtrueModel(_shapePoints3DWithOutThinkness, new THREE.Vector3(0.0, 1.0, 0.0), this.windowsConcreteHeight, 1000, [0, 5]);\r\n        this.windowsDownConcrete.material = new THREE.MeshPhongMaterial({ color: this.concreteColor });\r\n        this.windowsDownConcrete.position.y = -this.windowsConcreteHeight;\r\n        this.bayWinModelFather.add(this.windowsDownConcrete);\r\n        //做窗台左侧的混凝土。------------------------------------------\r\n        let _leftConcreteShapePoints = this.MakeSideConcretePoints(_shapePoints3DWithOutThinkness[1], _shapePoints3DWithOutThinkness[2]);\r\n        this.leftConcrete = this.dataServer.classesObj.extrudeModelMaker.MakeExtrueModel(_leftConcreteShapePoints, new THREE.Vector3(0.0, 1.0, 0.0), this.height + this.windowsConcreteHeight * 2, 1000, [3]);\r\n        this.leftConcrete.material = new THREE.MeshPhongMaterial({ color: this.concreteColor });\r\n        this.leftConcrete.position.y = - this.windowsConcreteHeight;\r\n        this.bayWinModelFather.add(this.leftConcrete);\r\n        //做窗台右侧的混凝土。-----------------------------------------\r\n        let _rightConcreteShapePoints = this.MakeSideConcretePoints(_shapePoints3DWithOutThinkness[5], _shapePoints3DWithOutThinkness[4]);\r\n        this.rightConcrete = this.dataServer.classesObj.extrudeModelMaker.MakeExtrueModel(_rightConcreteShapePoints.reverse(), new THREE.Vector3(0.0, 1.0, 0.0), this.height + this.windowsConcreteHeight * 2, 1000, [3]);\r\n        this.rightConcrete.material = new THREE.MeshPhongMaterial({ color: this.concreteColor });\r\n        this.rightConcrete.position.y = - this.windowsConcreteHeight;\r\n        this.bayWinModelFather.add(this.rightConcrete);\r\n        //为转角飘窗创建窗户围栏。---------------------------------------\r\n        this.MakeRailing();\r\n\r\n    }\r\n\r\n\r\n\r\n    /**\r\n     * 给原来的飘窗的外一圈点再则增加一层厚度，返回一圈新的点。========================================\r\n     */\r\n    private ShapePointsAddOutThinkness(_shapePoints3D, _thickness) {\r\n        let _dir1 = _shapePoints3D[2].clone().sub(_shapePoints3D[1]).normalize();\r\n        let _newPoint2 = _shapePoints3D[2].clone().addScaledVector(_dir1, _thickness);\r\n        let _temPoint3_1 = _shapePoints3D[3].clone().addScaledVector(_dir1, _thickness);\r\n\r\n        let _dir2 = _shapePoints3D[4].clone().sub(_shapePoints3D[5]).normalize();\r\n        let _newPoint4 = _shapePoints3D[4].clone().addScaledVector(_dir2, _thickness);\r\n        let _temPoint3_2 = _shapePoints3D[3].clone().addScaledVector(_dir2, _thickness);\r\n        //求两条直线的交点。--------------------------------------------------------------------\r\n        let insectPoint = MyUtil.GetInsectPoint(\r\n            new THREE.Vector2(_newPoint2.x, _newPoint2.z),\r\n            new THREE.Vector2(_temPoint3_1.x, _temPoint3_1.z),\r\n            new THREE.Vector2(_temPoint3_2.x, _temPoint3_2.z),\r\n            new THREE.Vector2(_newPoint4.x, _newPoint4.z)\r\n        );\r\n        let _newPoint3 = new THREE.Vector3(insectPoint.x, 0.0, insectPoint.y);\r\n        return [\r\n            _shapePoints3D[0],\r\n            _shapePoints3D[1],\r\n            _newPoint2,\r\n            _newPoint3,\r\n            _newPoint4,\r\n            _shapePoints3D[5]\r\n        ]\r\n    }\r\n\r\n    private ShapePointAddInThinkness(_shapePoints3D, _thickness) {\r\n        let _dir1 = _shapePoints3D[1].clone().sub(_shapePoints3D[2]).normalize();\r\n        let _newPoint1 = _shapePoints3D[1].clone().addScaledVector(_dir1, _thickness);\r\n        let _temPoint0_1 = _shapePoints3D[0].clone().addScaledVector(_dir1, _thickness);\r\n\r\n        let _dir2 = _shapePoints3D[5].clone().sub(_shapePoints3D[4]).normalize();\r\n        let _newPoint5 = _shapePoints3D[5].clone().addScaledVector(_dir2, _thickness);\r\n        let _temPoint0_2 = _shapePoints3D[0].clone().addScaledVector(_dir2, _thickness);\r\n\r\n        //求两条直线的交点。--------------------------------------------------------------------\r\n        let insectPoint = MyUtil.GetInsectPoint(\r\n            new THREE.Vector2(_newPoint1.x, _newPoint1.z),\r\n            new THREE.Vector2(_temPoint0_1.x, _temPoint0_1.z),\r\n            new THREE.Vector2(_temPoint0_2.x, _temPoint0_2.z),\r\n            new THREE.Vector2(_newPoint5.x, _newPoint5.z)\r\n        );\r\n        let _newPoint0 = new THREE.Vector3(insectPoint.x, 0.0, insectPoint.y);\r\n        return [\r\n            _newPoint0,\r\n            _newPoint1,\r\n            _shapePoints3D[2],\r\n            _shapePoints3D[3],\r\n            _shapePoints3D[4],\r\n            _newPoint5\r\n        ]\r\n\r\n\r\n\r\n    }\r\n\r\n    /**\r\n     * 为拐角飘窗左右两边的水泥墙计算顶点。=========================\r\n     */\r\n    private MakeSideConcretePoints(_startPoint, _endPoint) {\r\n        let _offsetDir = _startPoint.clone().normalize();\r\n        let _startPointOffset = _startPoint.clone().addScaledVector(_offsetDir, 240);\r\n        let _endPointOffset = _endPoint.clone().addScaledVector(_offsetDir, 240);\r\n        return [\r\n            _startPointOffset,\r\n            _endPointOffset,\r\n            _endPoint,\r\n            _startPoint\r\n        ]\r\n    }\r\n\r\n\r\n\r\n    /**\r\n     * 销毁转角飘窗模型的方法。===================================================================\r\n     */\r\n    public DestroyBaywinModel() {\r\n        //销毁转角飘窗的瓷砖。-------------------------------------------------\r\n        this.bayWinModelFather.remove(this.windowsillTile);\r\n        this.windowsillTile.material.dispose();\r\n        this.windowsillTile.geometry.dispose();\r\n        this.windowsillTile = null;\r\n        //销毁转角飘窗的上面那一块混凝土。---------------------------------------\r\n        this.bayWinModelFather.remove(this.windowsUpConcrete);\r\n        this.windowsUpConcrete.material.dispose();\r\n        this.windowsUpConcrete.geometry.dispose();\r\n        this.windowsUpConcrete = null;\r\n        //销毁转角飘窗的下面那一块混凝土。-----------------------------------------\r\n        this.bayWinModelFather.remove(this.windowsDownConcrete);\r\n        this.windowsDownConcrete.material.dispose();\r\n        this.windowsDownConcrete.geometry.dispose();\r\n        this.windowsDownConcrete = null;\r\n        //销毁转角飘窗左边的混凝土块。--------------------------------------------\r\n        this.bayWinModelFather.remove(this.leftConcrete);\r\n        this.leftConcrete.material.dispose();\r\n        this.leftConcrete.geometry.dispose();\r\n        this.leftConcrete = null;\r\n        //销毁转角飘窗右边的混凝土块。--------------------------------------------\r\n        this.bayWinModelFather.remove(this.rightConcrete);\r\n        this.rightConcrete.material.dispose();\r\n        this.rightConcrete.geometry.dispose();\r\n        this.rightConcrete = null;\r\n        //把围栏上的所有模型也销毁掉。-------------------------------------------=\r\n        for (let i = 0; i < this.railFatherList.length; i++) {\r\n            for (let j = 0; j < this.railFatherList[i].children.length; j++) {\r\n                this.railFatherList[i].children[j].geometry.dispose();\r\n                this.railFatherList[i].children[j].material.dispose();\r\n                this.railFatherList[i].remove(this.railFatherList[i].children[j]);\r\n            }\r\n            this.bayWinModelFather.remove(this.railFatherList[i]);\r\n        }\r\n        //最后把转角飘窗所有模型的父对象都删除掉。---------------------------\r\n        this.dataServer.sceneCommonObj.scene.remove(this.bayWinModelFather);\r\n        this.bayWinModelFather = null;\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n}","import { ModelType } from \"./dataStruct\";\r\n\r\n\r\n/*\r\n 作者：张建。\r\n 类说明：这个类用来管理当前选中模型用的。\r\n*/\r\nexport class CurrentSelectModel {\r\n    public currentSelectedModel = null;\r\n    /**\r\n     * 选中某个模型。=====================================================\r\n     * @param _model 设置这个模型是被选中模型。\r\n     */\r\n    public Select(_model) {\r\n        if (_model == undefined) {\r\n            console.error(\"没有模型被进行选择。\");\r\n            return;\r\n        }\r\n        if (_model.userData.customUserData != undefined) {\r\n            this.currentSelectedModel = _model;\r\n        } else {\r\n            console.error(\"这个模型少了基本资料不能进行选择。\");\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 取消选择所有的模型。==================================================\r\n     */\r\n    public DeselectAll() {\r\n        this.currentSelectedModel = null;\r\n    }\r\n\r\n\r\n\r\n    /**\r\n     * 检测当前是否有被选中的模型。=========================================\r\n     */\r\n    public HasModelSelected() {\r\n        // console.log(this.currentSelectedModel);\r\n        if (this.currentSelectedModel == null) {\r\n            return false;\r\n        } else {\r\n            return true;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 返回被选择的模型的对应的杨振龙创建的那个对象。======================================\r\n     */\r\n    public GetSelectedLongObj() {\r\n        return this.currentSelectedModel.userData.customUserData.longObj;\r\n    }\r\n\r\n    /**\r\n     * 获取当前所选的模型的类型。========================================================\r\n     */\r\n    public GetSelectedModelType(): ModelType {\r\n        if (this.HasModelSelected()) {\r\n            return this.currentSelectedModel.userData.customUserData.modelType;\r\n        } else {\r\n            return null;\r\n        }\r\n\r\n    }\r\n\r\n    public GetSelectModelID(): string {\r\n        if (this.HasModelSelected()) {\r\n            return this.currentSelectedModel.userData.customUserData.longObj.id;\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 获取当前选择模型的右边属性面板的所有属性。==========================================\r\n     */\r\n    public GetSelectedModelParamsValues() {\r\n        return this.currentSelectedModel.userData.customUserData.longObj.paramsValues;\r\n    }\r\n}","import { MyUtil } from \"./MyUtil\";\r\nimport { ZVector2, FrameType, ModelType } from \"./dataStruct\";\r\nimport { THREEDataServer } from \"./THREEDataServer\";\r\nimport { JdesignDataService } from '../../services/jdesign-data.service';\r\n\r\ndeclare var THREE: any;\r\n\r\n/*\r\n 作者：张建。\r\n 类说明：这个类专门是用来做门框用的。\r\n*/\r\n\r\nexport class DoorWindowFrame {\r\n    private dataServer: THREEDataServer;\r\n    private jDataServer: JdesignDataService;\r\n    //private deep: number = 250;                                                //门框的厚度。\r\n    public frameWidth = 80;                                                 //门框的宽度，不是整体宽度哦。\r\n    public paramsValues = {\r\n        //门框或窗框的贴图和剖面样式。-----------------------------------------------\r\n        profileMaterialIndex: [],                                                //当前门框选择的是哪张贴图。\r\n        profileShapeIndex: []                                                     //当前选择的是哪个门框。\r\n    }\r\n\r\n    constructor(_dataServer: THREEDataServer, _jDataServer: JdesignDataService) {\r\n        this.dataServer = _dataServer;\r\n        this.jDataServer = _jDataServer;\r\n    }\r\n\r\n    private frameMeshes = {};\r\n    private frameGeometry = {};\r\n    private frameFather = new THREE.Object3D();\r\n    protected frameTexture;                                                     //赋给门框或窗框的贴图。-----------------------------------\r\n\r\n    public DestroyDoorWinFrame() {\r\n        for (let key in this.frameMeshes) {\r\n            this.frameFather.remove(this.frameMeshes[key]);\r\n            this.dataServer.sceneCommonObj.scene.remove(this.frameFather);\r\n            this.frameMeshes[key].geometry.dispose();\r\n        }\r\n        for (let key in this.frameGeometry) {\r\n            this.frameGeometry[key].dispose();\r\n            this.frameGeometry[key] = undefined;\r\n        }\r\n    }\r\n\r\n    public MakeFrame(_modelType: ModelType, _width: number, _height: number, _deep: number, _profileDatas, _bottomFrame) {\r\n        //为窗框加载初始的贴图。-------------------------------------------------------------\r\n        if (this.frameTexture == null) {\r\n            this.LoadInitTexture(_modelType);\r\n        }\r\n        this.MakeDoorFrame(\r\n            this.frameTexture,\r\n            _width,\r\n            _height,\r\n            _deep,\r\n            new ZVector2(_deep + 10, this.frameWidth),\r\n            _profileDatas,\r\n            _bottomFrame\r\n        )\r\n    }\r\n\r\n    /**\r\n    * 修改门框或者窗框的贴图。===========================================================\r\n    * @param _path \r\n    */\r\n    public SetFrameModelTexture(_path: string) {\r\n        this.frameTexture.image.src = _path;\r\n        this.frameTexture.image.onload = () => {\r\n            this.frameTexture.needsUpdate = true;\r\n        }\r\n    }\r\n\r\n    /**\r\n    * 为门框或窗框加载初始化的贴图。==========================================================================\r\n    */\r\n    protected LoadInitTexture(_modelType) {\r\n        let initTextureUrl = this.jDataServer.json.doorFramePics[0];\r\n        this.frameTexture = this.dataServer.loaders.textureLoader.load(initTextureUrl);\r\n        this.frameTexture.wrapS = THREE.RepeatWrapping;\r\n        this.frameTexture.wrapT = THREE.RepeatWrapping;\r\n\r\n    }\r\n\r\n\r\n\r\n    /**\r\n     * 用来创建门框的自定义函数。============================================\r\n     * @param _width        门洞的总的宽度。\r\n     * @param _height       门洞的总的高度。\r\n     * @param _deep         门洞的总的厚度。\r\n     * @param _frameWidth   门框的宽。\r\n     * @param _frameDeep    门框的厚度。\r\n     * @param _profileDatas 门框的一圈的顶点数据。\r\n     * @param _bottomFrame  是否有下面的边框？true代表有。门框是没有的窗框有的。\r\n     */\r\n    MakeDoorFrame(_frameTexture, _width, _height, _deep, _frameSize: ZVector2, _profileDatas, _bottomFrame) {\r\n        //创建新门框前，先把老的门框销毁掉。--------------------------------------\r\n        this.DestroyDoorWinFrame();\r\n        //先做左边垂直的其中一条门框。--------------------------------------------\r\n        let _leftFrameDir = [new THREE.Vector3(0, 0, 0), new THREE.Vector3(0, _height, 0)];\r\n        //做左边的框做一个下切割平面。-------------------------------------------------------\r\n        let _leftFrameCutPlaneA = null;\r\n        if (_bottomFrame == true) {\r\n            _leftFrameCutPlaneA = new THREE.Plane();\r\n            let _leftFramePlaneDirA = new THREE.Vector3(1, -1, 0).normalize();\r\n            _leftFrameCutPlaneA.setFromNormalAndCoplanarPoint(_leftFramePlaneDirA, new THREE.Vector3(0, 0, 0));\r\n        }\r\n        //做左边的框做一个上切割平面。-------------------------------------------------------\r\n        let _leftFrameCutPlaneB = new THREE.Plane();\r\n        let _leftFramePlaneDirB = new THREE.Vector3(-1, -1, 0).normalize();\r\n        _leftFrameCutPlaneB.setFromNormalAndCoplanarPoint(_leftFramePlaneDirB, new THREE.Vector3(0, _height, 0));\r\n        let _leftFrameMesh = this.MakeOneFrameModel(_frameTexture, _leftFrameDir, FrameType.leftFrame, _frameSize, _profileDatas, _leftFrameCutPlaneA, _leftFrameCutPlaneB);\r\n        this.frameFather.add(_leftFrameMesh);\r\n        _leftFrameMesh.position.x = -_width / 2;\r\n        _leftFrameMesh.position.z = -_deep / 2;\r\n\r\n\r\n\r\n        //再做右边垂直的其中一条门框。--------------------------------------------\r\n        let _rightFrameDir = [new THREE.Vector3(0, 0, 0), new THREE.Vector3(0, _height, 0)];\r\n        //做右边的框做一个下切割平面。-------------------------------------------------------\r\n        let _rightFrameCutPlaneA = null;\r\n        if (_bottomFrame == true) {\r\n            _rightFrameCutPlaneA = new THREE.Plane();\r\n            let _rightFramePlaneDirA = new THREE.Vector3(-1, -1, 0).normalize();\r\n            _rightFrameCutPlaneA.setFromNormalAndCoplanarPoint(_rightFramePlaneDirA, new THREE.Vector3(_frameSize.y, 0, 0));\r\n        }\r\n        //做右边门框的一个切割平面。--------------------------------------------------------\r\n        let _rightFrameCutPlaneB = new THREE.Plane();\r\n        let _rightFramePlaneDirB = new THREE.Vector3(1, -1, 0).normalize();\r\n        _rightFrameCutPlaneB.setFromNormalAndCoplanarPoint(_rightFramePlaneDirB, new THREE.Vector3(_frameSize.y, _height, 0));\r\n        let _rightFrameMesh = this.MakeOneFrameModel(_frameTexture, _rightFrameDir, FrameType.rightFrame, _frameSize, MyUtil.FlipArray(_profileDatas, true), _rightFrameCutPlaneA, _rightFrameCutPlaneB);\r\n        this.frameFather.add(_rightFrameMesh);\r\n        _rightFrameMesh.position.x = _width / 2 - _frameSize.y;\r\n        _rightFrameMesh.position.z = -_deep / 2;\r\n\r\n\r\n\r\n\r\n        //再绘制上面一条水平的门框。--------------------------------------------------------------\r\n        let _topFrameDir = [new THREE.Vector3(0, 0, 0), new THREE.Vector3(_width, 0, 0)];\r\n        //做上边门框的一个切割平面。--------------------------------------------------------------\r\n        let _topFrameCutPlaneA = new THREE.Plane();\r\n        let _topFramePlaneDirA = new THREE.Vector3(-1, -1, 0).normalize();\r\n        _topFrameCutPlaneA.setFromNormalAndCoplanarPoint(_topFramePlaneDirA, new THREE.Vector3(0, 0, 0));\r\n        //做上边门框的另一个切割平面。------------------------------------------------------------\r\n        let _topFrameCutPlaneB = new THREE.Plane();\r\n        let _topFramePlaneDirB = new THREE.Vector3(1, -1, 0).normalize();\r\n        _topFrameCutPlaneB.setFromNormalAndCoplanarPoint(_topFramePlaneDirB, new THREE.Vector3(_width, 0, 0));\r\n\r\n        let _topFrameMesh = this.MakeOneFrameModel(_frameTexture, _topFrameDir, FrameType.topFrame, _frameSize, _profileDatas, _topFrameCutPlaneA, _topFrameCutPlaneB);\r\n        this.frameFather.add(_topFrameMesh);\r\n        _topFrameMesh.position.y = _height;\r\n        _topFrameMesh.position.z = -_deep / 2;\r\n        _topFrameMesh.position.x = -_width / 2;\r\n\r\n\r\n\r\n\r\n\r\n        //如果有需要，再绘制下面一条水平的门框。-------------------------------------------\r\n        if (_bottomFrame == true) {\r\n            let _bottomFrameDir = [new THREE.Vector3(0, 0, 0), new THREE.Vector3(_width, 0, 0)];\r\n            //做上边门框的一个切割平面。--------------------------------------------------------\r\n            let _bottomFrameCutPlaneA = new THREE.Plane();\r\n            let _bottomFramePlaneDirA = new THREE.Vector3(-1, 1, 0).normalize();\r\n            _bottomFrameCutPlaneA.setFromNormalAndCoplanarPoint(_bottomFramePlaneDirA, new THREE.Vector3(0, -_frameSize.y, 0));\r\n            //做上边门框的另一个切割平面。--------------------------------------------------------\r\n            let _bottomFrameCutPlaneB = new THREE.Plane();\r\n            let _bottomFramePlaneDirB = new THREE.Vector3(1, 1, 0).normalize();\r\n            _bottomFrameCutPlaneB.setFromNormalAndCoplanarPoint(_bottomFramePlaneDirB, new THREE.Vector3(_width, -_frameSize.y, 0));\r\n\r\n            let _bottomFrameMesh = this.MakeOneFrameModel(_frameTexture, _bottomFrameDir, FrameType.bottomFrame, _frameSize, MyUtil.FlipArray(_profileDatas, true), _bottomFrameCutPlaneA, _bottomFrameCutPlaneB);\r\n            this.frameFather.add(_bottomFrameMesh);\r\n            _bottomFrameMesh.position.y = _frameSize.y;\r\n            _bottomFrameMesh.position.z = -_deep / 2;\r\n            _bottomFrameMesh.position.x = -_width / 2;\r\n        }\r\n        this.dataServer.sceneCommonObj.scene.add(this.frameFather);\r\n    }\r\n\r\n\r\n    private MakeOneFrameModel(_frameTexture, _dir, _frameType, _frameSize: ZVector2, _profileDatas, _planeA, _planeB) {\r\n        let _frameData = this.MakeModelVertexesAndFaces(_frameType, _frameSize, _dir, new THREE.Vector3(0, 0, 1), _planeA, _planeB, _profileDatas);\r\n        this.frameGeometry[_frameType] = new THREE.Geometry();\r\n        this.frameGeometry[_frameType].vertices = _frameData.vertices;\r\n        this.frameGeometry[_frameType].faces = _frameData.faces;\r\n        this.frameGeometry[_frameType].faceVertexUvs = _frameData.uvs;\r\n        this.frameGeometry[_frameType].computeFaceNormals();\r\n        this.frameGeometry[_frameType].mergeVertices();\r\n        //创建一个门框的mesh出来了。-------------------------------------\r\n        this.frameMeshes[_frameType] = new THREE.Mesh(this.frameGeometry[_frameType], new THREE.MeshPhongMaterial({ map: _frameTexture }));\r\n        //   this.profileMesh.position.y = _profileHeight;\r\n        return this.frameMeshes[_frameType];\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n    /**\r\n     * \r\n     * @param _frameType \r\n     * @param _frameSize \r\n     * @param _dir 放样的两个端点。结构是[{x:1,y:2,y:3},{x:4,y:5,y:6}]\r\n     * @param _normalDir \r\n     * @param _cutPlaneA \r\n     * @param _cutPlaneB \r\n     * @param _profileDatas \r\n     */\r\n    public MakeModelVertexesAndFaces(_frameType: FrameType, _frameSize: ZVector2, _dir, _normalDir, _cutPlaneA, _cutPlaneB, _profileDatas) {\r\n        //求出一圈点的数据，结构为[[1,2],[3,4],[5,6]]\r\n        let _newProfileDatas = MyUtil.ClampArray(_frameSize, _profileDatas);\r\n\r\n        let _profileLength = _dir[1].clone().distanceTo(_dir[0]);\r\n\r\n        //计算一圈点的每一个点距离起点的距离，主要用来计算uv的。----------------------------------------------\r\n        //-----------------------------------------------------------------------------------------------\r\n        let _distanceFromPrePointArray = [];\r\n        for (let i = 0; i < _newProfileDatas.length; i++) {\r\n            if (i == 0) {\r\n                _distanceFromPrePointArray.push(0);\r\n            } else {\r\n                let _preIndex = i - 1;\r\n                let _prePoint = _newProfileDatas[_preIndex];\r\n                let _currentPoint = _newProfileDatas[i];\r\n                let _distanceFromPrePoint = Math.sqrt(Math.pow(_currentPoint[1] - _prePoint[1], 2) + Math.pow(_currentPoint[0] - _prePoint[0], 2));\r\n                _distanceFromPrePointArray.push(_distanceFromPrePoint);\r\n            }\r\n        }\r\n\r\n        let _distanceFromStartPointArray = [];\r\n        for (let i = 0; i < _distanceFromPrePointArray.length; i++) {\r\n            if (i == 0) {\r\n                _distanceFromStartPointArray.push(0);\r\n            } else {\r\n                let _preIndex = i - 1;\r\n                _distanceFromStartPointArray.push(_distanceFromStartPointArray[_preIndex] + _distanceFromPrePointArray[i]);\r\n            }\r\n        }\r\n\r\n        //开始构建uv的初始数据。-------------------------------------------------------------------------------\r\n        //---------------------------------------------------------------------------------------------------\r\n        let _UVRawDatas = [];\r\n\r\n        for (let i = 0; i < _distanceFromStartPointArray.length; i++) {\r\n            let _uv = new THREE.Vector2(_distanceFromStartPointArray[i] / 300.0, 0.0);\r\n            _UVRawDatas.push(_uv);\r\n        }\r\n        let _scaleProfileLength = _profileLength / 800.0;\r\n        for (let i = 0; i < _distanceFromStartPointArray.length; i++) {\r\n            let _uv = new THREE.Vector2(_distanceFromStartPointArray[i] / 300.0, _scaleProfileLength);\r\n            _UVRawDatas.push(_uv);\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n        //求_normalDir和_dir的叉乘。------------------------------------------------\r\n        let _wallDir = _dir[1].clone().sub(_dir[0]);\r\n        let _crossDir = _wallDir.clone().cross(_normalDir);\r\n        //创建放样开始处的一圈点和放样结束处的一圈点。---------------------------------\r\n        let _startRing = this.GetRingPoints(_dir[0], _normalDir.normalize(), _crossDir.normalize(), _newProfileDatas);\r\n        let _endRing = this.GetRingPoints(_dir[1], _normalDir.normalize(), _crossDir.normalize(), _newProfileDatas);\r\n\r\n        _endRing = MyUtil.MakeNewRingPoints(_endRing, _startRing, _cutPlaneB);\r\n        _startRing = MyUtil.MakeNewRingPoints(_startRing, _endRing, _cutPlaneA);\r\n\r\n        let _ringLength = _startRing.length;\r\n        //开始搜集顶点数据。---------------------------------------------------------\r\n        let vertices = [];\r\n        for (let i = 0; i < _startRing.length; i++) {\r\n            vertices.push(_startRing[i]);\r\n        }\r\n        for (let i = 0; i < _endRing.length; i++) {\r\n            vertices.push(_endRing[i]);\r\n        }\r\n        //检查是否已经有了face3的数据？有了就不用再算了，浪费时间呢。--------------------\r\n        let _hasFace3Data = false;\r\n        if (this.frameGeometry[_frameType] != undefined) {\r\n            if (this.frameGeometry[_frameType].faces != undefined) {\r\n                _hasFace3Data = true;\r\n            }\r\n        }\r\n\r\n\r\n        // //开始产生face3数组的数据。----------------------------------------------------\r\n        let faces = [];\r\n        if (_hasFace3Data == false) {\r\n            for (let i = 0; i < _ringLength; i++) {\r\n                let nextI = i + 1;\r\n                if (nextI == _ringLength) {\r\n                    nextI = 0;\r\n                }\r\n                let oppositeI = i + _ringLength;\r\n                let oppositeNextI = nextI + _ringLength;\r\n                faces.push(new THREE.Face3(i, nextI, oppositeI));\r\n                faces.push(new THREE.Face3(nextI, oppositeNextI, oppositeI));\r\n            }\r\n        } else {\r\n            faces = this.frameGeometry[_frameType].faces;\r\n        }\r\n\r\n\r\n        //开始计算UV的数据。-----------------------------------------------------------\r\n        let _uvs = [[]];\r\n\r\n        for (let i = 0; i < faces.length; i++) {\r\n            let _oneLineUv = [];\r\n            _oneLineUv.push(_UVRawDatas[faces[i].a]);\r\n            _oneLineUv.push(_UVRawDatas[faces[i].b]);\r\n            _oneLineUv.push(_UVRawDatas[faces[i].c]);\r\n            _uvs[0].push(_oneLineUv);\r\n        }\r\n        return {\r\n            vertices: vertices,\r\n            faces: faces,\r\n            uvs: _uvs\r\n        }\r\n\r\n\r\n    }\r\n\r\n\r\n    /**\r\n    * 获取放样的一圈点的坐标。返回的就是Vector3了。=========================================================\r\n    * @param _startPoint 以这个点为基点。\r\n    * @param _normalDir 法线方向。\r\n    * @param _crossDir 门框的法线朝向。\r\n    */\r\n    private GetRingPoints(_startPoint, _normalDir, _crossDir, _profileDatas) {\r\n        let returnPoints = [];\r\n        for (let i = 0; i < _profileDatas.length; i++) {\r\n            let onePoint = _startPoint.clone()\r\n                .addScaledVector(_normalDir, _profileDatas[i][0])\r\n                .addScaledVector(_crossDir, _profileDatas[i][1]);\r\n            returnPoints.push(onePoint);\r\n        }\r\n        return returnPoints;\r\n    }\r\n\r\n\r\n    //设置门框的位置。===============================================================================\r\n    public SetPosition(_pos) {\r\n        this.frameFather.position.copy(_pos);\r\n    }\r\n\r\n    /**\r\n     * 用来设置门框的旋转角度的自定义函数。============================================================\r\n     * @param _radian \r\n     */\r\n    public SetRotation(_radian) {\r\n        this.frameFather.rotation.y = _radian;\r\n    }\r\n}","\r\ndeclare var THREE: any;\r\ndeclare var earcut: any;\r\n\r\nexport class ExtrueModelMaker {\r\n\r\n    /**\r\n     * 利用挤出创建一个模型。====================================================\r\n     * @param _shapePointList 用来挤出的平面上的所有的点，结构是[vector3,vector3]。\r\n     * @param _dir 挤出的方向。值类型为vector3。\r\n     * @param _height 挤出的高度。\r\n     */\r\n    public MakeExtrueModel(_shapePointList, _dir, _height,_uvScale, _ignoreSideFaces?) {\r\n        //获取另外一圈点。-----------------------------------------------\r\n        let _otherRingPoints = [];\r\n         \r\n        for (let i = 0; i < _shapePointList.length; i++) {\r\n            _otherRingPoints.push(_shapePointList[i].clone().addScaledVector(_dir, _height));\r\n        }\r\n        //一圈总共有多少个顶点。----------------------------------------\r\n        let _ringLength = _shapePointList.length;\r\n        //把所有的点都推到顶点集合里。------------------------------------\r\n        let _vertexes = [];\r\n        for (let i = 0; i < _shapePointList.length; i++) {\r\n            _vertexes.push(_shapePointList[i]);\r\n        }\r\n\r\n\r\n        for (let i = 0; i < _otherRingPoints.length; i++) {\r\n            _vertexes.push(_otherRingPoints[i]);\r\n        }\r\n        //计算一圈点的UV值。---------------------------------------------\r\n        //--------------------------------------------------------------\r\n\r\n        //首先计算一个点和上一个点之间的距离。-------------------\r\n        let _uvDistanceToPrePoint = [];\r\n        for (let i = 0; i < _shapePointList.length + 1; i++) {\r\n            if (i == 0) {\r\n                _uvDistanceToPrePoint.push(0);\r\n            } else {\r\n                let _preIndex = i - 1;\r\n                let _currentI = i;\r\n                if (i == _shapePointList.length) {\r\n                    _currentI = 0;\r\n                }\r\n                let _prePointV2 = new THREE.Vector2(_shapePointList[_preIndex].x, _shapePointList[_preIndex].z);\r\n                let _currentPointV2 = new THREE.Vector2(_shapePointList[_currentI].x, _shapePointList[_currentI].z);\r\n                let _distanceV2 = _prePointV2.distanceTo(_currentPointV2);\r\n                _uvDistanceToPrePoint.push(_distanceV2);\r\n            }\r\n        }\r\n\r\n        //计算一个点和开始点之间的距离。-------------------------\r\n        let _uvDistanceToStartPoint = [];\r\n        let _amount = 0;\r\n        for (let i = 0; i < _uvDistanceToPrePoint.length; i++) {\r\n            _amount += _uvDistanceToPrePoint[i];\r\n            _uvDistanceToStartPoint.push(_amount);\r\n        }\r\n\r\n        //把一圈的UV值都计算好吧。------------------------------\r\n        let _ringUvs = [];\r\n        for (let i = 0; i < _uvDistanceToStartPoint.length; i++) {\r\n            _ringUvs.push(new THREE.Vector2(_uvDistanceToStartPoint[i] / _uvScale, 0.0));\r\n        }\r\n        for (let i = 0; i < _uvDistanceToStartPoint.length; i++) {\r\n            _ringUvs.push(new THREE.Vector2(_uvDistanceToStartPoint[i] / _uvScale, _height / _uvScale));\r\n        }\r\n\r\n        let _faces = [];\r\n        let _uvs = [[]];\r\n        //开始做耳切运算。------------------------------------------\r\n        let _earCutDatas = [];                                //用来做耳切运算的顶点数据。\r\n        for (let i = 0; i < _shapePointList.length; i++) {\r\n            _earCutDatas.push(_shapePointList[i].x);\r\n            _earCutDatas.push(_shapePointList[i].z);\r\n        }\r\n        let _triangles = earcut(_earCutDatas);\r\n\r\n        //做模型下面的face3。------------------------------------------\r\n        for (let i = 0; i < _triangles.length / 3; i++) {\r\n            let _theFaceDown = new THREE.Face3(_triangles[i * 3], _triangles[i * 3 + 1], _triangles[i * 3 + 2]);\r\n            _faces.push(_theFaceDown);\r\n            //顺便计算UV的数据。------------------------------------\r\n            let _pointADown = _vertexes[_theFaceDown.a];\r\n            let _pointBDown = _vertexes[_theFaceDown.b];\r\n            let _pointCDown = _vertexes[_theFaceDown.c];\r\n            _uvs[0].push([\r\n                new THREE.Vector2(_pointADown.x / _uvScale, _pointADown.z / _uvScale),\r\n                new THREE.Vector2(_pointBDown.x / _uvScale, _pointBDown.z / _uvScale),\r\n                new THREE.Vector2(_pointCDown.x / _uvScale, _pointCDown.z / _uvScale)\r\n            ])\r\n        }\r\n\r\n        //做模型上面的face。-------------------------------------------\r\n        for (let i = 0; i < _triangles.length / 3; i++) {\r\n            let _theFaceUp = new THREE.Face3(_triangles[i * 3] + _ringLength, _triangles[i * 3 + 2] + _ringLength, _triangles[i * 3 + 1] + _ringLength);\r\n            _faces.push(_theFaceUp);\r\n            //顺便计算UV的数据。-----------------------------------\r\n            let _pointAUp = _vertexes[_theFaceUp.a];\r\n            let _pointBUp = _vertexes[_theFaceUp.b];\r\n            let _pointCUp = _vertexes[_theFaceUp.c];\r\n            _uvs[0].push([\r\n                new THREE.Vector2(_pointAUp.x / _uvScale, _pointAUp.z / _uvScale),\r\n                new THREE.Vector2(_pointBUp.x / _uvScale, _pointBUp.z / _uvScale),\r\n                new THREE.Vector2(_pointCUp.x / _uvScale, _pointCUp.z / _uvScale)\r\n            ])\r\n\r\n        }\r\n\r\n        //做模型侧面的一圈面。------------------------------------------------------------\r\n        //------------------------------------------------------------------------------\r\n        for (let i = 0; i < _ringLength; i++) {\r\n            //把挤出模型的某些侧面都忽略掉。---------------------\r\n            if (_ignoreSideFaces != null) {\r\n                if (_ignoreSideFaces.indexOf(i) != -1) {\r\n                    continue;\r\n                }\r\n            }\r\n            //开始为挤出模型的侧面添加Face3。--------------------\r\n            let _nextI = i + 1;\r\n            if (_nextI == _ringLength) {\r\n                _nextI = 0;\r\n            }\r\n            let oppsiteI = i + _ringLength;\r\n            let oppsiteNextI = _nextI + _ringLength;\r\n            let _firstTraigle = new THREE.Face3(i, oppsiteI, _nextI);\r\n            let _secondTraigle = new THREE.Face3(_nextI, oppsiteI, oppsiteNextI);\r\n            _faces.push(_firstTraigle);\r\n            _faces.push(_secondTraigle);\r\n\r\n            //顺便计算UV的数据。-----------------------------------\r\n            _uvs[0].push([\r\n                _ringUvs[i],\r\n                _ringUvs[i + _ringLength + 1],\r\n                _ringUvs[i + 1]\r\n            ])\r\n            _uvs[0].push([\r\n                _ringUvs[i + 1],\r\n                _ringUvs[i + _ringLength + 1],\r\n                _ringUvs[i + 1 + _ringLength + 1]\r\n            ])\r\n        }\r\n\r\n        let geom = new THREE.Geometry();\r\n        geom.vertices = _vertexes;\r\n        geom.faces = _faces;\r\n        geom.faceVertexUvs = _uvs;\r\n        geom.computeFaceNormals();\r\n\r\n        let _returnMesh = new THREE.Mesh(geom);\r\n        return _returnMesh;\r\n\r\n    }\r\n}","/*\r\n 作者：张建。\r\n 类说明：其中一个服务。\r\n*/\r\nimport { Injectable } from '@angular/core';\r\nimport { HGWardrobeLoader } from './HGWardrobeLoader';\r\nimport { HGX3dLoader } from './HGX3dLoader';\r\nimport { HGMapResourcesPreloader } from './HGMapResourcesPreloader';\r\nimport { HGShaderPreloader } from './HGShaderPreloader';\r\ndeclare var THREE: any;\r\ndeclare var X2JS: any;\r\n \r\n\r\n@Injectable()\r\nexport class HGDataServer {\r\n    //three.js场景里的所有东西。\r\n    public sceneObj = {\r\n        lightObjs: [],                          //用来往shader里传递的灯光对象。\r\n        cubeMap: null                            //用来做反射的cubeMap.\r\n    }\r\n\r\n    //这个项目里常常用到的路径。都从Json读取的=================\r\n    public commonPath = {\r\n        basePath: \"https://www.3dhome360.com/ZJ/QuanYouData/\",\r\n        x2dPath: \"https://www.3dhome360.com/ZJ/QuanYouData/BaseGraph/\",\r\n        mt2Path: \"https://www.3dhome360.com/ZJ/QuanYouData/Material/\",\r\n        texturePath: \"https://www.3dhome360.com/ZJ/QuanYouData/Textures/\",\r\n        startModelPath: \"https://www.3dhome360.com/ZJ/QuanYouData/models/\",     //放置初始模型的路径。\r\n        startModelName: \"\"     //一开始用的模型的名字。\r\n    }\r\n\r\n    //名字叫这些的板件还是型材五金还是五金都不处理。\r\n    public ignorNameList = [\"标记\"];\r\n\r\n    //用来做预加载shader并且存放大量shader的对象。\r\n    public shaderPreloader: HGShaderPreloader = new HGShaderPreloader(this);\r\n     \r\n   \r\n    \r\n    //用来加载x3d模型的实例。\r\n    public x3dLoader: HGX3dLoader = new HGX3dLoader();\r\n    // public clickModelDiandID=null;  //被单击的模型的DI值和ID值，就是显示在测试面板里给我自己看的。\r\n\r\n    public x2js = new X2JS();  //用来把xml转换成json的对象。\r\n\r\n \r\n    //用来加载衣柜模型的对象。\r\n    wardrobeLoader: HGWardrobeLoader = new HGWardrobeLoader(this);\r\n    //用来做衣柜模型预加载用的对象。\r\n    mapResourcesPreloader: HGMapResourcesPreloader = new HGMapResourcesPreloader(this);\r\n\r\n    //map文件解析好的json数据。\r\n    public jsonData;\r\n   \r\n    //各种加载器。\r\n    public loader = {\r\n        fileLoader_GBK: new THREE.FileLoader(),          //专门用来加载gbk文本的对象。\r\n        fileLoader: new THREE.FileLoader(),               //专门用来加载utf8文本的对象。\r\n        textureLoader: new THREE.TextureLoader(),\r\n        cubeTextureLoader: new THREE.CubeTextureLoader()      //专门用来加载cubemap的对象。\r\n    }\r\n\r\n    constructor() {\r\n        this.loader.fileLoader_GBK.setMimeType(\"text/html;charset=gb2312\");\r\n\r\n    }\r\n\r\n\r\n    \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n \r\n\r\n}","/*\r\n 作者：张建。\r\n 类说明：这个用来加载五金件的，目前是临时使用一个长方体替代。\r\n*/\r\n\r\nimport { HGmodelUtils } from './HGmodelUtils';\r\nimport { StructModelRawDatas } from './HGStruct';\r\ndeclare var THREE: any;\r\n\r\nexport class HGHardware {\r\n    private modelRawDatas: StructModelRawDatas = {\r\n        vertices: [],     //模型的所有顶点集合。\r\n        faces: [],        //模型的所有Face集合。\r\n        uvs: [[]]           //模型的所有uv集合。\r\n    }\r\n    public mesh;         //提供给外部使用的模型。 \r\n    constructor(_width: number, _height: number, _deep: number, _textureVertical: boolean) {\r\n        //创建上面的面。\r\n        let topFaceVertices = [\r\n            [0, _height, 0],\r\n            [0, _height, _deep],\r\n            [_width, _height, _deep],\r\n            [_width, _height, 0],\r\n        ]\r\n        HGmodelUtils.MakeFaceFrom4Points(this.modelRawDatas, topFaceVertices, _textureVertical);\r\n        //创建竖的前面。\r\n        let verticalFaceFrontVertices = [\r\n            [0, 0, 0],\r\n            [0, _height, 0],\r\n            [_width, _height, 0],\r\n            [_width, 0, 0],\r\n        ]\r\n        HGmodelUtils.MakeFaceFrom4Points(this.modelRawDatas, verticalFaceFrontVertices, _textureVertical);\r\n        //创建竖的右面。\r\n        let verticalFaceRightVertices = [\r\n            [0, 0, _deep],\r\n            [0, _height, _deep],\r\n            [0, _height, 0],\r\n            [0, 0, 0]\r\n        ]\r\n        HGmodelUtils.MakeFaceFrom4Points(this.modelRawDatas, verticalFaceRightVertices, _textureVertical);\r\n        //创建竖的左面。\r\n        let verticalFaceLeftVertices = [\r\n            [_width, 0, 0],\r\n            [_width, _height, 0],\r\n            [_width, _height, _deep],\r\n            [_width, 0, _deep]\r\n        ]\r\n        HGmodelUtils.MakeFaceFrom4Points(this.modelRawDatas, verticalFaceLeftVertices, _textureVertical);\r\n        //创建竖的后面。\r\n        let verticalFaceBackVertices = [\r\n            [_width, 0, _deep],\r\n            [_width, _height, _deep],\r\n            [0, _height, _deep],\r\n            [0, 0, _deep]\r\n        ]\r\n        HGmodelUtils.MakeFaceFrom4Points(this.modelRawDatas, verticalFaceBackVertices, _textureVertical);\r\n\r\n        //创建竖的底面。\r\n        let verticalFaceBottomertices = [\r\n            [_width, 0, 0],\r\n            [_width, 0, _deep],\r\n            [0, 0, _deep],\r\n            [0, 0, 0]\r\n        ]\r\n        HGmodelUtils.MakeFaceFrom4Points(this.modelRawDatas, verticalFaceBottomertices, _textureVertical);\r\n\r\n\r\n\r\n        let theGeometry = HGmodelUtils.MakeGeometryFromRawData(this.modelRawDatas);\r\n        this.mesh = new THREE.Mesh(theGeometry, new THREE.MeshPhongMaterial({\r\n             visible:false,\r\n             wireframe:true\r\n        }));\r\n        //把模型的原来颜色存起来。\r\n        this.mesh.material.formerColor=new THREE.Color();\r\n        this.mesh.material.formerColor.copy(this.mesh.material.color);\r\n    }\r\n}","/*\r\n 作者：张建。\r\n 类说明：用来做loft放样的类。\r\n*/\r\nimport { HGDataServer } from './HGDataServer';\r\nimport { HGMyUtils } from './HGMyUtils';\r\nimport { Plane, x2dRawDatas } from './HGStruct';\r\nimport { HGmodelUtils } from './HGmodelUtils';\r\n\r\n\r\n\r\ndeclare var X2JS: any;\r\ndeclare var THREE: any;\r\ndeclare var earcut: any;\r\n\r\nexport class HGLOFT {\r\n    private dataServer: HGDataServer;               //服务对象。\r\n    private sectionPointsFormular: x2dRawDatas;   //截面的点的集合,带公式的。\r\n    private graphParams;                          //图形参数。\r\n    public mesh;\r\n    private JXState = {\r\n        verticalMirror: false,\r\n        horizontalMirror: false,\r\n        rotateByXAxis: false,\r\n        rotateByYAxis: false\r\n    }\r\n    // private : boolean = false;      //这个截面是否垂直镜像？\r\n    // private : boolean = false;    //这个截面是否水平镜像？\r\n    private cutA: number = 0;                     //这个模型在一边切多少度？\r\n    private cutB: number = 0;                     //这个模型在另外一边切多少度？\r\n    private cut: number;\r\n\r\n    private x2dfile: string = \"\";                 //对应的x2d的文件名。\r\n    private x2dInputParamsValueKeyValues = [];    //这个是整理好的要代入到x2d里的所有参数。\r\n    private PL;                                   //模型挤出的方向。\r\n    private Alphabet = [\"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"H\", \"I\", \"J\", \"K\", \"L\", \"M\", \"N\", \"O\", \"P\", \"Q\", \"R\", \"S\", \"T\", \"U\", \"V\", \"W\", \"X\", \"Y\", \"Z\"];\r\n    private DI;                                   //模型的DI值。\r\n    private plate_height;                         //这个模型的高度。\r\n\r\n    //_sectionFormular就是x2d里每个点的坐标，里面带有变量参数的。\r\n    //_graphParams是控制模型的挤出方向，镜像，两边倒角的。\r\n    //_x2dName就是这个模型使用的x2d文件的名字。\r\n    //_x2dInputParams就是用来往x2d里代入的参数。\r\n    constructor(_dataServer: HGDataServer, _width: number, _height: number, _deep: number, _DI: number, _sectionFormular: x2dRawDatas, _graphParams: any, _x2dName: string, _x2dInputParams) {\r\n        this.dataServer = _dataServer;\r\n        this.sectionPointsFormular = _sectionFormular;\r\n\r\n        this.plate_height = _height;\r\n\r\n        // console.log(_x2dInputParams);\r\n\r\n\r\n\r\n        for (let key in _x2dInputParams) {\r\n            let indexString = key.slice(2);\r\n            let _oneParamsValue: any = {};\r\n            _oneParamsValue.index = parseInt(indexString);\r\n            _oneParamsValue.value = _x2dInputParams[key];\r\n            this.x2dInputParamsValueKeyValues.push(_oneParamsValue);\r\n        }\r\n        this.DI = _DI;\r\n        this.x2dfile = _x2dName;\r\n\r\n\r\n\r\n\r\n\r\n\r\n        this.graphParams = _graphParams;\r\n        if (this.graphParams != undefined) {\r\n            //处理剖面镜像的问题。---------------------------\r\n            if (this.graphParams.JX != undefined) {\r\n                if (this.graphParams.JX == 2) {\r\n                    this.JXState.verticalMirror = true;\r\n                    // console.log(\"垂直翻转\")\r\n                }\r\n                if (this.graphParams.JX == 1) {\r\n                    this.JXState.horizontalMirror = true;\r\n                    // console.log(\"水平翻转\")\r\n                }\r\n                if (this.graphParams.JX == 3) {\r\n                    this.JXState.rotateByYAxis = true;\r\n                }\r\n                if (this.graphParams.JX == 4) {\r\n                    this.JXState.rotateByXAxis = true;\r\n                }\r\n            }\r\n            if (this.graphParams.CutA != undefined) {\r\n                this.cutA = this.graphParams.CutA;\r\n            }\r\n            if (this.graphParams.CutB != undefined) {\r\n                this.cutB = this.graphParams.CutB;\r\n            }\r\n            if (this.graphParams.Cut != undefined) {\r\n                this.cut = parseInt(this.graphParams.Cut);\r\n                if (this.cut == 0) {\r\n                    this.cutA = 0;\r\n                    this.cutB = 0;\r\n                }\r\n            }\r\n\r\n            if (this.graphParams.PL != undefined) {\r\n                this.PL = parseInt(this.graphParams.PL);\r\n            }\r\n        }\r\n\r\n        this.MakeModelFromWidthHeightDeep(_width, _height, _deep, false)\r\n    }\r\n\r\n\r\n    //先根据根据模型的长宽高把模型构建出来------------------------\r\n    public MakeModelFromWidthHeightDeep(_width, _height, _deep, _isUpdate) {\r\n        //横向挤出的模型---------------------------------------------------------------\r\n\r\n        switch (this.PL) {\r\n            case 1:\r\n                this.sectionPointsFormular.shapeDir = \"XY\";\r\n                break;\r\n            case 2:\r\n                this.sectionPointsFormular.shapeDir = \"XZ\";\r\n                break;\r\n            case 3:\r\n                this.sectionPointsFormular.shapeDir = \"YZ\";\r\n                break;\r\n\r\n\r\n        }\r\n\r\n        let planeA: Plane = new Plane();\r\n        let planeB: Plane = new Plane();\r\n\r\n        if (this.sectionPointsFormular.shapeDir == \"YZ\") {\r\n            let sectionPoints = this.CountPointsVariable(_deep, _height);\r\n            let sectionPointsV3s = [];\r\n            // console.log(sectionPoints);\r\n            for (let i = 0; i < sectionPoints.length; i++) {\r\n                let oneSectionPointsV3s = [];\r\n                for (let j = 0; j < sectionPoints[i].length; j++) {\r\n                    oneSectionPointsV3s.push(new THREE.Vector3(sectionPoints[i][j][0], sectionPoints[i][j][2], sectionPoints[i][j][1]));\r\n                }\r\n                sectionPointsV3s.push(oneSectionPointsV3s);\r\n            }\r\n\r\n            if (this.cut == 1) {\r\n                if (this.cutA < 0) {\r\n                    planeA.centerPoint = new THREE.Vector3(0, 0, 0);\r\n                    planeA.dir = new THREE.Vector3(Math.cos(-this.cutA * Math.PI / 180), Math.sin(this.cutA * Math.PI / 180), 0).normalize();\r\n                } else if (this.cutA == 0) {\r\n                    planeA = null;\r\n                } else {\r\n                    planeA.centerPoint = new THREE.Vector3(0, _height, 0);\r\n                    planeA.dir = new THREE.Vector3(Math.cos(-this.cutA * Math.PI / 180), Math.sin(this.cutA * Math.PI / 180), 0).normalize();\r\n                }\r\n\r\n                if (this.cutB < 0) {\r\n                    planeB.centerPoint = new THREE.Vector3(_width, 0, 0);\r\n                    planeB.dir = new THREE.Vector3(Math.cos(-this.cutB * Math.PI / 180), Math.sin(-this.cutB * Math.PI / 180), 0).normalize();\r\n                } else if (this.cutB == 0) {\r\n                    planeB = null;\r\n                } else {\r\n                    planeB.centerPoint = new THREE.Vector3(_width, _height, 0);\r\n                    planeB.dir = new THREE.Vector3(Math.cos(-this.cutB * Math.PI / 180), Math.sin(-this.cutB * Math.PI / 180), 0).normalize();\r\n                }\r\n            } else if (this.cut == 2) {\r\n                if (this.cutA > 0) {\r\n                    planeA.centerPoint = new THREE.Vector3(0, 0, _deep);\r\n                    planeA.dir = new THREE.Vector3(Math.cos(-this.cutA * Math.PI / 180), 0, Math.sin(this.cutA * Math.PI / 180)).normalize();\r\n\r\n                } else if (this.cutA == 0) {\r\n                    planeA = null;\r\n                } else {\r\n                    planeA.centerPoint = new THREE.Vector3(0, 0, 0);\r\n                    planeA.dir = new THREE.Vector3(Math.cos(-this.cutA * Math.PI / 180), 0, Math.sin(this.cutA * Math.PI / 180)).normalize();\r\n\r\n                }\r\n\r\n                if (this.cutB > 0) {\r\n                    planeB.centerPoint = new THREE.Vector3(_width, 0, _deep);\r\n                    planeB.dir = new THREE.Vector3(Math.cos(-this.cutB * Math.PI / 180), 0, Math.sin(-this.cutB * Math.PI / 180)).normalize();\r\n                } else if (this.cutB == 0) {\r\n                    planeB = null;\r\n                } else {\r\n                    planeB.centerPoint = new THREE.Vector3(_width, 0, 0);\r\n                    planeB.dir = new THREE.Vector3(Math.cos(-this.cutB * Math.PI / 180), 0, Math.sin(-this.cutB * Math.PI / 180)).normalize();\r\n                }\r\n\r\n            } else {\r\n                planeA = null;\r\n                planeB = null;\r\n            }\r\n            this.MakeModelFromProfilesAndDir(sectionPointsV3s, new THREE.Vector3(_width, 0, 0), planeA, planeB, _isUpdate);\r\n        }\r\n\r\n\r\n        else if (this.sectionPointsFormular.shapeDir == \"XY\") {\r\n            let sectionPoints = this.CountPointsVariable(_width, _deep);\r\n            if (sectionPoints != null) {\r\n                let sectionPointsV3s = [];\r\n                for (let i = 0; i < sectionPoints.length; i++) {\r\n                    let oneSectionPointsV3s = [];\r\n                    for (let j = 0; j < sectionPoints[i].length; j++) {\r\n                        oneSectionPointsV3s.push(new THREE.Vector3(sectionPoints[i][j][0], sectionPoints[i][j][2], sectionPoints[i][j][1]));\r\n                    }\r\n                    sectionPointsV3s.push(oneSectionPointsV3s);\r\n                }\r\n                if (this.cut == 2) {\r\n                    if (this.cutA < 0) {\r\n                        planeA.centerPoint = new THREE.Vector3(0, 0, 0);\r\n                        planeA.dir = new THREE.Vector3(Math.cos(-this.cutA * Math.PI / 180), Math.sin(this.cutA * Math.PI / 180), 0).normalize();\r\n                    } else if (this.cutA == 0) {\r\n                        planeA = null;\r\n                    } else {\r\n                        planeA.centerPoint = new THREE.Vector3(_width, 0, 0);\r\n                        planeA.dir = new THREE.Vector3(Math.cos(-this.cutA * Math.PI / 180), Math.sin(this.cutA * Math.PI / 180), 0).normalize();\r\n                    }\r\n                    if (this.cutB < 0) {\r\n                        planeB.centerPoint = new THREE.Vector3(0, _height, 0);\r\n                        planeB.dir = new THREE.Vector3(Math.cos(-this.cutB * Math.PI / 180), Math.sin(-this.cutB * Math.PI / 180), 0).normalize();\r\n                    } else if (this.cutB == 0) {\r\n                        planeB = null;\r\n                    } else {\r\n                        planeB.centerPoint = new THREE.Vector3(_width, _height, 0);\r\n                        planeB.dir = new THREE.Vector3(Math.cos(-this.cutB * Math.PI / 180), Math.sin(-this.cutB * Math.PI / 180), 0).normalize();\r\n                    }\r\n                } else {\r\n                    planeA = null;\r\n                    planeB = null;\r\n                }\r\n                this.MakeModelFromProfilesAndDir(sectionPointsV3s, new THREE.Vector3(0, _height, 0), planeA, planeB, _isUpdate);\r\n            }\r\n        }\r\n\r\n\r\n        else if (this.sectionPointsFormular.shapeDir == \"XZ\") {\r\n            let sectionPoints = this.CountPointsVariable(_width, _height);\r\n\r\n            let sectionPointsV3s = [];\r\n\r\n            for (let i = 0; i < sectionPoints.length; i++) {\r\n                let oneSectionPointsV3s = [];\r\n                for (let j = sectionPoints[i].length - 1; j >= 0; j--) {\r\n                    oneSectionPointsV3s.push(new THREE.Vector3(sectionPoints[i][j][0], sectionPoints[i][j][2], sectionPoints[i][j][1]));\r\n                }\r\n                sectionPointsV3s.push(oneSectionPointsV3s);\r\n            }\r\n\r\n            this.MakeModelFromProfilesAndDir(sectionPointsV3s, new THREE.Vector3(0, 0, _deep), null, null, _isUpdate);\r\n        }\r\n    }\r\n\r\n    //根据剖面的坐标和方向把模型做出来。\r\n    private MakeModelFromProfilesAndDir(_sectionPoints, _dir, _PlaneA, _PlaneB, _isUpdate) {\r\n\r\n\r\n        //另一端的剖面的所有顶点。-----------------------------\r\n        let _anotherSectionPoints = [];\r\n        for (let i = 0; i < _sectionPoints.length; i++) {\r\n            let _oneAnotherSectionPoints = []\r\n            for (let j = 0; j < _sectionPoints[i].length; j++) {\r\n                let oneAnotherSectionPoint = new THREE.Vector3();\r\n                oneAnotherSectionPoint.addVectors(_sectionPoints[i][j], _dir);\r\n                _oneAnotherSectionPoints.push(oneAnotherSectionPoint);\r\n            }\r\n            _anotherSectionPoints.push(_oneAnotherSectionPoints);\r\n        }\r\n\r\n\r\n        //是否要在A面进行裁切模型,是的话就切了并重新计算顶点-------------------------------------------------------\r\n        let _sectionPointsWithCut_pre = null;\r\n        if (_PlaneA != null) {\r\n            _sectionPointsWithCut_pre = HGmodelUtils.CutLoftModel(_PlaneA, _sectionPoints, _anotherSectionPoints);\r\n        } else {\r\n            _sectionPointsWithCut_pre = _sectionPoints;\r\n        }\r\n\r\n        //是否要在B面进行裁切模型，是的话就切了并重新计算顶点-------------------------------------------------------\r\n        let _anotherSectionPointsWithCut_pre = null;\r\n        if (_PlaneB != null) {\r\n            _anotherSectionPointsWithCut_pre = HGmodelUtils.CutLoftModel(_PlaneB, _sectionPoints, _anotherSectionPoints);\r\n        } else {\r\n            _anotherSectionPointsWithCut_pre = _anotherSectionPoints;\r\n        }\r\n\r\n\r\n\r\n\r\n        let vertices = [];\r\n        let faces;\r\n        let uvs = [[]];\r\n\r\n        if (_isUpdate == false) {\r\n            faces = [];\r\n        } else {\r\n            faces = this.mesh.geometry.faces;\r\n        }\r\n\r\n        // let sectionPointArray;\r\n        // let anotherSectionPointArray;\r\n        // if (this.sectionPointsFormular.dj != 0) {\r\n        //     //百叶窗总共弄多少页？\r\n        //     let _howMangPage = this.plate_height / this.sectionPointsFormular.barH;\r\n        //     sectionPointArray = this.SplitSectionPoints(_sectionPointsWithCut_pre, this.sectionPointsFormular.dj, _howMangPage);\r\n        //     anotherSectionPointArray = this.SplitSectionPoints(_anotherSectionPointsWithCut_pre, this.sectionPointsFormular.dj, _howMangPage);\r\n        //     console.log()\r\n        // } else {\r\n        //     sectionPointArray = [_sectionPointsWithCut_pre];\r\n        //     anotherSectionPointArray = [_anotherSectionPointsWithCut_pre];\r\n        // }\r\n\r\n        let verticesLength = 0;\r\n        for (let tttt = 0; tttt < _sectionPointsWithCut_pre.length; tttt++) {\r\n            let _sectionPointsWithCut = _sectionPointsWithCut_pre[tttt];\r\n            let _anotherSectionPointsWithCut = _anotherSectionPointsWithCut_pre[tttt];\r\n            //添加顶点数据。-------------------------------------------------\r\n            for (let i = 0; i < _sectionPointsWithCut.length; i++) {\r\n                let nextI = i + 1;\r\n                if (nextI == _sectionPointsWithCut.length) {\r\n                    nextI = 0;\r\n                }\r\n                vertices.push(_sectionPointsWithCut[i]);\r\n                vertices.push(_sectionPointsWithCut[nextI]);\r\n                vertices.push(_anotherSectionPointsWithCut[i]);\r\n                vertices.push(_anotherSectionPointsWithCut[nextI]);\r\n            }\r\n\r\n            //添加face数据。---------------------------------------------------------\r\n            if (_isUpdate == false) {\r\n                for (let i = 0; i < _sectionPointsWithCut.length; i++) {\r\n                    if (this.JXState.verticalMirror == true || this.JXState.horizontalMirror == true) {\r\n                        faces.push(new THREE.Face3(0 + i * 4 + verticesLength, 2 + i * 4 + verticesLength, 1 + i * 4 + verticesLength));\r\n                        faces.push(new THREE.Face3(1 + i * 4 + verticesLength, 2 + i * 4 + verticesLength, 3 + i * 4 + verticesLength));\r\n                    } else {\r\n                        faces.push(new THREE.Face3(0 + i * 4 + verticesLength, 1 + i * 4 + verticesLength, 2 + i * 4 + verticesLength));\r\n                        faces.push(new THREE.Face3(1 + i * 4 + verticesLength, 3 + i * 4 + verticesLength, 2 + i * 4 + verticesLength));\r\n                    }\r\n                }\r\n            }\r\n            //统计好目前已有的顶点数和面数。------------------------------------------------\r\n            verticesLength = vertices.length;\r\n\r\n\r\n            //搞清楚如果要将三维截面投影成二维的，到底是在哪个方向上投影啊--------------------\r\n            let projectDir = \"x\";\r\n\r\n            let biggestValue = Math.abs(_dir.x);\r\n            if (biggestValue < Math.abs(_dir.y)) {\r\n                biggestValue = Math.abs(_dir.y);\r\n                projectDir = \"y\";\r\n            }\r\n            if (biggestValue < Math.abs(_dir.z)) {\r\n                biggestValue = Math.abs(_dir.z);\r\n                projectDir = \"z\";\r\n            }\r\n            //对截面的两端进行封口。--------------------------------------------------------\r\n\r\n            let _sectionPointArrayStart = HGMyUtils.SplitVector3Array(_sectionPointsWithCut, projectDir);\r\n            let triangles = earcut(_sectionPointArrayStart);\r\n\r\n\r\n\r\n\r\n            //开始补起一一端的截面。-------------------------------------------------\r\n            //---------------------------------------------------------------------\r\n            //开始添加顶点数据。\r\n            for (let i = 0; i < _sectionPointsWithCut.length; i++) {\r\n                vertices.push(_sectionPointsWithCut[i]);\r\n            }\r\n            //开始添加face数据。\r\n            if (_isUpdate == false) {\r\n                for (let i = 0; i < triangles.length; i += 3) {\r\n                    if (projectDir == \"y\") {\r\n                        faces.push(new THREE.Face3(verticesLength + triangles[i], verticesLength + triangles[i + 1], verticesLength + triangles[i + 2]));\r\n                    } else {\r\n                        faces.push(new THREE.Face3(verticesLength + triangles[i], verticesLength + triangles[i + 2], verticesLength + triangles[i + 1]));\r\n                    }\r\n                }\r\n            }\r\n            //再补另外一个端的截面。------------------------------------------------\r\n            //--------------------------------------------------------------------\r\n            verticesLength = vertices.length;\r\n            //开始添加顶点数据。-----------------------------------\r\n            for (let i = 0; i < _anotherSectionPointsWithCut.length; i++) {\r\n                vertices.push(_anotherSectionPointsWithCut[i]);\r\n            }\r\n            //开始添加face数据。---------------------------------------\r\n            if (_isUpdate == false) {\r\n                for (let i = 0; i < triangles.length; i += 3) {\r\n                    if (projectDir == \"y\") {\r\n                        faces.push(new THREE.Face3(verticesLength + triangles[i], verticesLength + triangles[i + 2], verticesLength + triangles[i + 1]));\r\n                    } else {\r\n                        faces.push(new THREE.Face3(verticesLength + triangles[i], verticesLength + triangles[i + 1], verticesLength + triangles[i + 2]));\r\n                    }\r\n                }\r\n            }\r\n            verticesLength = vertices.length;\r\n\r\n\r\n        }\r\n\r\n        //开始根据DI计算UV===========================================================================\r\n        let uvScale = 650;\r\n        //为了让贴图更多变化，产生两个随机值。-----------------------\r\n        let randomX = Math.round(Math.random() * 1000);\r\n        let randomY = Math.round(Math.random() * 1000);\r\n\r\n        for (let i = 0; i < faces.length; i++) {\r\n            let _1Vertex = vertices[faces[i].a];\r\n            let _2Vertex = vertices[faces[i].b];\r\n            let _3Vertex = vertices[faces[i].c];\r\n            //横纹层板--------------------------------------------\r\n            if (this.DI == 1) {\r\n                uvs[0].push(\r\n                    [\r\n                        new THREE.Vector2((_1Vertex.z + _1Vertex.y + randomX) / uvScale * 2, (_1Vertex.x + randomY) / uvScale),\r\n                        new THREE.Vector2((_2Vertex.z + _2Vertex.y + randomX) / uvScale * 2, (_2Vertex.x + randomY) / uvScale),\r\n                        new THREE.Vector2((_3Vertex.z + _3Vertex.y + randomX) / uvScale * 2, (_3Vertex.x + randomY) / uvScale)\r\n                    ]\r\n                );\r\n            }\r\n            //横纹背板---------------------------------------------\r\n            else if (this.DI == 2) {\r\n                uvs[0].push(\r\n                    [\r\n                        new THREE.Vector2((_1Vertex.y + randomX) / uvScale * 2, (_1Vertex.x + randomY) / uvScale),\r\n                        new THREE.Vector2((_2Vertex.y + randomX) / uvScale * 2, (_2Vertex.x + randomY) / uvScale),\r\n                        new THREE.Vector2((_3Vertex.y + randomX) / uvScale * 2, (_3Vertex.x + randomY) / uvScale)\r\n                    ]\r\n                );\r\n            }\r\n            //竖纹背板---------------------------------------------\r\n            else if (this.DI == 3) {\r\n                uvs[0].push(\r\n                    [\r\n                        new THREE.Vector2((_1Vertex.x + randomX) / uvScale * 2, (_1Vertex.y + randomY) / uvScale),\r\n                        new THREE.Vector2((_2Vertex.x + randomX) / uvScale * 2, (_2Vertex.y + randomY) / uvScale),\r\n                        new THREE.Vector2((_3Vertex.x + randomX) / uvScale * 2, (_3Vertex.y + randomY) / uvScale)\r\n                    ]\r\n                );\r\n            }\r\n            //竖纹侧板----------------------------------------------\r\n            else if (this.DI == 4) {\r\n                uvs[0].push(\r\n                    [\r\n                        new THREE.Vector2((_1Vertex.z + randomX) / uvScale * 2, (_1Vertex.y + randomY) / uvScale),\r\n                        new THREE.Vector2((_2Vertex.z + randomX) / uvScale * 2, (_2Vertex.y + randomY) / uvScale),\r\n                        new THREE.Vector2((_3Vertex.z + randomX) / uvScale * 2, (_3Vertex.y + randomY) / uvScale)\r\n                    ]\r\n                );\r\n            }\r\n            //竖纹层板----------------------------------------------\r\n            else if (this.DI == 5) {\r\n                uvs[0].push(\r\n                    [\r\n                        new THREE.Vector2((_1Vertex.x + randomX) / uvScale * 2, (_1Vertex.z + randomY) / uvScale),\r\n                        new THREE.Vector2((_2Vertex.x + randomX) / uvScale * 2, (_2Vertex.z + randomY) / uvScale),\r\n                        new THREE.Vector2((_3Vertex.x + randomX) / uvScale * 2, (_3Vertex.z + randomY) / uvScale)\r\n                    ]\r\n                );\r\n            }\r\n            //横纹侧板-----------------------------------------------\r\n            else if (this.DI == 6) {\r\n                uvs[0].push(\r\n                    [\r\n                        new THREE.Vector2((_1Vertex.y + randomX) / uvScale * 2, (_1Vertex.z + randomY) / uvScale),\r\n                        new THREE.Vector2((_2Vertex.y + randomX) / uvScale * 2, (_2Vertex.z + randomY) / uvScale),\r\n                        new THREE.Vector2((_3Vertex.y + randomX) / uvScale * 2, (_3Vertex.z + randomY) / uvScale)\r\n                    ]\r\n                );\r\n            }\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n        if (_isUpdate == false) {\r\n            let geom = new THREE.Geometry();\r\n            geom.vertices = vertices;\r\n            geom.faces = faces;\r\n            geom.faceVertexUvs = uvs;\r\n            geom.computeFaceNormals();\r\n            //geom.mergeVertices();\r\n            this.mesh = new THREE.Mesh(geom);\r\n            //假如JX等于3，要对模型进行旋转处理。----------------------------\r\n            if (this.JXState.rotateByYAxis == true) {\r\n                let _modelRotation = this.x2dInputParamsValueKeyValues[0].value;\r\n                if (this.sectionPointsFormular.shapeDir == \"YZ\") {\r\n                    this.mesh.rotation.z = _modelRotation * Math.PI / 180;\r\n                }\r\n                if (this.sectionPointsFormular.shapeDir == \"XY\") {\r\n                    this.mesh.rotation.x = _modelRotation * Math.PI / 180;\r\n                }\r\n                if (this.sectionPointsFormular.shapeDir == \"XZ\") {\r\n                    this.mesh.rotation.x = _modelRotation * Math.PI / 180;\r\n                }\r\n            }\r\n            //假如JX等于4，要对模型进行旋转处理。----------------------------\r\n            if (this.JXState.rotateByXAxis == true) {\r\n                let _modelRotation = this.x2dInputParamsValueKeyValues[0].value;\r\n                if (this.sectionPointsFormular.shapeDir == \"XY\") {\r\n                    this.mesh.rotation.z = _modelRotation * Math.PI / 180;\r\n                }\r\n            }\r\n        } else {\r\n            //更新模型的顶点。----------------------------------------------------------------\r\n            for (var i = 0; i < this.mesh.geometry.vertices.length; i++) {\r\n                this.mesh.geometry.vertices[i].copy(vertices[i]);\r\n            }\r\n            this.mesh.geometry.verticesNeedUpdate = true;\r\n            //更新模型的UV。------------------------------------------------------------------\r\n            for (var i = 0; i < uvs.length; i++) {\r\n                for (var j = 0; j < uvs[i].length; j++) {\r\n                    for (var k = 0; k < this.mesh.geometry.faceVertexUvs[i][j].length; k++) {\r\n                        this.mesh.geometry.faceVertexUvs[i][j][k].copy(uvs[i][j][k]);\r\n                    }\r\n                }\r\n            }\r\n            this.mesh.geometry.uvsNeedUpdate = true;\r\n\r\n        }\r\n\r\n\r\n    }\r\n\r\n    //把x2d的L和W都求出来。-----------------------------------------------------------------------\r\n    //这里面还做了把圆弧转成点。\r\n    //做百叶床的平铺。\r\n    private CountPointsVariable(_L, _W) {\r\n\r\n        let sectionPoints = [];\r\n\r\n        for (let i = 0; i < this.sectionPointsFormular.points.length; i++) {\r\n            let thePoint: any = {};\r\n\r\n            thePoint.type = this.sectionPointsFormular.points[i].type;\r\n            thePoint.radiusString = this.sectionPointsFormular.points[i].radius;\r\n            thePoint.angle = parseInt(this.sectionPointsFormular.points[i].angle);\r\n            thePoint.startAngle = parseInt(this.sectionPointsFormular.points[i].startAngle);\r\n\r\n            thePoint.xyString = []; //所有的坐标，但是里面都是字符串的\r\n            thePoint.xy = [];          //所有的坐标，里面都是数字的。\r\n            thePoint.xyString.push(this.sectionPointsFormular.points[i].xy[0]);\r\n            thePoint.xyString.push(this.sectionPointsFormular.points[i].xy[1]);\r\n\r\n\r\n            //把里面的L和W参数都替换掉。-----------------------------------------------------------\r\n            for (let j = 0; j < thePoint.xyString.length; j++) {\r\n                thePoint.xyString[j] = HGMyUtils.ReplaceAll(thePoint.xyString[j], \"L\", _L);\r\n                thePoint.xyString[j] = HGMyUtils.ReplaceAll(thePoint.xyString[j], \"W\", _W);\r\n            }\r\n            //把半径也替换一下。-------------------------------------------------------------------\r\n            if (thePoint.type == \"Arc\") {\r\n                thePoint.radiusString = HGMyUtils.ReplaceAll(thePoint.radiusString, \"L\", _L);\r\n                thePoint.radiusString = HGMyUtils.ReplaceAll(thePoint.radiusString, \"W\", _W);\r\n            }\r\n            //使用板件的参数0，参数1，参数2，参数3等把CA CB CC CD替换掉。----------------------------\r\n            for (let j = 0; j < thePoint.xyString.length; j++) {\r\n                for (let k = 0; k < this.x2dInputParamsValueKeyValues.length; k++) {\r\n                    let index = this.x2dInputParamsValueKeyValues[k].index;\r\n                    let value = this.x2dInputParamsValueKeyValues[k].value;\r\n                    thePoint.xyString[j] = HGMyUtils.ReplaceAll(thePoint.xyString[j], \"C\" + this.Alphabet[index], value);\r\n                }\r\n            }\r\n            if (thePoint.type == \"Arc\") {\r\n                for (let k = 0; k < this.x2dInputParamsValueKeyValues.length; k++) {\r\n                    let index = this.x2dInputParamsValueKeyValues[k].index;\r\n                    let value = this.x2dInputParamsValueKeyValues[k].value;\r\n                    thePoint.radiusString = HGMyUtils.ReplaceAll(thePoint.radiusString, \"C\" + this.Alphabet[index], value);\r\n                }\r\n            }\r\n\r\n\r\n            //有一些不规范的情况，就是还有残余的CA CB CC CD CE，最后一步使用0来替换掉。----------------\r\n            for (let j = 0; j < thePoint.xyString.length; j++) {\r\n                for (let k = 0; k < this.Alphabet.length; k++) {\r\n                    thePoint.xyString[j] = HGMyUtils.ReplaceAll(thePoint.xyString[j], \"C\" + this.Alphabet[k], \"0\");\r\n                }\r\n            }\r\n            if (thePoint.type == \"Arc\") {\r\n                for (let k = 0; k < this.Alphabet.length; k++) {\r\n                    thePoint.radiusString = HGMyUtils.ReplaceAll(thePoint.radiusString, \"C\" + this.Alphabet[k], \"0\");\r\n                }\r\n            }\r\n\r\n            for (let j = 0; j < thePoint.xyString.length; j++) {\r\n                thePoint.xy.push(eval(thePoint.xyString[j]));\r\n            }\r\n            if (thePoint.type == \"Arc\") {\r\n                thePoint.radius = eval(thePoint.radiusString);\r\n            }\r\n\r\n\r\n\r\n            sectionPoints.push(thePoint);\r\n\r\n        }\r\n        //先把半径是0的圆弧去掉，因为没有任何意义。=====================================\r\n\r\n\r\n        let zeroRadiusIndex = [];\r\n        for (let i = 0; i < sectionPoints.length; i++) {\r\n            if (sectionPoints[i].type == \"Arc\") {\r\n                if (sectionPoints[i].radius == 0) {\r\n                    zeroRadiusIndex.push(i);\r\n                }\r\n            }\r\n        }\r\n\r\n        var sectionPointsWithoutZeroRadius = [];\r\n        for (let i = 0; i < sectionPoints.length; i++) {\r\n            if (zeroRadiusIndex.indexOf(i) == -1) {\r\n                sectionPointsWithoutZeroRadius.push(sectionPoints[i]);\r\n            }\r\n        }\r\n\r\n\r\n\r\n        //把重复的顶点先删除掉。======================================================\r\n        let deleteIndex = [];\r\n        for (let i = 0; i < sectionPointsWithoutZeroRadius.length; i++) {\r\n            let nextI = i + 1;\r\n            if (nextI == sectionPointsWithoutZeroRadius.length) {\r\n                nextI = 0;\r\n            }\r\n            if ((sectionPointsWithoutZeroRadius[i].xy[0] == sectionPointsWithoutZeroRadius[nextI].xy[0]) && (sectionPointsWithoutZeroRadius[i].xy[1] == sectionPointsWithoutZeroRadius[nextI].xy[1])) {\r\n\r\n                if ((sectionPointsWithoutZeroRadius[i].type == \"Point\") && (sectionPointsWithoutZeroRadius[nextI].type == \"Point\")) {\r\n                    deleteIndex.push(nextI);\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n\r\n        let newSectionPoints = [];\r\n        for (let i = 0; i < sectionPointsWithoutZeroRadius.length; i++) {\r\n            if (deleteIndex.indexOf(i) == -1) {\r\n                newSectionPoints.push(sectionPointsWithoutZeroRadius[i]);\r\n            }\r\n        }\r\n\r\n        //如果所有的点都是重叠在一起的，那么程序没必要再往下跑了，直接返回null。----------------------\r\n        if (newSectionPoints.length == 0) {\r\n            return [];\r\n        }\r\n\r\n\r\n        //开始把Arc转换成Points----------------------------------------------------\r\n        let xyPoints = [];\r\n\r\n        for (let i = 0; i < newSectionPoints.length; i++) {\r\n            if (newSectionPoints[i].type == \"Point\") {\r\n                xyPoints.push(newSectionPoints[i].xy);\r\n            } else if (newSectionPoints[i].type == \"Arc\") {\r\n                let startAngle: number = (540 - parseInt(newSectionPoints[i].startAngle)) % 360;\r\n                let startX = Math.cos(THREE.Math.degToRad(startAngle));\r\n                let startY = Math.sin(THREE.Math.degToRad(startAngle));\r\n                let rotateCenterDir = [startX, startY];\r\n                let xPos = newSectionPoints[i].xy[0];\r\n                let yPos = newSectionPoints[i].xy[1];\r\n                let radius = newSectionPoints[i].radius;\r\n                let angle = newSectionPoints[i].angle;\r\n\r\n\r\n                let rotateCenterPoint = [xPos + rotateCenterDir[0] * radius, yPos + rotateCenterDir[1] * radius];\r\n\r\n                let slice = -angle / 10;\r\n\r\n                let rotateDir = [-rotateCenterDir[0] * radius, -rotateCenterDir[1] * radius];\r\n                for (let i = 0; i <= 9; i++) {\r\n                    let oneDir = HGMyUtils.TurnDeg(rotateDir, THREE.Math.degToRad(slice * (i + 1)));\r\n                    xyPoints.push([rotateCenterPoint[0] + oneDir[0], rotateCenterPoint[1] + oneDir[1]]);\r\n\r\n                }\r\n            }\r\n        }\r\n        //顺逆时针判断方法2=============================================================================\r\n        let area = 0;\r\n\r\n        for (var i = 0; i < xyPoints.length; i++) {\r\n            let j = (i + 1) % xyPoints.length;\r\n\r\n            area += xyPoints[i][0] * xyPoints[j][1];\r\n            area -= xyPoints[j][0] * xyPoints[i][1];\r\n            // console.log(area);\r\n        }\r\n\r\n        if (area > 0) {\r\n            xyPoints.reverse();\r\n        }\r\n\r\n        //处理镜像======================================================================\r\n        if (this.JXState.verticalMirror == true) {\r\n            for (let i = 0; i < xyPoints.length; i++) {\r\n                xyPoints[i][1] = _W - xyPoints[i][1];\r\n            }\r\n        }\r\n        if (this.JXState.horizontalMirror == true) {\r\n            for (let i = 0; i < xyPoints.length; i++) {\r\n                xyPoints[i][0] = _L - xyPoints[i][0];\r\n            }\r\n        }\r\n\r\n        let newXyPoints;\r\n        //是否要做百叶窗那样的平铺效果？？\r\n        if (this.sectionPointsFormular.dj != 0) {\r\n            //百叶窗总共弄多少页？\r\n            let _howMangPage = this.plate_height / this.sectionPointsFormular.barH;\r\n            newXyPoints = this.SplitSectionPoints(xyPoints, this.sectionPointsFormular.dj, _howMangPage);\r\n\r\n        } else {\r\n            newXyPoints = [xyPoints];\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n        //把二维的顶点转换成三维的顶点。==============================================\r\n        let returnPoints = [];\r\n        for (let i = 0; i < newXyPoints.length; i++) {\r\n            let oneReturnPoints = [];\r\n            for (let j = 0; j < newXyPoints[i].length; j++) {\r\n                if (this.sectionPointsFormular.shapeDir == \"YZ\") {\r\n                    oneReturnPoints.push([0, newXyPoints[i][j][0], newXyPoints[i][j][1]]);\r\n                } else if (this.sectionPointsFormular.shapeDir == \"XY\") {\r\n                    oneReturnPoints.push([newXyPoints[i][j][0], newXyPoints[i][j][1], 0]);\r\n                } else if (this.sectionPointsFormular.shapeDir == \"XZ\") {\r\n                    oneReturnPoints.push([newXyPoints[i][j][0], 0, newXyPoints[i][j][1]]);\r\n                }\r\n\r\n            }\r\n            returnPoints.push(oneReturnPoints);\r\n        }\r\n        return returnPoints;\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    //把截面的点分割出多几份，用来做百叶窗之类的。--------------------------------------------------\r\n    //_dir代表在哪个方向上分割？\r\n    //_howMany代表分几份？\r\n    private SplitSectionPoints(_sectionPoint, _dir, _howMany) {\r\n\r\n        let sectionPointList = [];\r\n        if (_dir == 2) {\r\n            let _numFloorHeight = this.plate_height / _howMany;\r\n            for (let i = 0; i < _howMany; i++) {\r\n                let _newScectionPointList = [];\r\n                for (let j = 0; j < _sectionPoint.length; j++) {\r\n                    let _oneSectionPointY = _sectionPoint[j][1] / _howMany;\r\n                    let _newOneSectionPoint = [\r\n                        _sectionPoint[j][0],\r\n                        _numFloorHeight * i + _oneSectionPointY\r\n                    ]\r\n                    _newScectionPointList.push(_newOneSectionPoint);\r\n                }\r\n                sectionPointList.push(_newScectionPointList);\r\n            }\r\n\r\n        }\r\n        // console.log(sectionPointList);\r\n        return sectionPointList;\r\n\r\n    }\r\n}","import { HGMyUtils } from './HGMyUtils';\r\nimport { MyUtil } from '../MyUtil';\r\nimport { HGDataServer } from './HGDataServer';\r\nimport { x2dRawDatas, x2dPoint, MaterialDatas } from './HGStruct';\r\n\r\ndeclare var THREE: any;\r\n\r\nexport class HGMapResourcesPreloader {\r\n    private dataServer: HGDataServer;//服务对象\r\n    private modelWantedX2d = [];\r\n    private modelWantedMt2 = [];\r\n    private modelWanted3dlst = [];  //需要用到的模型数组文件。\r\n    public x2dDatas = [];\r\n    public _3dlstDatas = [];\r\n    //从mt2文件读取出来的所有的材质数据，加载多次map文件的材质都会在这里累加。\r\n    public materialDatas: MaterialDatas[] = [];\r\n\r\n\r\n    constructor(_dataServer: HGDataServer) {\r\n        this.dataServer = _dataServer;\r\n    }\r\n\r\n    public ClearData() {\r\n        //先把数组清空一下吧。------------------------------------------------------------\r\n        this.modelWantedX2d = [];\r\n        this.modelWantedMt2 = [];\r\n        this.modelWanted3dlst = [];\r\n    }\r\n    /**\r\n        * 查找这个map文件用到的所有的x2d文件和mt2文件，能够剔除重复项=============================================\r\n        * @param _product \r\n        * @param _x2dFiles \r\n        */\r\n    public FindX2dAndMt2Files(_product) {\r\n\r\n        //我的模块。-----------------------------------------------------------------------\r\n        let myModule = _product[\"我的模块\"];\r\n\r\n        //如果产品下没有我的模块，就拉倒算了。------------------------------------------------\r\n        if (myModule == undefined) {\r\n            return;\r\n        }\r\n        //我的模块下的产品。----------------------------------------------------------\r\n        let _myModule_Product = myModule[\"产品\"];\r\n        if (_myModule_Product != undefined) {\r\n            this.FindX2dAndMt2Files(_myModule_Product);\r\n        }\r\n        //我的模块下的模块。----------------------------------------------------------\r\n        let _myModule_Modules = myModule[\"模块\"];\r\n        if (_myModule_Modules != undefined) {\r\n            if (Array.isArray(_myModule_Modules) == false) {\r\n                _myModule_Modules = [_myModule_Modules];\r\n            }\r\n            for (let i = 0; i < _myModule_Modules.length; i++) {\r\n                //模块也有些需要被隐藏的。----------------------------------------------------\r\n                let _myModule_Modules_ShowWay = _myModule_Modules[i][\"_显示方式\"];\r\n                if (_myModule_Modules_ShowWay == 3) {\r\n                    continue;\r\n                }\r\n                //模块下的产品。\r\n                let myModule_Modules_Product = _myModule_Modules[i][\"产品\"];\r\n                if (myModule_Modules_Product != undefined) {\r\n                    this.FindX2dAndMt2Files(myModule_Modules_Product);\r\n                }\r\n            }\r\n        }\r\n\r\n        //我的模块下的板件。------------------------------------------------------------\r\n        let _myModule_Plate = myModule[\"板件\"];\r\n        if (_myModule_Plate != undefined) {\r\n            this.FindNeedFiles(_myModule_Plate);\r\n        }\r\n\r\n        //我的模块下的型材五金。-----------------------------------------------------------\r\n        let _myModule_ProfileHardware = myModule[\"型材五金\"];\r\n        if (_myModule_ProfileHardware != undefined) {\r\n            this.FindNeedFiles(_myModule_ProfileHardware);\r\n        }\r\n        //我的模块下的五金。----------------------------------------------------------------\r\n        let _myModule_Hardwares = myModule[\"五金\"];\r\n        if (_myModule_Hardwares != undefined) {\r\n            this.FindNeedFiles(_myModule_Hardwares);\r\n        }\r\n        //我的模块下的模块，有些板件标签被错误标记为了模块。----------------------------------------------------------------\r\n        let _myModule_Error_Module = myModule[\"模块\"];\r\n        if (_myModule_Error_Module != undefined) {\r\n            this.FindNeedFiles(_myModule_Error_Module);\r\n        }\r\n    }\r\n\r\n    private FindNeedFiles(_modelNodes) {\r\n        //如果读取的不是数组，则转换成数组。------------------------------------------------\r\n        if (Array.isArray(_modelNodes) == false) {\r\n            _modelNodes = [_modelNodes];\r\n        }\r\n        //遍历每个板件或型材五金或五金-------------------------------------------------------------\r\n        for (let i = 0; i < _modelNodes.length; i++) {\r\n            let _ShowWay = _modelNodes[i][\"_显示方式\"];\r\n            //如果这个模型都不用显示，那么根本不用预加载它的x2d文件和材质文件，直接跳过去好了啦。--------------------\r\n            if (_ShowWay == 3) {\r\n                continue;\r\n            }\r\n            let _Name = _modelNodes[i][\"_名称\"];\r\n            if (this.dataServer.ignorNameList.indexOf(_Name) != -1) {\r\n                continue;\r\n            }\r\n\r\n            //提取板件用到的x2d文件。-----------------------------------------------\r\n            let _baseGraph = _modelNodes[i][\"_基础图形\"];\r\n\r\n            if (_baseGraph != undefined) {\r\n                let x2dFileName = HGMyUtils.ReplaceAll(_baseGraph, \"::\", \"_\");\r\n                //保证需要的x2d文件不能重复。----------------------------------------\r\n                if (this.modelWantedX2d.indexOf(x2dFileName) == -1) {\r\n                    if (x2dFileName.trim().length != 0) {\r\n                        this.modelWantedX2d.push(x2dFileName);\r\n                    }\r\n                }\r\n            }\r\n            //提取板件的材质。-------------------------------------------------------\r\n            let _material = _modelNodes[i][\"_颜色\"];\r\n            let _decorateType = _modelNodes[i][\"_装饰类别\"];\r\n            let _x3dPath = _modelNodes[i][\"_图片路径\"];\r\n            //如果材质就填个空字符串，我就当你是undefined。\r\n            if (_material != undefined) {\r\n                if (_material.trim().length == 0) {\r\n                    _material = undefined;\r\n                }\r\n            }\r\n            //如果x3d路径不填，就是个空字符串，我也认为它是undefined\r\n            if (_x3dPath != undefined) {\r\n                if (_x3dPath.trim().length == 0) {\r\n                    _x3dPath = undefined;\r\n                }\r\n            }\r\n\r\n\r\n\r\n            //下面这几个基础图形你可以不用提取他的材质。--------------------------------------\r\n            let excludeBaseGraphp = [\"BG::NULL\", undefined]\r\n            if (excludeBaseGraphp.indexOf(_baseGraph) == -1) {\r\n                //有x3d的板件的材质后面再加载。----------------------------------------------\r\n                if (_x3dPath == undefined) {\r\n                    if (_material != undefined && _decorateType != undefined) {\r\n                        let _long_plate_Material = _decorateType + \"@#$\" + _material;\r\n                        if (this.modelWantedMt2.indexOf(_long_plate_Material) == -1) {\r\n                            this.modelWantedMt2.push(_long_plate_Material)\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            //开始提取3dlst文件。---------------------------------------------------\r\n            let _3dlstPath = _modelNodes[i][\"_图片路径\"];\r\n            if (_3dlstPath != undefined) {\r\n                let _extensionName = MyUtil.getExtensionName(_3dlstPath);\r\n                if (_extensionName == \"3dlst\") {\r\n                    if (this.modelWanted3dlst.indexOf(_3dlstPath) == -1) {\r\n                        this.modelWanted3dlst.push(_3dlstPath);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n    * 这个函数是用来加载x2d文件的。==============================================================\r\n    * @param _modelWantedX2d 这个map文件里用到的所有x2d文件，已经剔除重复的了。\r\n    * @param _onX2dsAllLoaded 所有x2d文件加载好后的回调函数。\r\n    */\r\n    public LoadX2dFiles(_onX2dsAllLoaded) {\r\n        //剔除掉不需要的x2d文件。---------------------------------------------\r\n        let unwantedX2dFiles = [\"BG_NULL\", \"BG_SPACE\", \"BG_FRAMERECT\", \"0\"];\r\n        for (let i = 0; i < unwantedX2dFiles.length; i++) {\r\n            HGMyUtils.RemoveItemInArray(this.modelWantedX2d, unwantedX2dFiles[i]);\r\n        }\r\n        //假如不需要加载任何的x2d文件，则直接调用回调函数。----------------------\r\n        if (this.modelWantedX2d.length == 0) {\r\n            _onX2dsAllLoaded();\r\n        }\r\n        //总共加载了几个x2d文件啊？--------------------------------------------\r\n        let loadedX2dCount = 0;\r\n\r\n        for (let i = 0; i < this.modelWantedX2d.length; i++) {\r\n            if (this.x2dDatas[this.modelWantedX2d[i]] == undefined) {\r\n                let _x3dFilePath = this.dataServer.commonPath.x2dPath + this.modelWantedX2d[i] + \".x2d\";\r\n                this.dataServer.loader.fileLoader_GBK.load(_x3dFilePath, (txt) => {\r\n                    let _x2djsonData = HGMyUtils.X2dParse(txt);\r\n\r\n                    let _Graph = _x2djsonData.Graph;\r\n\r\n\r\n                    let x2dData: x2dRawDatas = new x2dRawDatas();\r\n                    //先看看这个x2d有没有Param属性。\r\n                    if (_Graph._Param != undefined) {\r\n                        let _x2d_Param = HGMyUtils.ReplaceAll(_Graph._Param, \"[\\\\^]\", \"\\\"\");\r\n                        let _x2d_Param_json = JSON.parse(_x2d_Param);\r\n                        //平铺模型单个的高度。模型的总高除以这个数就是模型平铺的个数。\r\n                        let _barH: number = parseFloat(_x2d_Param_json.BarH);\r\n                        //模型的平铺方式。\r\n                        let _DJ: number = parseInt(_x2d_Param_json.DJ);\r\n                        x2dData.barH = _barH;\r\n                        x2dData.dj = _DJ;\r\n                    }\r\n\r\n                    let _PlaneXY = _Graph.PlaneXY;\r\n                    let _PointXY = _PlaneXY.Point;\r\n\r\n\r\n                    if (_PointXY != undefined) {\r\n                        for (let j = 0; j < _PointXY.length; j++) {\r\n                            let _xyX2dPoint: x2dPoint = new x2dPoint();\r\n                            //_xyX2dPoint.xyz = [_PointXY[j]._X, _PointXY[j]._Y, \"0\"];\r\n                            _xyX2dPoint.xy = [_PointXY[j]._X, _PointXY[j]._Y];\r\n                            _xyX2dPoint.type = _PointXY[j].shape;\r\n                            _xyX2dPoint.radius = _PointXY[j]._R;\r\n                            _xyX2dPoint.angle = _PointXY[j]._Angle;\r\n                            _xyX2dPoint.startAngle = _PointXY[j]._StartAngle;\r\n                            x2dData.points.push(_xyX2dPoint);\r\n                        }\r\n                        x2dData.shapeDir = \"XY\";\r\n                    }\r\n                    let _PlaneYZ = _Graph.PlaneYZ;\r\n                    let _PointYZ = _PlaneYZ.Point;\r\n\r\n                    if (_PointYZ != undefined) {\r\n                        for (let j = 0; j < _PointYZ.length; j++) {\r\n                            let _yzX2dPoint: x2dPoint = new x2dPoint();\r\n                            //_yzX2dPoint.xyz = [\"0\", _PointYZ[j]._X, _PointYZ[j]._Y];\r\n                            _yzX2dPoint.xy = [_PointYZ[j]._X, _PointYZ[j]._Y]\r\n                            _yzX2dPoint.type = _PointYZ[j].shape;\r\n                            _yzX2dPoint.radius = _PointYZ[j]._R;\r\n                            _yzX2dPoint.angle = _PointYZ[j]._Angle;\r\n                            _yzX2dPoint.startAngle = _PointYZ[j]._StartAngle;\r\n                            x2dData.points.push(_yzX2dPoint);\r\n                        }\r\n                        x2dData.shapeDir = \"YZ\";\r\n\r\n                    }\r\n                    let _PlaneXZ = _Graph.PlaneXZ;\r\n                    let _PointXZ = _PlaneXZ.Point;\r\n\r\n                    if (_PointXZ != undefined) {\r\n                        for (let j = 0; j < _PointXZ.length; j++) {\r\n                            let _xzX2dPoint: x2dPoint = new x2dPoint();\r\n\r\n                            //_xzX2dPoint.xyz = [_PointXZ[j]._X, \"0\", _PointXZ[j]._Y];\r\n                            _xzX2dPoint.xy = [_PointXZ[j]._X, _PointXZ[j]._Y];\r\n                            _xzX2dPoint.type = _PointXZ[j].shape;\r\n                            _xzX2dPoint.radius = _PointXZ[j]._R;\r\n                            _xzX2dPoint.angle = _PointXZ[j]._Angle;\r\n                            _xzX2dPoint.startAngle = _PointXZ[j]._StartAngle;\r\n                            x2dData.points.push(_xzX2dPoint);\r\n                        }\r\n                        x2dData.shapeDir = \"XZ\";\r\n                    }\r\n\r\n                    this.x2dDatas[this.modelWantedX2d[i]] = x2dData;\r\n\r\n                    // if(_modelWantedX2d[i]==\"BG_DOORRECT\"){\r\n                    //     console.log(x2dData);\r\n                    // }\r\n\r\n                    loadedX2dCount++;\r\n                    if (loadedX2dCount == this.modelWantedX2d.length) {\r\n                        _onX2dsAllLoaded();\r\n                    }\r\n                },\r\n                    null,\r\n                    //当x2d文件压根就找不到的时候。----------------------------------------------\r\n                    () => {\r\n                        console.log(\"以下x2d文件找不到:\" + _x3dFilePath);\r\n                        loadedX2dCount++;\r\n                        if (loadedX2dCount == this.modelWantedX2d.length) {\r\n                            _onX2dsAllLoaded();\r\n                        }\r\n                    }\r\n                );\r\n            }\r\n            //如果该x2d文件前面早已经加载好了，就往下面这里执行。========================================\r\n            else {\r\n\r\n                loadedX2dCount++;\r\n                if (loadedX2dCount == this.modelWantedX2d.length) {\r\n                    _onX2dsAllLoaded();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * 用来加载mt2文件的自定义函数。==============================================================\r\n     * @param _modelWantedMt2 当前map文件用到的所有mtl文件。--------------------------------\r\n     * @param _onMt2sAllLoaded 当所有的mt2文件加载好后的回调函数。----------------------------\r\n     */\r\n    public LoadMt2Files(_onMt2sAllLoaded) {\r\n        //如果需要加载的材质列表为空，那么就直接调用回调好了。\r\n        if (this.modelWantedMt2.length == 0) {\r\n            _onMt2sAllLoaded();\r\n        }\r\n        //总共加载了几个材质文件？-----------\r\n        let _loadedMaterialCount = 0;\r\n        for (let i = 0; i < this.modelWantedMt2.length; i++) {\r\n            let allDatas = this.modelWantedMt2[i].split(\"@#$\");\r\n            //装饰类型。-------------------\r\n            let _decorateType = allDatas[0];\r\n            //材质。------------------------\r\n            let _materialName = allDatas[1];\r\n            this.LoadMt2DataAndAddToList(_materialName, false, null, () => {\r\n                _loadedMaterialCount++;\r\n                if (_loadedMaterialCount == this.modelWantedMt2.length) {\r\n                    _onMt2sAllLoaded();\r\n                }\r\n            }, (_lostPath) => {\r\n                console.log(\"找不到下面这个mt2文件啊！！\" + _lostPath)\r\n                _loadedMaterialCount++;\r\n                if (_loadedMaterialCount == this.modelWantedMt2.length) {\r\n                    _onMt2sAllLoaded();\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n\r\n\r\n    /**\r\n     * 把当前模型所有需要用到的3dlst文件都先加载进来。================================\r\n     * @param _modelWanted3dlst \r\n     * @param _on3DlstAllLoaded \r\n     */\r\n    public Load3dlstFiles(_on3DlstAllLoaded) {\r\n        //假如这个文件压根不会用到3dlst文件，则直接调用回调。-------------------\r\n        if (this.modelWanted3dlst.length == 0) {\r\n            _on3DlstAllLoaded();\r\n        }\r\n        //总共加载了几个3dlst文件啊？--------------------------------------------\r\n        let loaded3dlstCount = 0;\r\n        for (let i = 0; i < this.modelWanted3dlst.length; i++) {\r\n            if (this._3dlstDatas[this.modelWanted3dlst[i]] == undefined) {\r\n                let _3dlstFilePath = this.dataServer.commonPath.basePath + this.modelWanted3dlst[i];\r\n                this.dataServer.loader.fileLoader_GBK.load(_3dlstFilePath, (txt) => {\r\n\r\n                    txt = txt.substr(0, txt.lastIndexOf(\"},\") + 1) + \"]\";\r\n                    this._3dlstDatas[this.modelWanted3dlst[i]] = JSON.parse(txt);\r\n\r\n                    loaded3dlstCount++;\r\n                    if (loaded3dlstCount == this.modelWanted3dlst.length) {\r\n                        _on3DlstAllLoaded();\r\n                    }\r\n                },\r\n                    null,\r\n                    //当x2d文件压根就找不到的时候。----------------------------------------------\r\n                    () => {\r\n                        console.log(\"以下3dlst文件找不到:\" + _3dlstFilePath);\r\n                        loaded3dlstCount++;\r\n                        if (loaded3dlstCount == this.modelWanted3dlst.length) {\r\n                            _on3DlstAllLoaded();\r\n                        }\r\n                    }\r\n                );\r\n            }\r\n            //如果该x2d文件前面早已经加载好了，就往下面这里执行。========================================\r\n            else {\r\n                loaded3dlstCount++;\r\n                if (loaded3dlstCount == this.modelWanted3dlst.length) {\r\n                    _on3DlstAllLoaded();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n    * 用来加载mt2文件用的自定义函数。============================================================\r\n    */\r\n    public LoadMt2DataAndAddToList(_materialName, _isX3d, _inModel, _OnOneMatLoaded, _OnOneMatCatFind) {\r\n        // console.log(_materialName);\r\n        //如果材质库没有这个材质的话则新鲜读取。-----------------------------------\r\n        if (this.materialDatas[_materialName] == undefined) {\r\n            //因为它材质名居然有#号，这个出现在url里就是非法的，要将其替换成%23。\r\n            let _materialPathName = HGMyUtils.ReplaceAll(_materialName, \"#\", \"%23\");\r\n            let _fullPath = this.dataServer.commonPath.mt2Path + _materialPathName + \".mt2\";\r\n            //这个是用来告诉别人丢失的路径的。\r\n            let _lostPath = this.dataServer.commonPath.mt2Path + _materialName + \".mt2\";\r\n            // console.log(_materialName);\r\n            this.dataServer.loader.fileLoader_GBK.load(_fullPath, (txt) => {\r\n                let _matJson = this.dataServer.x2js.xml_str2json(txt);\r\n                let _diffuseString = _matJson.Material.Item._Diffuse;\r\n                let _SpecularString = _matJson.Material.Item._Specular;\r\n                let _EmissionString = _matJson.Material.Item._Emission;\r\n                let _ShinessString = _matJson.Material.Item._Shiness;\r\n                let _DiffuseMapURL = _matJson.Material.Item._Image;\r\n                let _materialIni = _matJson.Material.Item._XYTexture;\r\n\r\n\r\n                let _fullDiffuseMapURL = this.dataServer.commonPath.texturePath + HGMyUtils.ReplaceAll(_DiffuseMapURL, \"[\\\\\\\\]\", \"/\");\r\n                let _diffuseMap;\r\n\r\n                if (_fullDiffuseMapURL != undefined) {\r\n                    _diffuseMap = this.dataServer.loader.textureLoader.load(_fullDiffuseMapURL);\r\n                    _diffuseMap.wrapS = THREE.RepeatWrapping;\r\n                    _diffuseMap.wrapT = THREE.RepeatWrapping;\r\n                }\r\n\r\n\r\n                let _theMat: MaterialDatas = {\r\n                    color: HGMyUtils.string2Color(_diffuseString),\r\n                    specular: HGMyUtils.string2Color(_SpecularString),\r\n                    emissive: HGMyUtils.string2Color(_EmissionString),\r\n                    shininess: parseFloat(_ShinessString),\r\n                    map: _diffuseMap,\r\n                    mapSrc: _fullDiffuseMapURL,\r\n                    isX3d: _isX3d,\r\n                    iniName: _materialIni\r\n                };\r\n                this.materialDatas[_materialName] = _theMat;\r\n                _OnOneMatLoaded(_theMat, _inModel);\r\n            },\r\n                null,\r\n                //当某个材质文件找不到的时候触发的函数。--------------------\r\n                () => {\r\n\r\n                    _OnOneMatCatFind(_lostPath, _inModel);\r\n                }\r\n            );\r\n\r\n        }\r\n        //如果是从材质库读取文件的话。----------------------------------------\r\n        else {\r\n            let _matData = this.materialDatas[_materialName];\r\n            _matData.isX3d = _isX3d;\r\n            _OnOneMatLoaded(_matData, _inModel);\r\n        }\r\n    }\r\n}","/*\r\n 作者：张建。\r\n 类说明：被类放置一些工具的静态函数，不用实例化直接调用。\r\n*/\r\ndeclare let ActiveXObject: any;\r\ndeclare var THREE: any;\r\nexport class HGMyUtils {\r\n    //把字符串里的所有指定字符替换成另外一个字符。=====================================\r\n    //_formerString要被替换的字符串。\r\n    //_beReplaceString字符串里要被替换的字符。\r\n    //_replaceString要被替换成的字符。\r\n    static ReplaceAll(_formerString: string, _beReplaceString: string, _replaceString: string): string {\r\n        if (typeof _formerString != \"string\") {\r\n            _formerString = _formerString + \"\";\r\n        }\r\n        return _formerString.replace(new RegExp(_beReplaceString, \"gm\"), _replaceString);\r\n    }\r\n\r\n    static ClampValue(_value: number, _min: number, _max: number) {\r\n        let returnValue = Math.max(_value, _min);\r\n        returnValue = Math.min(returnValue, _max);\r\n        return returnValue;\r\n    }\r\n\r\n    //在一个数组里删除特定元素的方法。\r\n    static RemoveItemInArray(array, item) {\r\n        let index = array.indexOf(item);\r\n        if (index > -1) {\r\n            array.splice(index, 1);\r\n        }\r\n    }\r\n\r\n    //获取get请求里的参数。=========================================\r\n    static GetQueryString(name) {\r\n        var reg = new RegExp(\"(^|&)\" + name + \"=([^&]*)(&|$)\");\r\n        var r = window.location.search.substr(1).match(reg);\r\n        if (r != null) {\r\n            return encodeURI(r[2]);\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    //把Vector3的数组都拆开，让它成为一个个数的一个大数组，方便做而且运算。\r\n    static SplitVector3Array(_Vector3Array, _projectDir) {\r\n\r\n\r\n        let returnArray = [];\r\n        let _wantDir = [\"x\", \"y\", \"z\"];\r\n        this.RemoveItemInArray(_wantDir, _projectDir);\r\n\r\n\r\n        for (let i = 0; i < _Vector3Array.length; i++) {\r\n            for (let j = 0; j < _wantDir.length; j++) {\r\n                returnArray.push(_Vector3Array[i][_wantDir[j]]);\r\n            }\r\n        }\r\n\r\n        return returnArray;\r\n    }\r\n\r\n    static X2dParse(_xmlTxt) {\r\n        //最终返回的对象。----------------\r\n        let returnObj: any = {};\r\n        let xmlDoc;\r\n        //正常浏览器。-------------------\r\n        if (DOMParser) {\r\n            let parser = new DOMParser();\r\n            xmlDoc = parser.parseFromString(_xmlTxt, \"text/xml\");\r\n        }\r\n        //IE垃圾浏览器。-----------------\r\n        else {\r\n            xmlDoc = new ActiveXObject(\"Microsoft.XMLDOM\");\r\n            xmlDoc.async = false;\r\n            xmlDoc.loadXML(_xmlTxt);\r\n        }\r\n        let GraphNode = xmlDoc.getElementsByTagName(\"Graph\")[0];\r\n        returnObj.Graph = {};\r\n        for (let i = 0; i < GraphNode.attributes.length; i++) {\r\n            returnObj.Graph[\"_\" + GraphNode.attributes[i].name] = GraphNode.attributes[i].value;\r\n        }\r\n        //获取PlaneXY的数据。-------------------------------------------\r\n        returnObj.Graph.PlaneXY = {};\r\n        let PlaneXY = GraphNode.getElementsByTagName(\"PlaneXY\")[0];\r\n        for (let i = 0; i < PlaneXY.attributes.length; i++) {\r\n            returnObj.Graph.PlaneXY[\"_\" + PlaneXY.attributes[i].name] = PlaneXY.attributes[i].value;\r\n        }\r\n        if (PlaneXY.children.length > 0) {\r\n            returnObj.Graph.PlaneXY.Point = [];\r\n            for (let i = 0; i < PlaneXY.children.length; i++) {\r\n                let onePoint: any = {};\r\n                for (let j = 0; j < PlaneXY.children[i].attributes.length; j++) {\r\n                    onePoint[\"_\" + PlaneXY.children[i].attributes[j].name] = PlaneXY.children[i].attributes[j].value;\r\n                }\r\n                onePoint.shape = PlaneXY.children[i].localName;\r\n                returnObj.Graph.PlaneXY.Point.push(onePoint);\r\n            }\r\n        }\r\n\r\n\r\n        //获取PlaneXZ的数据。-------------------------------------------\r\n        returnObj.Graph.PlaneXZ = {};\r\n        let PlaneXZ = GraphNode.getElementsByTagName(\"PlaneXZ\")[0];\r\n        for (let i = 0; i < PlaneXZ.attributes.length; i++) {\r\n            returnObj.Graph.PlaneXZ[\"_\" + PlaneXZ.attributes[i].name] = PlaneXZ.attributes[i].value;\r\n        }\r\n        if (PlaneXZ.children.length > 0) {\r\n            returnObj.Graph.PlaneXZ.Point = [];\r\n            for (let i = 0; i < PlaneXZ.children.length; i++) {\r\n                let onePoint: any = {};\r\n                for (let j = 0; j < PlaneXZ.children[i].attributes.length; j++) {\r\n                    onePoint[\"_\" + PlaneXZ.children[i].attributes[j].name] = PlaneXZ.children[i].attributes[j].value;\r\n                }\r\n                onePoint.shape = PlaneXZ.children[i].localName;\r\n                returnObj.Graph.PlaneXZ.Point.push(onePoint);\r\n            }\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n        //获取PlaneYZ的数据。-------------------------------------------\r\n        returnObj.Graph.PlaneYZ = {};\r\n        let PlaneYZ = GraphNode.getElementsByTagName(\"PlaneYZ\")[0];\r\n        for (let i = 0; i < PlaneYZ.attributes.length; i++) {\r\n            returnObj.Graph.PlaneYZ[\"_\" + PlaneYZ.attributes[i].name] = PlaneYZ.attributes[i].value;\r\n        }\r\n        if (PlaneYZ.children.length > 0) {\r\n            returnObj.Graph.PlaneYZ.Point = [];\r\n            for (let i = 0; i < PlaneYZ.children.length; i++) {\r\n                let onePoint: any = {};\r\n                for (let j = 0; j < PlaneYZ.children[i].attributes.length; j++) {\r\n                    onePoint[\"_\" + PlaneYZ.children[i].attributes[j].name] = PlaneYZ.children[i].attributes[j].value;\r\n                }\r\n                onePoint.shape = PlaneYZ.children[i].localName;\r\n                returnObj.Graph.PlaneYZ.Point.push(onePoint);\r\n            }\r\n        }\r\n\r\n        return returnObj;\r\n\r\n    }\r\n\r\n    //二维向量旋转一定角度后的新朝向=========================================================\r\n    static TurnDeg(_vec3, _angle) {\r\n        let _x = _vec3[0] * Math.cos(_angle) - _vec3[1] * Math.sin(_angle);\r\n        let _y = _vec3[0] * Math.sin(_angle) + _vec3[1] * Math.cos(_angle);\r\n        return [_x, _y];\r\n    }\r\n\r\n    //把颜色字符串转换成Color对象\r\n    static string2Color(_colorString) {\r\n        let _colorArray = _colorString.split(\",\");\r\n        let _r = parseInt(_colorArray[0]) / 255;\r\n        let _g = parseInt(_colorArray[1]) / 255;\r\n        let _b = parseInt(_colorArray[2]) / 255;\r\n        let _a = parseInt(_colorArray[3]) / 255;\r\n        return new THREE.Color(_r, _g, _b);\r\n    }\r\n    /**\r\n     * 返回_min(包含)和max(不包含)之间的一个整数。\r\n     * @param _min 区间的最小值。\r\n     * @param _max 区间的最大值。\r\n    */\r\n    static randomRange(_min: number, _max: number) {\r\n        let cha = _max - _min;\r\n        return Math.floor(_min + cha * Math.random());\r\n    }\r\n\r\n   \r\n    /**\r\n         * 从一个路径中获取到文件的路径。\r\n         * @param _path \r\n         */\r\n    static getPath(_path) {\r\n        let _pos = _path.lastIndexOf(\"\\\\\");\r\n        let _extename = _path.substring(0, _pos + 1);\r\n        return _extename;\r\n    }\r\n\r\n    static getFileName(_path) {\r\n        let _pos = _path.lastIndexOf(\"/\");\r\n        let _dotPos = _path.lastIndexOf(\".\");\r\n         \r\n        let _fileName = _path.substring(_pos + 1, _dotPos);\r\n        return _fileName;\r\n    }\r\n\r\n    \r\n\r\n\r\n    //带入LPH和自定义变量进行运算。==============================================\r\n    static CountLPHAndVariable(formular: string, _LPH, _params) {\r\n        if (formular == undefined) {\r\n            return 0;\r\n        }\r\n        let newKey = [];\r\n        for (let key in _params) {\r\n            newKey.push(key);\r\n        }\r\n        //保证名字长的key排在前面。---------------------------------------\r\n        newKey.sort();\r\n        newKey.reverse();\r\n\r\n        for (let i = 0; i < newKey.length; i++) {\r\n            let _beReplaceString = newKey[i].replace(\"$\", \"[\\\\$]\");\r\n            formular = HGMyUtils.ReplaceAll(formular, _beReplaceString, parseInt(_params[newKey[i]]) + \"\");\r\n\r\n        }\r\n\r\n        for (let key in _LPH) {\r\n            formular = HGMyUtils.ReplaceAll(formular, key, _LPH[key]);\r\n        }\r\n\r\n\r\n        //居然会出现-0-18的公式 。这个就是针对这些低级错误来设计的-----------------------\r\n        if (formular.substr(formular.length - 1) == \"-\") {\r\n            formular = formular.substr(0, formular.length - 1);\r\n        }\r\n        //居然还会出现++两个加号？我服了日！\r\n        formular = HGMyUtils.ReplaceAll(formular, \"\\\\+\\\\+\", \"\\+\");\r\n\r\n        //有些连公式都不写的，我就认为它要的值是0。\r\n        if (formular.trim().length == 0) {\r\n            return 0;\r\n        } else {\r\n            return eval(formular);\r\n        }\r\n    }\r\n}","/*\r\n 作者：张建。\r\n 类说明：这个是用来做shader预加载用的，并且里面存放了大量的材质。\r\n*/\r\nimport { HGDataServer } from './HGDataServer';\r\n\r\nexport class HGShaderPreloader {\r\n    private dataServer: HGDataServer;     //服务对象。\r\n    private loadCount: number = 0;         //总共加载了几个glsl脚本？\r\n    private needLoadedCount: number = 0;      //总共需要加载几个glsl脚本？\r\n    public allShaderMatDatas = [];        //所有构成shaderMaterial的素材都在这里。\r\n\r\n\r\n    constructor(_dataServer: HGDataServer) {\r\n        this.dataServer = _dataServer;\r\n    }\r\n\r\n    //开始加载shader的自定义函数。\r\n    public StartLoadShader(_onAllShaderLoaded) {\r\n        this.dataServer.loader.fileLoader.load(\"./assets/CustomShader/materialList.json\", (txt) => {\r\n            let _materialListJson = JSON.parse(txt);\r\n            this.needLoadedCount = _materialListJson.length * 2;\r\n            for (let i = 0; i < _materialListJson.length; i++) {\r\n                let _shaderName = _materialListJson[i].materialName;\r\n                if (this.allShaderMatDatas[_shaderName] == undefined) {\r\n                    this.allShaderMatDatas[_shaderName] = {};\r\n                }\r\n                this.allShaderMatDatas[_shaderName].includeIni = _materialListJson[i].includeIni;\r\n                this.allShaderMatDatas[_shaderName].detailProperties = _materialListJson[i].detailProperties;\r\n                if (this.allShaderMatDatas[_shaderName].detailProperties != undefined) {\r\n                    for (let j = 0; j < this.allShaderMatDatas[_shaderName].detailProperties.length; j++) {\r\n                        for (let k = 0; k < this.allShaderMatDatas[_shaderName].detailProperties[j].nameList.length; k++) {\r\n                            let _detailMatName = this.allShaderMatDatas[_shaderName].detailProperties[j].nameList[k];\r\n                            if (this.allShaderMatDatas[_shaderName].includeIni.indexOf(_detailMatName) == -1) {\r\n                                this.allShaderMatDatas[_shaderName].includeIni.push(_detailMatName);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n                let _shaderPath = _materialListJson[i].shaderPath;\r\n                let _vertexShader = _shaderPath + \"/vertex.glsl\";\r\n                let _fragmentShader = _shaderPath + \"/fragment.glsl\";\r\n                this.dataServer.loader.fileLoader.load(_vertexShader, (txt) => {\r\n                    this.OnGLSLTxtLoad(_shaderName, \"vertex\", txt, _onAllShaderLoaded);\r\n                });\r\n                this.dataServer.loader.fileLoader.load(_fragmentShader, (txt) => {\r\n                    this.OnGLSLTxtLoad(_shaderName, \"fragment\", txt, _onAllShaderLoaded);\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    //当顶点着色器代码或片元着色器的代码加载好了调用的函数。\r\n    private OnGLSLTxtLoad(_shaderName, _type, _glslTxt, _onAllShaderLoaded) {\r\n        this.loadCount++;\r\n\r\n        if (_type == \"fragment\") {\r\n            this.allShaderMatDatas[_shaderName].fragment = _glslTxt;\r\n        }\r\n        if (_type == \"vertex\") {\r\n            this.allShaderMatDatas[_shaderName].vertex = _glslTxt;\r\n        }\r\n        //如果加载的脚本达到了需要加载的总数，则调用回调函数代表所有的txt都加载好了。\r\n        if (this.loadCount == this.needLoadedCount) {\r\n            _onAllShaderLoaded();\r\n            // console.log(this.allShaderMatDatas);\r\n        }\r\n\r\n    }\r\n}","import { HGMyUtils } from './HGMyUtils';\r\nimport { HGLOFT } from './HGLOFT';\r\nimport { HGDataServer } from './HGDataServer';\r\nimport { MaterialDatas } from './HGStruct';\r\nimport { HGHardware } from './HGHardware';\r\nimport { HGmodelUtils } from './HGmodelUtils';\r\nimport { MyUtil } from '../MyUtil';\r\n\r\n\r\ndeclare var THREE: any;\r\n\r\nexport class HGSingleModelHandler {\r\n    private dataServer: HGDataServer;//服务对象\r\n    constructor(_dataServer: HGDataServer) {\r\n        this.dataServer = _dataServer;\r\n    }\r\n    public HandleSingleModel(_modelNode, _myModule_Model, _LPH, _3dObj) {\r\n        if (Array.isArray(_modelNode) == false) {\r\n            _modelNode = [_modelNode];\r\n        }\r\n\r\n        //遍历每个板件--------------------------------------------------------\r\n        for (let i = 0; i < _modelNode.length; i++) {\r\n            let _ShowWay = _modelNode[i][\"_显示方式\"];\r\n\r\n            //显示方式为3的时候，直接跳到下一次循环。--------------------\r\n            if (_ShowWay == 3) {\r\n                continue;\r\n            }\r\n            //获取这个板件的名称。-----------------------------------------------\r\n            let _theName = _modelNode[i][\"_名称\"];\r\n\r\n            if (this.dataServer.ignorNameList.indexOf(_theName) != -1) {\r\n                continue;\r\n            }\r\n            //获取板件的ID号。\r\n            let _GUID = _modelNode[i][\"_GUID\"];\r\n\r\n            //这个板件是否已经存在了？------------------------------------------------------------\r\n            let _hasAreadyHave = false;\r\n            //如果板件已经有了，把那个板件获取到放到这个变量里。\r\n            let _theAreadyHaveModel;\r\n            //遍历_myModule_Model的所有子物体，看看是否已经存在了这个板件。--------------------------\r\n            for (let j = 0; j < _myModule_Model.children.length; j++) {\r\n                if (_myModule_Model.children[j].userData.Frequently_used_Properties != undefined) {\r\n                    let _theID = _myModule_Model.children[j].userData.Frequently_used_Properties[\"ID号\"];\r\n                    if (_theID == _GUID) {\r\n                        _hasAreadyHave = true;\r\n                        _theAreadyHaveModel = _myModule_Model.children[j];\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            //获取参数0，参数1，参数2，参数3等。----------------------------\r\n            let x2dInputParams = [];\r\n            for (let key in _modelNode[i]) {\r\n                if (key.indexOf(\"_参数\") != -1) {\r\n                    let inputParamsValue = _modelNode[i][key];\r\n                    inputParamsValue = inputParamsValue.split(':')[1];\r\n                    let newKey = key.replace(\"_\", \"\");\r\n                    x2dInputParams[newKey] = inputParamsValue;\r\n                }\r\n            }\r\n\r\n\r\n            for (let key in x2dInputParams) {\r\n                x2dInputParams[key] = HGMyUtils.CountLPHAndVariable(x2dInputParams[key], _LPH, _3dObj.userData.params);\r\n            }\r\n\r\n\r\n            let _width = HGMyUtils.CountLPHAndVariable(_modelNode[i][\"_宽\"], _LPH, _3dObj.userData.params);\r\n            let _deep = HGMyUtils.CountLPHAndVariable(_modelNode[i][\"_深\"], _LPH, _3dObj.userData.params);\r\n            let _height = HGMyUtils.CountLPHAndVariable(_modelNode[i][\"_高\"], _LPH, _3dObj.userData.params);\r\n\r\n            //如果长宽高有一个是负数或者等于0，则这个模型不显示。------------------------------\r\n            if (_width <= 0 || _deep <= 0 || _height <= 0) {\r\n                continue;\r\n            }\r\n\r\n            // if (_GUID.indexOf(\"D04154D6\") != -1) {\r\n            //     console.log(_width);\r\n            //     console.log(_deep);\r\n            //     console.log(_height);\r\n            // }\r\n\r\n            let _the_Pos = new THREE.Vector3();\r\n            _the_Pos.x = HGMyUtils.CountLPHAndVariable(_modelNode[i][\"_X\"], _LPH, _3dObj.userData.params);\r\n            _the_Pos.y = HGMyUtils.CountLPHAndVariable(_modelNode[i][\"_Z\"], _LPH, _3dObj.userData.params);\r\n            _the_Pos.z = HGMyUtils.CountLPHAndVariable(_modelNode[i][\"_Y\"], _LPH, _3dObj.userData.params);\r\n\r\n\r\n            //假如是第一次创建这个板。------------------------------------------------------------------\r\n            //----------------------------------------------------------------------------------------\r\n            if (_hasAreadyHave == false) {\r\n\r\n\r\n\r\n                let _graph = _modelNode[i][\"_基础图形\"];\r\n                //  console.log(_graph);\r\n                let _DI = _modelNode[i][\"_DI\"];\r\n                let _the_Material = _modelNode[i][\"_颜色\"];\r\n\r\n                //_parmas就是控制模型的挤出方向，控制模型的切角。\r\n                let _parmas = _modelNode[i][\"_图形参数\"];\r\n                // console.log(_the_Material);\r\n\r\n                //把_parmas转换成json------------------------------------------\r\n                let _parmas_Obj;\r\n                if (_parmas != undefined) {\r\n                    if (_parmas.trim().length > 0) {\r\n                        _parmas = HGMyUtils.ReplaceAll(_parmas, \"[\\\\^]\", \"\\\"\");\r\n                        _parmas = HGMyUtils.ReplaceAll(_parmas, '\"Inherit\":\"1\"', '\"Inherit\":\"1\",');\r\n                        _parmas_Obj = JSON.parse(_parmas);\r\n                    }\r\n                }\r\n\r\n\r\n\r\n\r\n\r\n                //这个板件是否有x3d的模型。-------------------------------------------\r\n                let _theX3dPath = _modelNode[i][\"_图片路径\"];\r\n                if (_theX3dPath != undefined) {\r\n                    _theX3dPath = _theX3dPath.trim();\r\n                }\r\n\r\n                //板件的所有属性值构成的对象。-------------------------------------\r\n                let _modelProperties = {\r\n                    ID号: _GUID,\r\n                    名称: _theName,\r\n                    尺寸: _width + \"*\" + _deep + \"*\" + _height + \"(mm)\",\r\n                    颜色: _the_Material,\r\n                    plate_DI: _DI\r\n                }\r\n\r\n\r\n                let theModel;\r\n                //如果这个板件是没有x3d模型的话。===================================================\r\n                if (_theX3dPath == undefined || _theX3dPath.length == 0) {\r\n                    if (_graph != undefined && _graph.trim().length != 0) {\r\n                        let theModel_LOFT: HGLOFT;\r\n\r\n                        switch (_graph) {\r\n                            case \"BG::NULL\":\r\n                            case \"BG::SPACE\":\r\n                            case \"0\":\r\n                                break;\r\n                            case \"BG::RECT\":\r\n                                theModel_LOFT = new HGLOFT(this.dataServer, _width, _height, _deep, _DI, this.dataServer.mapResourcesPreloader.x2dDatas[\"BG_RECT\"], _parmas_Obj, \"BG_RECT\", x2dInputParams);\r\n                                break;\r\n                            case \"BG::FRAMERECT\":\r\n                            case \"BG_FRAMERECT\":\r\n                                theModel_LOFT = new HGLOFT(this.dataServer, _width, _height, _deep, _DI, this.dataServer.mapResourcesPreloader.x2dDatas[\"BG_RECT\"], _parmas_Obj, \"BG_RECT\", x2dInputParams);\r\n                                break;\r\n                            default:\r\n                                let _theModel_x2dFileName = HGMyUtils.ReplaceAll(_graph, \"::\", \"_\");\r\n                                if (this.dataServer.mapResourcesPreloader.x2dDatas[_theModel_x2dFileName] != undefined) {\r\n                                    theModel_LOFT = new HGLOFT(this.dataServer, _width, _height, _deep, _DI, this.dataServer.mapResourcesPreloader.x2dDatas[_theModel_x2dFileName], _parmas_Obj, _graph, x2dInputParams);\r\n                                }\r\n                        }\r\n\r\n                        if (theModel_LOFT != undefined) {\r\n                            theModel = theModel_LOFT.mesh;\r\n                            if (theModel != undefined) {\r\n                                //设置板件的材质。---------------------------------------------------\r\n                                if (_the_Material != undefined) { //有一些板件是没有 颜色 属性的，这些就不设置材质了。\r\n                                    let _the_the_Material_data: MaterialDatas = this.dataServer.mapResourcesPreloader.materialDatas[_the_Material];\r\n                                    theModel.userData.materialListName = [_the_Material];\r\n                                    theModel.userData.matrialNameList = [_the_Material];\r\n\r\n                                    this.SetModelMatByMaterialDatas(theModel, [_the_the_Material_data]);\r\n\r\n                                    // if (_the_the_Material_data != undefined) {\r\n                                    //     _modelProperties.ini = _the_the_Material_data.iniName;\r\n                                    // } else {\r\n                                    //     _modelProperties.ini = \"null\";\r\n                                    // }\r\n                                }\r\n\r\n                                //把模型的原来颜色存起来。----------------------------------------\r\n                                theModel.material.formerColor = new THREE.Color();\r\n                                theModel.material.formerColor.copy(HGmodelUtils.GetMatProperty(\"color\", theModel.material));\r\n\r\n                                //保存模型的DI值。---------------------------------------------\r\n                                if (_DI != undefined) {\r\n                                    theModel.userData.DI = parseInt(_DI);\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                //如果这个有x3d模型的话，则读取x3d模型来替换当前的模型。----------------------------\r\n                else {\r\n                    let theWireBox = new HGHardware(_width, _height, _deep, true);\r\n\r\n\r\n                    //如果是3dlst文件，则加载根据尺寸加载一个合适的模型x3d。---------------------------------------\r\n                    let _x3dPath = _theX3dPath;\r\n                    if (MyUtil.getExtensionName(_theX3dPath) == \"3dlst\") {\r\n                        let _x3dPaths = this.dataServer.mapResourcesPreloader._3dlstDatas[_theX3dPath];\r\n                        if (_x3dPaths != undefined) {\r\n                            //实在什么都不能满足，那就读第一个模型吧。\r\n                            _x3dPath = HGMyUtils.getPath(_theX3dPath) + _x3dPaths[0].FILENAME;\r\n                            for (let j = 0; j < _x3dPaths.length; j++) {\r\n                                if (_width < _x3dPaths[j].LMAX &&\r\n                                    _width >= _x3dPaths[j].LMIN &&\r\n                                    _height < _x3dPaths[j].HMAX &&\r\n                                    _height >= _x3dPaths[j].HMIN &&\r\n                                    _deep < _x3dPaths[j].DMAX &&\r\n                                    _deep >= _x3dPaths[j].DMIN\r\n                                ) {\r\n                                    _x3dPath = HGMyUtils.getPath(_theX3dPath) + _x3dPaths[j].FILENAME;\r\n                                    break;\r\n                                }\r\n                            }\r\n                        }\r\n                        //如果找不到3dlst文件，则x3d的路径也作废了。------------------------------\r\n                        else {\r\n                            _x3dPath = \"\";\r\n                        }\r\n                    }\r\n                    //有时它的路径会写一些很变态的内容，比如0，这些我都当你没有写！----------------------\r\n\r\n                    if (_x3dPath.length <= 4) {\r\n                        _x3dPath = undefined;\r\n                    }\r\n                    //如果不是存在找不到3dlst文件的这种情况下，那么开始读取x3d模型吧。------------------\r\n\r\n                    if (_x3dPath != undefined) {\r\n                        theModel = theWireBox.mesh;\r\n                        theModel.userData.isX3dFather = true;\r\n                        let modelPath = this.dataServer.commonPath.basePath + HGMyUtils.ReplaceAll(_x3dPath, \"[\\\\\\\\]\", \"/\");\r\n\r\n                        //开始读取x3d模型咯。----------------------------------------------------------\r\n                        this.dataServer.x3dLoader.Load(modelPath, theWireBox.mesh, (_parentObj, _model) => {\r\n                            //计算好模型的长宽高和最小点。-------------------\r\n                            _parentObj.add(_model);\r\n                            //标记这个模型是x3d模型。--------------------------------------------------\r\n                            _model.userData.isX3d = true;\r\n                            for (let deepI = 0; deepI < _model.children.length; deepI++) {\r\n                                _model.children[deepI].userData.isX3d = true;\r\n                            }\r\n                            //设置x3d模型的材质。---------------------------------------------------\r\n                            this.HandleX3dMaterials(_model, _the_Material);\r\n                            //设置这个模型在面板里显示的材质。\r\n                            _parentObj.userData.Frequently_used_Properties[\"颜色\"] = \"[\";\r\n                            for (let j = 0; j < _parentObj.userData.matrialNameList.length; j++) {\r\n                                let _lastWord = \",\";\r\n                                if (j == _parentObj.userData.matrialNameList.length - 1) {\r\n                                    _lastWord = \"]\";\r\n                                }\r\n                                _parentObj.userData.Frequently_used_Properties[\"颜色\"] += (_parentObj.userData.matrialNameList[j] + _lastWord);\r\n                            }\r\n                            //标记这个x3d模型的父物体是x3d的父对象。------------------------------------\r\n                            _parentObj.userData.isX3dFather = true;\r\n                            //把x3d文件缩放到跟外框一样大。---------------------------------------------\r\n                            HGmodelUtils.ResizeHarwareModel(_model, _width, _height, _deep);\r\n                        });\r\n                    }\r\n\r\n                }\r\n                //不论板件是一个长方体，还是读取x3d模型，这里都进行一些公共的设置。----------------------\r\n                if (theModel != undefined) {\r\n                    theModel.position.copy(_the_Pos);\r\n                    this.SetMeshProperties(theModel, _modelProperties);\r\n                    //为模型在树状菜单的显示提供数据。--------------------------------\r\n                    theModel.userData.menuInfo = {};\r\n                    // theModel.userData.menuInfo.tapName = \"板件\";\r\n                    if (_theName != undefined) {\r\n                        theModel.userData.menuInfo.name = _theName;\r\n                    }\r\n                     \r\n                    _myModule_Model.add(theModel);\r\n                    //建立好mesh和theModel的关系。就是用来参数化改变模型尺寸的时候用到-------------------------------\r\n                    theModel.userData.LoftObj = theModel;\r\n                }\r\n            }\r\n            else {\r\n                //在原来的基础上对模型进行更新。----------------------------------------------------------------\r\n                let _theLoftObj: HGLOFT = _theAreadyHaveModel.userData.LoftObj;\r\n                _theLoftObj.MakeModelFromWidthHeightDeep(_width, _height, _deep, true);\r\n                _theAreadyHaveModel.position.copy(_the_Pos);\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n    /**\r\n      * 根据_materialDatas设置模型材质。\r\n      * @param _mesh 要被设置材质的模型。\r\n      * @param _materialDatas 用来设置材质的从mt2文件读取出来的原始数据\r\n      */\r\n    private SetModelMatByMaterialDatas(_mesh: any, _materialDatas: MaterialDatas[]) {\r\n        let allMaterials = [];\r\n        for (let i = 0; i < _materialDatas.length; i++) {\r\n            let oneMaterial;\r\n            if (_materialDatas[i] != undefined) {\r\n                let _iniName = _materialDatas[i].iniName;\r\n\r\n\r\n\r\n                //开始一个个检测，看看这个材质是哪一类的。\r\n                let _theMaterial = \"custom\";\r\n                let _iniNameWithoutExtension = \"null\";\r\n                if (_iniName != undefined) {\r\n                    _iniNameWithoutExtension = HGMyUtils.getFileName(_iniName).trim();\r\n                    for (let key in this.dataServer.shaderPreloader.allShaderMatDatas) {\r\n                        let _iniList = this.dataServer.shaderPreloader.allShaderMatDatas[key].includeIni;\r\n                        if (_iniList.indexOf(_iniNameWithoutExtension) != -1) {\r\n                            _theMaterial = key;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                //根据模型的材质归类，给它赋予各种不同的材质。------------------\r\n                let _typeObj = {\r\n                    \"position\": { type: \"v3\" },\r\n                    \"color\": { type: \"c\" },\r\n                    \"intensity\": { type: \"f\" },\r\n                }\r\n\r\n                switch (_theMaterial) {\r\n\r\n                    case \"板材\":\r\n                        //默认值。---------------------------------------------\r\n                        let _banJianColor = _materialDatas[i].color.clone();\r\n                        let _banJianCenterReflecty = 0.0;\r\n                        let _banJianEdgeReflecty = 0.2;\r\n\r\n                        let allBanJianDetailPropeities = this.dataServer.shaderPreloader.allShaderMatDatas[\"板材\"].detailProperties;\r\n                        for (let j = 0; j < allBanJianDetailPropeities.length; j++) {\r\n                            if (allBanJianDetailPropeities[j].nameList.indexOf(_iniNameWithoutExtension) != -1) {\r\n                                _banJianCenterReflecty = allBanJianDetailPropeities[j].centerReflecty;\r\n                                _banJianEdgeReflecty = allBanJianDetailPropeities[j].edgeReflecty;\r\n                                _banJianColor = new THREE.Color(allBanJianDetailPropeities[j].color);\r\n                                break;\r\n                            }\r\n                        }\r\n                        let _uniforms_banJian = {\r\n                            color: { value: _banJianColor },\r\n                            map: { value: _materialDatas[i].map },\r\n                            cubeMap: { type: 't', value: this.dataServer.sceneObj.cubeMap },\r\n                            directionalLights: {\r\n                                type: \"sa\",\r\n                                value: this.dataServer.sceneObj.lightObjs,\r\n                                properties: _typeObj\r\n                            },\r\n                            opacity: { value: 1.0 },\r\n                            centerReflecty: { value: _banJianCenterReflecty },\r\n                            edgeReflecty: { value: _banJianEdgeReflecty }\r\n                        }\r\n                        oneMaterial = new THREE.ShaderMaterial({\r\n                            uniforms: _uniforms_banJian,\r\n                            vertexShader: this.dataServer.shaderPreloader.allShaderMatDatas[\"板材\"].vertex,\r\n                            fragmentShader: this.dataServer.shaderPreloader.allShaderMatDatas[\"板材\"].fragment\r\n                        });\r\n                        if (_materialDatas[i].map != undefined) {\r\n                            oneMaterial.defines.USE_MAP = true;\r\n                        }\r\n                        break;\r\n                    case \"玻璃\":\r\n\r\n                        //默认值。---------------------------------------------\r\n                        let _boliColor = _materialDatas[i].color.clone();\r\n                        let _boliOpacity = 0.3;\r\n                        let _boLiCenterReflecty = 0.7;\r\n                        let _boliEdgeReflecty = 1.0;\r\n\r\n                        let allBoLiDetailPropeities = this.dataServer.shaderPreloader.allShaderMatDatas[\"玻璃\"].detailProperties;\r\n                        for (let j = 0; j < allBoLiDetailPropeities.length; j++) {\r\n                            if (allBoLiDetailPropeities[j].nameList.indexOf(_iniNameWithoutExtension) != -1) {\r\n                                _boliOpacity = allBoLiDetailPropeities[j].opacity;\r\n                                _boLiCenterReflecty = allBoLiDetailPropeities[j].centerReflecty;\r\n                                _boliEdgeReflecty = allBoLiDetailPropeities[j].edgeReflecty;\r\n\r\n                                _boliColor = new THREE.Color(allBoLiDetailPropeities[j].color);\r\n                                break;\r\n                            }\r\n                        }\r\n                        let _uniforms_boLi = {\r\n                            color: { value: _boliColor },\r\n                            cubeMap: { type: 't', value: this.dataServer.sceneObj.cubeMap },\r\n                            directionalLights: {\r\n                                type: \"sa\",\r\n                                value: this.dataServer.sceneObj.lightObjs,\r\n                                properties: _typeObj\r\n                            },\r\n                            opacity: { value: _boliOpacity },\r\n                            centerReflecty: { value: _boLiCenterReflecty },\r\n                            edgeReflecty: { value: _boliEdgeReflecty }\r\n                        }\r\n                        oneMaterial = new THREE.ShaderMaterial({\r\n                            uniforms: _uniforms_boLi,\r\n                            vertexShader: this.dataServer.shaderPreloader.allShaderMatDatas[\"玻璃\"].vertex,\r\n                            fragmentShader: this.dataServer.shaderPreloader.allShaderMatDatas[\"玻璃\"].fragment,\r\n                            transparent: true,\r\n                        });\r\n                        oneMaterial.formerOpacity = 0.3;\r\n                        break;\r\n                    case \"金属\":\r\n                        //默认值。---------------------------------------------\r\n                        let _jinShuColor = _materialDatas[i].color.clone();\r\n                        let _jinShuReflectPower = 1.5;\r\n\r\n                        let allJinShuDetailPropeities = this.dataServer.shaderPreloader.allShaderMatDatas[\"金属\"].detailProperties;\r\n                        for (let j = 0; j < allJinShuDetailPropeities.length; j++) {\r\n                            if (allJinShuDetailPropeities[j].nameList.indexOf(_iniNameWithoutExtension) != -1) {\r\n                                _jinShuColor = new THREE.Color(allJinShuDetailPropeities[j].color);\r\n                                _jinShuReflectPower = allJinShuDetailPropeities[j].reflectPower;\r\n                                break;\r\n                            }\r\n                        }\r\n\r\n                        let _uniforms_jinShu = {\r\n                            color: { value: _jinShuColor },\r\n                            cubeMap: { type: 't', value: this.dataServer.sceneObj.cubeMap },\r\n                            directionalLights: {\r\n                                type: \"sa\",\r\n                                value: this.dataServer.sceneObj.lightObjs,\r\n                                properties: _typeObj\r\n                            },\r\n                            reflectPower: { value: _jinShuReflectPower },\r\n                            opacity: { value: 1.0 }\r\n                        }\r\n                        oneMaterial = new THREE.ShaderMaterial({\r\n                            uniforms: _uniforms_jinShu,\r\n                            vertexShader: this.dataServer.shaderPreloader.allShaderMatDatas[\"金属\"].vertex,\r\n                            fragmentShader: this.dataServer.shaderPreloader.allShaderMatDatas[\"金属\"].fragment\r\n                        });\r\n                        break;\r\n                    default:\r\n                        oneMaterial = new THREE.MeshPhongMaterial({\r\n                            // color: _materialDatas[i].color,\r\n                            // specular: _materialDatas[i].specular,\r\n                            // emissive: _materialDatas[i].emissive,\r\n                            // shininess: _materialDatas[i].shininess,\r\n                            map: _materialDatas[i].map\r\n                        });\r\n\r\n                }\r\n            } else {\r\n                oneMaterial = new THREE.MeshBasicMaterial({ color: 0xff00ff });\r\n\r\n            }\r\n            oneMaterial.formerColor = new THREE.Color();\r\n\r\n\r\n            oneMaterial.formerColor.copy(HGmodelUtils.GetMatProperty(\"color\", oneMaterial));\r\n            oneMaterial.materialName = _mesh.userData.materialListName[i];\r\n            allMaterials.push(oneMaterial);\r\n        }\r\n        if (allMaterials.length == 1) {\r\n            _mesh.material = allMaterials[0];\r\n        } else {\r\n            _mesh.material = allMaterials;\r\n        }\r\n    }\r\n\r\n    private HandleX3dMaterials(_x3dModel, _parentMatName) {\r\n        let _theParentObj = _x3dModel.parent;\r\n        _theParentObj.userData.matrialNameList = [];\r\n        for (let k = 0; k < _x3dModel.children.length; k++) {\r\n\r\n            _x3dModel.children[k].userData.materialListData = [];\r\n            _x3dModel.children[k].userData.loadedMats = 0;\r\n            // console.log(_parentMatName);\r\n            for (let m = 0; m < _x3dModel.children[k].userData.materialListName.length; m++) {\r\n                if (_x3dModel.children[k].userData.materialListName[m] == undefined) {\r\n                    _x3dModel.children[k].userData.materialListName[m] = _parentMatName;\r\n                    continue;\r\n                }\r\n                if (_x3dModel.children[k].userData.materialListName[m].trim().length == 0) {\r\n                    _x3dModel.children[k].userData.materialListName[m] = _parentMatName;\r\n                }\r\n\r\n\r\n            }\r\n            //x3d属性面板显示的颜色。----------------------------------------------------------------\r\n            // console.log(_x3dModel.children[k].userData.materialListName.length);\r\n\r\n            // let _matNames = \"[\"\r\n            for (let m = 0; m < _x3dModel.children[k].userData.materialListName.length; m++) {\r\n                if (_theParentObj.userData.matrialNameList.indexOf(_x3dModel.children[k].userData.materialListName[m]) == -1) {\r\n                    _theParentObj.userData.matrialNameList.push(_x3dModel.children[k].userData.materialListName[m]);\r\n                }\r\n            }\r\n            // _x3dModel.parent.userData.Frequently_used_Properties[\"颜色\"] = _matNames;\r\n\r\n            for (let m = 0; m < _x3dModel.children[k].userData.materialListName.length; m++) {\r\n                if (_x3dModel.children[k].userData.materialListName[m] != undefined) {\r\n                    this.dataServer.mapResourcesPreloader.LoadMt2DataAndAddToList(_x3dModel.children[k].userData.materialListName[m], true, _x3dModel.children[k],\r\n                        (_materialData, _theModel) => {\r\n                            _theModel.userData.loadedMats++;\r\n                            _theModel.userData.materialListData[m] = _materialData;\r\n                            if (_theModel.userData.loadedMats == _theModel.userData.materialListName.length) {\r\n                                this.SetModelMatByMaterialDatas(_theModel, _theModel.userData.materialListData);\r\n                                // console.log(_theParentObj.userData.materialListName);\r\n                            }\r\n                        },\r\n                        (_lostMatPath, _theModel) => {\r\n                            _theModel.userData.loadedMats++;\r\n                            _theModel.userData.materialListData[m] = undefined;\r\n                            if (_theModel.userData.loadedMats == _theModel.userData.materialListName.length) {\r\n                                this.SetModelMatByMaterialDatas(_theModel, _theModel.userData.materialListData);\r\n                                // console.log(_theParentObj.userData.materialListName);\r\n                            }\r\n                            console.log(\"下面这个x3d材质找不到!\" + _lostMatPath);\r\n                        })\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    //把一些属性附加到模型上的自定义函数==========================================\r\n    private SetMeshProperties(_theMesh, _allProperties) {\r\n        _theMesh.userData.Frequently_used_Properties = {}\r\n        //遍历_allProperties；\r\n        for (let key in _allProperties) {\r\n            _theMesh.userData.Frequently_used_Properties[key] = _allProperties[key];\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n}","/*\r\n 作者：张建。\r\n 类说明：这里面创建多种数据，用来做数据约束用的。你可以理解为结构体。\r\n*/\r\n \r\nexport class StructModelRawDatas {\r\n    vertices: any[];         //模型的所有顶点集合。\r\n    faces: any[];             //模型的所有Face集合。\r\n    uvs: any[]               //模型的所有uv集合。\r\n} \r\n\r\n//构造一个平面所需要的数据。\r\nexport class Plane{\r\n    centerPoint:any;   //平面经过的点。\r\n    dir:any;           //平面的方向。\r\n}\r\n\r\n//解析好的x2d的数据。\r\nexport class x2dRawDatas{\r\n    points:x2dPoint[]=[];               //x2d上的所有节点。\r\n    shapeDir:string;                    //x2d的放置方向。\r\n    // tolerantValues:any[]=[];         //这个放置x2d里的默认参数。\r\n    dj:number=0;                        //这个模型的叠加方式，0表示不叠加，1表示宽度方向叠加，2表示高度方向叠加。\r\n    barH:number=0;\r\n}\r\n\r\nexport class x2dPoint{\r\n    type:string=\"\";\r\n    xy:any[]=[];\r\n    radius:string=\"\";\r\n    angle:string=\"\";\r\n    startAngle:string=\"\";\r\n}\r\n \r\n//从徐总的mt2文件读取出来的关于材质的数据。\r\n\r\nexport class MaterialDatas{\r\n    color;\r\n    specular;\r\n    emissive;\r\n    shininess:number;\r\n    map:any;\r\n    mapSrc:string;     //漫反射贴图的url。\r\n   \r\n  \r\n    isX3d:boolean;     //这个材质是不是x3d上的？\r\n    iniName:string;\r\n}\r\n","/*\r\n 作者：张建。\r\n 类说明：用来读取衣柜模型的类。\r\n*/\r\nimport { HGDataServer } from './HGDataServer';\r\nimport { HGSingleModelHandler } from './HGSingleModelHandler';\r\nimport { HGMyUtils } from './HGMyUtils';\r\n\r\ndeclare var THREE: any;\r\n\r\n\r\nexport class HGWardrobeLoader {\r\n    private dataServer: HGDataServer;//服务对象\r\n    private checkUpdateMistake = false;   //是否要检查更新的时候没有任何多余的模型产生？\r\n\r\n    constructor(_dataServer: HGDataServer) {\r\n        this.dataServer = _dataServer;\r\n    }\r\n\r\n    //开始加载衣柜模型咯。\r\n    public Load(_url: string, callBack: (_model: any) => void, progressCallBack) {\r\n        let _rootName = HGMyUtils.getFileName(_url);\r\n        this.dataServer.loader.fileLoader_GBK.load(\r\n            _url,\r\n            //模型加载好之后触发的函数。-----------------------------------------\r\n            (txt) => {\r\n                this.Parse(txt, callBack, _rootName);\r\n            },\r\n            //模型loading的时候触发的函数。--------------------------------------\r\n            (xhr) => {\r\n                let _percentage = xhr.loaded / xhr.total;\r\n                console.log(xhr);\r\n                progressCallBack(_percentage);\r\n            })\r\n    };\r\n\r\n\r\n    //从xml的字符串里得出模型。============================================\r\n    public Parse(_xmlString, callBack, _rootTagName) {\r\n        //把json文本进行解析。 \r\n        this.dataServer.jsonData = this.dataServer.x2js.xml_str2json(_xmlString);\r\n        let _theSceneNode = this.dataServer.jsonData[\"场景\"];//场景，相当于一个大的产品;\r\n        //衣柜模型的根模型。------------------------------------\r\n        let _rootModel = new THREE.Object3D();\r\n        _rootModel.userData.menuInfo = {};\r\n        // _rootModel.userData.menuInfo.tapName = _rootTagName;\r\n        // _rootModel.userData.menuInfo.isRootModel = true;\r\n        let LPH = [];\r\n        //找到这个文档里所有用到的x2d和mt2文件。-----------------------------\r\n        this.dataServer.mapResourcesPreloader.ClearData();\r\n        this.dataServer.mapResourcesPreloader.FindX2dAndMt2Files(_theSceneNode);\r\n        //开始加载x2d文件。-----------------------------------------------------------\r\n        this.dataServer.mapResourcesPreloader.LoadX2dFiles(() => {\r\n            //x2d文件加载好后，开始加载mt2文件。----------------------------------------\r\n            this.dataServer.mapResourcesPreloader.LoadMt2Files(() => {\r\n                //mt2文件加载好了之后，开始加载3dlst文件。------------------------------\r\n                this.dataServer.mapResourcesPreloader.Load3dlstFiles(() => {\r\n                    //开始正式加载模型啦。--------------------------------------------------\r\n                    this.ProduceIterator(_theSceneNode, _rootModel, LPH);\r\n                    this.DeleteNoSonFather(_rootModel);\r\n                    //把得到的模型通过回调送出去。--------------------------------------------\r\n                    callBack(_rootModel);\r\n                })\r\n            });\r\n        });\r\n    }\r\n\r\n    private DeleteNoSonFather(_rootModel) {\r\n        let _shouldDeleteModels = [];\r\n        _rootModel.traverse((obj) => {\r\n            if (obj.isMesh != true) {\r\n                if (obj.children.length == 0) {\r\n                    _shouldDeleteModels.push(obj);\r\n                }\r\n            }\r\n        });\r\n        for (let i = 0; i < _shouldDeleteModels.length; i++) {\r\n            _shouldDeleteModels[i].parent.remove(_shouldDeleteModels[i]);\r\n        }\r\n    }\r\n\r\n    //递归法用到的迭代器。====================================================================\r\n    //======================================================================================\r\n    //第一个参数是某个json节点。\r\n    //第二个参数是这个json节点对应的3d模型。\r\n    //第三个参数是LPH值。\r\n    public ProduceIterator(_product, _3dObj, _LPH) {\r\n        //产品下的变量列表。=========================================================================\r\n        //给产品添加一个params，用来存放所有的变量。---------------------------\r\n        _3dObj.userData.params = [];\r\n        let variateList = _product[\"变量列表\"];\r\n        if (variateList.length != 0) {\r\n            //变量。--------------------------------------------------------\r\n            var variate = variateList[\"变量\"];\r\n            if (Array.isArray(variate) == false) {\r\n                variate = [variate];\r\n            }\r\n            //遍历每个变量。------------------------------------------------\r\n            for (let i = 0; i < variate.length; i++) {\r\n                let variateName = variate[i][\"_名称\"];\r\n                let variateValue = variate[i][\"_值\"];\r\n                _3dObj.userData.params[variateName] = variateValue;\r\n            }\r\n        }\r\n\r\n        //产品下的我的规格。=========================================================================\r\n        if (_LPH[\"L\"] == undefined) {\r\n            let mySpecifications = _product[\"我的规格\"];\r\n            if (mySpecifications != undefined) {\r\n                //我的规格下的 规格----------------------\r\n                let Specifications = mySpecifications[\"规格\"];\r\n                if (Array.isArray(Specifications) == false) {\r\n                    Specifications = [Specifications];\r\n                }\r\n\r\n                _LPH[\"L\"] = Specifications[0][\"_宽\"];\r\n                _LPH[\"P\"] = Specifications[0][\"_深\"];\r\n                _LPH[\"H\"] = Specifications[0][\"_高\"];\r\n            }\r\n        }\r\n\r\n\r\n\r\n        //我的模块。=========================================================================\r\n        let myModule = _product[\"我的模块\"];\r\n        //如果产品下没有我的模块，就拉倒算了。-------------------------\r\n        if (myModule == undefined) {\r\n            return;\r\n        }\r\n        //代表我的模块的3D模型。--------------------------------------\r\n        let _myModule_Model;\r\n\r\n        if (_3dObj.children.length == 0) {\r\n            _myModule_Model = new THREE.Object3D();\r\n            _myModule_Model.userData.menuInfo = {};\r\n            // _myModule_Model.userData.menuInfo.tapName = \"我的模块\";\r\n            _3dObj.add(_myModule_Model);\r\n            if (this.checkUpdateMistake == true) {\r\n                console.log(\"新建\");\r\n            }\r\n        } else {\r\n            _myModule_Model = _3dObj.children[0];\r\n            if (this.checkUpdateMistake == true) {\r\n                console.log(\"获取\");\r\n            }\r\n        }\r\n\r\n        //我的模块下的产品。-------------------------------------------------------------------\r\n        //------------------------------------------------------------------------------------\r\n        let _myModule_Product = myModule[\"产品\"];\r\n        if (_myModule_Product != undefined) {\r\n            //代表产品节点的那个模型。----------------------------------------\r\n            let _myModule_Product_Model;\r\n\r\n            if (_myModule_Model.children.length == 0) {\r\n                _myModule_Product_Model = new THREE.Object3D();\r\n                _myModule_Model.add(_myModule_Product_Model);\r\n                _myModule_Product_Model.userData.menuInfo = {};\r\n                _myModule_Product_Model.userData.menuInfo.name = _myModule_Product[\"_名称\"];\r\n                // _myModule_Product_Model.userData.menuInfo.tapName = \"产品\";\r\n                if (this.checkUpdateMistake == true) {\r\n                    console.log(\"新建\");\r\n                }\r\n\r\n            } else {\r\n                _myModule_Product_Model = _myModule_Model.children[0];\r\n                if (this.checkUpdateMistake == true) {\r\n                    console.log(\"获取\");\r\n                }\r\n            }\r\n\r\n            let _product_width = _myModule_Product[\"_宽\"];\r\n            let _product_deep = _myModule_Product[\"_深\"];\r\n            let _product_height = _myModule_Product[\"_高\"];\r\n\r\n            //计算产品的LPH值。--------------------------------------------------\r\n            let _product_LPH = [];\r\n            _product_LPH[\"L\"] = HGMyUtils.CountLPHAndVariable(_product_width, _LPH, _3dObj.userData.params);\r\n            _product_LPH[\"P\"] = HGMyUtils.CountLPHAndVariable(_product_deep, _LPH, _3dObj.userData.params);\r\n            _product_LPH[\"H\"] = HGMyUtils.CountLPHAndVariable(_product_height, _LPH, _3dObj.userData.params);\r\n            //再进行一次递归。---------------------------------------------------\r\n            this.ProduceIterator(_myModule_Product, _myModule_Product_Model, _product_LPH);\r\n\r\n        }\r\n        //我的模块下的模块。----------------------------------------------------------\r\n        let _myModule_Modules = myModule[\"模块\"];\r\n        if (_myModule_Modules != undefined) {\r\n            if (Array.isArray(_myModule_Modules) == false) {\r\n                _myModule_Modules = [_myModule_Modules];\r\n            }\r\n            // console.log(_myModule_Modules)\r\n\r\n            for (let i = 0; i < _myModule_Modules.length; i++) {\r\n                let _myModule_Modules_GUID = _myModule_Modules[i][\"_GUID\"];\r\n                let _myModule_Modules_ShowWay = _myModule_Modules[i][\"_显示方式\"];\r\n                //模块也有些需要被隐藏的。----------------------------------------------------\r\n                if (_myModule_Modules_ShowWay == 3) {\r\n                    continue;\r\n                }\r\n\r\n                //对应我的模块下的模块的那个模型。-------------------------------------------\r\n                let myModule_Modules_Model;\r\n                //上面这个模型是否已经存在了？----------------------------------------------\r\n                let _myModule_Modules_Model_hasAreadyHave = false;\r\n                for (let jjj = 0; jjj < _myModule_Model.children.length; jjj++) {\r\n                    //_myModule_Model的已有的子物体的GUI号。\r\n                    let childGUID = _myModule_Model.children[jjj].Frequently_used_Properties[\"ID号\"];\r\n                    if (childGUID == _myModule_Modules_GUID) {\r\n                        _myModule_Modules_Model_hasAreadyHave = true;\r\n                        myModule_Modules_Model = _myModule_Model.children[jjj];\r\n                        if (this.checkUpdateMistake == true) {\r\n                            console.log(\"获取\");\r\n                        }\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                //let _myModule_Modules_name = _myModule_Modules[i][\"_名称\"];\r\n                let _myModule_Modules_width = _myModule_Modules[i][\"_宽\"];\r\n                let _myModule_Modules_deep = _myModule_Modules[i][\"_深\"];\r\n                let _myModule_Modules_height = _myModule_Modules[i][\"_高\"];\r\n                let _myModule_Modules_X = _myModule_Modules[i][\"_X\"];\r\n                let _myModule_Modules_Y = _myModule_Modules[i][\"_Z\"];\r\n                let _myModule_Modules_Z = _myModule_Modules[i][\"_Y\"];\r\n\r\n                if (_myModule_Modules_Model_hasAreadyHave == false) {\r\n                    if (this.checkUpdateMistake == true) {\r\n                        console.log(\"新建\");\r\n                    }\r\n                    myModule_Modules_Model = new THREE.Object3D();\r\n                    _myModule_Model.add(myModule_Modules_Model);\r\n                    myModule_Modules_Model.userData.menuInfo = {};\r\n                    // myModule_Modules_Model.userData.menuInfo.tapName = \"模块\";\r\n                    myModule_Modules_Model.Frequently_used_Properties = {};\r\n                    myModule_Modules_Model.Frequently_used_Properties[\"ID号\"] = _myModule_Modules_GUID;\r\n                }\r\n\r\n\r\n\r\n\r\n                let _myModule_Modules_OZ = _myModule_Modules[i][\"_OZ\"];\r\n                if (_myModule_Modules_OZ != undefined) {\r\n                    myModule_Modules_Model.rotation.y = _myModule_Modules_OZ * Math.PI / 180;\r\n                }\r\n\r\n\r\n\r\n                let _myModule_Modules_Pos = new THREE.Vector3();\r\n                _myModule_Modules_Pos.x = HGMyUtils.CountLPHAndVariable(_myModule_Modules_X, _LPH, _3dObj.userData.params);\r\n                _myModule_Modules_Pos.y = HGMyUtils.CountLPHAndVariable(_myModule_Modules_Y, _LPH, _3dObj.userData.params);\r\n                _myModule_Modules_Pos.z = HGMyUtils.CountLPHAndVariable(_myModule_Modules_Z, _LPH, _3dObj.userData.params);\r\n\r\n\r\n                let _myModule_Modules_LPH = [];\r\n                _myModule_Modules_LPH[\"L\"] = HGMyUtils.CountLPHAndVariable(_myModule_Modules_width, _LPH, _3dObj.userData.params);\r\n                _myModule_Modules_LPH[\"P\"] = HGMyUtils.CountLPHAndVariable(_myModule_Modules_deep, _LPH, _3dObj.userData.params);\r\n                _myModule_Modules_LPH[\"H\"] = HGMyUtils.CountLPHAndVariable(_myModule_Modules_height, _LPH, _3dObj.userData.params);\r\n\r\n\r\n                myModule_Modules_Model.position.copy(_myModule_Modules_Pos);\r\n\r\n                if (_myModule_Modules[i][\"_名称\"] != undefined) {\r\n                    myModule_Modules_Model.userData.menuInfo.name = _myModule_Modules[i][\"_名称\"];\r\n\r\n                    if (_myModule_Modules[i][\"_子空间\"] != undefined) {\r\n                        if (_myModule_Modules[i][\"_子空间\"].trim().length != 0) {\r\n                            // console.log(_myModule_Modules[i][\"_VP\"]);\r\n                            switch (_myModule_Modules[i][\"_VP\"]) {\r\n                                case \"1\":\r\n                                    myModule_Modules_Model.rotation.x = -Math.PI / 2;\r\n                                    myModule_Modules_Model.position.z += _myModule_Modules_LPH[\"H\"];\r\n                                    break;\r\n                                case \"2\":\r\n                                    myModule_Modules_Model.rotation.y = Math.PI / 2;\r\n                                    myModule_Modules_Model.position.z += _myModule_Modules_LPH[\"L\"];\r\n                                    break;\r\n                                case \"3\":\r\n                                    myModule_Modules_Model.rotation.y = -Math.PI / 2;\r\n                                    myModule_Modules_Model.position.x += _myModule_Modules_LPH[\"L\"];\r\n                                    break;\r\n\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n\r\n                //主要用来做大模块的长宽高标注。--------------------------------------------------\r\n                let moduleSize: any = {};\r\n                moduleSize.name = _myModule_Modules[i][\"_名称\"];\r\n                moduleSize.width = _myModule_Modules_LPH[\"L\"];\r\n                moduleSize.height = _myModule_Modules_LPH[\"H\"];\r\n                moduleSize.deep = _myModule_Modules_LPH[\"P\"];\r\n                moduleSize.position = myModule_Modules_Model.position;\r\n                _myModule_Modules[i].myModuleSize = moduleSize;\r\n\r\n                //模块下的产品。----------------------------------------------------------------\r\n                let myModule_Modules_Product = _myModule_Modules[i][\"产品\"];\r\n                if (myModule_Modules_Product != undefined) {\r\n                    let _myModule_Modules_ProductModel;\r\n                    if (myModule_Modules_Model.children.length == 0) {\r\n                        if (this.checkUpdateMistake == true) {\r\n                            console.log(\"新建\");\r\n                        }\r\n                        _myModule_Modules_ProductModel = new THREE.Object3D();\r\n                        _myModule_Modules_ProductModel.userData.menuInfo = {};\r\n                        // _myModule_Modules_ProductModel.userData.menuInfo.tapName = \"产品\";\r\n                        if (myModule_Modules_Product[\"_名称\"] != undefined) {\r\n                            _myModule_Modules_ProductModel.userData.menuInfo.name = myModule_Modules_Product[\"_名称\"];\r\n                        }\r\n                        myModule_Modules_Model.add(_myModule_Modules_ProductModel);\r\n                    } else {\r\n                        if (this.checkUpdateMistake == true) {\r\n                            console.log(\"获取\");\r\n                        }\r\n                        _myModule_Modules_ProductModel = myModule_Modules_Model.children[0];\r\n                    }\r\n                    this.ProduceIterator(myModule_Modules_Product, _myModule_Modules_ProductModel, _myModule_Modules_LPH);\r\n\r\n                }\r\n            }\r\n        }\r\n\r\n        //我的模块下的板件。------------------------------------------------------------\r\n        let _myModule_Plate = myModule[\"板件\"];\r\n        if (_myModule_Plate != undefined) {\r\n            let _planeModel: HGSingleModelHandler = new HGSingleModelHandler(this.dataServer);\r\n            _planeModel.HandleSingleModel(_myModule_Plate, _myModule_Model, _LPH, _3dObj);\r\n        }\r\n\r\n        //我的模块下的型材五金。-----------------------------------------------------------\r\n        let _myModule_ProfileHardware = myModule[\"型材五金\"];\r\n        if (_myModule_ProfileHardware != undefined) {\r\n            let _ProfileHardware_Model: HGSingleModelHandler = new HGSingleModelHandler(this.dataServer);\r\n            _ProfileHardware_Model.HandleSingleModel(_myModule_ProfileHardware, _myModule_Model, _LPH, _3dObj);\r\n        }\r\n\r\n        //我的模块下的五金。-------------------------------------------------------------------\r\n        let _myModule_Hardwares = myModule[\"五金\"];\r\n        if (_myModule_Hardwares != undefined) {\r\n            let _hardwares_Model: HGSingleModelHandler = new HGSingleModelHandler(this.dataServer);\r\n            _hardwares_Model.HandleSingleModel(_myModule_Hardwares, _myModule_Model, _LPH, _3dObj);\r\n        }\r\n\r\n        //我的模块下的模块，有些板件被错误标记为模块了。-------------------------------------------------------------------\r\n        let _myModule_error_module = myModule[\"模块\"];\r\n\r\n        if (_myModule_error_module != undefined) {\r\n            let _myModule_error_Model: HGSingleModelHandler = new HGSingleModelHandler(this.dataServer);\r\n            _myModule_error_Model.HandleSingleModel(_myModule_error_module, _myModule_Model, _LPH, _3dObj);\r\n        }\r\n    }\r\n\r\n}\r\n\r\n","/*\r\n 作者：张建。\r\n 类说明：这个类是用来解析x3d模型用的。\r\n*/\r\ndeclare let THREE: any;\r\n\r\nexport class HGX3dLoader {\r\n    //第一个参数是x3d文件的路径。-------------------------------\r\n    //第二个参数是x3d模型要挂载的父对象。------------------------\r\n    //第三个参数是模型解析好的回调函数。第一个参数是前面传入的父对象，第二个参数是解析好的模型--------------------------\r\n    public Load(_url, _parentObj, _onModelLoaded) {\r\n        let request = new XMLHttpRequest();\r\n        request.open('GET', _url, true);\r\n        request.responseType = 'blob';\r\n        request.onreadystatechange = () => {\r\n            if (request.readyState == 4) {\r\n                if (request.status == 200) {\r\n                    let reader = new FileReader();\r\n                    reader.onload = () => {\r\n                        this.OnLoadModel(reader, _parentObj, _onModelLoaded);\r\n                    }\r\n                    reader.readAsArrayBuffer(request.response);\r\n                } else if (request.status == 404) {\r\n                    //如果x3d文件找不到，那放一个线框在那里代替吧。-------------\r\n                    _parentObj.material.visible=true;\r\n                    console.log(\"以下x3d文件找不到：\" + _url);\r\n                }\r\n            }\r\n        }\r\n        request.send();\r\n    }\r\n\r\n    private OnLoadModel(_this, _parentObj, _onModelLoaded) {\r\n        let fs: any = new Object();\r\n        let obj = new Object();\r\n        fs.buffer = _this.result;\r\n        fs.offset = 0;\r\n        let head = this.ReadString(fs);\r\n        if (head == 'x3d_00001' || head == 'x3d_00002') {\r\n            this.LoadFromX3D_001(fs, obj);\r\n        }\r\n        if (head == 'x3d_00003') {\r\n            this.LoadFromX3D_003(fs, obj);\r\n        }\r\n        let returnModel = this.HandleModel(obj)\r\n        _onModelLoaded(_parentObj, returnModel);\r\n    }\r\n\r\n    private HandleModel(_modelJson) {\r\n        let meshlist = _modelJson.meshlist;\r\n        let returnModel: any = new THREE.Object3D();\r\n        \r\n        for (let i = 0; i < meshlist.length; i++) {\r\n            let vertexlist = meshlist[i].vertexlist;\r\n            let facegrouplist = meshlist[i].facegrouplist;\r\n            if (facegrouplist.length == 0) {\r\n                continue;\r\n            }\r\n            let vertexOfficialList = [];\r\n            let vertexNormalPoolList = [];\r\n            let vertexUVPoolList = [];\r\n            for (let j = 0; j < vertexlist.length; j++) {\r\n                vertexOfficialList.push(\r\n                    new THREE.Vector3(vertexlist[j].v_0, vertexlist[j].v_1, vertexlist[j].v_2)\r\n                );\r\n                vertexNormalPoolList.push(\r\n                    new THREE.Vector3(vertexlist[j].n_0, vertexlist[j].n_1, vertexlist[j].n_2)\r\n                )\r\n                vertexUVPoolList.push(\r\n                    new THREE.Vector2(vertexlist[j].t_0, vertexlist[j].t_1)\r\n                )\r\n            }\r\n            let facesOfficiaList = [];\r\n            let uvOfficalList = [[]];\r\n            let _materialListName=[];     //这个模型多维子对象材质的材质名字列表。\r\n            for (let j = 0; j < facegrouplist.length; j++) {\r\n                let indexlist = facegrouplist[j].indexlist;\r\n                let _materialName= facegrouplist[j].mMatName;\r\n                _materialListName.push(_materialName);\r\n                \r\n                for (let k = 0; k < indexlist.length; k += 3) {\r\n                    let theFace3 = new THREE.Face3(indexlist[k].vi, indexlist[k + 1].vi, indexlist[k + 2].vi);\r\n                    theFace3.vertexNormals.push(vertexNormalPoolList[indexlist[k].ni]);\r\n                    theFace3.vertexNormals.push(vertexNormalPoolList[indexlist[k + 1].ni]);\r\n                    theFace3.vertexNormals.push(vertexNormalPoolList[indexlist[k + 2].ni]);\r\n                    theFace3.materialIndex=j;\r\n                    uvOfficalList[0].push([\r\n                        vertexUVPoolList[indexlist[k].ti],\r\n                        vertexUVPoolList[indexlist[k + 1].ti],\r\n                        vertexUVPoolList[indexlist[k + 2].ti]\r\n                    ])\r\n                    facesOfficiaList.push(theFace3);\r\n                }\r\n            }\r\n\r\n            if (facesOfficiaList.length == 0) {\r\n                continue;\r\n            }\r\n            let geom = new THREE.Geometry();\r\n            geom.vertices = vertexOfficialList;\r\n            geom.faces = facesOfficiaList;\r\n            geom.faceVertexUvs = uvOfficalList;\r\n            geom.mergeVertices();\r\n            geom.computeBoundingBox();\r\n            let sceneMesh = new THREE.Mesh(geom, new THREE.MeshPhongMaterial({ color: new THREE.Color(0.5, 0.5, 0.5) }));\r\n            sceneMesh.userData.materialListName=_materialListName;\r\n             \r\n            returnModel.add(sceneMesh);\r\n        }\r\n        let box3_1 = new THREE.Box3();\r\n        box3_1.expandByObject(returnModel);\r\n        let _modelSize = new THREE.Vector3();\r\n        box3_1.getSize(_modelSize);\r\n        \r\n        //把模型的长宽高信息先存进去。-----------------------------------\r\n        returnModel.userData.x3dsize = {};\r\n        returnModel.userData.x3dsize.width = _modelSize.x;\r\n        returnModel.userData.x3dsize.deep = _modelSize.z;\r\n        returnModel.userData.x3dsize.height = _modelSize.y;\r\n        returnModel.userData.x3dsize.min = box3_1.min;\r\n\r\n        //把模型放置成对齐box的min值。-----------------------------------\r\n        for(let i=0;i<returnModel.children.length;i++){\r\n            returnModel.children[i].position.x-=box3_1.min.x;\r\n            returnModel.children[i].position.y-=box3_1.min.y;\r\n            returnModel.children[i].position.z-=box3_1.min.z;\r\n        }\r\n\r\n        return returnModel;\r\n\r\n\r\n    }\r\n\r\n    private ReadString(fs) {\r\n        let dv = new DataView(fs.buffer);\r\n        let slen = 0;\r\n        let valuetype = dv.getInt8(fs.offset);\r\n        fs.offset = fs.offset + 1;\r\n        if (valuetype == 18)\t//带中文的宽字符\r\n        {\r\n            slen = dv.getInt32(fs.offset, true);\r\n            slen = slen * 2;\r\n            fs.offset = fs.offset + 4;\r\n        } else if (valuetype == 20)\t//UTF8中文\r\n        {\r\n            slen = dv.getInt32(fs.offset, true);\r\n            fs.offset = fs.offset + 4;\r\n        } else if (valuetype == 6)\t//短文本\r\n        {\r\n            slen = dv.getInt8(fs.offset);\r\n            fs.offset = fs.offset + 1;\r\n        } else if (valuetype == 12)\t//长文本\r\n        {\r\n            slen = dv.getInt32(fs.offset, true);\r\n            fs.offset = fs.offset + 4;\r\n        } else {\r\n            return \"\";\r\n        }\r\n        let charArray = new Uint8Array(fs.buffer, fs.offset, slen);\r\n        let text = \"\";\r\n        if (valuetype == 20)\t//UTF解码\r\n        {\r\n            let encoded = \"\";\r\n            for (let i = 0; i < slen; i++) {\r\n                encoded += '%' + charArray[i].toString(16);\r\n            }\r\n            text = decodeURIComponent(encoded);\r\n        } else {\r\n            for (let i = 0; i < slen; i++) {\r\n                text += String.fromCharCode(charArray[0 + i]);\r\n            }\r\n        }\r\n        fs.offset = fs.offset + slen;\r\n        return text;\r\n    }\r\n\r\n\r\n    private LoadFromX3D_001(fs, obj) {\r\n        obj.l = this.ReadInteger(fs);\r\n        obj.d = this.ReadInteger(fs);\r\n        obj.h = this.ReadInteger(fs);\r\n\r\n        obj.min_0 = this.ReadSingle(fs);\r\n        obj.min_1 = this.ReadSingle(fs);\r\n        obj.min_2 = this.ReadSingle(fs);\r\n\r\n        obj.max_0 = this.ReadSingle(fs);\r\n        obj.max_1 = this.ReadSingle(fs);\r\n        obj.max_2 = this.ReadSingle(fs);\r\n\r\n        let ci = this.ReadInteger(fs);\r\n        obj.ci = ci;\r\n        obj.meshlist = new Array(ci);\r\n        for (let i = 0; i < ci; i++)\t//mesh\r\n        {\r\n            let mesh: any = new Object();\r\n            obj.meshlist[i] = mesh;\r\n            mesh.t = this.ReadInteger(fs); \t//三角形模式：momTriangles, momTriangleStrip, momFaceGroups\r\n\r\n            let j = 0;\r\n\r\n            //顶点坐标\r\n            let cj = this.ReadInteger(fs);\r\n            mesh.vertexcount = cj;\r\n            mesh.vertexlist = new Array(cj);\r\n            for (j = 0; j < cj; j++) {\r\n                let vertex: any = new Object();\r\n                mesh.vertexlist[j] = vertex;\r\n                //法线方向\r\n                vertex.n_0 = this.ReadSingle(fs);\r\n                vertex.n_1 = this.ReadSingle(fs);\r\n                vertex.n_2 = this.ReadSingle(fs);\r\n\r\n                //坐标点\r\n                vertex.v_0 = this.ReadSingle(fs);\r\n                vertex.v_1 = this.ReadSingle(fs);\r\n                vertex.v_2 = this.ReadSingle(fs);\r\n\r\n                //UV坐标\r\n                vertex.t_0 = this.ReadSingle(fs);\r\n                vertex.t_1 = this.ReadSingle(fs);\r\n                vertex.t_2 = this.ReadSingle(fs);\r\n            }\r\n\r\n            //三角形面组\r\n            cj = this.ReadInteger(fs);\r\n            mesh.facegroupcount = cj;\r\n            mesh.facegrouplist = new Array(cj);\r\n            for (j = 0; j < cj; j++) {\r\n                let facegroup: any = new Object();\r\n                mesh.facegrouplist[j] = facegroup;\r\n                facegroup.mode = this.ReadInteger(fs);\t//fgmmTriangles, fgmmTriangleStrip, fgmmFlatTriangles, fgmmTriangleFan, fgmmQuads\r\n                facegroup.mTextureDialog = this.ReadString(fs);\r\n                facegroup.mMatMat = this.ReadString(fs);\r\n                facegroup.mMatName = this.ReadString(fs);\r\n\r\n                let ck = this.ReadInteger(fs);\r\n                facegroup.indexcount = ck;\r\n                facegroup.indexlist = new Array(ck);\t//三角形索引\r\n                for (let k = 0; k < ck; k++) {\r\n                    let index: any = new Object();\r\n                    facegroup.indexlist[k] = index;\r\n                    index.vi = this.ReadInteger(fs);\r\n                    index.ni = this.ReadInteger(fs);\r\n                    index.ti = this.ReadInteger(fs);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private ReadSingle(fs) {\r\n        let dv = new DataView(fs.buffer);\r\n        let valuetype = dv.getInt8(fs.offset);\r\n        fs.offset = fs.offset + 1;\r\n        let value = 0;\r\n        if (valuetype == 15)\t//单精度浮点类型\r\n        {\r\n            value = dv.getFloat32(fs.offset, true);\r\n            fs.offset = fs.offset + 4;\r\n        } else {\r\n            return 0;\r\n        }\r\n        return value;\r\n    }\r\n\r\n    private ReadInteger(fs) {\r\n        let dv = new DataView(fs.buffer);\r\n        let valuetype = dv.getInt8(fs.offset);\r\n        fs.offset = fs.offset + 1;\r\n        let value = 0;\r\n        if (valuetype == 2)\t//byte类型\r\n        {\r\n            value = dv.getInt8(fs.offset);\r\n            fs.offset = fs.offset + 1;\r\n        } else if (valuetype == 3)\t//short类型\r\n        {\r\n            value = dv.getInt16(fs.offset, true);\r\n            fs.offset = fs.offset + 2;\r\n        } else if (valuetype == 4)\t//int类型\r\n        {\r\n            value = dv.getInt32(fs.offset, true);\r\n            fs.offset = fs.offset + 4;\r\n        } else {\r\n            return 0;\r\n        }\r\n        return value;\r\n    }\r\n\r\n    private LoadFromX3D_003(fs, obj) {\r\n        obj.l = this.ReadInteger(fs);\r\n        obj.d = this.ReadInteger(fs);\r\n        obj.h = this.ReadInteger(fs);\r\n\r\n        obj.min_0 = this.ReadSingle(fs);\r\n        obj.min_1 = this.ReadSingle(fs);\r\n        obj.min_2 = this.ReadSingle(fs);\r\n\r\n        obj.max_0 = this.ReadSingle(fs);\r\n        obj.max_1 = this.ReadSingle(fs);\r\n        obj.max_2 = this.ReadSingle(fs);\r\n\r\n        let ci = this.ReadInteger(fs);\r\n        obj.ci = ci;\r\n        obj.meshlist = new Array(ci);\r\n        for (let i = 0; i < ci; i++)\t//mesh\r\n        {\r\n            let mesh: any = new Object();\r\n            obj.meshlist[i] = mesh;\r\n            mesh.t = this.ReadInteger(fs); \t//三角形模式：momTriangles, momTriangleStrip, momFaceGroups\r\n\r\n            let j = 0;\r\n\r\n            //顶点坐标\r\n            let cj = this.ReadInteger(fs);\r\n            mesh.vertexcount = cj;\r\n            mesh.vertexlist = new Array(cj);\r\n            for (j = 0; j < cj; j++) {\r\n                let vertex: any = new Object();\r\n                mesh.vertexlist[j] = vertex;\r\n                //法线方向\r\n                vertex.n_0 = this.ReadSingle(fs);\r\n                vertex.n_1 = this.ReadSingle(fs);\r\n                vertex.n_2 = this.ReadSingle(fs);\r\n\r\n                //坐标点\r\n                vertex.v_0 = this.ReadSingle(fs);\r\n                vertex.v_1 = this.ReadSingle(fs);\r\n                vertex.v_2 = this.ReadSingle(fs);\r\n\r\n                //UV坐标\r\n                vertex.t_0 = this.ReadSingle(fs);\r\n                vertex.t_1 = this.ReadSingle(fs);\r\n                vertex.t_2 = this.ReadSingle(fs);\r\n            }\r\n\r\n            //三角形面组\r\n            cj = this.ReadInteger(fs);\r\n            mesh.facegroupcount = cj;\r\n            mesh.facegrouplist = new Array(cj);\r\n            for (j = 0; j < cj; j++) {\r\n                let facegroup: any = new Object();\r\n                mesh.facegrouplist[j] = facegroup;\r\n                facegroup.mode = this.ReadInteger(fs);\t//fgmmTriangles, fgmmTriangleStrip, fgmmFlatTriangles, fgmmTriangleFan, fgmmQuads\r\n                facegroup.mTextureDialog = this.ReadString(fs);\r\n                facegroup.mMatMat = this.ReadString(fs);\r\n                facegroup.mMatName = this.ReadString(fs);\r\n                facegroup.sx = this.ReadString(fs);\r\n                facegroup.sy = this.ReadString(fs);\r\n                facegroup.sz = this.ReadString(fs);\r\n                facegroup.sl = this.ReadString(fs);\r\n                facegroup.sd = this.ReadString(fs);\r\n                facegroup.sh = this.ReadString(fs);\r\n\r\n                let ck = this.ReadInteger(fs);\r\n                facegroup.indexcount = ck;\r\n                facegroup.indexlist = new Array(ck);\t//三角形索引\r\n                for (let k = 0; k < ck; k++) {\r\n                    let index: any = new Object();\r\n                    facegroup.indexlist[k] = index;\r\n                    index.vi = this.ReadInteger(fs);\r\n                    index.ni = this.ReadInteger(fs);\r\n                    index.ti = this.ReadInteger(fs);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}","/*\r\n 作者：张建。\r\n 类说明：建模用到的静态类\r\n*/\r\n\r\nimport { StructModelRawDatas, Plane } from './HGStruct'\r\nimport { visitAstChildren } from '@angular/compiler';\r\ndeclare var THREE: any;\r\n\r\nexport class HGmodelUtils {\r\n    //从四个顶点构建一个面。===========================================\r\n    //_textureVertical代表贴图是否垂直放置？\r\n    static MakeFaceFrom4Points(_modelRawDatas: StructModelRawDatas, _fourPointsArray: any[], _textureVertical: boolean) {\r\n        //根据三个点的坐标，计算出法线方向。-------------------------------\r\n        let dir01 = new THREE.Vector3(\r\n            _fourPointsArray[1][0] - _fourPointsArray[0][0],\r\n            _fourPointsArray[1][1] - _fourPointsArray[0][1],\r\n            _fourPointsArray[1][2] - _fourPointsArray[0][2],\r\n        );\r\n        let dir02 = new THREE.Vector3(\r\n            _fourPointsArray[2][0] - _fourPointsArray[0][0],\r\n            _fourPointsArray[2][1] - _fourPointsArray[0][1],\r\n            _fourPointsArray[2][2] - _fourPointsArray[0][2],\r\n        );\r\n        var normalDir = new THREE.Vector3();\r\n        normalDir.crossVectors(dir01, dir02).normalize();\r\n\r\n\r\n        //原来的数组里已经有了几个点啊？----------------------------------\r\n        let formerPointLength = _modelRawDatas.vertices.length;\r\n        //先把四个点转换成three.js里的对象。再放在modelRawDatas里。\r\n        for (let i = 0; i < _fourPointsArray.length; i++) {\r\n            let onePoint = new THREE.Vector3(\r\n                _fourPointsArray[i][0],\r\n                _fourPointsArray[i][1],\r\n                _fourPointsArray[i][2]\r\n            )\r\n            _modelRawDatas.vertices.push(onePoint);\r\n        }\r\n        //开始把face信息放进去。===================================\r\n        //第一个face--------------\r\n        let face101 = new THREE.Face3(formerPointLength, formerPointLength + 1, formerPointLength + 2);\r\n        //第二个face--------------\r\n        let face102 = new THREE.Face3(formerPointLength, formerPointLength + 2, formerPointLength + 3);\r\n        _modelRawDatas.faces.push(face101);\r\n        _modelRawDatas.faces.push(face102);\r\n\r\n\r\n        let u = 2;\r\n        let v = 0;\r\n        if (Math.abs(normalDir.x) > 0.8) {\r\n            u = 1;\r\n            v = 2;\r\n        }\r\n        if (Math.abs(normalDir.z) > 0.8) {\r\n            u = 1;\r\n            v = 0;\r\n        }\r\n        if (_textureVertical == true) {\r\n            let tempValue = u;\r\n            u = v;\r\n            v = tempValue;\r\n        }\r\n\r\n        _modelRawDatas.uvs[0].push([\r\n            new THREE.Vector2(_fourPointsArray[0][u] / 400, _fourPointsArray[0][v] / 800),\r\n            new THREE.Vector2(_fourPointsArray[1][u] / 400, _fourPointsArray[1][v] / 800),\r\n            new THREE.Vector2(_fourPointsArray[2][u] / 400, _fourPointsArray[2][v] / 800),\r\n        ])\r\n\r\n        _modelRawDatas.uvs[0].push([\r\n            new THREE.Vector2(_fourPointsArray[0][u] / 400, _fourPointsArray[0][v] / 800),\r\n            new THREE.Vector2(_fourPointsArray[2][u] / 400, _fourPointsArray[2][v] / 800),\r\n            new THREE.Vector2(_fourPointsArray[3][u] / 400, _fourPointsArray[3][v] / 800),\r\n        ])\r\n    }\r\n\r\n\r\n    //从StructModelRawDatas构建一个Geometry出来。============================\r\n    static MakeGeometryFromRawData(_rawData: StructModelRawDatas) {\r\n        let returnGeometry = new THREE.Geometry();\r\n        returnGeometry.vertices = _rawData.vertices;\r\n        returnGeometry.faces = _rawData.faces;\r\n        returnGeometry.faceVertexUvs = _rawData.uvs;\r\n        returnGeometry.computeFaceNormals();\r\n        returnGeometry.mergeVertices();\r\n\r\n        return returnGeometry;\r\n    }\r\n\r\n    //获取模型中心点的自定义函数=================================================\r\n    //_properties是一个数组，代表要获取的数据。可以写 center max min\r\n    static GetModelCenter(_model, _properties) {\r\n        var box = new THREE.Box3();\r\n        box.expandByObject(_model);\r\n        //let _centerPoint = new THREE.Vector3((box.max.x + box.min.x) / 2, (box.max.y + box.min.y) / 2, (box.max.z + box.min.z) / 2);\r\n        let _centerPoint = new THREE.Vector3();\r\n        box.getCenter(_centerPoint);\r\n        let returnObj: any = {};\r\n        if (_properties.indexOf(\"center\") != -1) {\r\n            returnObj.center = _centerPoint;\r\n        }\r\n        if (_properties.indexOf(\"max\") != -1) {\r\n            returnObj.max = box.max;\r\n        }\r\n        if (_properties.indexOf(\"min\") != -1) {\r\n            returnObj.min = box.min;\r\n        }\r\n        if (_properties.indexOf(\"size\") != -1) {\r\n            let _modelSize = new THREE.Vector3();\r\n            box.getSize(_modelSize);\r\n            returnObj.size = _modelSize;\r\n        }\r\n        return returnObj;\r\n    }\r\n\r\n    //计算一个放样模型被一个大平面截面后的模型========================================\r\n    //第一个参数代表一个平面。\r\n    //第二个参数代表放样模型的一圈点。\r\n    //第三个参数代表放样模型的另外一圈点。\r\n    static CutLoftModel(_bigPlane: Plane, _profilePosArray, _profilePosArray2) {\r\n        //this.ExtenseLine(_profilePosArray[0],_profilePosArray2[0],2) ;\r\n        let cutPlane = new THREE.Plane();\r\n\r\n        cutPlane.setFromNormalAndCoplanarPoint(_bigPlane.dir, _bigPlane.centerPoint);\r\n\r\n        let intersectPoints = [];\r\n        for (let i = 0; i < _profilePosArray.length; i++) {\r\n            let oneIntersectPoints = [];\r\n            for (let j = 0; j < _profilePosArray[i].length; j++) {\r\n                let line3 = new THREE.Line3(\r\n                    this.ExtenseLine(_profilePosArray[i][j], _profilePosArray2[i][j], 2),\r\n                    this.ExtenseLine(_profilePosArray2[i][j], _profilePosArray[i][j], 2)\r\n                );\r\n                let intersectPoint = new THREE.Vector3();\r\n                cutPlane.intersectLine(line3, intersectPoint);\r\n                oneIntersectPoints.push(intersectPoint);\r\n            }\r\n            intersectPoints.push(oneIntersectPoints);\r\n        }\r\n        //返回的是一个二维的数组。\r\n        return intersectPoints;\r\n    }\r\n    //让模型充满一个正方体框。本函数在本项目里是为了让五金件充满整个正方体框的。\r\n\r\n    static ResizeHarwareModel(_model, _boxWidth, _boxHeight, _boxDepth) {\r\n        _model.scale.x = _boxWidth / _model.userData.x3dsize.width;\r\n        _model.scale.y = _boxHeight / _model.userData.x3dsize.height;\r\n        _model.scale.z = _boxDepth / _model.userData.x3dsize.deep;\r\n    }\r\n\r\n    //把一个线段延长的自定义函数========================================================\r\n    //第一个参数是被延长的点。\r\n    //第二的参数是基于这个点来延长第一个参数。\r\n    //第三个参数是延长的倍数。\r\n    static ExtenseLine(_beExtensePoint, _extenseBaePoint, _extenseTimes) {\r\n        let dir = _beExtensePoint.clone().sub(_extenseBaePoint);\r\n        dir.multiplyScalar(_extenseTimes);\r\n        return _extenseBaePoint.clone().add(dir);\r\n    }\r\n\r\n     \r\n\r\n\r\n    //做兼容，获取材质的color某个属性值的。\r\n    static GetMatProperty(_propertyName, _mat) {\r\n        if (_mat.uniforms == undefined) {\r\n            return _mat[_propertyName];\r\n        } else {\r\n            return _mat.uniforms[_propertyName].value;\r\n        }\r\n    }\r\n\r\n    //做兼容，用来设置材质的某个属性值的。\r\n    static SetMatProperty(_propertyName, _mat, _value) {\r\n        if (_mat.uniforms == undefined) {\r\n            _mat[_propertyName] = _value;\r\n\r\n        } else {\r\n            if (_mat.uniforms[_propertyName] != undefined) {\r\n                _mat.uniforms[_propertyName].value = _value;\r\n            }\r\n        }\r\n    }\r\n}","/*\r\n 作者：张建。\r\n 类说明：这个用来做移动旋转模型工具用的。\r\n*/\r\nimport { THREEDataServer } from \"./THREEDataServer\";\r\nimport { EventData, TransformMode, MoveAxis, AxisType, ModelType } from './dataStruct';\r\nimport { MyUtil } from './MyUtil';\r\nimport { JdesignDataService } from '../../services/jdesign-data.service';\r\n\r\n\r\ndeclare var THREE: any;\r\n\r\nexport class ModelTransformer {\r\n    private dataServer: THREEDataServer;\r\n    private modelFather: any = null;\r\n    private rotateLineVisible: any = null;                              //用来做旋转的显示出来的那个圈，仅仅用来做显示。\r\n    private rotateLineCollider: any = null;                             //用来做旋转工具的碰撞线，仅仅用来做碰撞，不可见的。\r\n\r\n\r\n\r\n    //垂直水平移动的那三条杆子。----------------------------------\r\n    private moveAixs: MoveAxis[] = [];\r\n    private colliderAxis = [];                                           //所有跟射线碰撞的操纵轴。\r\n\r\n\r\n    private jDataServer: JdesignDataService;\r\n    public mouseDownHitModel: any = null;                               //鼠标按下的时候被击中的模型。\r\n    private transformMode: TransformMode = TransformMode.none;          //当前移动旋转工具所处的状态。\r\n\r\n    private horzontalPlane: any = null;                                 //做旋转碰撞的时候使用到的超级大平面。\r\n    private verticalPlane; any = null;                                  //做垂直移动的时候用到的大平面。\r\n    // private leftMouseIsDown: boolean = false;\r\n    private beControlObj = null;                                        //当前被控制的模型。                      \r\n\r\n    private enabled: boolean = false;                                   //这个移动旋转工具是否启用。\r\n\r\n    private ability = {\r\n        rotatable: false,                                                 //这个移动旋转工具的旋转是否可用？\r\n        axisMovable: [],                                                   //这个移动旋转工具在各个方向上是否可以随意移动。\r\n    }\r\n    private allPos = {\r\n        rotateMouseDownVector3: null,                                   //旋转时候从旋转中心指向单击点的向量。\r\n        rotateMouseDownRadian: 0.0,                                     //旋转工具按下去的时候的模型的旋转值。\r\n        rotateMouseDownScreenPos: null,                                 //旋转工具按下去的时候在屏幕上单击的位置。\r\n    }\r\n\r\n\r\n\r\n    private allColors = {\r\n        normalColor: new THREE.Color(0x0000ff),                         //正常状态下的移动旋转工具的颜色。\r\n        activeColor: new THREE.Color(0xffffff),                         //被激活的移动旋转工具的颜色。\r\n        disabledColor: new THREE.Color(0x999999)                        //取消激活的移动旋转工具的颜色。\r\n    }\r\n\r\n    constructor(_dataServer: THREEDataServer, private _jDataServer: JdesignDataService) {\r\n        this.dataServer = _dataServer;\r\n        this.jDataServer = _jDataServer;\r\n\r\n        //为在屏幕操作摄像机开始绑定事件。------------------------------------------------------\r\n        //-----------------------------------------------------------------------------------\r\n        let mousedownEvent: EventData = MyUtil.MakeMouseEvent(this.OnMouseDown, this);\r\n        this.dataServer.classesObj.canvasEventMaster.mouseDownEvents.push(mousedownEvent);\r\n        let mousemoveEvent: EventData = MyUtil.MakeMouseEvent(this.OnMouseMove, this);\r\n        this.dataServer.classesObj.canvasEventMaster.mouseMoveEvents.push(mousemoveEvent);\r\n        let mouseupEvent: EventData = MyUtil.MakeMouseEvent(this.OnMouseUp, this);\r\n        this.dataServer.classesObj.canvasEventMaster.globelMouseUpEvents.push(mouseupEvent);\r\n        // let mouseOutEvent: EventData = MyUtil.MakeMouseEvent(this.OnMouseUp, this);\r\n        // this.dataServer.classesObj.canvasEventMaster.mouseOutEvents.push(mouseOutEvent);\r\n        //开始构建模型。-----------------------------------------------------------------------\r\n        this.modelFather = new THREE.Object3D();\r\n        this.dataServer.sceneCommonObj.scene.add(this.modelFather);\r\n        this.modelFather.visible = false;\r\n\r\n        this.moveAixs[AxisType.xAixs] = this.MakeAxisModel(AxisType.xAixs, 2000);\r\n        this.moveAixs[AxisType.yAixs] = this.MakeAxisModel(AxisType.yAixs, 1200);\r\n        this.moveAixs[AxisType.zAixs] = this.MakeAxisModel(AxisType.zAixs, 2000);\r\n\r\n        this.ability.axisMovable[AxisType.xAixs] = true;\r\n        this.ability.axisMovable[AxisType.yAixs] = true;\r\n        this.ability.axisMovable[AxisType.zAixs] = true;\r\n\r\n        for (let key in this.moveAixs) {\r\n            this.colliderAxis.push(this.moveAixs[key].lineCollider);\r\n            this.colliderAxis.push(this.moveAixs[key].backwardConeMesh);\r\n            this.colliderAxis.push(this.moveAixs[key].forwardConeMesh);\r\n        }\r\n        //做旋转工具的显示线。-----------------------------------------------------\r\n        let _circleLineMaterial = new THREE.LineDashedMaterial({ color: this.allColors.normalColor, dashSize: 50, gapSize: 25, linewidth: 10, depthTest: false, depthWrite: false });\r\n        let _circleRadian = 500;\r\n        let _circleGeom = new THREE.Geometry();\r\n\r\n        let _step = 50;\r\n        for (let i = 0; i < _step + 1; i++) {\r\n            let _angle = 2 * Math.PI * i / _step;\r\n            let _x = Math.cos(_angle) * _circleRadian;\r\n            let _z = Math.sin(_angle) * _circleRadian;\r\n            _circleGeom.vertices.push(new THREE.Vector3(_x, 0, _z));\r\n        }\r\n\r\n        this.rotateLineVisible = new THREE.Line(_circleGeom, _circleLineMaterial);\r\n        this.rotateLineVisible.computeLineDistances();\r\n        this.rotateLineVisible.renderOrder = 100000000;\r\n        this.modelFather.add(this.rotateLineVisible);\r\n\r\n        //做旋转工具的碰撞线。------------------------------------------------------\r\n        this.rotateLineCollider = new THREE.Mesh(new THREE.TorusGeometry(_circleRadian, 40, 3, _step));\r\n        this.rotateLineCollider.rotation.x = Math.PI / 2;\r\n        this.rotateLineCollider.material = new THREE.MeshBasicMaterial({ visible: false });\r\n        this.rotateLineCollider.name = \"rotation\";\r\n        this.modelFather.add(this.rotateLineCollider);\r\n        this.colliderAxis.push(this.rotateLineCollider);\r\n\r\n\r\n        //制作放置在水平面上的大平面。-----------------------------------------------\r\n        this.horzontalPlane = new THREE.Plane();\r\n        //制作垂直放置的大平面。----------------------------------------------------\r\n        this.verticalPlane = new THREE.Plane();\r\n    }\r\n\r\n    private MakeAxisModel(_type: AxisType, _lineHeight: number) {\r\n        let _axisFarther = new THREE.Object3D();\r\n        let _returnMoveAixs: MoveAxis = new MoveAxis();\r\n        this.modelFather.add(_axisFarther);\r\n\r\n        switch (_type) {\r\n            case AxisType.xAixs:\r\n                _axisFarther.rotation.z = Math.PI / 2;\r\n                break;\r\n            case AxisType.yAixs:\r\n                _axisFarther.position.y = 600.0;\r\n                break;\r\n            case AxisType.zAixs:\r\n                _axisFarther.rotation.x = Math.PI / 2;\r\n                break;\r\n        }\r\n        //开始构建一个垂直移动的可视线。--------------------------------------------------------\r\n\r\n\r\n        let _moveLineVisibleMaterial = new THREE.LineDashedMaterial({ color: this.allColors.normalColor, dashSize: 50, gapSize: 25, linewidth: 10, depthTest: false, depthWrite: false });\r\n\r\n        let _moveLineVisibleGeom = new THREE.Geometry();\r\n        _moveLineVisibleGeom.vertices.push(\r\n            new THREE.Vector3(0, -_lineHeight / 2, 0),\r\n            new THREE.Vector3(0, _lineHeight / 2, 0)\r\n        )\r\n\r\n        _returnMoveAixs.lineVisible = new THREE.Line(_moveLineVisibleGeom, _moveLineVisibleMaterial);\r\n        _returnMoveAixs.lineVisible.computeLineDistances();\r\n        _returnMoveAixs.lineVisible.renderOrder = 100000000;\r\n        _axisFarther.add(_returnMoveAixs.lineVisible);\r\n\r\n        //做垂直移动的碰撞线。-----------------------------------------------------\r\n        _returnMoveAixs.lineCollider = new THREE.Mesh(new THREE.BoxGeometry(25, _lineHeight, 25));\r\n        _returnMoveAixs.lineCollider.material = new THREE.MeshBasicMaterial({ visible: false });\r\n        _returnMoveAixs.lineCollider.name = _type;\r\n        _axisFarther.add(_returnMoveAixs.lineCollider);\r\n\r\n        //做垂直移动顶上的圆锥体。--------------------------------------------------\r\n        _returnMoveAixs.forwardConeMesh = new THREE.Mesh(new THREE.ConeGeometry(30, 80, 8), new THREE.MeshBasicMaterial({ color: this.allColors.normalColor, depthTest: false, depthWrite: false }));\r\n        _axisFarther.add(_returnMoveAixs.forwardConeMesh);\r\n        _returnMoveAixs.forwardConeMesh.position.y = _lineHeight / 2;\r\n        _returnMoveAixs.forwardConeMesh.name = _type;\r\n        _returnMoveAixs.forwardConeMesh.renderOrder = 100000000;\r\n\r\n        _returnMoveAixs.backwardConeMesh = new THREE.Mesh(new THREE.ConeGeometry(30, 80, 8), new THREE.MeshBasicMaterial({ color: this.allColors.normalColor, depthTest: false, depthWrite: false }));\r\n        _axisFarther.add(_returnMoveAixs.backwardConeMesh);\r\n        _returnMoveAixs.backwardConeMesh.rotation.x = Math.PI;\r\n        _returnMoveAixs.backwardConeMesh.position.y = -_lineHeight / 2;\r\n        _returnMoveAixs.backwardConeMesh.name = _type;\r\n        _returnMoveAixs.backwardConeMesh.renderOrder = 100000000;\r\n\r\n        return _returnMoveAixs;\r\n    }\r\n\r\n    /**\r\n     * 设置这个移动旋转工具是否可以旋转模型。\r\n     * @param _rotable \r\n     */\r\n    public SetRotatable(_rotable) {\r\n        this.ability.rotatable = _rotable;\r\n        if (_rotable == true) {\r\n            this.rotateLineCollider.position.y = 0;\r\n            this.rotateLineVisible.material.color = this.allColors.normalColor;\r\n\r\n        } else {\r\n            this.rotateLineCollider.position.y = 999999999;\r\n            this.rotateLineVisible.material.color = this.allColors.disabledColor;\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * \r\n     */\r\n    public SetVerticalMovable(_verticalMovable) {\r\n        this.ability.axisMovable[AxisType.yAixs] = _verticalMovable;\r\n         \r\n        if (_verticalMovable == true) {\r\n            this.moveAixs[AxisType.yAixs].lineCollider.position.y = 0;\r\n            this.moveAixs[AxisType.yAixs].lineVisible.material.color = this.allColors.normalColor;\r\n            this.moveAixs[AxisType.yAixs].forwardConeMesh.material.color = this.allColors.normalColor;\r\n            this.moveAixs[AxisType.yAixs].backwardConeMesh.material.color = this.allColors.normalColor;\r\n            //把两端的两个圆锥体放大到正常的大小。---------------------------------\r\n            this.moveAixs[AxisType.yAixs].forwardConeMesh.scale.x = 1.0;\r\n            this.moveAixs[AxisType.yAixs].forwardConeMesh.scale.y = 1.0;\r\n            this.moveAixs[AxisType.yAixs].forwardConeMesh.scale.z = 1.0;\r\n            this.moveAixs[AxisType.yAixs].backwardConeMesh.scale.x = 1.0;\r\n            this.moveAixs[AxisType.yAixs].backwardConeMesh.scale.y = 1.0;\r\n            this.moveAixs[AxisType.yAixs].backwardConeMesh.scale.z = 1.0;\r\n        } else {\r\n            this.moveAixs[AxisType.yAixs].lineCollider.position.y = 999999999;\r\n            this.moveAixs[AxisType.yAixs].lineVisible.material.color = this.allColors.disabledColor;\r\n            this.moveAixs[AxisType.yAixs].forwardConeMesh.material.color = this.allColors.disabledColor;\r\n            this.moveAixs[AxisType.yAixs].backwardConeMesh.material.color = this.allColors.disabledColor;\r\n            //把两端的两个圆锥体缩小得非常非常小。---------------------------------\r\n            this.moveAixs[AxisType.yAixs].forwardConeMesh.scale.x = 0.0001;\r\n            this.moveAixs[AxisType.yAixs].forwardConeMesh.scale.y = 0.0001;\r\n            this.moveAixs[AxisType.yAixs].forwardConeMesh.scale.z = 0.0001;\r\n            this.moveAixs[AxisType.yAixs].backwardConeMesh.scale.x = 0.0001;\r\n            this.moveAixs[AxisType.yAixs].backwardConeMesh.scale.y = 0.0001;\r\n            this.moveAixs[AxisType.yAixs].backwardConeMesh.scale.z = 0.0001;\r\n        }\r\n    }\r\n\r\n\r\n    //设置移动旋转工具在世界坐标中的位置。========================================================\r\n    public SetTransformerPos(_pos) {\r\n        this.modelFather.position.copy(_pos);\r\n        //设置巨大水平面的位置和朝向。------------------------------------------\r\n        this.horzontalPlane.setFromNormalAndCoplanarPoint(\r\n            new THREE.Vector3(0, 1, 0),\r\n            _pos\r\n        );\r\n        //摄像机的2d位置，里面有x y分量。---------------------------------------\r\n        let _camera2dPos = this.jDataServer.camera.pos;\r\n        //移动旋转工具指向摄像机的向量。-----------------------------------------\r\n        let _toolToCamVector = new THREE.Vector3(_camera2dPos.x - this.modelFather.position.x, 0, _camera2dPos.y - this.modelFather.position.z).normalize();\r\n\r\n        //设置巨大垂直平面的位置和朝向。-----------------------------------------\r\n        this.verticalPlane.setFromNormalAndCoplanarPoint(\r\n            _toolToCamVector,\r\n            _pos\r\n        );\r\n\r\n\r\n    }\r\n\r\n    /**\r\n     * 设置当前被控制的模型。=====================================================================\r\n     * @param _beControlModel \r\n     */\r\n    public SetControlModel(_beControlModel) {\r\n        this.beControlObj = _beControlModel;\r\n    }\r\n\r\n    /**\r\n     * 清空当前被控制的模型的这个参数。============================================================\r\n     */\r\n    public ClearControlModel() {\r\n        this.beControlObj = null;\r\n    }\r\n\r\n\r\n\r\n    //当鼠标单击下去的时候触发的函数。==========================================================\r\n    private OnMouseDown(_ev, _scope: ModelTransformer) {\r\n        if (_scope.enabled == false) {\r\n            return;\r\n        }\r\n        if (_ev.button == 0) {\r\n            _scope.dataServer.params.leftMouseIsDown = true;\r\n        }\r\n\r\n        let _3dCamera = _scope.jDataServer.camera._3Dcamera;\r\n        MyUtil.ShootRayToModel(\r\n            _scope.dataServer,\r\n            new THREE.Vector2(_ev.offsetX, _ev.offsetY),\r\n            _3dCamera,\r\n            _scope.colliderAxis,\r\n            false,\r\n            (_beHitLine, _hitPoint) => {\r\n                _scope.mouseDownHitModel = _beHitLine;\r\n                //如果单击中了移动工具的那条线，则再发出一条射线来跟垂直大平面面产生碰撞。----------------\r\n                //----------------------------------------------------------------------------------\r\n                //----------------------------------------------------------------------------------\r\n                let _mouseDownHitPlane;\r\n                switch (_beHitLine.name) {\r\n                    case AxisType.xAixs:\r\n                        _mouseDownHitPlane = _scope.horzontalPlane;\r\n                        _scope.transformMode = TransformMode.moveX;\r\n                        break;\r\n                    case AxisType.yAixs:\r\n                        _mouseDownHitPlane = _scope.verticalPlane;\r\n                        _scope.transformMode = TransformMode.moveY;\r\n                        break;\r\n                    case AxisType.zAixs:\r\n                        _mouseDownHitPlane = _scope.horzontalPlane;\r\n                        _scope.transformMode = TransformMode.moveZ;\r\n                        break;\r\n                    case \"rotation\":\r\n                        _mouseDownHitPlane = _scope.horzontalPlane;\r\n                        _scope.transformMode = TransformMode.rotate;\r\n                        break;\r\n                }\r\n                MyUtil.ShootRayToModel(\r\n                    _scope.dataServer,\r\n                    new THREE.Vector2(_ev.offsetX, _ev.offsetY),\r\n                    _3dCamera,\r\n                    [],\r\n                    true,\r\n                    (_beHitLine, _hitPoint) => {\r\n                        switch (_scope.transformMode) {\r\n                            case TransformMode.moveX:\r\n                                _scope.moveAixs[AxisType.xAixs].moveMouseDownHitPos = _hitPoint.x;\r\n                                _scope.moveAixs[AxisType.xAixs].moveMouseDownModelAxisPos = MyUtil.GetMeshLongObj(_scope.beControlObj).pos.x;\r\n                                break;\r\n                            case TransformMode.moveY:\r\n                                _scope.moveAixs[AxisType.yAixs].moveMouseDownHitPos = _hitPoint.y;\r\n                                //记录当前模型的离地高度。------------------------------------------------------------------\r\n                                _scope.moveAixs[AxisType.yAixs].moveMouseDownModelAxisPos = MyUtil.GetMeshLongObj(_scope.beControlObj).floorHeight;\r\n                                break;\r\n                            case TransformMode.moveZ:\r\n                                _scope.moveAixs[AxisType.zAixs].moveMouseDownHitPos = _hitPoint.z;\r\n                                _scope.moveAixs[AxisType.zAixs].moveMouseDownModelAxisPos = MyUtil.GetMeshLongObj(_scope.beControlObj).pos.y;\r\n                                break;\r\n                            case TransformMode.rotate:\r\n                                _scope.allPos.rotateMouseDownVector3 = _hitPoint.clone().sub(_scope.modelFather.position);\r\n                                _scope.allPos.rotateMouseDownScreenPos = new THREE.Vector3(_ev.clientX, _ev.clientY);\r\n                                //记录当前模型的旋转值。------------------------------------------------------------------\r\n                                _scope.allPos.rotateMouseDownRadian = MyUtil.GetMeshLongObj(_scope.beControlObj).radian;\r\n                                break;\r\n                        }\r\n\r\n                    },\r\n                    () => {\r\n\r\n                    }\r\n                    , _mouseDownHitPlane\r\n                )\r\n\r\n            },\r\n            () => {\r\n                _scope.mouseDownHitModel = null;\r\n                _scope.transformMode = TransformMode.none;\r\n            }\r\n        )\r\n    }\r\n\r\n    //当鼠标移动的时候触发的函数。==============================================================\r\n    private OnMouseMove(_ev, _scope: ModelTransformer) {\r\n        if (_scope.enabled == false) {\r\n            return;\r\n        }\r\n        let _3dCamera = _scope.jDataServer.camera._3Dcamera;\r\n\r\n        //当1、不是移动也不是旋转的状态的时候。2、鼠标没有按下左键拖动的时候。3、不是正在创建模型的时候   才开始通过碰撞检测来控制移动旋转工具的颜色。\r\n        if (_scope.transformMode == TransformMode.none && _scope.dataServer.params.leftMouseIsDown == false && _scope.dataServer.creatingLongObj == null) {\r\n            MyUtil.ShootRayToModel(\r\n                _scope.dataServer,\r\n                new THREE.Vector2(_ev.offsetX, _ev.offsetY),\r\n                _3dCamera,\r\n                _scope.colliderAxis,\r\n                false,\r\n                (_beHitLine, _hitPoint) => {\r\n                    if (_beHitLine.name == \"rotation\") {\r\n                        _scope.rotateLineVisible.material.color = _scope.allColors.activeColor;\r\n                        for (let key in _scope.moveAixs) {\r\n                            _scope.moveAixs[key].lineVisible.material.color = _scope.allColors.normalColor;\r\n                            _scope.moveAixs[key].forwardConeMesh.material.color = _scope.allColors.normalColor;\r\n                            _scope.moveAixs[key].backwardConeMesh.material.color = _scope.allColors.normalColor;\r\n                        }\r\n\r\n                    } else {\r\n                        for (let key in _scope.moveAixs) {\r\n                            if (key == _beHitLine.name) {\r\n                                _scope.moveAixs[key].lineVisible.material.color = _scope.allColors.activeColor;\r\n                                _scope.moveAixs[key].forwardConeMesh.material.color = _scope.allColors.activeColor;\r\n                                _scope.moveAixs[key].backwardConeMesh.material.color = _scope.allColors.activeColor;\r\n                            } else {\r\n                                _scope.moveAixs[key].lineVisible.material.color = _scope.ability.axisMovable[key] ? _scope.allColors.normalColor : _scope.allColors.disabledColor;\r\n                                _scope.moveAixs[key].forwardConeMesh.material.color = _scope.ability.axisMovable[key] ? _scope.allColors.normalColor : _scope.allColors.disabledColor;\r\n                                _scope.moveAixs[key].backwardConeMesh.material.color = _scope.ability.axisMovable[key] ? _scope.allColors.normalColor : _scope.allColors.disabledColor;\r\n                            }\r\n                        }\r\n                        _scope.rotateLineVisible.material.color = _scope.ability.rotatable ? _scope.allColors.normalColor : _scope.allColors.disabledColor;\r\n                    }\r\n                },\r\n                () => {\r\n                    for (let key in _scope.moveAixs) {\r\n                        _scope.moveAixs[key].lineVisible.material.color = _scope.ability.axisMovable[key] ? _scope.allColors.normalColor : _scope.allColors.disabledColor;\r\n                        _scope.moveAixs[key].forwardConeMesh.material.color = _scope.ability.axisMovable[key] ? _scope.allColors.normalColor : _scope.allColors.disabledColor;\r\n                        _scope.moveAixs[key].backwardConeMesh.material.color = _scope.ability.axisMovable[key] ? _scope.allColors.normalColor : _scope.allColors.disabledColor;\r\n                    }\r\n\r\n                    _scope.rotateLineVisible.material.color = _scope.ability.rotatable ? _scope.allColors.normalColor : _scope.allColors.disabledColor;\r\n\r\n                }\r\n            )\r\n        }\r\n\r\n        //当移动旋转工具激活的情况下在视图中拖拽的话。=========================================\r\n        if (_scope.dataServer.params.leftMouseIsDown == true) {\r\n            let _mouseDownHitPlane;\r\n            switch (_scope.transformMode) {\r\n                case TransformMode.moveX:\r\n                    _mouseDownHitPlane = _scope.horzontalPlane;\r\n\r\n                    break;\r\n                case TransformMode.moveY:\r\n                    _mouseDownHitPlane = _scope.verticalPlane;\r\n\r\n                    break;\r\n                case TransformMode.moveZ:\r\n                    _mouseDownHitPlane = _scope.horzontalPlane;\r\n\r\n                    break;\r\n                case TransformMode.rotate:\r\n                    _mouseDownHitPlane = _scope.horzontalPlane;\r\n                    break;\r\n            }\r\n            MyUtil.ShootRayToModel(\r\n                _scope.dataServer,\r\n                new THREE.Vector2(_ev.offsetX, _ev.offsetY),\r\n                _3dCamera,\r\n                [],\r\n                true,\r\n                (_beHitLine, _hitPoint) => {\r\n                    let _currentLongObj = MyUtil.GetMeshLongObj(_scope.beControlObj);\r\n                    //当前所选的模型的模型类型。---------------------------------------------------------\r\n                    let _currentModelType = _scope.beControlObj.userData.customUserData.modelType;\r\n\r\n                    switch (_scope.transformMode) {\r\n                        case TransformMode.moveX:\r\n                            let _modelXpos = _scope.moveAixs[AxisType.xAixs].moveMouseDownModelAxisPos + _hitPoint.x - _scope.moveAixs[AxisType.xAixs].moveMouseDownHitPos;\r\n                            //在X轴上移动家具模型。--------------------------\r\n                            if (_currentModelType == ModelType.furniture) {\r\n                                _scope.jDataServer.cache.furniture.move(_currentLongObj, { x: _modelXpos, y: _currentLongObj.pos.y });\r\n                            }\r\n                            //在x轴上移动烟道模型。--------------------------\r\n                            if (_currentModelType == ModelType.build) {\r\n                                _scope.jDataServer.cache.build.move(_currentLongObj, { x: _modelXpos, y: _currentLongObj.pos.y });\r\n                            }\r\n                            //在X轴上移动门窗或者飘窗的模型。--------------------------\r\n                            else if (_currentModelType == ModelType.window || _currentModelType == ModelType.door || _currentModelType == ModelType.normalBayWindow) {\r\n                                _scope.jDataServer.cache.doorWin.move(_currentLongObj, { x: _modelXpos, y: _currentLongObj.pos.y });\r\n                            }\r\n                            break;\r\n                        case TransformMode.moveY:\r\n                            // //记录当前模型的离地高度。------------------------------------------------------------------\r\n                            _currentLongObj.UpdatePos(_scope.moveAixs[AxisType.yAixs].moveMouseDownModelAxisPos + (_hitPoint.y - _scope.moveAixs[AxisType.yAixs].moveMouseDownHitPos));\r\n                            break;\r\n                        case TransformMode.moveZ:\r\n                            let _modelZpos = _scope.moveAixs[AxisType.zAixs].moveMouseDownModelAxisPos + _hitPoint.z - _scope.moveAixs[AxisType.zAixs].moveMouseDownHitPos;\r\n                            //在Z轴上移动家具模型。---------------------------------\r\n                            if (_currentModelType == ModelType.furniture) {\r\n                                _scope.jDataServer.cache.furniture.move(_currentLongObj, { x: _currentLongObj.pos.x, y: _modelZpos });\r\n                            }\r\n                            //在Z轴上移动烟道模型。---------------------------------\r\n                            if (_currentModelType == ModelType.build) {\r\n                                _scope.jDataServer.cache.build.move(_currentLongObj, { x: _currentLongObj.pos.x, y: _modelZpos });\r\n                            }\r\n                            //在Z轴上移动门窗或者飘窗的模型。----------------------------------\r\n                            else if (_currentModelType == ModelType.window || _currentModelType == ModelType.door || _currentModelType == ModelType.normalBayWindow) {\r\n                                _scope.jDataServer.cache.doorWin.move(_currentLongObj, { x: _currentLongObj.pos.x, y: _modelZpos });\r\n                            }\r\n                            break;\r\n                        case TransformMode.rotate:\r\n                            let _currentHitPlanePos = _hitPoint;\r\n                            //当前移动旋转工具中心\r\n                            let _currentVector = _currentHitPlanePos.clone().sub(_scope.modelFather.position);\r\n                            let _crossVec = _currentVector.clone().cross(_scope.allPos.rotateMouseDownVector3);\r\n                            let _xiShu = 1;    //系数，用来决定正负。\r\n                            if (_crossVec.y < 0) {\r\n                                _xiShu = -1;\r\n                            }\r\n\r\n                            let _horizotalMouseDistance = Math.abs(_ev.clientX - _scope.allPos.rotateMouseDownScreenPos.x);\r\n                            let _verticalMouseDistance = Math.abs(_ev.clientY - _scope.allPos.rotateMouseDownScreenPos.y);\r\n\r\n                            _scope.jDataServer.cache.furniture.rotate(MyUtil.GetMeshLongObj(_scope.beControlObj), _scope.allPos.rotateMouseDownRadian + _xiShu * Math.max(_horizotalMouseDistance, _verticalMouseDistance) / 150);\r\n                            break;\r\n                    }\r\n\r\n                },\r\n                () => {\r\n\r\n                }\r\n                , _mouseDownHitPlane\r\n            )\r\n            // }\r\n\r\n        }\r\n    }\r\n\r\n    //当鼠标弹起的时候触发的函数。==============================================================\r\n    private OnMouseUp(_ev, _scope: ModelTransformer) {\r\n        _scope.dataServer.params.leftMouseIsDown = false;\r\n        _scope.transformMode = TransformMode.none\r\n    }\r\n\r\n    //设置这个移动旋转工具可用或者不可用。=======================================================\r\n    public SetEnable(_enabled) {\r\n        this.modelFather.visible = _enabled;\r\n        this.enabled = _enabled;\r\n    }\r\n}","/*\r\n 作者：张建。\r\n 类说明：这个类存放一些做工具的方法。\r\n*/\r\nimport { EventData, ZVector2 } from './dataStruct';\r\nimport { THREEDataServer } from './THREEDataServer';\r\nimport { ConsoleUtil } from '../../svg/common/Util/consoleUtil';\r\ndeclare var THREE: any;\r\n\r\n\r\nexport class MyUtil {\r\n    /**\r\n     * 钳制一个值在一个范围之内。=============================\r\n     * @param _value 要被钳制的值。\r\n     * @param _min 被钳制的最小值。\r\n     * @param _max 被钳制的最大值。\r\n     */\r\n    public static Clamp(_value, _min, _max) {\r\n        let _returnValue = Math.max(_min, _value);\r\n        _returnValue = Math.min(_max, _returnValue);\r\n        return _returnValue;\r\n    }\r\n\r\n    /**\r\n     * 用来判断阿隆自定义vector2或vector3的数组是否一样。\r\n     * @param _array1 阿隆定义的vector2或vector3构成的数组1\r\n     * @param _array2 阿隆定义的vector2或vector3构成的数组2\r\n     * @param properties 这个vector2里要检查的属性值比如[\"x\",\"y\"]，或者[\"width\",\"height\"]\r\n     */\r\n    public static IfArrayTheSame(_array1, _array2, properties) {\r\n        if (_array1.length != _array2.length) {\r\n            return false;\r\n        } else {\r\n            let returnValue = true;\r\n            for (let i = 0; i < _array1.length; i++) {\r\n                for (let j = 0; j < properties.length; j++) {\r\n                    if (_array1[i][properties[j]] != _array2[i][properties[j]]) {\r\n                        returnValue = false;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            return returnValue\r\n        }\r\n    }\r\n\r\n    public static faceABC = ['a', 'b', 'c'];  //方便用来遍历face3用的。\r\n\r\n    /**\r\n     * 工厂模式生产一个事件对象。=============================================================================\r\n     * @param _fuc \r\n     */\r\n    public static MakeMouseEvent(_fuc, _scope) {\r\n        let mouseEvent: EventData = new EventData();\r\n        mouseEvent.scope = _scope;\r\n        mouseEvent.fuc = _fuc;\r\n        return mouseEvent;\r\n    }\r\n\r\n\r\n    /**\r\n     * 把array的值缩小到一定的范围内。=================================================\r\n     * @param _size \r\n     * @param _profileArray  数据是这样的结构[[x,y],[x,y],[x,y],[x,y]]\r\n     * @returns              数据是这样的结构[[x,y],[x,y],[x,y],[x,y]]\r\n     */\r\n    public static ClampArray(_size: ZVector2, _profileArray) {\r\n        let _maxValue = {\r\n            x: _profileArray[0][0],\r\n            y: _profileArray[0][1]\r\n        }\r\n        let _minValue = {\r\n            x: _profileArray[0][0],\r\n            y: _profileArray[0][1]\r\n        }\r\n        for (let i = 1; i < _profileArray.length; i++) {\r\n            if (_maxValue.x < _profileArray[i][0]) {\r\n                _maxValue.x = _profileArray[i][0];\r\n            }\r\n            if (_minValue.x > _profileArray[i][0]) {\r\n                _minValue.x = _profileArray[i][0];\r\n            }\r\n            if (_maxValue.y < _profileArray[i][1]) {\r\n                _maxValue.y = _profileArray[i][1];\r\n            }\r\n            if (_minValue.y > _profileArray[i][1]) {\r\n                _minValue.y = _profileArray[i][1];\r\n            }\r\n        }\r\n        //让图形在水平垂直方向上移动一下，移动到指定的范围内。---------------------------------------------\r\n        for (let i = 0; i < _profileArray.length; i++) {\r\n            _profileArray[i][0] -= _minValue.x;\r\n            _profileArray[i][1] -= _minValue.y;\r\n        }\r\n\r\n        let _actualWidth = _maxValue.x - _minValue.x;\r\n        let _actualHeight = _maxValue.y - _minValue.y;\r\n\r\n        let _widthScale = _size.x / _actualWidth;\r\n        let _heightScale = _size.y / _actualHeight;\r\n\r\n        let _returnArray = [];\r\n        for (let i = 0; i < _profileArray.length; i++) {\r\n            _returnArray.push([_profileArray[i][0] * _widthScale, _profileArray[i][1] * _heightScale]);\r\n        }\r\n        return _returnArray;\r\n    }\r\n\r\n    /**\r\n     * 把array数据水平或垂直翻转一下。==================================================\r\n     * @param _profileArray  数据是这样的结构[[x,y],[x,y],[x,y],[x,y]]\r\n     * @param _isHorizontal  是否水平翻转？true就是水平翻转，false则为垂直翻转。\r\n     * @returns              数据是这样的结构[[x,y],[x,y],[x,y],[x,y]] \r\n     */\r\n    public static FlipArray(_profileArray, _isHorizontal) {\r\n        let _returnArray = [];\r\n        for (let i = 0; i < _profileArray.length; i++) {\r\n            let _index = _profileArray.length - 1 - i;\r\n            if (_isHorizontal) {\r\n                _returnArray.push([_profileArray[_index][0], -_profileArray[_index][1]]);\r\n            } else {\r\n                _returnArray.push([-_profileArray[_index][0], _profileArray[_index][1]]);\r\n            }\r\n        }\r\n        return _returnArray;\r\n    }\r\n\r\n\r\n    /**\r\n     * 根据平面重新生成一圈模型。======================================================\r\n     * @param _formerRing    原来剖面的一圈点。-------------------\r\n     * @param _oppositeRing  对面剖面的一圈点。-------------------\r\n     * @param _plane         用来做裁切的平面。-------------------\r\n     */\r\n    public static MakeNewRingPoints(_formerRing, _oppositeRing, _plane) {\r\n        //如果没有裁切平面，直接把原来那一圈点返回。\r\n        if (_plane == null) {\r\n            return _formerRing;\r\n        } else {\r\n            //先把原来一圈点延长一下。\r\n            let longerPointRing = [];\r\n            for (let i = 0; i < _formerRing.length; i++) {\r\n                let _newPoint = _formerRing[i].clone().add(_formerRing[i].clone().sub(_oppositeRing[i]));\r\n                longerPointRing.push(_newPoint);\r\n            }\r\n            let _returnRing = [];\r\n            for (let i = 0; i < longerPointRing.length; i++) {\r\n                let _oneLine3 = new THREE.Line3(longerPointRing[i], _oppositeRing[i]);\r\n                let _intersectPoint = new THREE.Vector3();\r\n                _plane.intersectLine(_oneLine3, _intersectPoint);\r\n                _returnRing.push(_intersectPoint);\r\n            }\r\n            return _returnRing;\r\n        }\r\n    }\r\n\r\n    public static GetModelSizeAndMinAndCenter(_model) {\r\n        let _box = new THREE.Box3();\r\n        _box.expandByObject(_model);\r\n\r\n        let _size = new THREE.Vector3();\r\n        _box.getSize(_size);\r\n\r\n        let _center = new THREE.Vector3();\r\n        _box.getCenter(_center);\r\n\r\n        return {\r\n            min: _box.min,\r\n            size: _size,\r\n            center: _center\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * 从鼠标点击的地方发出一条射线，和指定的模型发生射线碰撞。=========================================\r\n     * @param _dataServer \r\n     * @param _mousePos \r\n     * @param _3dCamera \r\n     * @param _modelList \r\n     * @param _includeBigPlane   当前面的模型都没有检测到碰撞的话，是否要跟大地面进行一下碰撞检测？ \r\n     * @param _OnModelHit        当有模型被单击中的时候触发的函数。\r\n     * @param _OnNothingHit      当没有任何模型被单击的时候触发的函数。\r\n     *  @param _replacePlane      如果不想使用_dataServer.classesObj.rayHitModelList.bigPlane这个平面做碰撞，那么你这里传一个新的平面进来吧。\r\n     */\r\n    public static ShootRayToModel(_dataServer: THREEDataServer, _mousePos, _3dCamera, _modelList, _includeBigPlane: boolean, _OnModelHit, _OnNothingHit, _replacePlane?) {\r\n        let _raycaster = _dataServer.rayhitObjs.raycaster;\r\n        let _rayHitMousePos = _dataServer.rayhitObjs.rayHitMousePos;\r\n        let _hitXPos = _mousePos.x;\r\n        let _hitYPos = _mousePos.y;\r\n        let _canvas = _dataServer.sceneCommonObj.mainCanvas;\r\n        let _canvasRect = _canvas.getBoundingClientRect();\r\n\r\n        //低分辨率下的模型点击要进行特殊的处理。------------------------------------\r\n        let _chengshu = 1.0;\r\n        if (_dataServer.params.lowQuality == true) {\r\n            _chengshu = 3.0;\r\n        }\r\n        // _rayHitMousePos.x = ((_hitXPos - _canvasRect.left) - _canvas.width * _chengshu / 2) / (_canvas.width * _chengshu / 2);\r\n        // _rayHitMousePos.y = (_canvas.height * _chengshu / 2 - (_hitYPos - _canvasRect.top)) / (_canvas.height * _chengshu / 2);\r\n\r\n        _rayHitMousePos.x = ((_hitXPos) - _canvas.width * _chengshu / 2) / (_canvas.width * _chengshu / 2);\r\n        _rayHitMousePos.y = (_canvas.height * _chengshu / 2 - _hitYPos) / (_canvas.height * _chengshu / 2);\r\n\r\n        if (_3dCamera != undefined) {\r\n            _raycaster.setFromCamera(_rayHitMousePos, _3dCamera);\r\n            let _intersetObj = null;\r\n            let _intersetPos = null;\r\n            let intersets = _raycaster.intersectObjects(_modelList);\r\n            if (intersets.length > 0) {\r\n                //第一个返回参数是被单击的模型，第二个返回的参数返回的是击中的点。\r\n                _intersetObj = intersets[0].object;\r\n                _intersetPos = intersets[0].point;\r\n            }\r\n\r\n            //如果还要检测和超大的平面碰撞。\r\n            if (_includeBigPlane == true) {\r\n                if (_intersetPos == null) {\r\n                    _raycaster.setFromCamera(_rayHitMousePos, _3dCamera);\r\n                    let _planeHitPos = new THREE.Vector3();\r\n                    let _theIntersetPlane;\r\n\r\n                    if (_replacePlane == undefined) {\r\n                        _theIntersetPlane = _dataServer.classesObj.rayHitModelList.bigPlane\r\n                    } else {\r\n                        _theIntersetPlane = _replacePlane;\r\n                    }\r\n                    let _intersetPoint = _raycaster.ray.intersectPlane(_theIntersetPlane, _planeHitPos);\r\n                    _intersetPos = _intersetPoint;\r\n                }\r\n            }\r\n            if (_intersetPos == null) {\r\n                _OnNothingHit();\r\n            } else {\r\n                _OnModelHit(_intersetObj, _intersetPos);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    // public static ShootRayToBigPlane(_dataServer: THREEDataServer, _mousePos, _3dCamera, _bigPlane, _OnModelHit) {\r\n    //     let _raycaster = _dataServer.rayhitObjs.raycaster;\r\n    //     let _rayHitMousePos = _dataServer.rayhitObjs.rayHitMousePos;\r\n    //     let _hitXPos = _mousePos.x;\r\n    //     let _hitYPos = _mousePos.y;\r\n    //     let _canvas = _dataServer.sceneCommonObj.mainCanvas;\r\n    //     let _canvasRect = _canvas.getBoundingClientRect();\r\n    //     //低分辨率下的模型点击要进行特殊的处理。------------------------------------\r\n    //     let _chengshu = 1.0;\r\n    //     if (_dataServer.params.lowQuality == true) {\r\n    //         _chengshu = 3.0;\r\n    //     }\r\n    //     _rayHitMousePos.x = ((_hitXPos - _canvasRect.left) - _canvas.width * _chengshu / 2) / (_canvas.width * _chengshu / 2);\r\n    //     _rayHitMousePos.y = (_canvas.height * _chengshu / 2 - (_hitYPos - _canvasRect.top)) / (_canvas.height * _chengshu / 2);\r\n\r\n    //     if (_3dCamera != undefined) {\r\n    //         _raycaster.setFromCamera(_rayHitMousePos, _3dCamera);\r\n    //         let _planeHitPos = new THREE.Vector3();\r\n    //         let _intersetPoint = _raycaster.ray.intersectPlane(_bigPlane, _planeHitPos);\r\n    //         _OnModelHit(_intersetPoint);\r\n    //     }\r\n    // }\r\n\r\n    public static GetMeshLongObj(_mesh) {\r\n        return _mesh.userData.customUserData.longObj\r\n    }\r\n\r\n    /**\r\n     * 求两个向量的夹角======================================================\r\n     * @param _vec1 \r\n     * @param _vec2 \r\n     * @param _camera 当前使用的摄像机对象。\r\n     */\r\n    public static GetAngle(_vec1, _vec2, _camera): number {\r\n        let a_b = _vec1.x * _vec2.x + _vec1.y * _vec2.y + _vec1.z * _vec2.z;\r\n        let aMod = Math.sqrt(Math.pow(_vec1.x, 2) + Math.pow(_vec1.y, 2) + Math.pow(_vec1.z, 2));\r\n        let bMod = Math.sqrt(Math.pow(_vec2.x, 2) + Math.pow(_vec2.y, 2) + Math.pow(_vec2.z, 2));\r\n        //摄像机的朝前方向。----------------------------------------\r\n        let cameraForward = new THREE.Vector3(0.0, 0.0, 1.0).applyQuaternion(_camera.quaternion);\r\n        //求两个向量的叉乘。得出叉乘结果A----------------------------------------\r\n        let _crossVec = _vec1.clone().cross(_vec2);\r\n        //叉乘结果A和摄像机的朝前方向进行点乘，根据点乘值来决定角度的正负。-------------\r\n        let _dotValue = cameraForward.dot(_crossVec);\r\n        if (_dotValue < 0) {\r\n            return -Math.acos(a_b / (aMod * bMod));\r\n        } else {\r\n            return Math.acos(a_b / (aMod * bMod));\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 检查一个点是否在一个多边形的内容，这个多边形不能有自相交哦，目前只考虑凸多边形============\r\n     * @param _point 是一个vector2\r\n     * @param _polyPoints 是一个vector2数组。\r\n     * @returns 如果点在多边形里面，则返回true，否则返回false。\r\n     */\r\n    public static IsInPoly(_point, _polyPoints): boolean {\r\n        let dirs = [];\r\n        for (let i = 0; i < _polyPoints.length; i++) {\r\n            dirs.push(_polyPoints[i].clone().sub(_point));\r\n        }\r\n\r\n        let dirV3s = [];\r\n        for (let i = 0; i < dirs.length; i++) {\r\n            let _dirV3 = new THREE.Vector3(dirs[i].x, 0.0, dirs[i].y);\r\n            dirV3s.push(_dirV3);\r\n        }\r\n        let _angleSum = 0.0;\r\n        for (let i = 0; i < dirV3s.length; i++) {\r\n            let _nextI = i + 1;\r\n            if (_nextI == dirV3s.length) {\r\n                _nextI = 0;\r\n            }\r\n            let _angle = dirV3s[i].angleTo(dirV3s[_nextI]);\r\n            _angleSum += _angle;\r\n        }\r\n        return (Math.abs(_angleSum - Math.PI * 2) < 0.01);\r\n    }\r\n\r\n\r\n    //求两根直线的交点的自定义函数。===================================================\r\n    //四个参数都是vector2。\r\n    //第一个参数是第一根线段的一个端点。\r\n    //第二个参数是第一根线段的另一个端点。\r\n    //第三个参数是第二根线段的一个端点。\r\n    //第四个参数是第二根线段的另一个端点。\r\n    public static GetInsectPoint(a, b, c, d) {\r\n\r\n\r\n        let p = new THREE.Vector2();\r\n        let r, u;\r\n        let delta = (b.x - a.x) * (c.y - d.y) - (c.x - d.x) * (b.y - a.y);\r\n        if (delta == 0) {\r\n            p.x = 100000;\r\n            p.y = 100000;\r\n        } else {\r\n            r = ((c.x - a.x) * (c.y - d.y) - (c.x - d.x) * (c.y - a.y)) / delta;\r\n            u = ((b.x - a.x) * (c.y - a.y) - (c.x - a.x) * (b.y - a.y)) / delta;\r\n            p.x = a.x + r * (b.x - a.x);\r\n            p.y = a.y + r * (b.y - a.y);\r\n        }\r\n        return p;\r\n    }\r\n\r\n    /**\r\n     * 在一个数组里删除某一个特定的元素。======================================================\r\n     * @param array \r\n     * @param item \r\n     */\r\n    public static RemoveItem(array, item) {\r\n        var index = array.indexOf(item);\r\n        if (index > -1) {\r\n            array.splice(index, 1);\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * 计算一个二维向量顺时针方向和另外一个向量的夹角。==================================================\r\n     *  @param _vector1 \r\n     * @param _vector2 \r\n    */\r\n    public static GetAngleFrom2Vector(_vector1, _vector2) {\r\n        let up = _vector1.x * _vector2.x + _vector1.y * _vector2.y;\r\n        let down = Math.sqrt(Math.pow(_vector1.x, 2) + Math.pow(_vector1.y, 2)) * Math.sqrt(Math.pow(_vector2.x, 2) + Math.pow(_vector2.y, 2));\r\n        let angle = Math.acos(up / down);\r\n        //求两个向量的叉乘。-----------------------\r\n        let _crossValue = _vector1.x * _vector2.y - _vector2.x * _vector1.y;\r\n        if (_crossValue < 0) {\r\n            return Math.PI * 2 - angle;\r\n        } else {\r\n            return angle;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 求一个二维向量旋转一定角度后的向量。==============================================================\r\n     * @param _vec2 \r\n     * @param _angle \r\n     */\r\n    public static RotateVector2(_vec2, _angle) {\r\n        let _x = _vec2.x * Math.cos(_angle) - _vec2.y * Math.sin(_angle);\r\n        let _y = _vec2.x * Math.sin(_angle) + _vec2.y * Math.cos(_angle);\r\n        return new THREE.Vector2(_x, _y);\r\n    }\r\n\r\n\r\n    /**\r\n     * 加载一个模型，并把模型钳制在一个盒子的范围内。=====================================================\r\n     * @param _dataServer \r\n     * @param _url3D 要被加载的模型的url。\r\n     * @param _clampSize 模型被钳制的范围，数据为{width:1,height:2,deep:3}。\r\n     * @param _onModelLoad 当模型被加载的时候调用的函数。\r\n     * @param _onLoadProgress 模型加载用来做进度的回调函数。\r\n     */\r\n    public static LoadDaeClampInSize(_dataServer: THREEDataServer, _url3D: string, _clampSize, _onModelLoad, _onLoadProgress) {\r\n        _dataServer.loaders.daeLoader.load(_url3D,\r\n            //当DAE模型完全加载好了之后。--------------------------------------------------\r\n            (_result) => {\r\n                for (var i = 0; i < _result.scene.children.length; i++) {\r\n                    //因为dae文件还存在着一个环境光，所以要通过下面的方法把环境光剔除掉。\r\n                    if (_result.scene.children[i].name != \"EnvironmentAmbientLight\") {\r\n                        var theModel = _result.scene.children[i];\r\n                        theModel.rotation.x = -Math.PI / 2;\r\n                        let _modelSizeAndMinAndCenter1 = MyUtil.GetModelSizeAndMinAndCenter(theModel);\r\n                        let _modelSize = _modelSizeAndMinAndCenter1.size;\r\n\r\n                        theModel.userData.modelSize = {\r\n                            x: _modelSize.x,\r\n                            y: _modelSize.y,\r\n                            z: _modelSize.z\r\n                        }\r\n                        theModel.scale.x = _clampSize.width / _modelSize.x;\r\n                        theModel.scale.y = _clampSize.deep / _modelSize.z;\r\n                        //高度。-------------------------------------------  \r\n                        theModel.scale.z = _clampSize.height / _modelSize.y;\r\n\r\n\r\n                        let _modelSizeAndMinAndCenter2 = MyUtil.GetModelSizeAndMinAndCenter(theModel);\r\n                        let _modelMin2 = _modelSizeAndMinAndCenter2.min;\r\n                        let _modelCenter2 = _modelSizeAndMinAndCenter2.center\r\n\r\n                        // console.log( _modelCenter);\r\n\r\n                        // console.log(theModel.scale);\r\n                        theModel.position.z -= _modelCenter2.z;\r\n                        theModel.position.x -= _modelCenter2.x;\r\n                        // //垂直方向上移动。----------------------------------\r\n                        theModel.position.y -= _modelMin2.y;\r\n\r\n                        // this.furnitureFarther.add(theModel);\r\n                        _onModelLoad(theModel);\r\n\r\n                    }\r\n                }\r\n            },\r\n            //用来显示DAE的加载进度的。--------------------------------------------------\r\n            (_xhr) => {\r\n                // this.preloadBox.SetProgress(_xhr.loaded / _xhr.total);\r\n                _onLoadProgress(_xhr.loaded / _xhr.total);\r\n            }\r\n        )\r\n    }\r\n\r\n    public static ClampModelInSize(_model, _clampSize) {\r\n        let _modelSize = _model.userData.modelSize;\r\n        // // console.log(theModel.scale);\r\n        _model.scale.x = _clampSize.width / _modelSize.x;\r\n        _model.scale.y = _clampSize.deep / _modelSize.z;\r\n        //高度。-------------------------------------------  \r\n        _model.scale.z = _clampSize.height / _modelSize.y;\r\n    }\r\n\r\n    public static LoadMapClampInSize(_dataServer: THREEDataServer, _url: string, _clampSize, _onModelLoad, _onLoadProgress) {\r\n        _dataServer.loaders.wardrobeLoader.Load(_url, (theModel) => {\r\n            let _modelSizeAndMinAndCenter1 = MyUtil.GetModelSizeAndMinAndCenter(theModel);\r\n            let _modelSize = _modelSizeAndMinAndCenter1.size;\r\n            let _modelCenter = _modelSizeAndMinAndCenter1.center\r\n\r\n            theModel.scale.x = _clampSize.width / _modelSize.x;\r\n            theModel.scale.y = _clampSize.height / _modelSize.y;\r\n            theModel.scale.z = _clampSize.deep / _modelSize.z;\r\n\r\n            let _modelSizeAndMinAndCenter2 = MyUtil.GetModelSizeAndMinAndCenter(theModel);\r\n            let _modelCenter2 = _modelSizeAndMinAndCenter2.center\r\n            theModel.position.z -= _modelCenter2.z;\r\n            theModel.position.x -= _modelCenter2.x;\r\n            _onModelLoad(theModel);\r\n        }, (_progress) => {\r\n            _onLoadProgress(_progress);\r\n        })\r\n    }\r\n\r\n    /**\r\n     * 用来彻底销毁DAE模型的方法。======================================================================\r\n     * @param _beDestroyModel 被销毁的DAE模型。\r\n     */\r\n    public static DestroyDAEModel(_fatherObj, _beDestroyModel) {\r\n        _fatherObj.remove(_beDestroyModel);\r\n        //把所有的Mesh都找寻到。------------------------------------\r\n        _beDestroyModel.traverse((_obj) => {\r\n            if (_obj.isMesh == true) {\r\n                _obj.geometry.dispose();\r\n                if (Array.isArray(_obj.material) == true) {\r\n                    for (let i = 0; i < _obj.material.length; i++) {\r\n                        MyUtil.DestroyMaterial(_obj.material[i]);\r\n                    }\r\n                } else {\r\n                    MyUtil.DestroyMaterial(_obj.material);\r\n                }\r\n            }\r\n        });\r\n        // let _modelMesh = this.serchMesh(_beDestroyModel);\r\n        // for (let i = 0; i < _modelMesh.material.length; i++) {\r\n        //     _modelMesh.material[i].dispose();\r\n        //     if (_modelMesh.material[i].map != null) {\r\n        //         _modelMesh.material[i].map.dispose();\r\n        //     }\r\n        // }\r\n        // _modelMesh.geometry.dispose();\r\n\r\n    }\r\n\r\n    //把某个材质销毁掉。====================================================\r\n    public static DestroyMaterial(_mat) {\r\n        //销毁材质。----------------------------\r\n        _mat.dispose();\r\n        //销毁漫反射贴图。-----------------------\r\n        if (_mat.map != null) {\r\n            _mat.map.dispose();\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n    * 从一个路径中获取到文件的扩展名。\r\n    * @param _path \r\n    */\r\n    static getExtensionName(_path) {\r\n        let _pos = _path.lastIndexOf(\".\");\r\n        let _extename = _path.substring(_pos + 1);\r\n        return _extename;\r\n    }\r\n\r\n    /**\r\n     * 往下一路寻找，直到找到mesh。=====================================================================\r\n     * @param __object3D \r\n     */\r\n    public static serchMesh(__object3D) {\r\n        while (__object3D instanceof THREE.Mesh == false) {\r\n            __object3D = __object3D.children[0];\r\n        }\r\n        return __object3D;\r\n    }\r\n\r\n}","\r\n/*\r\n 作者：张建。\r\n 类说明：这个类是用来用预加载的盒子，可以显示dae模型的加载进度的。\r\n*/\r\nimport { THREEDataServer } from \"./THREEDataServer\";\r\ndeclare var THREE: any;\r\n\r\nexport class PreloadBox {\r\n    private dataServer: THREEDataServer;\r\n    private outBox;                      //加载框的外盒子。\r\n    private inBox;                       //加载框的内盒子。\r\n    private yOffset = 0;                     //这个加载框在y轴上的偏移值。\r\n\r\n\r\n    constructor(_dataServer: THREEDataServer) {\r\n        this.dataServer = _dataServer;\r\n    }\r\n\r\n    //开始创建预加载盒子。================================================================================\r\n    public MakeBox(_width, _height, _deep) {\r\n        //做外盒子。\r\n        this.outBox = this.dataServer.classesObj.boxMaker.MakeBox(_width, _height, _deep, true, true);\r\n        this.outBox.material = new THREE.MeshPhongMaterial({ color: 0xffffff, transparent: true, opacity: 0.5 });\r\n        this.outBox.renderOrder = 2;\r\n        //做内盒子。\r\n        this.inBox = this.dataServer.classesObj.boxMaker.MakeBox(_width * 0.98, _height, _deep * 0.98, true, true);\r\n        this.inBox.material = new THREE.MeshPhongMaterial({ color: 0x0000ff, transparent: true, opacity: 0.5 });\r\n        this.inBox.renderOrder = 1;\r\n        this.inBox.scale.y = 0.01;\r\n        //把两个盒子都加载到场景里。\r\n        this.dataServer.sceneCommonObj.scene.add(this.outBox);\r\n        this.dataServer.sceneCommonObj.scene.add(this.inBox);\r\n    }\r\n\r\n    public SetYOffset(_yOffset: number) {\r\n        this.yOffset = _yOffset;\r\n    }\r\n\r\n    public UpdatePos(_pos) {\r\n        this.inBox.position.copy(_pos);\r\n        this.inBox.position.y += this.yOffset;\r\n        this.outBox.position.copy(_pos);\r\n        this.outBox.position.y += this.yOffset;\r\n    }\r\n\r\n    public UpdateYRadian(_radian) {\r\n        this.inBox.rotation.y = _radian;\r\n        this.outBox.rotation.y = _radian;\r\n    }\r\n\r\n    //设置模型的加载进度。====================================================\r\n    public SetProgress(_progress) {\r\n        this.inBox.scale.y = _progress;\r\n        // if (_progress > 0.99) {\r\n        //     this.DisposePreloadBox();\r\n        // }\r\n    }\r\n\r\n    //把加载进度显示盒销毁掉。==============================================\r\n    public DisposePreloadBox() {\r\n        this.dataServer.sceneCommonObj.scene.remove(this.outBox);\r\n        this.dataServer.sceneCommonObj.scene.remove(this.inBox);\r\n        this.outBox.material.dispose();\r\n        this.inBox.material.dispose();\r\n        this.outBox.geometry.dispose();\r\n        this.inBox.geometry.dispose();\r\n\r\n    }\r\n\r\n}","import { ZVector2, ModelType } from \"./dataStruct\";\r\nimport { MyUtil } from \"./MyUtil\";\r\nimport { JCowall3D } from \"../jDesign3D/JCowall3D\";\r\nimport { THREEDataServer } from \"./THREEDataServer\";\r\nimport { JdesignDataService } from '../../services/jdesign-data.service';\r\ndeclare var THREE: any;\r\ndeclare var ThreeBSP: any;\r\n\r\n/*\r\n 作者：张建。\r\n 类说明：这个类主要是用来做地脚线和石灰线。\r\n*/\r\n\r\n\r\nexport class ProfileModel {\r\n    public profileMesh = null;\r\n    private afterBooleanMesh = null;         //布尔之后的mesh。\r\n    private profileGeometry = null;\r\n    private profileTexture = null;           //赋予给剖面的那张贴图。\r\n    private dataServer: THREEDataServer;\r\n    private jDataServer: JdesignDataService;\r\n    private profileType: ModelType;          //区分这个模型到底是地脚线还是天花线。\r\n\r\n    constructor(_dataServer: THREEDataServer, _profileType: ModelType, _jDataServer: JdesignDataService) {\r\n        this.dataServer = _dataServer;\r\n        this.profileType = _profileType;\r\n        this.jDataServer = _jDataServer;\r\n    }\r\n\r\n\r\n    /**\r\n     * 从没有到有创建一个直的地脚线。=====================================================================\r\n     * @param _profileHeight    这个地脚线放置的离地高度。------------------------------\r\n     * @param _kickLineSize     剖面线的厚度和高度，结构为{x:1,y:2}\r\n     * @param _dir              地脚线和天花线的两个端点，结构为[{x:1,y:2,z:3},{x:4,y:5,z:6}]\r\n     * @param _cutPlaneDir      裁切平面的方向，结构为[{x:1,y:2,z:3},{x:4,y:5,z:6}]\r\n     * @param _profileDatas     剖面的一圈点的数据，结构为[[1,2],[3,4],[5,6],[7,8]]\r\n    \r\n     * @param _booleanModels    用来做布尔切割的模型的数组。----------------------------\r\n     */\r\n    public MakeStraightProfile(_textureIndex, _profileHeight, _kickLineSize: ZVector2, _dir, _cutPlaneDir, _profileDatas, _booleanModels) {\r\n        //创建新的地脚线或石灰线前，先把前面的地脚线和石灰线清除掉。--------------------------------\r\n        this.DisposeProfileModel();\r\n        let _modelData = this.MakeStraightWallModelVertexesAndFaces(_kickLineSize, _dir, _cutPlaneDir, _profileDatas, true);\r\n        this.MakeFinalMeshFromModelData(_textureIndex, _modelData, _profileHeight, _booleanModels);\r\n    }\r\n\r\n    /**\r\n     * 为弧形墙创建地脚线或者天花线。==============================================================\r\n     * @param _profileHeight \r\n     * @param _kickLineSize \r\n     * @param _wallLinePoints \r\n     * @param _cutPlaneDir \r\n     * @param _profileDatas \r\n     * @param _booleanModels \r\n     */\r\n    public MakeArcProfile(_textureIndex, _profileHeight, _kickLineSize: ZVector2, _wallLinePoints, _cutPlaneDir, _profileDatas, _booleanModels, _filpNormalDir) {\r\n        //创建新的地脚线或石灰线前，先把前面的地脚线和石灰线清除掉。--------------------------------\r\n        this.DisposeProfileModel();\r\n        let _modelData = this.MakeArcWallModelVertexesAndFaces(_kickLineSize, _wallLinePoints, _cutPlaneDir, _profileDatas, _filpNormalDir, true)\r\n        this.MakeFinalMeshFromModelData(_textureIndex, _modelData, _profileHeight, _booleanModels);\r\n    }\r\n\r\n    /**\r\n     * 在不删除原来的模型的情况下，更新一下该模型的顶点数据。====================================================\r\n     * @param _kickLineSize \r\n     * @param _dir \r\n     * @param _cutPlaneDir \r\n     * @param _profileDatas \r\n     * @param _booleanModels  用来做布尔用的模型数组。-------------------------- \r\n     */\r\n    public UpdateStraightProfile(_profileHeight, _kickLineSize: ZVector2, _dir, _cutPlaneDir, _profileDatas, _booleanModels) {\r\n        let _modelData = this.MakeStraightWallModelVertexesAndFaces(_kickLineSize, _dir, _cutPlaneDir, _profileDatas, false);\r\n        this.UpdateFinalMeshFromModelData(_modelData, _profileHeight, _booleanModels);\r\n    }\r\n\r\n\r\n    public UpdateArcProfile(_profileHeight, _kickLineSize: ZVector2, _wallLinePoints, _cutPlaneDir, _profileDatas, _booleanModels, _filpNormalDir) {\r\n        let _modelData = this.MakeArcWallModelVertexesAndFaces(_kickLineSize, _wallLinePoints, _cutPlaneDir, _profileDatas, _filpNormalDir, false)\r\n        this.UpdateFinalMeshFromModelData(_modelData, _profileHeight, _booleanModels);\r\n    }\r\n\r\n\r\n    /**\r\n     * 从一堆模型的顶点坐标，UV坐标数据中创建出一个地脚线或者石灰线的Mesh出来。=========================\r\n     * @param _modelData \r\n     * @param _profileHeight \r\n     * @param _booleanModels \r\n     */\r\n    private MakeFinalMeshFromModelData(_textureIndex, _modelData, _profileHeight, _booleanModels) {\r\n\r\n        this.profileGeometry = new THREE.Geometry();\r\n        this.profileGeometry.vertices = _modelData.vertices;\r\n        this.profileGeometry.faces = _modelData.faces;\r\n        this.profileGeometry.faceVertexUvs = _modelData.uvs;\r\n        this.profileGeometry.computeFaceNormals();\r\n        this.profileGeometry.mergeVertices();\r\n        if (this.profileTexture == null) {\r\n            this.LoadTextureByIndex(_textureIndex);\r\n        }\r\n        let _profileMat = new THREE.MeshPhongMaterial({\r\n            map: this.profileTexture\r\n        });\r\n\r\n        this.profileMesh = new THREE.Mesh(this.profileGeometry);\r\n        this.profileMesh.position.y = _profileHeight;\r\n        this.dataServer.sceneCommonObj.scene.add(this.profileMesh);\r\n\r\n        //要计算布尔的话。----------------------------------------\r\n        if (_booleanModels.length > 0) {\r\n            let _booleanMain = new ThreeBSP(this.profileMesh);\r\n            for (let i = 0; i < _booleanModels.length; i++) {\r\n                let _subtractModel = new ThreeBSP(_booleanModels[i].booleanModel);\r\n                _booleanMain = _booleanMain.subtract(_subtractModel);\r\n            }\r\n            this.afterBooleanMesh = _booleanMain.toMesh();\r\n            this.afterBooleanMesh.geometry.computeFaceNormals();\r\n            this.afterBooleanMesh.geometry.computeVertexNormals();\r\n            this.dataServer.sceneCommonObj.scene.add(this.afterBooleanMesh);\r\n        }\r\n        //布尔后的话\r\n        if (this.afterBooleanMesh != undefined) {\r\n            this.profileMesh.visible = false;\r\n            this.afterBooleanMesh.material = _profileMat;\r\n        }\r\n        //没有执行布尔的话。\r\n        else {\r\n            this.profileMesh.material = _profileMat;\r\n        }\r\n    }\r\n\r\n    private UpdateFinalMeshFromModelData(_modelData, _profileHeight, _booleanModels) {\r\n        for (let i = 0; i < this.profileGeometry.vertices.length; i++) {\r\n            this.profileGeometry.vertices[i].copy(_modelData.vertices[i]);\r\n        }\r\n        for (let i = 0; i < _modelData.uvs[0].length; i++) {\r\n            for (let j = 0; j < _modelData.uvs[0][i].length; j++) {\r\n                this.profileGeometry.faceVertexUvs[0][i][j].copy(_modelData.uvs[0][i][j]);\r\n            }\r\n        }\r\n        //模型的顶点坐标要更新一下。--------------------------------------\r\n        this.profileGeometry.verticesNeedUpdate = true;\r\n        //模型的UV坐标也要更新一下。--------------------------------------\r\n        this.profileGeometry.uvsNeedUpdate = true;\r\n\r\n        this.profileMesh.position.y = _profileHeight;\r\n\r\n        //把布尔后的模型销毁掉。---------------------------------------\r\n        this.DisposeAfterBooleanMesh();\r\n        let _profileMat = new THREE.MeshPhongMaterial({\r\n            map: this.profileTexture\r\n        });\r\n        //要计算布尔的话。----------------------------------------\r\n        if (_booleanModels.length > 0) {\r\n            let _booleanMain = new ThreeBSP(this.profileMesh);\r\n            for (let i = 0; i < _booleanModels.length; i++) {\r\n                let _subtractModel = new ThreeBSP(_booleanModels[i].booleanModel);\r\n                _booleanMain = _booleanMain.subtract(_subtractModel);\r\n            }\r\n            this.afterBooleanMesh = _booleanMain.toMesh();\r\n            this.afterBooleanMesh.geometry.computeFaceNormals();\r\n            this.afterBooleanMesh.geometry.computeVertexNormals();\r\n            this.dataServer.sceneCommonObj.scene.add(this.afterBooleanMesh);\r\n        }\r\n        //布尔后的话。---------------------------------------------------------\r\n        if (this.afterBooleanMesh != undefined) {\r\n            this.profileMesh.visible = false;\r\n            this.afterBooleanMesh.material = _profileMat;\r\n        }\r\n        //如果没有进行布尔的话。------------------------------------------------\r\n        else {\r\n            this.profileMesh.visible = true;\r\n            this.profileMesh.material = _profileMat;\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    /**\r\n     * 根据数据，创建地脚线两端的两圈点。==========================================================\r\n     * @param _kickLineSize \r\n     * @param _dir         里面有两个数据，代表的是地脚线的两个端点的坐标。\r\n     * @param _cutPlaneDir \r\n     * @param _profileDatas \r\n    * @param _recountFace3 是否重新计算Face3？\r\n     */\r\n    private MakeStraightWallModelVertexesAndFaces(_kickLineSize: ZVector2, _dir, _cutPlaneDir, _profileDatas, _recountFace3: boolean) {\r\n\r\n        //获取地脚线或石灰线的长度。计算uv要用。---------------------------------------------------\r\n        let _profileLength = _dir[1].clone().distanceTo(_dir[0]);\r\n\r\n\r\n        //把剖面的数值进行一次缩放。-------------------------------------------------------\r\n        let _newProfileDatas = MyUtil.ClampArray(_kickLineSize, _profileDatas);\r\n\r\n        //计算一圈点的每一个点距离起点的距离，主要用来计算uv的。-----------------------------\r\n        let _distanceFromPrePointArray = [];\r\n        for (let i = 0; i < _newProfileDatas.length; i++) {\r\n            if (i == 0) {\r\n                _distanceFromPrePointArray.push(0);\r\n            } else {\r\n                let _preIndex = i - 1;\r\n                let _prePoint = _newProfileDatas[_preIndex];\r\n                let _currentPoint = _newProfileDatas[i];\r\n                let _distanceFromPrePoint = Math.sqrt(Math.pow(_currentPoint[1] - _prePoint[1], 2) + Math.pow(_currentPoint[0] - _prePoint[0], 2));\r\n                _distanceFromPrePointArray.push(_distanceFromPrePoint);\r\n            }\r\n        }\r\n\r\n        let _distanceFromStartPointArray = [];\r\n        for (let i = 0; i < _distanceFromPrePointArray.length; i++) {\r\n            if (i == 0) {\r\n                _distanceFromStartPointArray.push(0);\r\n            } else {\r\n                let _preIndex = i - 1;\r\n                _distanceFromStartPointArray.push(_distanceFromStartPointArray[_preIndex] + _distanceFromPrePointArray[i]);\r\n            }\r\n        }\r\n        //开始构建uv的初始数据。-------------------------------------------------------------------------------\r\n        let _UVRawDatas = [];\r\n\r\n        for (let i = 0; i < _distanceFromStartPointArray.length; i++) {\r\n            let _uv = new THREE.Vector2(0, _distanceFromStartPointArray[i] / 100.0);\r\n            _UVRawDatas.push(_uv);\r\n        }\r\n        let _scaleProfileLength = _profileLength / 100.0;\r\n        for (let i = 0; i < _distanceFromStartPointArray.length; i++) {\r\n            let _uv = new THREE.Vector2(_scaleProfileLength, _distanceFromStartPointArray[i] / 100.0);\r\n            _UVRawDatas.push(_uv);\r\n        }\r\n\r\n        //剖面的法线方向。就是从墙指向地脚线那边的方向。---------------------------------------------------------\r\n        let _profileNormalDir = _dir[1].clone().sub(_dir[0]);\r\n        _profileNormalDir.applyAxisAngle(new THREE.Vector3(0, 1, 0), Math.PI / 2);\r\n        _profileNormalDir.normalize();\r\n        //起点的一圈点。-----------------------------------------------------------\r\n        let _startRing = this.GetRingPoints(_dir[1], _profileNormalDir, _newProfileDatas);\r\n\r\n        let _endRing = this.GetRingPoints(_dir[0], _profileNormalDir, _newProfileDatas);\r\n        let _ringLength = _startRing.length;\r\n        //用来做挤出模型切割用的平面。----------------------------------------------\r\n        let _startPlane = null;\r\n        let _endPlane = null;\r\n\r\n        //开始创建头尾两个切割平面。-----------------------------------------------\r\n        let _endPlaneDir = _cutPlaneDir[0].clone();\r\n        _endPlaneDir.applyAxisAngle(new THREE.Vector3(0, 1, 0), Math.PI / 2).normalize();\r\n        _endPlane = new THREE.Plane();\r\n        _endPlane.setFromNormalAndCoplanarPoint(_endPlaneDir, _dir[0]);\r\n        let _startPlaneDir = _cutPlaneDir[1].clone();\r\n        _startPlaneDir.applyAxisAngle(new THREE.Vector3(0, 1, 0), Math.PI / 2).normalize();\r\n        _startPlane = new THREE.Plane();\r\n        _startPlane.setFromNormalAndCoplanarPoint(_startPlaneDir, _dir[1]);\r\n\r\n        //利用切割平面重新创建两圈点。-----------------------------------------------\r\n        _endRing = MyUtil.MakeNewRingPoints(_endRing, _startRing, _endPlane);\r\n        _startRing = MyUtil.MakeNewRingPoints(_startRing, _endRing, _startPlane);\r\n        let vertices = [];\r\n        for (let i = 0; i < _startRing.length; i++) {\r\n            vertices.push(_startRing[i]);\r\n        }\r\n        for (let i = 0; i < _endRing.length; i++) {\r\n            vertices.push(_endRing[i]);\r\n        }\r\n\r\n        //开始产生face3数组的数据。----------------------------------------------------\r\n        let faces = [];\r\n        if (_recountFace3 == true) {\r\n            for (let i = 0; i < _ringLength; i++) {\r\n                let nextI = i + 1;\r\n                if (nextI == _ringLength) {\r\n                    nextI = 0;\r\n                }\r\n                let oppositeI = i + _ringLength;\r\n                let oppositeNextI = nextI + _ringLength;\r\n                faces.push(new THREE.Face3(i, oppositeI, nextI));\r\n                faces.push(new THREE.Face3(nextI, oppositeI, oppositeNextI));\r\n            }\r\n        } else {\r\n            faces = this.profileGeometry.faces;\r\n        }\r\n\r\n        //开始计算UV的数据。-----------------------------------------------------------\r\n        let _uvs = [[]];\r\n\r\n        for (let i = 0; i < faces.length; i++) {\r\n            let _oneLineUv = [];\r\n            _oneLineUv.push(_UVRawDatas[faces[i].a]);\r\n            _oneLineUv.push(_UVRawDatas[faces[i].b]);\r\n            _oneLineUv.push(_UVRawDatas[faces[i].c]);\r\n            _uvs[0].push(_oneLineUv);\r\n        }\r\n\r\n\r\n        return {\r\n            vertices: vertices,\r\n            faces: faces,\r\n            uvs: _uvs\r\n        }\r\n    }\r\n\r\n\r\n\r\n    /**\r\n     * 为弧形墙创建构建模型所需的所有vertexes和faces和uvs等数据。============================================\r\n     * @param _kickLineSize \r\n     * @param _wallLinePoints \r\n     * @param _cutPlaneDir \r\n     * @param _profileDatas \r\n     * @param _recountFace3 是否重新计算Face3\r\n     */\r\n    private MakeArcWallModelVertexesAndFaces(_kickLineSize: ZVector2, _wallLinePoints, _cutPlaneDir, _profileDatas, _filpNormalDir: boolean, _recountFace3: boolean) {\r\n        //把剖面的数值进行一次缩放。-------------------------------------------------------\r\n        let _newProfileDatas = MyUtil.ClampArray(_kickLineSize, _profileDatas);\r\n        //圆形地脚线下面的一排向量。-------------------------------------------------------\r\n        let _wallLineDir = [];\r\n        for (let i = 0; i < _wallLinePoints.length - 1; i++) {\r\n            let _nextI = i + 1;\r\n            _wallLineDir.push(_wallLinePoints[_nextI].clone().sub(_wallLinePoints[i]).normalize());\r\n        }\r\n        //计算剖面线朝向的法线方向。-------------------------------------------------------------\r\n        //------------------------------------------------------------------------------------\r\n        let _middleWallLineNormal = [];\r\n        //先计算中间部分的剖面线朝向的法线方向。-------------------------------------\r\n        for (let i = 0; i < _wallLineDir.length - 1; i++) {\r\n            let _nextI = i + 1;\r\n            _middleWallLineNormal.push(_wallLineDir[_nextI].clone().sub(_wallLineDir[i]).normalize());\r\n        }\r\n        //再计算两端的剖面线朝向的法线方向。----------------------------------------\r\n        let _firstWallLineNormal = _wallLineDir[0].applyAxisAngle(new THREE.Vector3(0, 1, 0), -Math.PI / 2).normalize();\r\n        let _lastWallLineNormal = _wallLineDir[_wallLineDir.length - 1].applyAxisAngle(new THREE.Vector3(0, 1, 0), -Math.PI / 2).normalize();\r\n\r\n        _middleWallLineNormal[0].copy(_firstWallLineNormal);\r\n        _middleWallLineNormal[_middleWallLineNormal.length - 1].copy(_lastWallLineNormal);\r\n        //把两端部分和中间部分的剖面线朝向的法线方向都整合起来。------------------------\r\n        let _allWallLineNormal = [];\r\n        _allWallLineNormal.push(_firstWallLineNormal);\r\n        for (let i = 0; i < _middleWallLineNormal.length; i++) {\r\n            _allWallLineNormal.push(_middleWallLineNormal[i]);\r\n        }\r\n        _allWallLineNormal.push(_lastWallLineNormal);\r\n\r\n\r\n        //如果要把所有的法线都翻转。--------------------------------------------------\r\n        if (_filpNormalDir) {\r\n            for (let i = 0; i < _allWallLineNormal.length; i++) {\r\n                _allWallLineNormal[i].multiplyScalar(-1);\r\n            }\r\n        }\r\n\r\n        //开始获取一圈一圈的点。----------------------------------------------------\r\n        let _allRingPoints = [];\r\n        for (let i = 0; i < _wallLinePoints.length; i++) {\r\n            _allRingPoints.push(this.GetRingPoints(_wallLinePoints[i], _allWallLineNormal[i], _newProfileDatas));\r\n        }\r\n        //用来做挤出模型切割用的平面。-------------------------------------------------------------\r\n        let _startPlane = null;\r\n        let _endPlane = null;\r\n\r\n\r\n        //开始创建头尾两个切割平面。----------------------------------------------------------------\r\n        let _endPlaneDir = _cutPlaneDir[0].clone();\r\n        _endPlaneDir.applyAxisAngle(new THREE.Vector3(0, 1, 0), Math.PI / 2).normalize();\r\n        _endPlane = new THREE.Plane();\r\n        _endPlane.setFromNormalAndCoplanarPoint(_endPlaneDir, _wallLinePoints[0]);\r\n\r\n        let _startPlaneDir = _cutPlaneDir[1].clone();\r\n        _startPlaneDir.applyAxisAngle(new THREE.Vector3(0, 1, 0), Math.PI / 2).normalize();\r\n        _startPlane = new THREE.Plane();\r\n        _startPlane.setFromNormalAndCoplanarPoint(_startPlaneDir, _wallLinePoints[_wallLinePoints.length - 1]);\r\n\r\n        //利用切割平面重新创建两圈点。----------------------------------------------------------------\r\n        _allRingPoints[0] = MyUtil.MakeNewRingPoints(_allRingPoints[0], _allRingPoints[1], _endPlane);\r\n        _allRingPoints[_allRingPoints.length - 1] = MyUtil.MakeNewRingPoints(_allRingPoints[_allRingPoints.length - 1], _allRingPoints[_allRingPoints.length - 2], _startPlane);\r\n\r\n        //开始获取剖面线的所有顶点。------------------------------------------------------------------\r\n        let vertices = [];\r\n        for (let i = 0; i < _allRingPoints.length; i++) {\r\n            for (let j = 0; j < _allRingPoints[i].length; j++) {\r\n                vertices.push(_allRingPoints[i][j]);\r\n            }\r\n        }\r\n\r\n        //开始产生face3数组的数据。----------------------------------------------------\r\n        let faces = [];\r\n        if (_recountFace3 == true) {\r\n            let _ringLength = _profileDatas.length;\r\n            for (let i = 0; i < _wallLinePoints.length - 1; i++) {\r\n                for (let j = 0; j < _ringLength; j++) {\r\n                    let _nextJ = j + 1;\r\n                    if (_nextJ == _ringLength) {\r\n                        _nextJ = 0;\r\n                    }\r\n                    let _StartValue = i * _ringLength + j;\r\n                    let _OppositeValue = i * _ringLength + j + _ringLength;\r\n                    let _nextValue = i * _ringLength + _nextJ;\r\n                    let _OppositeNextValue = i * _ringLength + _nextJ + _ringLength;\r\n                    if (_filpNormalDir == false) {\r\n                        faces.push(new THREE.Face3(_StartValue, _OppositeValue, _nextValue));\r\n                        faces.push(new THREE.Face3(_OppositeValue, _OppositeNextValue, _nextValue));\r\n                    }\r\n                    //对于外墙的地脚线和石灰线，Face3的顺序需要反一下。-------------------------------------\r\n                    else {\r\n                        faces.push(new THREE.Face3(_StartValue, _nextValue, _OppositeValue));\r\n                        faces.push(new THREE.Face3(_OppositeValue, _nextValue, _OppositeNextValue));\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            faces = this.profileGeometry.faces;\r\n        }\r\n\r\n\r\n        //开始计算一下模型的UV。---------------------------------------------------------------------------\r\n        //-----------------------------------------------------------------------------------------------\r\n\r\n        //一节圆弧的长度。---------------------------------------------------------------------------------\r\n        let _oneLineLength = _wallLinePoints[0].distanceTo(_wallLinePoints[1]);\r\n\r\n        //计算一圈点里一个点距离上一个点的距离。-------------------------------------------------------------\r\n        let _distanceFromPrePoints = [];\r\n        for (let i = 0; i < _newProfileDatas.length; i++) {\r\n            if (i == 0) {\r\n                _distanceFromPrePoints.push(0);\r\n            } else {\r\n                let _preI = i - 1;\r\n                let _distanceFromPrePoint = Math.sqrt(Math.pow(_newProfileDatas[i][0] - _newProfileDatas[_preI][0], 2) + Math.pow(_newProfileDatas[i][1] - _newProfileDatas[_preI][1], 2));\r\n                _distanceFromPrePoints.push(_distanceFromPrePoint);\r\n            }\r\n        }\r\n        //计算一圈点里一个点距离开始点的距离。--------------------------------------------------------------\r\n        let _distanceFromStartPoints = [];\r\n        let ___distanceFromStartPoint = 0;\r\n        for (let i = 0; i < _distanceFromPrePoints.length; i++) {\r\n            ___distanceFromStartPoint += _distanceFromPrePoints[i];\r\n            _distanceFromStartPoints.push(___distanceFromStartPoint);\r\n        }\r\n        //得到uv的原始数据先。跟顶点的顺序一一对应。--------------------------------------------------------------------------\r\n        let _uvsRawData = [];\r\n        for (let i = 0; i < _wallLinePoints.length; i++) {\r\n            for (let j = 0; j < _newProfileDatas.length; j++) {\r\n                _uvsRawData.push(new THREE.Vector2(_oneLineLength * i, _distanceFromStartPoints[j]));\r\n            }\r\n        }\r\n        //开始正式组织UV数据。---------------------------------------------------------------------------------\r\n        let _uvs = [[]];\r\n        for (let i = 0; i < faces.length; i++) {\r\n            let _oneLineUvs = [];\r\n            for (let j = 0; j < MyUtil.faceABC.length; j++) {\r\n                let _faceIndex = faces[i][MyUtil.faceABC[j]];\r\n                let _theUVVector2 = _uvsRawData[_faceIndex];\r\n                _oneLineUvs.push(new THREE.Vector2(_theUVVector2.x / 100.0, _theUVVector2.y / 100.0));\r\n            }\r\n            _uvs[0].push(_oneLineUvs);\r\n        }\r\n\r\n        return {\r\n            vertices: vertices,\r\n            faces: faces,\r\n            uvs: _uvs\r\n        }\r\n    }\r\n\r\n    /**\r\n        * 把这个放样的模型销毁掉。========================================================\r\n        */\r\n    public DisposeProfileModel() {\r\n        //销毁mesh---------------------------------------------------------------\r\n        if (this.profileMesh != null) {\r\n            this.dataServer.sceneCommonObj.scene.remove(this.profileMesh);\r\n            this.profileMesh.material.dispose();\r\n            this.profileMesh.geometry.dispose();\r\n            this.profileTexture.dispose();\r\n            this.profileMesh = null;\r\n        }\r\n        //销毁布尔之后的mesh------------------------------------------------------\r\n        this.DisposeAfterBooleanMesh();\r\n        //销毁geometry-----------------------------------------------------------\r\n        if (this.profileGeometry != null) {\r\n            this.profileGeometry.dispose();\r\n            this.profileGeometry = null;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 用来销毁布尔之后产生的模型。========================================================\r\n     */\r\n    private DisposeAfterBooleanMesh() {\r\n        if (this.afterBooleanMesh != null) {\r\n            this.dataServer.sceneCommonObj.scene.remove(this.afterBooleanMesh);\r\n            this.afterBooleanMesh.geometry.dispose();\r\n            this.afterBooleanMesh = null;\r\n        }\r\n    }\r\n\r\n\r\n\r\n    /**\r\n     * 获取放样的一圈点的坐标。=========================================================\r\n     */\r\n    private GetRingPoints(_startPoint, _normalDir, _profileDatas) {\r\n        let returnPoints = [];\r\n        for (let i = 0; i < _profileDatas.length; i++) {\r\n            let onePoint = _startPoint.clone()\r\n                .addScaledVector(_normalDir, _profileDatas[i][0])\r\n                .addScaledVector(new THREE.Vector3(0, 1, 0), _profileDatas[i][1]);\r\n            returnPoints.push(onePoint);\r\n        }\r\n        return returnPoints;\r\n    }\r\n\r\n    /**\r\n      * 为石灰线或地脚线加载初始化的贴图。==========================================================================\r\n      */\r\n    private LoadTextureByIndex(_textureIndex) {\r\n        let initTextureUrl;\r\n        if (this.profileType == ModelType.kickLine) {\r\n            initTextureUrl = this.jDataServer.json.footLinePics[_textureIndex];\r\n        } else {\r\n            initTextureUrl = this.jDataServer.json.plasterLinePics[_textureIndex];\r\n        }\r\n\r\n        this.profileTexture = this.dataServer.loaders.textureLoader.load(initTextureUrl);\r\n        this.profileTexture.wrapS = THREE.RepeatWrapping;\r\n        this.profileTexture.wrapT = THREE.RepeatWrapping;\r\n\r\n    }\r\n\r\n    /**\r\n     * 用来设置石灰线或地脚线的材质。===================================================================\r\n     * @param _imageUrl \r\n     */\r\n    public SetModelTexture(_imageUrl: string) {\r\n        this.profileTexture.image.src = _imageUrl;\r\n        this.profileTexture.image.onload = () => {\r\n            this.profileTexture.needsUpdate = true;\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n}","\r\n/*\r\n 作者：张建。\r\n 类说明：用来做右边面板里的说有数据的。\r\n*/\r\nimport { THREEDataServer } from \"./THREEDataServer\";\r\nimport { CurrentSelectModel } from \"./CurrentSelectModel\";\r\n\r\nimport { ModelType, ProfileModelData } from \"./dataStruct\";\r\nimport { JFloor3D } from \"../jDesign3D/JFloor3D\";\r\nimport { JRoof3D } from \"../jDesign3D/JRoof3D\";\r\nimport { ProfileModel } from \"./ProfileModel\";\r\nimport { JCornerWin3D } from \"../jDesign3D/JCornerWin3D\";\r\nimport { JBayWin3D } from \"../jDesign3D/JBayWin3D\";\r\n\r\n\r\nexport class PropertiesMenuData {\r\n    // private dataServer: THREEDataServer = null;\r\n\r\n    // constructor(private _dataServer: THREEDataServer) {\r\n    //     this.dataServer = _dataServer;\r\n    // }\r\n    // //提供给墙面切换的所有贴图。===============================================\r\n    // private wallImageUrls = [\r\n    //     \"./assets/threeAssets/maps/wallPaper/shihuiqiang.jpg\",\r\n    //     \"./assets/threeAssets/maps/wallPaper/wallPaper001.jpg\",\r\n    //     \"./assets/threeAssets/maps/wallPaper/wallPaper002.jpg\",\r\n    //     \"./assets/threeAssets/maps/wallPaper/wallPaper003.jpg\",\r\n    // ]\r\n    // //提供给地板切换的所有贴图。================================================\r\n    // private floorImageUrls = [\r\n    //     \"./assets/threeAssets/maps/floorMaps/map001.jpg\",\r\n    //     \"./assets/threeAssets/maps/floorMaps/map002.jpg\",\r\n    //     \"./assets/threeAssets/maps/floorMaps/map003.jpg\"\r\n    // ]\r\n    // //提供给天花板切换的所有贴图。================================================\r\n    // private roofImageUrls = [\r\n    //     \"./assets/threeAssets/maps/roofMaps/roofTex000.jpg\",\r\n    //     \"./assets/threeAssets/maps/roofMaps/roofTex001.jpg\"\r\n    // ];\r\n    // //提供给地脚线切换的所有贴图。================================================\r\n    // private kickLineImageUrls = [\r\n    //     \"./assets/threeAssets/maps/kickLine/001.jpg\",\r\n    //     \"./assets/threeAssets/maps/kickLine/002.jpg\",\r\n    //     \"./assets/threeAssets/maps/kickLine/003.jpg\",\r\n    // ];\r\n    // //石灰线的可替换贴图。=======================================================\r\n    // private plasterCorniceImageUrls = [\r\n    //     \"./assets/threeAssets/maps/plasterLine/001.jpg\",\r\n    //     \"./assets/threeAssets/maps/plasterLine/002.jpg\"\r\n    // ];\r\n    // //窗框的可替换贴图。=========================================================\r\n    // private winframeImageUrls = [\r\n    //     \"./assets/threeAssets/maps/windowFrameMaps/003.jpg\",\r\n    //     \"./assets/threeAssets/maps/windowFrameMaps/001.jpg\",\r\n    //     \"./assets/threeAssets/maps/windowFrameMaps/002.jpg\"\r\n    // ]\r\n\r\n    // //门框的可替换贴图。=========================================================\r\n    // private doorframeImageUrls = [\r\n    //     \"./assets/threeAssets/maps/doorFrameMaps/003.jpg\",\r\n    //     \"./assets/threeAssets/maps/doorFrameMaps/001.jpg\",\r\n    //     \"./assets/threeAssets/maps/doorFrameMaps/002.jpg\"\r\n    // ]\r\n\r\n    // //提供给飘窗的窗台的贴图。====================================================\r\n    // private baywinImageUrls = [\r\n    //     \"./assets/threeAssets/maps/marble/002.jpg\",\r\n    //     \"./assets/threeAssets/maps/marble/001.jpg\"\r\n    // ]\r\n\r\n    // //用来记录当前选择的模型，当前选择的杨俊龙对象，当前选择的模型类型。\r\n    // private currentSelect = {\r\n    //     currentSelectModelObj: null,\r\n    //     longObj: null,\r\n    //     modelType: null\r\n    // }\r\n    /**\r\n     * 每次点击墙都会为墙对象创建右边属性面板的数据。===========================================\r\n     */\r\n    // public MakeWallData(_currentSelectParams) {\r\n    //     //获取当前所选择的那个模型的所有数据。-----------------------------------\r\n    //     this.currentSelect.currentSelectModelObj = this.dataServer.classesObj.currentSelectModel;\r\n    //     this.currentSelect.longObj = this.currentSelect.currentSelectModelObj.GetSelectedLongObj();\r\n    //     this.currentSelect.modelType = this.currentSelect.currentSelectModelObj.GetSelectedModelType();\r\n\r\n    //     //这个是被加工的数据。-------------------------------------------------\r\n    //     let _wallData = [];\r\n    //     //做墙面贴图选择的选项。-----------------------------------------------\r\n    //     this.MakeTextureSelectData(_wallData, \"墙面贴图\", this.wallImageUrls, _currentSelectParams.materialIndex, (_params, _path) => {\r\n    //         //设置墙面的贴图。----------------------------------------------------\r\n    //         this.currentSelect.longObj.SetModelTexture(this.currentSelect.modelType, _path.path);\r\n    //         this.currentSelect.longObj.paramsValues.materialIndex[this.currentSelect.modelType] = _path.id;\r\n    //     });\r\n\r\n        // let _theCowall: JCowall3D = this.dataServer.classesObj.currentSelectModel.GetSelectedLongObj();\r\n        // let _theCowallModelType: ModelType = this.dataServer.classesObj.currentSelectModel.GetSelectedModelType();\r\n\r\n        //做地脚线的选项。-----------------------------------------------------------------\r\n        // this.MakeProfileSelector(\r\n        //     this.currentSelect.longObj.HasKickLine(this.currentSelect.modelType),  //这个墙是否已设置了地脚线？\r\n        //     this.dataServer.classesObj.profileLoader.GetKickLineData(),            //获取地脚线轮廓的一圈数据。\r\n        //     this.kickLineImageUrls,                                                //用来切换地脚线材质用的贴图。\r\n        //     _currentSelectParams,\r\n        //     _wallData,                                                             //要被加工的数据。\r\n        //     \"地脚线\",                                                               //UI上显示的名称。\r\n        //     ModelType.kickLine,                                                    //这个是地脚线还是石灰线？\r\n        //     //当点击剖面线的复选框的时候调用的函数。------------------------------\r\n        //     (_check) => {\r\n        //         //当勾上地脚线复选框的时候。------------------------------\r\n        //         if (_check) {\r\n\r\n        //             //创建地脚线模型。\r\n        //             this.currentSelect.longObj.MakeKickLine(this.currentSelect.modelType);\r\n        //         }\r\n        //         //当取消勾选地脚线复选框的时候。-----------------------------\r\n        //         else {\r\n        //             this.currentSelect.longObj.DestroyKickLine(this.currentSelect.modelType);\r\n        //         }\r\n        //     },\r\n        //     //当点击具体某个剖面的时候调用的函数。---------------------------------\r\n        //     (params, _path) => {\r\n        //         //当前点击的是哪一款地脚线剖面。----------------------\r\n        //         let profileIndex = _path.id;\r\n        //         let _allKickLine = this.dataServer.classesObj.profileLoader.GetKickLineData();\r\n\r\n        //         //获取当前选择的地脚线的数据。-------------------------------------\r\n        //         let _currentSelectedProfileData = _allKickLine.dataList[profileIndex].vertexData;\r\n        //         //先把前面的地脚线删除掉。-----------------------------------------\r\n        //         this.currentSelect.longObj.DestroyKickLine(this.currentSelect.modelType);\r\n\r\n        //         //记录下这个模型点了那个地脚线样式。------------------------------------\r\n        //         this.currentSelect.longObj.paramsValues.kickLineProfileShapeIndex[this.currentSelect.modelType] = profileIndex;\r\n        //         //用当前选择的样式重新创建一个地脚线。-------------------------------\r\n        //         this.currentSelect.longObj.MakeKickLine(this.currentSelect.modelType, _currentSelectedProfileData);\r\n\r\n        //         // console.log(_currentSelectLongObj.paramsValues.kickLineProfileShapeIndex);\r\n        //     },\r\n        //     //当剖面的某个可选贴图被单击的时候触发的函数。----------------------------\r\n        //     (params, _path) => {\r\n        //         let matIndex = _path.id;\r\n        //         let _kickLineObj: ProfileModel = this.currentSelect.longObj.GetKickLine(this.currentSelect.modelType);\r\n        //         //设置墙面的贴图。----------------------------------------------------\r\n        //         _kickLineObj.SetModelTexture(_path.path);\r\n        //         //记录下这个模型点了哪个地脚线贴图。------------------------------------\r\n        //         this.currentSelect.longObj.paramsValues.kickLineProfileMatIndex[this.currentSelect.modelType] = matIndex;\r\n        //     }\r\n        // );\r\n\r\n        //做石灰线的选项。-----------------------------------------------------------------\r\n    //     this.MakeProfileSelector(\r\n    //         this.currentSelect.longObj.HasPlasterCornice(this.currentSelect.modelType),\r\n    //         this.dataServer.classesObj.profileLoader.GetplasterCorniceData(),\r\n    //         this.plasterCorniceImageUrls,\r\n    //         _currentSelectParams,\r\n    //         _wallData,\r\n    //         \"石灰线\",\r\n    //         ModelType.plasterCornice,\r\n    //         //当点击剖面线的复选框的时候调用的函数。------------------------------\r\n    //         (_check) => {\r\n    //             if (_check) {\r\n    //                 //用第一个地脚线的数据来创建石灰线模型。\r\n    //                 this.currentSelect.longObj.MakePlasterCornice(this.currentSelect.modelType);\r\n    //             } else {\r\n    //                 this.currentSelect.longObj.DestroyPlasterCornice(this.currentSelect.modelType);\r\n    //             }\r\n    //         },\r\n    //         //当点击具体某个剖面的时候调用的函数。---------------------------------\r\n    //         (params, _path) => {\r\n    //             let profileIndex = _path.id;\r\n    //             let _allPlasterCornice = this.dataServer.classesObj.profileLoader.GetplasterCorniceData();\r\n\r\n    //             let _currentSelectedProfileData = _allPlasterCornice.dataList[profileIndex].vertexData;\r\n    //             //先把前面的石灰线删除掉。-----------------------------------------\r\n    //             this.currentSelect.longObj.DestroyPlasterCornice(this.currentSelect.modelType);\r\n    //             //记录下这个模型点了那个地脚线样式。----------------------------------\r\n    //             this.currentSelect.longObj.paramsValues.plasterCorniceProfileShapeIndex[this.currentSelect.modelType] = profileIndex;\r\n    //             //用当前选择的样式重新创建一个石灰线。-------------------------------\r\n    //             this.currentSelect.longObj.MakePlasterCornice(this.currentSelect.modelType, _currentSelectedProfileData);\r\n    //         },\r\n    //         //当石灰线的某个可选贴图被单击的时候触发的函数。----------------------------\r\n    //         (params, _path) => {\r\n    //             let matIndex = _path.id;\r\n    //             let _plasterCornice: ProfileModel = this.currentSelect.longObj.GetPlasterCornice(this.currentSelect.modelType);\r\n    //             //设置石灰线的贴图。----------------------------------------------------\r\n    //             _plasterCornice.SetModelTexture(_path.path);\r\n    //             //记录下这个模型点了哪个石灰线贴图。------------------------------------\r\n    //             this.currentSelect.longObj.paramsValues.plasterCorniceProfileMatIndex[this.currentSelect.modelType] = matIndex;\r\n    //         }\r\n    //     );\r\n    //     // console.log(_wallData);\r\n    //     return _wallData;\r\n    // }\r\n    /**\r\n     * 为地板对象创建右边属性面板的数据。=================================================\r\n     */\r\n    // public MakeFloorData(_currentSelectParams) {\r\n    //     let _floorData = [];\r\n    //     this.MakeTextureSelectData(_floorData, \"地板贴图\", this.floorImageUrls, _currentSelectParams.materialIndex, (_params, _path) => {\r\n    //         let _currentSelectedModel: CurrentSelectModel = this.dataServer.classesObj.currentSelectModel;\r\n    //         if (_currentSelectedModel.HasModelSelected()) {\r\n    //             let _currentSelectLongObj: JFloor3D = _currentSelectedModel.GetSelectedLongObj();\r\n    //             _currentSelectLongObj.SetModelTexture(_path.path);\r\n    //             //标注这个模型当前选择的是第几张贴图。\r\n    //             _currentSelectLongObj.paramsValues.materialIndex[ModelType.floor] = _path.id;\r\n    //         }\r\n    //     });\r\n    //     // console.log(_floorData);\r\n    //     return _floorData;\r\n    // }\r\n\r\n    //为家具模型创建右边属性面板的数据。===================================================\r\n    // public MakeFurnitrueData(_url: string) {\r\n    //     let _floorData = [\r\n    //         {\r\n    //             url: _url\r\n    //         }];\r\n    //     // console.log(_url);\r\n    //     return _floorData;\r\n    // }\r\n    /**\r\n     * 为转角飘窗创建右边属性面板的数据。=====================================================\r\n     */\r\n    // public MakeCornerBayWinData(_currentSelectParams) {\r\n    //     let _cornerBaywinData = [];\r\n    //     this.MakeTextureSelectData(_cornerBaywinData, \"窗台贴图\", this.baywinImageUrls, _currentSelectParams.windowsillMaterialIndex, (_params, _path) => {\r\n    //         let _currentSelectedModel: CurrentSelectModel = this.dataServer.classesObj.currentSelectModel;\r\n    //         if (_currentSelectedModel.HasModelSelected()) {\r\n    //             let _currentSelectLongObj: JCornerWin3D = _currentSelectedModel.GetSelectedLongObj();\r\n    //             _currentSelectLongObj.cornerBaywin.SetBaywindowStillTexture(_path.path);\r\n    //             // //标注这个模型当前选择的是第几张贴图。\r\n    //             _currentSelectLongObj.cornerBaywin.paramsValues.windowsillMaterialIndex[ModelType.cornerBayWindow] = _path.id;\r\n    //         }\r\n    //     });\r\n    //     return _cornerBaywinData;\r\n\r\n    // }\r\n\r\n    /**\r\n     * 为普通飘窗创建右边属性面板的数据。=========================================================\r\n     * @param _currentSelectParams \r\n     */\r\n    // public MakeNormalBaywinData(_currentSelectParams) {\r\n    //     let _normalBaywinData = [];\r\n    //     this.MakeTextureSelectData(_normalBaywinData, \"窗台贴图\", this.baywinImageUrls, _currentSelectParams.windowsillMaterialIndex, (_params, _path) => {\r\n    //         let _currentSelectedModel: CurrentSelectModel = this.dataServer.classesObj.currentSelectModel;\r\n    //         if (_currentSelectedModel.HasModelSelected()) {\r\n    //             let _currentSelectLongObj: JBayWin3D = _currentSelectedModel.GetSelectedLongObj();\r\n    //             _currentSelectLongObj.baywin.SetBaywindowStillTexture(_path.path);\r\n    //             //标注这个模型当前选择的是第几张贴图。\r\n    //             _currentSelectLongObj.baywin.paramsValues.windowsillMaterialIndex[ModelType.normalBayWindow] = _path.id;\r\n    //         }\r\n    //     });\r\n    //     // console.log(_normalBaywinData);\r\n    //     return _normalBaywinData;\r\n    // }\r\n    /**\r\n    * 为天花板对象创建右边属性面板的数据。=============================================\r\n    */\r\n    // public MakeRoofData(_currentSelectParams) {\r\n    //     let _roofData = [];\r\n    //     this.MakeTextureSelectData(_roofData, \"天花板贴图\", this.roofImageUrls, _currentSelectParams.materialIndex, (_params, _path) => {\r\n    //         let _currentSelectedModel: CurrentSelectModel = this.dataServer.classesObj.currentSelectModel;\r\n    //         if (_currentSelectedModel.HasModelSelected()) {\r\n    //             let _currentSelectLongObj: JRoof3D = _currentSelectedModel.GetSelectedLongObj();\r\n    //             _currentSelectLongObj.SetModelTexture(_path.path);\r\n    //             _currentSelectLongObj.paramsValues.materialIndex[ModelType.roof] = _path.id;\r\n    //         }\r\n    //     });\r\n    //     return _roofData;\r\n    // }\r\n\r\n    /**\r\n     * 为门和窗的右边面板内容创建数据。===================================================================\r\n     */\r\n    // public MakeWinDoorData(_currentSelectParams, _texSelectTitle1, _profileSelectTitle, _modelType) {\r\n    //     let _winDoorTextureData = [];\r\n    //     let _imgUrls;\r\n    //     if (_modelType == ModelType.door) {\r\n    //         _imgUrls = this.doorframeImageUrls;\r\n    //     } else if (_modelType == ModelType.window) {\r\n    //         _imgUrls = this.winframeImageUrls;\r\n    //     }\r\n\r\n    //     this.MakeTextureSelectData(_winDoorTextureData, _texSelectTitle1, _imgUrls, _currentSelectParams.profileMaterialIndex, (_params, _path) => {\r\n    //         let _currentSelectedModel: CurrentSelectModel = this.dataServer.classesObj.currentSelectModel;\r\n    //         if (_currentSelectedModel.HasModelSelected()) {\r\n    //             let _currentSelectLongObj: any = _currentSelectedModel.GetSelectedLongObj();\r\n    //             _currentSelectLongObj.doorWinFrame.SetFrameModelTexture(_path.path);\r\n    //             _currentSelectLongObj.doorWinFrame.paramsValues.profileMaterialIndex[_modelType] = _path.id;\r\n    //         }\r\n    //     });\r\n\r\n    //     let _profileDataList;\r\n    //     if (_modelType == ModelType.door) {\r\n    //         _profileDataList = this.dataServer.classesObj.profileLoader.GetDoorFrameData().dataList;\r\n    //     } else if (_modelType == ModelType.window) {\r\n    //         _profileDataList = this.dataServer.classesObj.profileLoader.GetWindowFrameData().dataList;\r\n    //     }\r\n    //     let _profileImage = [];\r\n    //     for (let i = 0; i < _profileDataList.length; i++) {\r\n    //         _profileImage.push(_profileDataList[i].imgUrl);\r\n    //     }\r\n    //     this.MakeTextureSelectData(_winDoorTextureData, _profileSelectTitle, _profileImage, _currentSelectParams.profileShapeIndex, (_params, _path) => {\r\n    //         let _currentSelectedModel: CurrentSelectModel = this.dataServer.classesObj.currentSelectModel;\r\n    //         if (_currentSelectedModel.HasModelSelected()) {\r\n    //             let _currentSelectLongObj: any = _currentSelectedModel.GetSelectedLongObj();\r\n    //             let _currentModelType = _currentSelectedModel.GetSelectedModelType();\r\n    //             if (_currentModelType == ModelType.door) {\r\n    //                 _currentSelectLongObj.MakeDoorFrame(_profileDataList[_path.id].vertexData);\r\n    //             } else if (_currentModelType == ModelType.window) {\r\n    //                 _currentSelectLongObj.MakeWinFrame(_profileDataList[_path.id].vertexData);\r\n    //             }\r\n\r\n    //             _currentSelectLongObj.doorWinFrame.paramsValues.profileShapeIndex[_modelType] = _path.id;\r\n    //         }\r\n    //     });\r\n\r\n    //     return _winDoorTextureData;\r\n    // }\r\n\r\n    /**\r\n     * 创建贴图选择数据的自定义函数。====================================================\r\n     * @param _wallData 要被加工的数据。\r\n     * @param _title \r\n     * @param _changableTextures 结构是[\"abc/001.jpg\",\"ccc/002.jpg\"]\r\n     * @param materialIndex 当前的选中的是第几个材质啊？我好在该按钮上显示个外框。\r\n     * @param _onTextureClick \r\n     */\r\n    // private MakeTextureSelectData(_beModifiedData, _title, _changableTextures, materialIndex, _onTextureClick) {\r\n\r\n    //     let _currentSelectedModel: CurrentSelectModel = this.dataServer.classesObj.currentSelectModel;\r\n    //     let _selectModelType: ModelType = _currentSelectedModel.GetSelectedModelType();\r\n\r\n    //     let _slider: any = {};\r\n    //     _slider.type = \"slider\";\r\n    //     _slider.data = [];\r\n    //     let _modelTexture: any = {};\r\n    //     _slider.data.push(_modelTexture);\r\n    //     _modelTexture.name = _title;\r\n    //     _modelTexture.img = [];\r\n    //     // console.log(materialIndex[_selectModelType]);\r\n    //     for (let i = 0; i < _changableTextures.length; i++) {\r\n    //         let oneImage: any = {};\r\n    //         //第一个可选图片默认是选中状态。------------------\r\n    //         if (i == materialIndex[_selectModelType]) {\r\n    //             oneImage.borderClass = true;\r\n    //         }\r\n    //         oneImage.path = _changableTextures[i];\r\n    //         oneImage.func = (_params, _path) => {\r\n    //             _onTextureClick(_params, _path);\r\n    //         }\r\n    //         _modelTexture.img.push(oneImage);\r\n    //     }\r\n    //     _beModifiedData.push(_slider);\r\n    // }\r\n    /**\r\n     * \r\n     * @param _checkedAtFirst 这个地脚线或石灰线刚开始是否勾选上。===========================\r\n     * @param _allProfileData \r\n     * @param textureList \r\n     * @param _wallData 就是要被加工的数据。\r\n     * @param _name \r\n     * @param _modelType 要么是地脚线要么是石灰线。\r\n     * @param _onCheckClick \r\n     * @param _onProfileClick \r\n     * @param _onMaterialClick \r\n     */\r\n    // private MakeProfileSelector(_checkedAtFirst: boolean, _allProfileData, textureList, _currentSelectParams, _wallData, _name, _modelType: ModelType, _onCheckClick, _onProfileClick, _onMaterialClick) {\r\n    //     let _checkObj: any = {};\r\n    //     _checkObj.type = \"check\";\r\n    //     _checkObj.data = {};\r\n    //     _checkObj.data.isCheck = _checkedAtFirst;\r\n    //     _checkObj.data.name = _name;\r\n\r\n    //     //代表哪个墙选择的是哪个剖面。-------------------------------------\r\n    //     let _profileShapeIndex;\r\n    //     //代表哪个墙的剖面线选的是哪个材质。-------------------------------\r\n    //     let _profileMatIndex;\r\n    //     if (_modelType == ModelType.kickLine) {\r\n    //         _profileShapeIndex = _currentSelectParams.kickLineProfileShapeIndex;\r\n    //         _profileMatIndex = _currentSelectParams.kickLineProfileMatIndex;\r\n    //     } else {\r\n    //         _profileShapeIndex = _currentSelectParams.plasterCorniceProfileShapeIndex;\r\n    //         _profileMatIndex = _currentSelectParams.plasterCorniceProfileMatIndex;\r\n    //     }\r\n\r\n\r\n\r\n    //     //点击复选框的时候触发的函数。-----------------------------------\r\n    //     _checkObj.data.func = _onCheckClick;\r\n    //     _checkObj.data.haveSlider = [];\r\n    //     //选择剖面线的轮廓。--------------------------------------------\r\n    //     let _lunKuoTu: any = {};\r\n    //     _lunKuoTu.name = _name + \"轮廓\";\r\n    //     _lunKuoTu.img = [];\r\n    //     _checkObj.data.haveSlider.push(_lunKuoTu);\r\n\r\n    //     for (let i = 0; i < _allProfileData.dataList.length; i++) {\r\n    //         let _oneImage: any = {};\r\n    //         _oneImage.path = _allProfileData.dataList[i].imgUrl;\r\n    //         _oneImage.func = _onProfileClick;\r\n    //         //哪个选项应该是在一个被选择的状态？\r\n    //         if (i == _profileShapeIndex[this.currentSelect.modelType]) {\r\n    //             _oneImage.borderClass = true;\r\n    //         }\r\n    //         _lunKuoTu.img.push(_oneImage);\r\n    //     }\r\n    //     // console.log(_lunKuoTu.img);\r\n    //     //选择剖面线的贴图。----------------------------------------------\r\n    //     let _changableMat: any = {};\r\n    //     _changableMat.name = _name + \"材质\";\r\n    //     _changableMat.img = [];\r\n    //     _checkObj.data.haveSlider.push(_changableMat);\r\n    //     for (let i = 0; i < textureList.length; i++) {\r\n    //         let _oneImage: any = {};\r\n    //         _oneImage.path = textureList[i];\r\n    //         _oneImage.func = _onMaterialClick;\r\n    //         //哪个选项应该是在一个被选择的状态？\r\n    //         if (i == _profileMatIndex[this.currentSelect.modelType]) {\r\n    //             _oneImage.borderClass = true;\r\n    //         }\r\n    //         _changableMat.img.push(_oneImage);\r\n    //     }\r\n    //     _wallData.push(_checkObj);\r\n    // }\r\n\r\n    /**\r\n     * 根据类型为模型获取最原始的贴图的方法。===========================================\r\n     * @param _modelType 要获取初始贴图的那个模型的类型。\r\n     */\r\n    // public GetFirstImageUrlByType(_modelType: ModelType, _index: number) {\r\n    //     let _returnUrl = \"\";\r\n    //     switch (_modelType) {\r\n    //         case ModelType.inWall:\r\n    //         case ModelType.outWall:\r\n    //         case ModelType.startWall:\r\n    //         case ModelType.endWall:\r\n    //             _returnUrl = this.wallImageUrls[_index];\r\n    //             break;\r\n    //         case ModelType.floor:\r\n    //             _returnUrl = this.floorImageUrls[_index];\r\n    //             break;\r\n    //         case ModelType.roof:\r\n    //             _returnUrl = this.roofImageUrls[_index];\r\n    //             break;\r\n    //         case ModelType.kickLine:\r\n    //             _returnUrl = this.kickLineImageUrls[_index];\r\n    //             break;\r\n    //         case ModelType.plasterCornice:\r\n    //             _returnUrl = this.plasterCorniceImageUrls[_index];\r\n    //             break;\r\n    //         case ModelType.window:\r\n    //             _returnUrl = this.winframeImageUrls[_index];\r\n    //             break;\r\n    //         case ModelType.door:\r\n    //             _returnUrl = this.doorframeImageUrls[_index];\r\n    //             break;\r\n    //     }\r\n    //     return _returnUrl;\r\n    // }\r\n\r\n    /**\r\n     * 根据名字获取模型最初始的贴图。==================================================\r\n     * @param _name \r\n     */\r\n    // public GetFirstImageUrlByName(_name) {\r\n    //     let _returnUrl = \"\";\r\n    //     switch (_name) {\r\n    //         //返回窗台大理石的壁纸。----------------------------------------------\r\n    //         case \"windowsill\":\r\n    //             _returnUrl = this.baywinImageUrls[0]\r\n    //             break;\r\n    //     }\r\n    //     return _returnUrl;\r\n    // }\r\n}","/*\r\n 作者：张建。\r\n 类说明：这个类用来管理和射线碰撞的所有模型用的。\r\n*/\r\ndeclare var THREE: any;\r\n\r\nexport class RayhitModelList {\r\n    public theModelList = [];           //所有要和射线发生碰撞的模型都放在这里。\r\n    public bigPlane;                    //地面上无限大的平面。\r\n\r\n    constructor(){\r\n        //把无限大的平面对象创建出来。-------------------------\r\n        this.bigPlane=new THREE.Plane(new THREE.Vector3(0,1,0),0);\r\n    }\r\n\r\n    /**\r\n     * 往列表中添加要跟射线产生碰撞的模型。===========================\r\n     * @param _theModel \r\n     */\r\n    public AddRayHitModel(_theModel: any) {\r\n        if (_theModel.userData.customUserData != undefined) {\r\n            if (this.theModelList.indexOf(_theModel)) {\r\n                this.theModelList.push(_theModel);\r\n                // console.log(this.theModelList.length);\r\n            }\r\n        } else {\r\n            console.error(\"这个模型少了基本资料，不能添加到可碰撞模型列表里。\");\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 把某个模型从碰撞模型列表中删除掉。==============================\r\n     * @param _theModel \r\n     */\r\n    public RemoveRayHitModel(_theModel: any) {\r\n        var _index = this.theModelList.indexOf(_theModel);\r\n        if (_index > -1) {\r\n            this.theModelList.splice(_index, 1);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 根据给出的模型类型返回一个模型数组。\r\n     * @param _typeArray 里面的结构类似于[ModelType.door,ModelType.window]\r\n     */\r\n    public GetRayHitModelListByModelType(_typeArray) {\r\n        let _returnArray = [];\r\n        for (let i = 0; i < this.theModelList.length; i++) {\r\n            let _theModelType = this.theModelList[i].userData.customUserData.modelType;\r\n            if (_typeArray.indexOf(_theModelType) != -1) {\r\n                _returnArray.push(this.theModelList[i]);\r\n            }\r\n        }\r\n        return _returnArray;\r\n    }\r\n}","\r\n/*\r\n 作者：张建。\r\n 类说明：这个类专门用来处理鼠标单击的事件。\r\n*/\r\nimport { THREEDataServer } from './THREEDataServer';\r\nimport { EventData, CustomUserData, ModelType } from './dataStruct';\r\nimport { MyUtil } from './MyUtil';\r\nimport { JdesignDataService } from '../../services/jdesign-data.service';\r\nimport { PopDivService } from '../../services/pop-div.service';\r\nimport { JWin3D } from '../jDesign3D/JWin3D';\r\nimport { JDoor3D } from '../jDesign3D/JDoor3D';\r\nimport { JFurniture3D } from '../jDesign3D/JFurniture3D';\r\nimport { JCornerWin3D } from '../jDesign3D/JCornerWin3D';\r\nimport { JBuild3D } from '../jDesign3D/JBuild3D';\r\n\r\ndeclare var THREE: any;\r\nexport class Rayhitter {\r\n    private cancelMouseUpRayHit = false;     //是否取消射线撞击模型？一般在拖动了鼠标后就取消掉。\r\n    // private leftMouseIsDown = false;         //左键是否按下去了？主要用来检测拖拽鼠标。\r\n\r\n    private dataServer: THREEDataServer = null;\r\n    private popServer: PopDivService;\r\n    private jDataServer: JdesignDataService;\r\n    public rayHitModels = {\r\n        mouseDownDoorWinFurniture: null,                      //鼠标按下去的时候被单击的门窗。-------------\r\n        mouseDownDoorWinFurnitureOffset: null,                //鼠标按下去的时候门或窗或家具的位置与单击点的偏移。--------\r\n        mouseDownFloorWallRoofId: null,                          //鼠标单击下去的时候击中的墙门天花板的iD号。--------------\r\n    }\r\n\r\n    private neverConsiderOffset: boolean = false;                   //在移动模型的时候不考虑偏移了。\r\n\r\n\r\n\r\n    constructor(_dataServer: THREEDataServer,  _jDataServer: JdesignDataService, _popServer: PopDivService) {\r\n        this.dataServer = _dataServer;\r\n        this.popServer = _popServer;\r\n        this.jDataServer = _jDataServer;\r\n\r\n       \r\n\r\n        //为在屏幕操作摄像机开始绑定事件。---------------------------------------------\r\n        let mousedownEvent: EventData = MyUtil.MakeMouseEvent(this.OnMouseDown, this);\r\n        this.dataServer.classesObj.canvasEventMaster.mouseDownEvents.push(mousedownEvent);\r\n        let mousemoveEvent: EventData = MyUtil.MakeMouseEvent(this.OnMouseMove, this);\r\n        this.dataServer.classesObj.canvasEventMaster.mouseMoveEvents.push(mousemoveEvent);\r\n        let mouseupEvent: EventData = MyUtil.MakeMouseEvent(this.OnMouseUp, this);\r\n        this.dataServer.classesObj.canvasEventMaster.mouseUpEvents.push(mouseupEvent);\r\n    }\r\n\r\n    private OnMouseDown(_ev, _scope: Rayhitter) {\r\n        if (_ev.button == 0) {\r\n            _scope.cancelMouseUpRayHit = false;\r\n            _scope.dataServer.params.leftMouseIsDown = true;\r\n            _scope.neverConsiderOffset = false;\r\n\r\n            let _3dCamera = _scope.jDataServer.camera._3Dcamera;\r\n            //记录下单击下鼠标的时候被击中的门窗和家具和飘窗的模型。----------------------------------------------------------------\r\n            //----------------------------------------------------------------------------------------------------\r\n            //----------------------------------------------------------------------------------------------------\r\n            let _winDoormodelList = _scope.dataServer.classesObj.rayHitModelList.GetRayHitModelListByModelType([ModelType.door, ModelType.window, ModelType.furniture, ModelType.build, ModelType.normalBayWindow]);\r\n            MyUtil.ShootRayToModel(\r\n                _scope.dataServer,\r\n                new THREE.Vector2(_ev.offsetX, _ev.offsetY),\r\n                _3dCamera,\r\n                _winDoormodelList,\r\n                false,\r\n                (_beHitModel) => {\r\n                    _scope.rayHitModels.mouseDownDoorWinFurniture = _beHitModel;\r\n                },\r\n                () => {\r\n                    _scope.rayHitModels.mouseDownDoorWinFurniture = null;\r\n                }\r\n            )\r\n            //发出一条射线，检测和墙体，地板天花板的碰撞。--------------------------------------------------\r\n            //------------------------------------------------------------------------------------------\r\n            //------------------------------------------------------------------------------------------\r\n            if (_scope.rayHitModels.mouseDownDoorWinFurniture != null) {\r\n                let _wallFloormodelList = _scope.dataServer.classesObj.rayHitModelList.GetRayHitModelListByModelType([ModelType.inWall, ModelType.outWall, ModelType.floor, ModelType.roof]);\r\n                MyUtil.ShootRayToModel(\r\n                    _scope.dataServer,\r\n                    new THREE.Vector2(_ev.offsetX, _ev.offsetY),\r\n                    _3dCamera,\r\n                    _wallFloormodelList,\r\n                    true,\r\n                    (_beHitModel, _hitPoint) => {\r\n                        //鼠标按下去的时候被单击中的墙和地板和天花板。--------------------------------\r\n                        if (_beHitModel != null) {\r\n                            _scope.rayHitModels.mouseDownFloorWallRoofId = MyUtil.GetMeshLongObj(_beHitModel).id;\r\n                        } else {\r\n                            _scope.rayHitModels.mouseDownFloorWallRoofId = \"bigPlane\";\r\n                        }\r\n\r\n                        _scope.rayHitModels.mouseDownDoorWinFurnitureOffset = _scope.rayHitModels.mouseDownDoorWinFurniture.position.clone().sub(_hitPoint);\r\n                    },\r\n                    () => {\r\n\r\n                    }\r\n                )\r\n            }\r\n\r\n            //单击下去，模型创建成功。-------------------------------------------------------------\r\n            //----------------------------------------------------------------------------------\r\n            if (_scope.dataServer.creatingLongObj != null) {\r\n                //放置好家具模型。-------------------------------------------------------\r\n                if (_scope.dataServer.creatingLongObj.type == \"furniture\") {\r\n                    _scope.jDataServer.cache.furniture.moveEnd(_scope.dataServer.creatingLongObj);\r\n                }\r\n                //放置好烟道模型。-------------------------------------------------------\r\n                if (_scope.dataServer.creatingLongObj.type == \"build\") {\r\n                    _scope.jDataServer.cache.build.moveEnd(_scope.dataServer.creatingLongObj);\r\n                }\r\n                //放置好门窗模型。--------------------------------------------------------\r\n                if (_scope.dataServer.creatingLongObj.type == \"win\" || _scope.dataServer.creatingLongObj.type == \"door\") {\r\n                    _scope.jDataServer.cache.doorWin.moveEnd(_scope.dataServer.creatingLongObj);\r\n                }\r\n                //放置好转角飘窗模型。-----------------------------------------------------\r\n                if (_scope.dataServer.creatingLongObj.type == \"cornerWin\") {\r\n                    _scope.jDataServer.cache.cornerWin.moveEnd(_scope.dataServer.creatingLongObj);\r\n                }\r\n                _scope.dataServer.creatingLongObj = null;\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n\r\n    private OnMouseMove(_ev, _scope: Rayhitter) {\r\n        //鼠标移动了一下，就认为你不是要单击模型，而是要旋转视图。\r\n        _scope.cancelMouseUpRayHit = true;\r\n        let _3dCamera = _scope.jDataServer.camera._3Dcamera;\r\n        //如果是左键拖拽鼠标的话。----------------------------------------------------\r\n        if (_scope.dataServer.params.leftMouseIsDown == true) {\r\n            //console.log(\"1\")\r\n            if (_scope.rayHitModels.mouseDownDoorWinFurniture != null) {\r\n                // console.log(\"2\")\r\n                //还要保证没有击中移动旋转工具，才能在屏幕中随意拖动哦。-----------------------------\r\n                if (_scope.dataServer.classesObj.modelTransformer.mouseDownHitModel == null) {\r\n                    // console.log(\"3\")\r\n                    let _mouseDownModelID = MyUtil.GetMeshLongObj(_scope.rayHitModels.mouseDownDoorWinFurniture).id;\r\n                    let _currentSelectModelID = _scope.dataServer.classesObj.currentSelectModel.GetSelectModelID();\r\n                    // console.log(_mouseDownModelID)\r\n                    // console.log(_currentSelectModelID)\r\n                    if (_mouseDownModelID == _currentSelectModelID) {\r\n                        //console.log(\"4\")\r\n                        //开始检测与墙壁地板的碰撞。------------------------------------------------------------------------------\r\n                        //----------------------------------------------------------------------------------------------------\r\n                        //----------------------------------------------------------------------------------------------------\r\n                        let _wallFloormodelList = _scope.dataServer.classesObj.rayHitModelList.GetRayHitModelListByModelType([ModelType.inWall, ModelType.outWall, ModelType.floor, ModelType.roof]);\r\n                        MyUtil.ShootRayToModel(\r\n                            _scope.dataServer,\r\n                            new THREE.Vector2(_ev.offsetX, _ev.offsetY),\r\n                            _3dCamera,\r\n                            _wallFloormodelList,\r\n                            true,\r\n                            (_beHitModel, _hitPoint) => {\r\n                                let _currentID;\r\n                                if (_beHitModel != null) {\r\n                                    _currentID = MyUtil.GetMeshLongObj(_beHitModel).id;                                    //当前的墙或者地板或者天花板的id。\r\n                                } else {\r\n                                    _currentID = \"bigPlane\";\r\n                                }\r\n                                //计算鼠标单击点和模型实际位置的偏移。-------------------------------\r\n                                let _modelPlacePos;\r\n                                if (_currentID == _scope.rayHitModels.mouseDownFloorWallRoofId && _scope.neverConsiderOffset == false) {\r\n                                    _modelPlacePos = _hitPoint.clone().add(_scope.rayHitModels.mouseDownDoorWinFurnitureOffset);\r\n                                } else {\r\n                                    _modelPlacePos = _hitPoint;\r\n                                    _scope.neverConsiderOffset = true;\r\n                                }\r\n\r\n                                let _selectLongObj = _scope.dataServer.classesObj.currentSelectModel.GetSelectedLongObj();\r\n                                //如果是门窗或者飘窗的话。则移动门窗和飘窗。--------------------------------------\r\n                                let _currentSelectModelType: ModelType = _scope.dataServer.classesObj.currentSelectModel.GetSelectedModelType();\r\n                                if (_currentSelectModelType == ModelType.door || _currentSelectModelType == ModelType.window || _currentSelectModelType == ModelType.normalBayWindow) {\r\n                                    _scope.jDataServer.cache.doorWin.move(_selectLongObj, { x: _modelPlacePos.x, y: _modelPlacePos.z });\r\n                                }\r\n\r\n                                //如果是家具的话。则移动家具。----------------------------------------\r\n                                if (_currentSelectModelType == ModelType.furniture) {\r\n                                    _scope.jDataServer.cache.furniture.move(_selectLongObj, { x: _modelPlacePos.x, y: _modelPlacePos.z });\r\n                                }\r\n                                //如果是烟道模型的话，则移动烟道。-----------------------------------\r\n                                if (_currentSelectModelType == ModelType.build) {\r\n                                    _scope.jDataServer.cache.build.move(_selectLongObj, { x: _modelPlacePos.x, y: _modelPlacePos.z });\r\n                                }\r\n                            },\r\n                            () => {\r\n\r\n                            }\r\n                        )\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n        //如果是纯粹在画布移动鼠标的话。-------------------------------------------------------------\r\n        //----------------------------------------------------------------------------------------\r\n        //----------------------------------------------------------------------------------------\r\n        else {\r\n\r\n            //如果是正在创建模型的话。\r\n\r\n            if (_scope.dataServer.creatingLongObj != null) {\r\n\r\n                //如果当前正好是创建模型的时候。--------------------------------------------\r\n                if (_scope.jDataServer.cache.floorplan.createAndMove == true) {\r\n\r\n                    //正在创建的模型\r\n                    let _createModelPos = null;\r\n                    //创建模型的时候，先检测和墙有没有碰撞，如果有碰撞，先把模型吸附到墙上。------------------------------------\r\n                    let _wallList = _scope.dataServer.classesObj.rayHitModelList.GetRayHitModelListByModelType([ModelType.inWall, ModelType.outWall]);\r\n                    MyUtil.ShootRayToModel(\r\n                        _scope.dataServer,\r\n                        new THREE.Vector2(_ev.offsetX, _ev.offsetY),\r\n                        _3dCamera,\r\n                        _wallList,\r\n                        true,\r\n                        (_beHitModel, _hitPoint) => {\r\n                            _createModelPos = _hitPoint;\r\n                        },\r\n                        () => {\r\n\r\n                        }\r\n                    )\r\n\r\n\r\n                    //如果在创建模型的时候，跟大平面或者墙面产生碰撞。则开始放置模型。--------------------------\r\n                    if (_createModelPos != null) {\r\n                        console.log(\"ok\")\r\n                        //如果新创建的是家具的话，则移动家具。------------------------------------\r\n                        if (_scope.dataServer.creatingLongObj.type == \"furniture\") {\r\n                            _scope.jDataServer.cache.furniture.move(_scope.dataServer.creatingLongObj, { x: _createModelPos.x, y: _createModelPos.z });\r\n                        }\r\n                        //如果新创建的是烟道的话，则移动烟道。------------------------------------\r\n                        if (_scope.dataServer.creatingLongObj.type == \"build\") {\r\n                            _scope.jDataServer.cache.build.move(_scope.dataServer.creatingLongObj, { x: _createModelPos.x, y: _createModelPos.z });\r\n                        }\r\n                        //如果新创建的是门窗的话，则移动门窗。-------------------------------------\r\n                        if (_scope.dataServer.creatingLongObj.type == \"win\" || _scope.dataServer.creatingLongObj.type == \"door\") {\r\n                            _scope.jDataServer.cache.doorWin.move(_scope.dataServer.creatingLongObj, { x: _createModelPos.x, y: _createModelPos.z });\r\n                        }\r\n                        //如果新创建的是转角飘窗，则移动转角飘窗。---------------------------------\r\n                        if (_scope.dataServer.creatingLongObj.type == \"cornerWin\") {\r\n                            _scope.jDataServer.cache.cornerWin.move(_scope.dataServer.creatingLongObj, { x: _createModelPos.x, y: _createModelPos.z });\r\n                        }\r\n                    }\r\n                }\r\n                //如果是阿隆那边创建好了模型的话。--------------------------------------------------\r\n                else {\r\n                    _scope.dataServer.creatingLongObj = null;\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n    //鼠标弹起的时候触发的函数。========================================================================\r\n    private OnMouseUp(_ev, _scope: Rayhitter) {\r\n        if (_ev.button == 0) {\r\n            _scope.dataServer.params.leftMouseIsDown = false;\r\n            if (_scope.cancelMouseUpRayHit == true) {\r\n                return;\r\n            }\r\n            let _3dCamera = _scope.jDataServer.camera._3Dcamera;\r\n            let _modelList = _scope.dataServer.classesObj.rayHitModelList.theModelList;\r\n            MyUtil.ShootRayToModel(\r\n                _scope.dataServer,\r\n                new THREE.Vector2(_ev.offsetX, _ev.offsetY),\r\n                _3dCamera,\r\n                _modelList,\r\n                false,\r\n                (_beHitModel) => {\r\n                    _scope.OnModelHit(_beHitModel);\r\n                },\r\n                () => {\r\n                    _scope.jDataServer.cache.common.choose = _scope.jDataServer.floorplan;\r\n                    _scope.OnNothingHit();\r\n                }\r\n            )\r\n        }\r\n    }\r\n\r\n    //当某个模型被单击中的时候触发的函数。=======================================================\r\n    private OnModelHit(_beHitModel) {\r\n        //设置当前选择的模型就是被击中的模型。-------------------------------\r\n        this.dataServer.classesObj.currentSelectModel.Select(_beHitModel);\r\n        let _longObj = this.dataServer.classesObj.currentSelectModel.GetSelectedLongObj();\r\n        //触发对应的对象的被选择动作。-------------------------\r\n        _longObj.OnSelected();\r\n\r\n\r\n\r\n        //对二维图形进行相应的选择。---------------------------\r\n        this.jDataServer.cache.common.choose = _longObj;\r\n\r\n        /*\r\n        //设置无敌大平面的位置。------------------------------------------------------------------------------------------------------------\r\n        this.dataServer.classesObj.rayHitModelList.bigPlane.setFromNormalAndCoplanarPoint(new THREE.Vector3(0, 1, 0), _beHitModel.position);\r\n        // let helper = new THREE.PlaneHelper(this.dataServer.classesObj.rayHitModelList.bigPlane, 500000, 0xff0000);\r\n        // this.dataServer.sceneCommonObj.scene.add(helper);\r\n        let _currentHitModelType = this.dataServer.classesObj.currentSelectModel.GetSelectedModelType();\r\n        //下面这些类型的模型需要有模型选择框的。---------------------------\r\n        let _needWireFrameModelType = [\r\n            ModelType.endWall,\r\n            ModelType.floor,\r\n            ModelType.inWall,\r\n            ModelType.outWall,\r\n            ModelType.startWall,\r\n            ModelType.roof\r\n        ]\r\n\r\n        //创建模型被选中时候的选择框。在模型被选择的时候显示--------------------------------\r\n        if (_needWireFrameModelType.indexOf(_currentHitModelType) != -1) {\r\n            let _beHitModelCustomData: CustomUserData = _beHitModel.userData.customUserData;\r\n            let _wireSelectedPoints = _beHitModelCustomData.wireSelectedPoints;\r\n            this.dataServer.classesObj.wireSelectFrame.MakeWireSelectFrame(_wireSelectedPoints);\r\n        } else {\r\n            //点击中不需要模型选择框的模型的时候把模型选择框销毁掉。-------------------------\r\n            this.dataServer.classesObj.wireSelectFrame.destory3D();\r\n        }\r\n\r\n        //下面这些类型的模型需要显示盒子状的选择框。--------------------------\r\n        let _needWireBoxModelType = [\r\n            ModelType.door,\r\n            ModelType.window,\r\n            ModelType.furniture\r\n        ]\r\n        this.HideDoorWindowFurnitureSelectFrame();\r\n\r\n\r\n        //如果单击中了门窗家具的模型。-----------------------------------------------------------\r\n        //-------------------------------------------------------------------------------------\r\n        //-------------------------------------------------------------------------------------\r\n        if (_needWireBoxModelType.indexOf(_currentHitModelType) != -1) {\r\n            _longObj.ShowWireFrame(true);\r\n\r\n        }\r\n        //如果单击中门窗家具以外的模型。-----------------------------------------------------------\r\n        else {\r\n\r\n        }\r\n\r\n\r\n        //下面的模型是有移动旋转工具的。-----------------------------------------------------------\r\n        let _transformerbleModelType = [\r\n            ModelType.window,\r\n            ModelType.furniture,\r\n            ModelType.door\r\n        ];\r\n        if (_transformerbleModelType.indexOf(_currentHitModelType) != -1) {\r\n            //家具门和窗都把移动旋转工具显示出来。------------------------------------------------\r\n            this.dataServer.classesObj.modelTransformer.SetEnable(true);\r\n            //设置当前被控制模型为被单击的模型。--------------------------------------------------\r\n            this.dataServer.classesObj.modelTransformer.SetControlModel(_beHitModel);\r\n            //设置移动旋转工具的位置。-----------------------------------------------------------\r\n\r\n            this.dataServer.classesObj.modelTransformer.SetTransformerPos(_beHitModel.position);\r\n            //家具模型可以使用移动旋转工具的旋转和垂直移动功能。-----------------------------------\r\n            if (_currentHitModelType == ModelType.furniture) {\r\n                this.dataServer.classesObj.modelTransformer.SetRotatable(true);\r\n                this.dataServer.classesObj.modelTransformer.SetVerticalMovable(true);\r\n            }\r\n            //窗户模型不可以使用移动旋转工具的旋转功能。但是可以使用垂直移动功能。--------------------------\r\n            else if (_currentHitModelType == ModelType.window) {\r\n                this.dataServer.classesObj.modelTransformer.SetRotatable(false);\r\n                this.dataServer.classesObj.modelTransformer.SetVerticalMovable(true);\r\n            }\r\n            //门既不能用旋转功能，也不能用垂直移动功能。-------------------------------------------------\r\n            else if (_currentHitModelType == ModelType.door) {\r\n                this.dataServer.classesObj.modelTransformer.SetRotatable(false);\r\n                this.dataServer.classesObj.modelTransformer.SetVerticalMovable(false);\r\n            }\r\n        } else {\r\n            this.dataServer.classesObj.modelTransformer.SetEnable(false);\r\n            this.dataServer.classesObj.modelTransformer.ClearControlModel();\r\n        }\r\n\r\n\r\n        let _currentSelectParams = this.dataServer.classesObj.currentSelectModel.GetSelectedModelParamsValues();\r\n        //做模型被选中时候右边显示的属性面板。-------------------------------\r\n        let PanelData;\r\n        switch (this.dataServer.classesObj.currentSelectModel.GetSelectedModelType()) {\r\n            case ModelType.inWall:\r\n            case ModelType.outWall:\r\n            case ModelType.startWall:\r\n            case ModelType.endWall:\r\n                PanelData = this.dataServer.classesObj.propertiesMenuData.MakeWallData(_currentSelectParams);\r\n                break;\r\n            case ModelType.floor:\r\n                PanelData = this.dataServer.classesObj.propertiesMenuData.MakeFloorData(_currentSelectParams);\r\n                break;\r\n            case ModelType.roof:\r\n                PanelData = this.dataServer.classesObj.propertiesMenuData.MakeRoofData(_currentSelectParams);\r\n                break;\r\n            case ModelType.door:\r\n                PanelData = this.dataServer.classesObj.propertiesMenuData.MakeWinDoorData(_currentSelectParams, \"门框贴图\", \"门框轮廓线\", ModelType.door);\r\n                break;\r\n            case ModelType.window:\r\n                PanelData = this.dataServer.classesObj.propertiesMenuData.MakeWinDoorData(_currentSelectParams, \"窗框贴图\", \"窗框轮廓线\", ModelType.window);\r\n                break;\r\n\r\n        }\r\n        this.popServer.panelRight.emit(PanelData);\r\n        */\r\n    }\r\n\r\n    //当什么东西都没有单击中的时候触发的函数。======================================================\r\n    public OnNothingHit() {\r\n        //把模型选中的时候显示的选择框销毁掉。------------------------------\r\n        this.dataServer.classesObj.wireSelectFrame.destory3D();\r\n        //设置当前没有任何模型被选择。--------------------------------------\r\n        this.dataServer.classesObj.currentSelectModel.DeselectAll();\r\n        //\r\n        this.HideDoorWindowFurnitureSelectFrame();\r\n        //右边属性面板什么都没有。------------------------------------------\r\n        //this.popServer.panelRight.emit([]);\r\n        //把移动旋转工具全部取消激活。--------------------------------------\r\n        this.dataServer.classesObj.modelTransformer.SetEnable(false);\r\n        //清空移动旋转工具的当前控制模型。----------------------------------\r\n        this.dataServer.classesObj.modelTransformer.ClearControlModel();\r\n\r\n\r\n    }\r\n\r\n    /**\r\n     * 把所有的门窗选择框都取消显示。================================================================\r\n     */\r\n    public HideDoorWindowFurnitureSelectFrame() {\r\n        //获取场景里的所有窗户和普通飘窗对象。------------------------------------------\r\n        let _allWindowInScene: JWin3D[] = <JWin3D[]>this.jDataServer.doWins().arr();\r\n        for (let i = 0; i < _allWindowInScene.length; i++) {\r\n            _allWindowInScene[i].ShowWireFrame(false);\r\n        }\r\n        //获取场景里的所有门对象。------------------------------------------\r\n        let _allDoorInScene: JDoor3D[] = <JDoor3D[]>this.jDataServer.doDoors().arr();\r\n        for (let i = 0; i < _allDoorInScene.length; i++) {\r\n            _allDoorInScene[i].ShowWireFrame(false);\r\n        }\r\n        //获取场景里的所有家具对象。------------------------------------------\r\n        let _allFurnitureInScene: JFurniture3D[] = <JFurniture3D[]>this.jDataServer.doFurnitures().arr();\r\n        for (let i = 0; i < _allFurnitureInScene.length; i++) {\r\n            _allFurnitureInScene[i].ShowWireFrame(false);\r\n        }\r\n        //获取场景里的所有烟道对象。------------------------------------------\r\n        let _allBuildInScene: JBuild3D[] = <JBuild3D[]>this.jDataServer.doBuilds().arr();\r\n        for (let i = 0; i < _allBuildInScene.length; i++) {\r\n            _allBuildInScene[i].ShowWireFrame(false);\r\n        }\r\n        //获取场景里的所有转角飘窗对象。------------------------------------------\r\n        let _allCornerwinInScene: JCornerWin3D[] = <JCornerWin3D[]>this.jDataServer.doCornerWins().arr();\r\n        for (let i = 0; i < _allCornerwinInScene.length; i++) {\r\n            _allCornerwinInScene[i].ShowWireFrame(false);\r\n        }\r\n    }\r\n}","/*\r\n 作者：张建。\r\n 类说明：这个类是用来创建最基本的三维场景的。\r\n*/\r\nimport { THREEDataServer } from './THREEDataServer';\r\nimport { JdesignDataService } from '../../services/jdesign-data.service';\r\nimport { JdesignUtil2dService } from '../../services/jdesign-util2d.service';\r\ndeclare var THREE: any;\r\n\r\nexport class SceneMaker {\r\n\r\n\r\n\r\n    constructor(private dataServer: THREEDataServer, private jDataServer: JdesignDataService, private JDUServer: JdesignUtil2dService) {\r\n        this.jDataServer.cache.AnimationFuncs.push(() => {\r\n            this.AnimateScene();\r\n\r\n        })\r\n    }\r\n    /**\r\n     * 开始初始化场景。\r\n     */\r\n    StartScene() {\r\n\r\n        if (this.JDUServer.obj.getQueryString('quality') == \"0\") {\r\n            this.dataServer.params.lowQuality = true;\r\n        }\r\n\r\n        this.dataServer.sceneCommonObj.mainCanvas = document.getElementById(\"mainCanvas\");\r\n        let _webGLParams: any = { canvas: this.dataServer.sceneCommonObj.mainCanvas };\r\n        if (this.dataServer.params.lowQuality == false) {\r\n            _webGLParams.antialias = true;\r\n        }\r\n        //设置renderer。\r\n        this.dataServer.sceneCommonObj.renderer = new THREE.WebGLRenderer(_webGLParams);\r\n        this.dataServer.sceneCommonObj.renderer.setClearColor(0xabcdef);\r\n\r\n        this.dataServer.sceneCommonObj.renderer.setPixelRatio(window.devicePixelRatio);\r\n\r\n        //this.dataServer.sceneCommonObj.renderer.setPixelRatio(window.devicePixelRatio);\r\n\r\n        //设置scene。\r\n        this.dataServer.sceneCommonObj.scene = new THREE.Scene();\r\n\r\n\r\n        //新建一个正方体。\r\n        let cube = new THREE.Mesh(new THREE.CubeGeometry(1, 1, 1),//长方体的长宽高分别是1,1,1\r\n            new THREE.MeshPhongMaterial({\r\n                color: 0xabcdef\r\n            })\r\n        );\r\n        this.dataServer.sceneCommonObj.scene.add(cube);\r\n        //添加上一盏灯光。\r\n        let directionalLight = new THREE.DirectionalLight(0xffffff, 0.4);\r\n        directionalLight.position.set(5, 5, 5);\r\n        this.dataServer.sceneCommonObj.scene.add(directionalLight);\r\n        //打上第二盏灯光。\r\n        let directionalLight2 = new THREE.DirectionalLight(0xffffff, 0.6);\r\n        directionalLight2.position.set(-5, 5, 5);\r\n        this.dataServer.sceneCommonObj.scene.add(directionalLight2);\r\n        //打上第三盏灯光。\r\n        let directionalLight3 = new THREE.DirectionalLight(0xffffff, 0.3);\r\n        directionalLight3.position.set(-5, 5, -5);\r\n        this.dataServer.sceneCommonObj.scene.add(directionalLight3);\r\n        //打上第四盏灯光。\r\n        let directionalLight4 = new THREE.DirectionalLight(0xffffff, 0.2);\r\n        directionalLight3.position.set(5, 5, -5);\r\n        this.dataServer.sceneCommonObj.scene.add(directionalLight4);\r\n        //打上第五盏灯光。\r\n        let directionalLight5 = new THREE.DirectionalLight(0xffffff, 0.2);\r\n        directionalLight3.position.set(0, -5, 0);\r\n        this.dataServer.sceneCommonObj.scene.add(directionalLight5);\r\n\r\n        //从外面读取图片构建天空盒对象。--------------------------------------------------------------------\r\n        let _cubeTexture = this.dataServer.loaders.cubeMapLoader.setPath('./assets/threeAssets/maps/skyBox/')   //设置好路径，后面的贴图就只要写贴图的名字就行了。\r\n            .load([\r\n                'px.jpg',\r\n                'nx.jpg',\r\n                'py.jpg',\r\n                'ny.jpg',\r\n                'pz.jpg',\r\n                'nz.jpg'\r\n            ]);\r\n\r\n        //利用cubeMap来创建skybox;\r\n        let _skyShader = THREE.ShaderLib[\"cube\"];\r\n        _skyShader.uniforms[\"tCube\"].value = _cubeTexture;\r\n        var material = new THREE.ShaderMaterial({\r\n            fragmentShader: _skyShader.fragmentShader,\r\n            vertexShader: _skyShader.vertexShader,\r\n            uniforms: _skyShader.uniforms,\r\n            side: THREE.BackSide\r\n        });\r\n        var skyBox = new THREE.Mesh(new THREE.BoxGeometry(1000000, 1000000, 1000000), material);\r\n        this.dataServer.sceneCommonObj.scene.add(skyBox);\r\n\r\n        //在场景里加入环境光。\r\n        var ambientLight = new THREE.AmbientLight(0x555555);\r\n        this.dataServer.sceneCommonObj.scene.add(ambientLight);\r\n\r\n    }\r\n\r\n\r\n    /**\r\n         * 一帧帧调用的动画帧。\r\n         */\r\n    AnimateScene() {\r\n        if (this.jDataServer.camera._3Dcamera != undefined) {\r\n            this.dataServer.sceneCommonObj.renderer.render(this.dataServer.sceneCommonObj.scene, this.jDataServer.camera._3Dcamera);\r\n        }\r\n    }\r\n    /**\r\n     * 用来做画布缩放用的。在程序一运行的时候也会触发一次。=========================================================\r\n     */\r\n    ResizeScene(_sizeData) {\r\n\r\n        if (this.jDataServer.camera._3Dcamera != undefined) {\r\n            this.jDataServer.camera._3Dcamera.aspect = _sizeData.width / _sizeData.height;\r\n            this.jDataServer.camera._3Dcamera.updateProjectionMatrix();\r\n        }\r\n        //根据不同的性能要求决定渲染图的分辨率。---------------------------------------\r\n        let _chuShu = 1.0;\r\n        if (this.dataServer.params.lowQuality == true) {\r\n            _chuShu = 3.0;\r\n        }\r\n        this.dataServer.sceneCommonObj.renderer.setPixelRatio(window.devicePixelRatio);\r\n        this.dataServer.sceneCommonObj.renderer.setSize(_sizeData.width / window.devicePixelRatio / _chuShu, _sizeData.height / window.devicePixelRatio / _chuShu);\r\n\r\n        this.dataServer.sceneCommonObj.mainCanvas.style.width = _sizeData.width + \"px\";\r\n        this.dataServer.sceneCommonObj.mainCanvas.style.height = _sizeData.height + \"px\";\r\n    }\r\n}","/*\r\n 作者：张建。\r\n 类说明：这个是我自己使用的数据层，用来存放一切我自己使用的数据。\r\n*/\r\nimport { Injectable } from '@angular/core';\r\nimport { ClassesObj, SceneCommonObj, AllLoaders } from './dataStruct';\r\nimport { RayhitModelList } from './RayhitModelList';\r\nimport { WireSelectFrame } from './WireSelectFrame';\r\nimport { PropertiesMenuData } from './PropertiesMenuData';\r\nimport { CurrentSelectModel } from './CurrentSelectModel';\r\nimport { BoxMaker } from './BoxMaker';\r\nimport { ExtrueModelMaker } from './ExtrueModelMaker';\r\nimport { HGWardrobeLoader } from './HGModel/HGWardrobeLoader';\r\ndeclare var THREE: any;\r\n\r\n@Injectable()\r\nexport class THREEDataServer {\r\n    //3d场景里常用的东西。\r\n    public sceneCommonObj: SceneCommonObj = {\r\n        mainCanvas: null,\r\n        renderer: null,\r\n        scene: null\r\n    }\r\n\r\n    //所有的单例模式的类的对象都放这里。\r\n    public classesObj: ClassesObj = {\r\n        sceneMaker: null,                         //用来构建场景的对象。\r\n        canvasEventMaster: null,                  //用来处理绑定在画布上的所有事件的对象。\r\n        rayHitter: null,                          //用来处理模型的鼠标单击的事件的对象。\r\n        rayHitModelList: new RayhitModelList(),   //用来管理所有需要和射线发生碰撞的模型。\r\n        wireSelectFrame: new WireSelectFrame(this),\r\n        propertiesMenuData: new PropertiesMenuData(),\r\n        currentSelectModel: new CurrentSelectModel(),\r\n        profileLoader: null,\r\n        boxMaker: new BoxMaker(),                  //用来创建一个box模型的对象。\r\n        extrudeModelMaker: new ExtrueModelMaker(),      //用来创建一个挤出的模型的对象。\r\n        modelTransformer: null,                    //用来做模型旋转移动的专用工具。\r\n    }\r\n\r\n    public canvasSize = null;          //当前的画布的长宽。里面有个width有个height\r\n    public creatingLongObj = null;       //正在创建的杨振龙的对象，可以是窗对象，门对象或者家具对象。\r\n\r\n    //各种加载器。\r\n    public loaders: AllLoaders = {\r\n        textureLoader: new THREE.TextureLoader(),\r\n        fileLoader: new THREE.FileLoader(),\r\n        daeLoader: new THREE.ColladaLoader(),\r\n        cubeMapLoader: new THREE.CubeTextureLoader(),\r\n        wardrobeLoader:null\r\n    }\r\n\r\n    //其它的一些参数。=============================================================\r\n    public params = {\r\n        lowQuality: false,               //杨俊龙需要使用低质量的模式进行调试。是否使用低质量进行渲染？\r\n        leftMouseIsDown: false\r\n    }\r\n\r\n    //用来做射线碰撞的一些对象。=====================================================\r\n    public rayhitObjs = {\r\n        raycaster: new THREE.Raycaster(),\r\n        rayHitMousePos: new THREE.Vector2()\r\n    }\r\n\r\n    constructor() {\r\n        // this.loaders.daeLoader.options.convertUpAxis = true;\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n}","import { THREEDataServer } from \"./THREEDataServer\";\r\ndeclare var THREE: any;\r\n/*\r\n 作者：张建。\r\n 类说明：这个主要是用来做模型的面被选择的时候的选择框用的。\r\n*/\r\nexport class WireSelectFrame {\r\n    private wireMesh = null;\r\n    private wireGeometry = null;\r\n    private dataServer: THREEDataServer = null;\r\n    private lineMat = null;\r\n\r\n    constructor(_dataServer: THREEDataServer) {\r\n        this.dataServer = _dataServer;\r\n        this.lineMat = new THREE.LineBasicMaterial({\r\n            color: 0xffff00,\r\n            depthTest: false,\r\n            depthWrite: false,\r\n        });\r\n    }\r\n\r\n    public MakeWireSelectFrame(_pointList) {\r\n        //先把前面的销毁掉把。------------------------\r\n        this.destory3D();\r\n        \r\n        this.wireGeometry = new THREE.Geometry();\r\n        for (let i = 0; i < _pointList.length; i++) {\r\n            this.wireGeometry.vertices.push(_pointList[i]);\r\n        }\r\n        //再加个起点，好成为一个闭合的四边形。\r\n        this.wireGeometry.vertices.push(_pointList[0]);\r\n        this.wireMesh = new THREE.Line(this.wireGeometry, this.lineMat);\r\n        this.wireMesh.renderOrder = 100000000;\r\n        this.dataServer.sceneCommonObj.scene.add(this.wireMesh);\r\n\r\n    }\r\n    /**\r\n     * 把这个模型选择框销毁掉。\r\n     */\r\n    public destory3D(){\r\n        if(this.wireMesh!=null){\r\n            this.dataServer.sceneCommonObj.scene.remove(this.wireMesh);\r\n            this.wireMesh.material.dispose();\r\n            this.wireMesh=null;\r\n        }\r\n        if(this.wireGeometry!=null){\r\n            this.wireGeometry.dispose();\r\n            this.wireGeometry=null;\r\n        }\r\n    }\r\n}","/*\r\n 作者：张建。\r\n 类说明：这个用来处理绑定在canvas里的所有事件。\r\n*/\r\nimport { THREEDataServer } from './THREEDataServer';\r\nimport { EventData } from './dataStruct';\r\nexport class CanvasEventMaster {\r\n    //鼠标按下的时候触发的函数。\r\n    public mouseDownEvents: EventData[] = [];\r\n    public mouseUpEvents: EventData[] = [];\r\n    public globelMouseUpEvents: EventData[] = [];\r\n    public mouseMoveEvents: EventData[] = [];\r\n    public mouseOutEvents:EventData[]=[];\r\n    constructor(dataServer: THREEDataServer) {\r\n        //绑定鼠标按下事件。--------------------------------------------------------\r\n        dataServer.sceneCommonObj.mainCanvas.addEventListener(\"mousedown\", (ev) => {\r\n            for (let i = 0; i < this.mouseDownEvents.length; i++) {\r\n                this.mouseDownEvents[i].fuc(ev, this.mouseDownEvents[i].scope);\r\n            }\r\n        });\r\n         //绑定鼠标移动事件。--------------------------------------------------------\r\n         dataServer.sceneCommonObj.mainCanvas.addEventListener(\"mousemove\", (ev) => {\r\n            for (let i = 0; i < this.mouseMoveEvents.length; i++) {\r\n                this.mouseMoveEvents[i].fuc(ev, this.mouseMoveEvents[i].scope);\r\n            }\r\n        });\r\n         //绑定鼠标弹起事件。--------------------------------------------------------\r\n         dataServer.sceneCommonObj.mainCanvas.addEventListener(\"mouseup\", (ev) => {\r\n            for (let i = 0; i < this.mouseUpEvents.length; i++) {\r\n                this.mouseUpEvents[i].fuc(ev, this.mouseUpEvents[i].scope);\r\n            }\r\n        });\r\n        //鼠标移开事件。-------------------------------------------------------------\r\n        dataServer.sceneCommonObj.mainCanvas.addEventListener(\"mouseout\",(ev)=>{\r\n            for (let i = 0; i < this.mouseOutEvents.length; i++) {\r\n                this.mouseOutEvents[i].fuc(ev, this.mouseOutEvents[i].scope);\r\n            }\r\n        })\r\n        //绑定在document上的鼠标弹起事件。--------------------------------------------\r\n        document.addEventListener(\"mouseup\", (ev) => {\r\n            for (let i = 0; i < this.globelMouseUpEvents.length; i++) {\r\n                this.globelMouseUpEvents[i].fuc(ev, this.globelMouseUpEvents[i].scope);\r\n            }\r\n        })\r\n    }\r\n}","import { SceneMaker } from \"./SceneMaker\";\r\nimport { CanvasEventMaster } from \"./canvasEventMaster\";\r\nimport { Rayhitter } from \"./Rayhitter\";\r\nimport { RayhitModelList } from \"./RayhitModelList\";\r\nimport { WireSelectFrame } from \"./WireSelectFrame\";\r\nimport { PropertiesMenuData } from \"./PropertiesMenuData\";\r\nimport { CurrentSelectModel } from \"./CurrentSelectModel\";\r\nimport { ProfileLoader } from \"./ProfileLoader\";\r\nimport { ProfileModel } from \"./ProfileModel\";\r\nimport { BoxMaker } from \"./BoxMaker\";\r\nimport { ModelTransformer } from \"./ModelTransformer\";\r\nimport { ExtrueModelMaker } from './ExtrueModelMaker';\r\nimport { HGWardrobeLoader } from './HGModel/HGWardrobeLoader';\r\n\r\n/*\r\n 作者：张建。\r\n 类说明：这里存放一些用来约束数据的一些小型的类。可以理解为结构体。\r\n*/\r\n\r\n\r\nexport class ClassesObj {\r\n    public sceneMaker: SceneMaker;\r\n    public canvasEventMaster: CanvasEventMaster;\r\n    public rayHitter: Rayhitter;\r\n    public rayHitModelList: RayhitModelList;\r\n    public wireSelectFrame: WireSelectFrame;             //此类用来做模型的选择框用的。\r\n    public propertiesMenuData: PropertiesMenuData;\r\n    public currentSelectModel: CurrentSelectModel;       //用来管理当前被选择的那个模型用的。\r\n    public profileLoader: ProfileLoader;                 //用来加载石灰线和地脚线数据用的。\r\n    public boxMaker: BoxMaker;\r\n    public extrudeModelMaker: ExtrueModelMaker;\r\n    public modelTransformer: ModelTransformer;\r\n}\r\n\r\nexport class SceneCommonObj {\r\n    mainCanvas: any;\r\n    renderer: any;\r\n    scene: any;\r\n}\r\n\r\nexport class EventData {\r\n    scope: any;     //这个事件的作用域。\r\n    fuc: Function;  //这个事件调用的函数。\r\n}\r\n\r\nexport class AllLoaders {\r\n    textureLoader: any;\r\n    fileLoader: any;\r\n    daeLoader: any;\r\n    cubeMapLoader: any;\r\n    wardrobeLoader:HGWardrobeLoader\r\n}\r\n\r\nexport class CustomUserData {\r\n    longObj: any;               //这个模型对应的是杨俊龙创建的哪个模型？\r\n    modelType: ModelType;       //这个模型的类型。\r\n    wireSelectedPoints: any;    //用来做选择框所用到的所有的点。\r\n}\r\n\r\nexport class ProfileModelData {\r\n    kickLine: ProfileModel = null;                                 //用来生成该墙的地脚线的对象。\r\n    plasterCornice: ProfileModel = null;                           //用来生成该墙的天花线的对象。\r\n    kickLineSize: ZVector2 = new ZVector2(30, 115);              //该墙的地脚线的大小。\r\n    plasterCorniceSize: ZVector2 = new ZVector2(80, 80);         //该墙的天花线的大小。\r\n    profileDir: any = [];                                           //就是这个地脚线和石灰线沿着哪个方向走？\r\n    cutPlaneDir: any = [];                                          //墙切割平面的朝向，非切割平面法线朝向。\r\n    kickLineProfilePoints = null;                                  //地脚线的一圈点的数据。\r\n    plasterCornicePoints = null;                                   //天花线的一圈点的数据。\r\n}\r\n\r\n\r\nexport class MoveAxis {\r\n    lineVisible: any = null;                                            //用来做移动显示出来的那条线，仅仅用来做显示。\r\n    lineCollider: any = null;                                           //用来做垂直移动工具碰撞那条线，仅仅用来做碰撞，不可见。\r\n    forwardConeMesh: any = null;                                        //就是垂直移动工具上面的那个朝上的箭头。\r\n    backwardConeMesh: any = null;                                       //就是垂直移动工具上面的那个朝下的箭头。\r\n    moveMouseDownModelAxisPos: number = 0.0;                            //鼠标单击下去垂直工具模型距离地面的高度。\r\n    moveMouseDownHitPos: number = 0.0                                   //鼠标单击下去垂直工具在垂直大平面上的单击点的高度。                                                  \r\n}\r\n\r\n\r\n// export class DoorWindowFrameData {\r\n//     winDoorFrame: DoorWindowFrame = null;                            //用来生成门框的对象。\r\n\r\n// }\r\n\r\n// export class ProfileModels {\r\n//     inWall: ProfileModelData;                          //内墙的地脚线和天花线\r\n//     outWall: ProfileModelData;                         //外墙的地脚线和天花线\r\n//     startSideWall: ProfileModelData;                   //开始转角墙的地脚线和天花线\r\n//     endSideWall: ProfileModelData;                     //结束转角墙的地脚线和天花线\r\n// }\r\n\r\nexport class ZVector2 {\r\n    x: number;\r\n    y: number;\r\n    constructor(_x: number, _y: number) {\r\n        this.x = _x;\r\n        this.y = _y;\r\n    }\r\n}\r\n\r\n/**\r\n * 上下左右前后六个方向的枚举。==============================\r\n */\r\nexport enum MyDirect{\r\n    front,\r\n    back,\r\n    right,\r\n    left,\r\n    top,\r\n    bottom\r\n}\r\n\r\n\r\n\r\nexport enum ModelType {\r\n    startWall,        //开始转角的墙。\r\n    endWall,          //结束处转角的墙。\r\n    inWall,           //内墙\r\n    outWall,          //外墙\r\n    floor,            //地板\r\n    roof,             //屋顶\r\n    kickLine,         //踢脚线\r\n    plasterCornice,   //石灰线\r\n    door,\r\n    window,\r\n    furniture,        //家具\r\n    normalBayWindow,  //普通飘窗   \r\n    cornerBayWindow,   //转角飘窗  \r\n    build               //烟道。 \r\n}\r\n\r\n/**\r\n * 门框的具体哪一个模型。==========\r\n */\r\nexport enum FrameType {\r\n    topFrame,\r\n    bottomFrame,\r\n    rightFrame,\r\n    leftFrame\r\n}\r\n\r\n\r\n/**\r\n * 移动旋转工具所处的模式。===================\r\n */\r\nexport enum TransformMode {\r\n    moveX,                    //移动旋转工具用的是移动。\r\n    moveY,\r\n    moveZ,\r\n    rotate,                  //移动旋转工具用的是旋转。\r\n    none                     //移动旋转工具用的什么都不是。\r\n}\r\n\r\nexport enum AxisType {       //移动旋转工具的坐标轴的类型。\r\n    xAixs,\r\n    yAixs,\r\n    zAixs\r\n}\r\n\r\n\r\n\r\n\r\n","import { JWin } from \"../../svg/common/jdesign/JWin\";\r\nimport { ModelType } from '../classes/dataStruct';\r\nimport { BaywinModel } from \"../classes/BaywinModel\";\r\nimport { PopDivService } from '../../services/pop-div.service';\r\nimport { THREEDataServer } from \"../classes/THREEDataServer\";\r\nimport { JdesignDataService } from '../../services/jdesign-data.service';\r\nimport { JCowall3D } from \"./JCowall3D\";\r\n\r\ndeclare var THREE: any;\r\n\r\nexport class JBayWin3D extends JWin {\r\n    public SetDataServerAndOthers(_dataServer: THREEDataServer, _jDataServer: JdesignDataService, _popServer: PopDivService) {\r\n        if (this.dataServer != undefined) {\r\n            return;\r\n        }\r\n        this.dataServer = _dataServer;\r\n        this.popServer = _popServer;\r\n        this.jDataServer = _jDataServer;\r\n        this.OnModelMove.push(this.OnBayWinBeMove.bind(this));\r\n    }\r\n\r\n\r\n    //当阿隆飘窗那边移动的时候会被触发的函数。=========================================================\r\n    private OnBayWinBeMove() {\r\n        //如果飘窗存储的宽度跟目前的宽度或者深度不相等，代表飘窗的宽度被缩放过了。--------------------------\r\n        if (this.formerWidth != this.size.width||\r\n            this.formerDeep != this.size.height\r\n            ) {\r\n            this.MakeWin();\r\n            this.UpdateDoorWinPos(this.GetWinDoorPos(this.floorHeight));\r\n            let _cowalls: JCowall3D[] = <JCowall3D[]>this.getwall().getCowallArr();\r\n            for (let i = 0; i < _cowalls.length; i++) {\r\n                _cowalls[i].MakeWall(true);\r\n            }\r\n        }\r\n    }\r\n\r\n    public MakeWin() {\r\n        //先把前面的门窗销毁掉咯。------------------------------------------\r\n        this.DestoryWinDoor(true);\r\n        //this.floorHeight = 500;\r\n        //构建基础窗洞的一些步骤。------------------------------------\r\n        this.Init(ModelType.normalBayWindow);\r\n        //设置飘窗是可以在垂直方向上移动的。-------------------------------------\r\n        this.dataServer.classesObj.modelTransformer.SetVerticalMovable(true);\r\n        this.MakeBaywindow();\r\n\r\n    }\r\n\r\n    //开始创建飘窗的模型。=================================================================\r\n    private MakeBaywindow() {\r\n        if (this.baywin == null) {\r\n            this.baywin = new BaywinModel(this.dataServer, this.jDataServer, this.size.width, this.size.height, this.size.height3D, this.outThickness, this.outBoxThickness);\r\n            //记录下普通飘窗在开始的时候大理石使用的贴图。---------------------------------------\r\n            this.baywin.paramsValues.windowsillMaterialIndex[ModelType.normalBayWindow] = 0;\r\n        }\r\n        this.baywin.MakeBayWin();\r\n    }\r\n\r\n    //提供给杨松岭设置飘窗窗台的材质用的。=====================================================\r\n    public SetBaywindowStillTexture(_path) {\r\n        this.baywin.SetBaywindowStillTexture(_path);\r\n    }\r\n    //提供给杨松岭来获取当前普通飘窗使用的是第几个材质。=========================================\r\n    public getBaywindowStillMatIndex() {\r\n        return this.baywin.paramsValues.windowsillMaterialIndex[ModelType.normalBayWindow];\r\n    }\r\n    //提供给杨松岭来设置当前普通飘窗使用的是第几个材质。=========================================\r\n    public SetBaywindowStillMatIndex(_index) {\r\n        this.baywin.paramsValues.windowsillMaterialIndex[ModelType.normalBayWindow] = _index;\r\n    }\r\n}","import { JBuild } from \"../../svg/common/jdesign/JBuild\";\r\nimport { THREEDataServer } from \"../classes/THREEDataServer\";\r\nimport { ModelType, CustomUserData, ProfileModelData, MyDirect } from '../classes/dataStruct';\r\nimport { ProfileModel } from \"../classes/ProfileModel\";\r\nimport { PopDivService } from '../../services/pop-div.service';\r\nimport { JdesignDataService } from '../../services/jdesign-data.service';\r\n\r\n\r\n\r\ndeclare var THREE: any;\r\n\r\nexport class JBuild3D extends JBuild {\r\n    private jDataServer: JdesignDataService;\r\n    private buildTexture = null;             //烟道上的贴图。\r\n    private paramsValues = {\r\n        materialIndex: [],                         //烟道选的是哪个材质啊？\r\n        kickLineProfileShapeIndex: [],             //烟道选的是哪个地脚线样式啊？\r\n        kickLineProfileMatIndex: [],               //烟道选的是哪个材质啊？\r\n        plasterCorniceProfileShapeIndex: [],       //烟道的石灰线选的是哪个剖面样式？\r\n        plasterCorniceProfileMatIndex: [],         //烟道的石灰线选的是哪个材质样式啊？\r\n    }\r\n    private profileModels: ProfileModelData[] = [];              //这个烟道上的所有地脚线和石灰线等数据。\r\n    private allWallTypes = [                                     //本类用到的前后左右四面墙。\r\n        MyDirect.front,\r\n        MyDirect.back,\r\n        MyDirect.right,\r\n        MyDirect.left\r\n    ];\r\n\r\n    public SetDataServerAndOthers(_dataServer: THREEDataServer, _jDataServer: JdesignDataService, _popServer: PopDivService) {\r\n        if (this.dataServer != undefined) {\r\n            return;\r\n        }\r\n        this.jDataServer = _jDataServer;\r\n        this.FatherSetDataServerAndOthers(_dataServer, _popServer);\r\n        //设置好paramsValues所有参数的初始值。--------------------------------------\r\n        this.paramsValues.materialIndex[ModelType.build] = 0;\r\n        this.paramsValues.kickLineProfileShapeIndex[ModelType.build] = 0;\r\n        this.paramsValues.kickLineProfileMatIndex[ModelType.build] = 0;\r\n        this.paramsValues.plasterCorniceProfileShapeIndex[ModelType.build] = 0;\r\n        this.paramsValues.plasterCorniceProfileMatIndex[ModelType.build] = 0;\r\n        //初始化profileModels的所有数据。---------------------------------\r\n        for (let i = 0; i < this.allWallTypes.length; i++) {\r\n            this.profileModels[this.allWallTypes[i]] = new ProfileModelData();\r\n        }\r\n        //为剖面线设置必须的数据。------------------------------------------\r\n        this.SetProfileData();\r\n        this.OnModelMove.push(this.OnBuildBeMove.bind(this));\r\n    }\r\n\r\n    private OnBuildBeMove() {\r\n        this.UpdateProfileTransform();\r\n    }\r\n\r\n\r\n    private UpdateProfileTransform() {\r\n        if (this.profileModels[MyDirect.front].kickLine != null) {\r\n            this.profileModels[MyDirect.front].kickLine.profileMesh.position.x = this.pos.x;\r\n            this.profileModels[MyDirect.front].kickLine.profileMesh.position.z = this.pos.y;\r\n            this.profileModels[MyDirect.front].kickLine.profileMesh.rotation.y = -this.radian;\r\n        }\r\n    }\r\n\r\n    private SetProfileData() {\r\n        //设置烟道前面的面的地脚线的数据。--------------------------------------------\r\n        this.profileModels[MyDirect.front].profileDir = [new THREE.Vector3(-this.size.width / 2, 0.0, -this.size.height / 2), new THREE.Vector3(this.size.width / 2, 0.0, -this.size.height / 2)];\r\n        this.profileModels[MyDirect.front].cutPlaneDir = [\r\n            new THREE.Vector3(-1, 0, -1),\r\n            new THREE.Vector3(1, 0, -1),\r\n        ];\r\n        //设置烟道后面的面的地脚线的数据。--------------------------------------------\r\n        this.profileModels[MyDirect.back].profileDir = [new THREE.Vector3(-this.size.width / 2, 0.0, this.size.height / 2), new THREE.Vector3(this.size.width / 2, 0.0, this.size.height / 2)];\r\n        this.profileModels[MyDirect.back].cutPlaneDir = [\r\n            new THREE.Vector3(-1, 0, 1),\r\n            new THREE.Vector3(1, 0, 1),\r\n        ];\r\n    }\r\n\r\n    public MakeBuild() {\r\n        //构架烟道的父对象。-----------------------------\r\n        this.furnitureFarther = new THREE.Object3D();\r\n        this.dataServer.sceneCommonObj.scene.add(this.furnitureFarther);\r\n        //创建烟道的模型。-------------------------------\r\n        let _buildModel = this.dataServer.classesObj.boxMaker.MakeBox(this.size.width, this.size.height3D, this.size.height, true, true);\r\n        this.LoadTextureByIndex(0);\r\n\r\n        _buildModel.material.map = this.buildTexture;\r\n        _buildModel.material.color.r = 1.0;\r\n        _buildModel.material.color.g = 1.0;\r\n        _buildModel.material.color.b = 1.0;\r\n        _buildModel.material.needsUpdate = true;\r\n\r\n\r\n        this.furnitureFarther.add(_buildModel);\r\n        //创建一个选择器。-------------------------------\r\n        this.selector = this.dataServer.classesObj.boxMaker.MakeBox(this.size.width, this.size.height3D, this.size.height, true, true);\r\n        this.selector.material = new THREE.MeshBasicMaterial({ color: 0xffff00, visible: false });\r\n        this.dataServer.sceneCommonObj.scene.add(this.selector);\r\n        //把选择用的模型放到跟射线的碰撞列表里。---------------------------------------\r\n        let _customUserData: CustomUserData = new CustomUserData();\r\n        _customUserData.longObj = this;\r\n        _customUserData.modelType = ModelType.build;\r\n\r\n        this.selector.userData.customUserData = _customUserData;\r\n        this.dataServer.classesObj.rayHitModelList.AddRayHitModel(this.selector);\r\n        //创建模型的外框，用来显示模型当前是否被选择的状态。-------------------------------------------\r\n        this.wireFrame = this.dataServer.classesObj.boxMaker.MakeBox(this.size.width, this.size.height3D, this.size.height, true, true);\r\n        this.wireFrame.material = new THREE.MeshBasicMaterial({ color: 0xffff00, wireframe: true, visible: false });\r\n        this.dataServer.sceneCommonObj.scene.add(this.wireFrame);\r\n        //设置移动旋转工具是否可以旋转是否可以垂直移动。----------------------------\r\n        this.dataServer.classesObj.modelTransformer.SetRotatable(true);\r\n        this.dataServer.classesObj.modelTransformer.SetVerticalMovable(false);\r\n        //把移动旋转工具全部取消激活。--------------------------------------\r\n        this.dataServer.classesObj.modelTransformer.SetEnable(false);\r\n        //清空移动旋转工具的当前控制模型。----------------------------------\r\n        this.dataServer.classesObj.modelTransformer.ClearControlModel();\r\n\r\n    }\r\n\r\n\r\n    private LoadTextureByIndex(_textureIndex) {\r\n        let _initTextureUrl = this.jDataServer.json.wallPaper[_textureIndex];\r\n\r\n        this.buildTexture = this.dataServer.loaders.textureLoader.load(_initTextureUrl);\r\n        this.buildTexture.wrapS = THREE.RepeatWrapping;\r\n        this.buildTexture.wrapT = THREE.RepeatWrapping;\r\n    }\r\n\r\n\r\n    //给杨松岭获取当前墙使用的贴图的序号。==============================================\r\n    public GetMaterialSelectIndex() {\r\n        return this.paramsValues.materialIndex[ModelType.build];\r\n    }\r\n\r\n    //给杨松岭设置当前墙使用的贴图的序号。==============================================\r\n    public SetMaterialSelectIndex(_index) {\r\n        this.paramsValues.materialIndex[ModelType.build] = _index;\r\n    }\r\n\r\n    //给杨松岭获取当前墙使用的是哪个款式的地脚线。=========================================\r\n    public GetKickLineProfileIndex() {\r\n        return this.paramsValues.kickLineProfileShapeIndex[ModelType.build];\r\n    }\r\n\r\n    //给杨松岭设置当前墙使用的是哪个款式的地脚线。=========================================\r\n    public SetKickLineProfileIndex(_index) {\r\n        this.paramsValues.kickLineProfileShapeIndex[ModelType.build] = _index;\r\n    }\r\n\r\n    //给杨松岭获取当前使用的是哪个款式的石灰线。=========================================\r\n    public GetPlasterCorniceProfileIndex() {\r\n        return this.paramsValues.plasterCorniceProfileShapeIndex[ModelType.build];\r\n    }\r\n\r\n    //给杨松岭设置当前墙使用的是哪个款式的石灰线。=========================================\r\n    public SetPlasterCorniceProfileIndex(_index) {\r\n        this.paramsValues.plasterCorniceProfileShapeIndex[ModelType.build] = _index;\r\n    }\r\n\r\n    //给杨松岭获取当前地脚线使用的是第几张贴图。============================================\r\n    public GetKickLineProfileMatIndex() {\r\n        return this.paramsValues.kickLineProfileMatIndex[ModelType.build];\r\n    }\r\n\r\n    //给杨松岭用来设置地脚线使用的是第几张贴图。=============================================\r\n    public SetKickLineProfileMatIndex(_index) {\r\n        this.paramsValues.kickLineProfileMatIndex[ModelType.build] = _index;\r\n    }\r\n\r\n    //给杨松岭获获取当前石灰线使用的是第几张贴图。=============================================\r\n    public GetPlasterCorniceProfileMatIndex() {\r\n        return this.paramsValues.plasterCorniceProfileMatIndex[ModelType.build];\r\n    }\r\n\r\n    //给杨松岭获设置当前石灰线使用的是第几张贴图。=============================================\r\n    public SetPlasterCorniceProfileMatIndex(_index) {\r\n        this.paramsValues.plasterCorniceProfileMatIndex[ModelType.build] = _index;\r\n    }\r\n\r\n    //创建地脚线。===========================================================================\r\n    public MakeKickLine(_profileDatas: any) {\r\n        for (let i = 0; i < this.allWallTypes.length; i++) {\r\n           \r\n            if(this.profileModels[this.allWallTypes[i]].profileDir==undefined){\r\n                continue;\r\n            }\r\n            this.profileModels[this.allWallTypes[i]].kickLineProfilePoints = _profileDatas;\r\n            //第一个创建地脚线的时候，请先创建一个ProfileModel对象。---------------\r\n            if (this.profileModels[this.allWallTypes[i]].kickLine == null) {\r\n                this.profileModels[this.allWallTypes[i]].kickLine = new ProfileModel(this.dataServer, ModelType.kickLine, this.jDataServer);\r\n            }\r\n            this.profileModels[this.allWallTypes[i]].kickLine.MakeStraightProfile(\r\n                this.paramsValues.kickLineProfileMatIndex[this.allWallTypes[i]],\r\n                0,\r\n                this.profileModels[this.allWallTypes[i]].kickLineSize,\r\n                this.profileModels[this.allWallTypes[i]].profileDir,\r\n                this.profileModels[this.allWallTypes[i]].cutPlaneDir,\r\n                this.profileModels[this.allWallTypes[i]].kickLineProfilePoints,\r\n                []\r\n            );\r\n        }\r\n\r\n\r\n\r\n        this.UpdateProfileTransform();\r\n\r\n\r\n    }\r\n}","/*\r\n 作者：张建。\r\n 类说明：把摄像机的功能都封装到这个类里。\r\n*/\r\nimport { JCamera } from \"../../svg/common/jdesign/JCamera\";\r\nimport { THREEDataServer } from \"../classes/THREEDataServer\";\r\nimport { DomUpdateService } from '../../services/dom-update.service';\r\nimport { JdesignDataService } from '../../services/jdesign-data.service';\r\nimport { EventData, ModelType } from \"../classes/dataStruct\";\r\nimport { MyUtil } from \"../classes/MyUtil\";\r\ndeclare var THREE: any;\r\n\r\nexport class JCamera3D extends JCamera {\r\n    public _3Dcamera;                 //放置在场景里的3d摄像机。\r\n    private dataServer: THREEDataServer;\r\n    private domServer: DomUpdateService;\r\n    private jDataServer: JdesignDataService;\r\n    private personHeight: number = 1600;      //一个人的高度，主要用来控制摄像机的高度。\r\n    private canRotate: boolean = true;           //这个视图视图是否可以旋转？在拖拽门窗的时候是不允许旋转的。\r\n    private mouseStatus = {\r\n        mouseIsDown: false,          //鼠标是否被按下去了？\r\n        mouseDownPos: null,          //鼠标按下去的位置。\r\n        mouseDownRadian: 0,          //鼠标按下的时候的摄像机的水平旋转角。\r\n        mouseDownElevation: 0        //鼠标按下的时候的摄像机的垂直旋转角。\r\n    }\r\n    private elevation: number = 0;   //摄像机在垂直方向上的仰角。\r\n    private keyIsDown = {              //那些按键被按下了？\r\n        q: false,\r\n        e: false\r\n    }\r\n\r\n    //因为我不能实例化它，只能把dataServer等需要用到的东西先给我传递进来。===============================================\r\n    public SetDataServerAndOthers(_dataServer: THREEDataServer, _domServer: DomUpdateService, _jDataServer: JdesignDataService) {\r\n        if (this.dataServer != undefined) {\r\n            return;\r\n        }\r\n        this.dataServer = _dataServer;\r\n        this.domServer = _domServer;\r\n        this.jDataServer = _jDataServer;\r\n\r\n    }\r\n\r\n    /**\r\n     * 创建一个摄像机并把摄像机添加到场景里。===================================================================\r\n     */\r\n    public AddCameraToScene() {\r\n        this._3Dcamera = new THREE.PerspectiveCamera(45, this.dataServer.sceneCommonObj.mainCanvas.clientWidth / this.dataServer.sceneCommonObj.mainCanvas.clientHeight, 1, 20000000);\r\n        this._3Dcamera.position.set(this.pos.x, this.personHeight, this.pos.y);\r\n\r\n        this.dataServer.sceneCommonObj.scene.add(this._3Dcamera);\r\n        //为在屏幕操作摄像机开始绑定事件。---------------------------------------------\r\n        let mousedownEvent: EventData = MyUtil.MakeMouseEvent(this.OnMouseDown, this);\r\n        this.dataServer.classesObj.canvasEventMaster.mouseDownEvents.push(mousedownEvent);\r\n        let mousemoveEvent: EventData = MyUtil.MakeMouseEvent(this.OnMouseMove, this);\r\n        this.dataServer.classesObj.canvasEventMaster.mouseMoveEvents.push(mousemoveEvent);\r\n        let mouseupEvent: EventData = MyUtil.MakeMouseEvent(this.OnMouseUp, this);\r\n        this.dataServer.classesObj.canvasEventMaster.globelMouseUpEvents.push(mouseupEvent);\r\n        //再自己绑定一些快捷键。-----------------------------------------------------\r\n        // this.jDataServer.cache.hotKeys.data.push({\r\n        //     keyArr: [\"q\"],\r\n        //     downFunc: () => {\r\n        //         this.keyIsDown.q = true;\r\n        //     },\r\n        //     upFunc: () => {\r\n        //         this.keyIsDown.q = false;\r\n        //     }\r\n        // });\r\n        // this.jDataServer.cache.hotKeys.data.push({\r\n        //     keyArr: [\"e\"],\r\n        //     downFunc: () => {\r\n        //         this.keyIsDown.e = true;\r\n        //     },\r\n        //     upFunc: () => {\r\n        //         this.keyIsDown.e = false;\r\n        //     }\r\n        // });\r\n        this.jDataServer.cache.shortFuncs['cameraMoveUpStart'] = () => {\r\n            this.keyIsDown.q = true;\r\n        }\r\n        this.jDataServer.cache.shortFuncs['cameraMoveUpStop'] = () => {\r\n            this.keyIsDown.q = false;\r\n        }\r\n        this.jDataServer.cache.shortFuncs['cameraMoveDownStart'] = () => {\r\n            this.keyIsDown.e = true;\r\n        }\r\n        this.jDataServer.cache.shortFuncs['cameraMoveDownStop'] = () => {\r\n            this.keyIsDown.e = false;\r\n        }\r\n\r\n\r\n\r\n        //增加一个动画帧。-------------------------------------------------------\r\n        this.jDataServer.cache.AnimationFuncs.push(() => {\r\n            this.AnimateScene();\r\n        })\r\n    }\r\n\r\n    /**\r\n     * 用来更新摄像机的坐标和旋转的自定义函数。=======================================================================\r\n     */\r\n    public UpdateCameraPosAndRotation() {\r\n        this.UpdateCameraPos();\r\n        //更新摄像机的旋转。---------------------------------------------\r\n        this.UpdateCameraRotation();\r\n    }\r\n\r\n    /**\r\n     * 更新摄像机的坐标。=====================================================================================\r\n     */\r\n    private UpdateCameraPos() {\r\n        //更新摄像机的坐标位置。-----------------------------------------\r\n        this._3Dcamera.position.set(this.pos.x, this.personHeight, this.pos.y);\r\n    }\r\n\r\n    /**\r\n     * 更新摄像机的旋转。====================================================================================\r\n     */\r\n    private UpdateCameraRotation() {\r\n        let _cameraQuaternionHorizontal = new THREE.Quaternion();\r\n        _cameraQuaternionHorizontal.setFromAxisAngle(new THREE.Vector3(0, 1, 0), -this.radian);\r\n        let _cameraQuaternionVertical = new THREE.Quaternion();\r\n        _cameraQuaternionVertical.setFromAxisAngle(new THREE.Vector3(1, 0, 0), this.elevation);\r\n        //摄像机旋转的水平四元数和垂直四元数的乘积。\r\n        let _cameraQuaternion = new THREE.Quaternion();\r\n        _cameraQuaternion.multiplyQuaternions(_cameraQuaternionHorizontal, _cameraQuaternionVertical);\r\n        this._3Dcamera.quaternion.copy(_cameraQuaternion);\r\n    }\r\n\r\n    //当鼠标按下去的时候触发的函数。==========================================================================\r\n    private OnMouseDown(_ev, _scope: JCamera3D) {\r\n        //如果单击下去碰到的模型和当前选择的模型是一个模型，则不允许视图旋转。--------------------\r\n        //----------------------------------------------------------------------------------\r\n        let _currentSelectModelType = _scope.dataServer.classesObj.currentSelectModel.GetSelectedModelType();\r\n        if (_currentSelectModelType == ModelType.door ||\r\n            _currentSelectModelType == ModelType.window ||\r\n            _currentSelectModelType == ModelType.furniture ||\r\n            _currentSelectModelType == ModelType.normalBayWindow||\r\n            _currentSelectModelType == ModelType.build\r\n        ) {\r\n\r\n            if (_scope.dataServer.classesObj.rayHitter.rayHitModels.mouseDownDoorWinFurniture != null) {\r\n                let _mouseDownModelID = MyUtil.GetMeshLongObj(_scope.dataServer.classesObj.rayHitter.rayHitModels.mouseDownDoorWinFurniture).id;\r\n                let _currentSelectModelID = _scope.dataServer.classesObj.currentSelectModel.GetSelectModelID();\r\n                if (_mouseDownModelID == _currentSelectModelID) {\r\n                    _scope.canRotate = false;\r\n                }\r\n            }\r\n        }\r\n        //如果击中了移动旋转工具，则不允许视图旋转。--------------------------------------------\r\n        //----------------------------------------------------------------------------------\r\n        if (_scope.dataServer.classesObj.modelTransformer.mouseDownHitModel != null) {\r\n            _scope.canRotate = false;\r\n        }\r\n\r\n        _scope.mouseStatus.mouseIsDown = true;\r\n        _scope.mouseStatus.mouseDownPos = new THREE.Vector2(_ev.clientX, _ev.clientY);\r\n        _scope.mouseStatus.mouseDownRadian = _scope.radian;\r\n        _scope.mouseStatus.mouseDownElevation = _scope.elevation;\r\n\r\n    }\r\n\r\n    //当鼠标移动的时候触发的函数。============================================================================\r\n    private OnMouseMove(_ev, _scope: JCamera3D) {\r\n        if (_scope.canRotate == false) {\r\n            return;\r\n        }\r\n        if (_scope.mouseStatus.mouseIsDown == true) {\r\n            let _currentMousePos = new THREE.Vector2(_ev.clientX, _ev.clientY);\r\n            let _posOffset = _currentMousePos.sub(_scope.mouseStatus.mouseDownPos);\r\n            _scope.radian = _scope.mouseStatus.mouseDownRadian - _posOffset.x / _scope.dataServer.canvasSize.width * 2;\r\n            _scope.elevation = _scope.mouseStatus.mouseDownElevation + _posOffset.y / _scope.dataServer.canvasSize.height * 2;\r\n            _scope.elevation = MyUtil.Clamp(_scope.elevation, -0.5, 0.5);\r\n            _scope.domServer.svgCamera.emit();\r\n            _scope.UpdateCameraRotation();\r\n        }\r\n    }\r\n\r\n    //当鼠标弹起来的时候触发的函数。===========================================================================\r\n    private OnMouseUp(_ev, _scope: JCamera3D) {\r\n        _scope.mouseStatus.mouseIsDown = false;\r\n        _scope.canRotate = true;\r\n    }\r\n\r\n    /**\r\n     * 这个是动画帧，会不断被调用的。==============================================================\r\n     */\r\n    private AnimateScene() {\r\n        //按下Q键的时候摄像机往上跑。--------------------\r\n        if (this.keyIsDown.q == true) {\r\n            this.personHeight += 40;\r\n            this.UpdateCameraPos();\r\n        }\r\n        //按下E键的时候摄像机往下跑。--------------------\r\n        if (this.keyIsDown.e == true) {\r\n            this.personHeight -= 40;\r\n            //眼睛的高度不能小于0。\r\n            this.personHeight = Math.max(this.personHeight, 100.0);\r\n            this.UpdateCameraPos();\r\n        }\r\n    }\r\n}","/*\r\n 作者：张建。\r\n 类说明：这个类是专门用来做转角飘窗用的。\r\n*/\r\nimport { JCornerWin } from \"../../svg/common/jdesign/JCornerWin\";\r\nimport { THREEDataServer } from \"../classes/THREEDataServer\";\r\nimport { JdesignDataService } from '../../services/jdesign-data.service';\r\nimport { PopDivService } from '../../services/pop-div.service';\r\nimport { CustomUserData, ModelType } from '../classes/dataStruct';\r\nimport { JPoint3D } from \"./JPoint3D\";\r\nimport { JWall3D } from \"./JWall3D\";\r\nimport { MyUtil } from \"../classes/MyUtil\";\r\nimport { JCowall3D } from \"./JCowall3D\";\r\nimport { CornerBaywinModel } from \"../classes/CornerBaywinModel\";\r\n\r\ndeclare var THREE: any;\r\n\r\nexport class JCornerWin3D extends JCornerWin {\r\n    private dataServer: THREEDataServer;\r\n    private jDataServer: JdesignDataService;\r\n    private popServer: PopDivService;\r\n    private selector: any = null;                                        //用来选择转角飘窗的对象。为Mesh。\r\n    private wireFrame: any = null;                                       //转角飘窗的线框，用来显示是否被选择用的。为Mesh。\r\n    public booleanModels = [];                                           //用来做转角飘窗布尔的模型，为Mesh。\r\n    private formerPointID = null;                                        //这个转角飘窗原来所在的墙角的point的ID号。\r\n    private formerWallArray = null;\r\n    public cornerBaywin: CornerBaywinModel = null;                    //转角飘窗的所有模型在这里。\r\n\r\n    //给飘窗类先设置一些必要的参数。===========================================================\r\n    public SetDataServerAndOthers(_dataServer: THREEDataServer, _jDataServer: JdesignDataService, _popServer: PopDivService) {\r\n        if (this.dataServer != undefined) {\r\n            return;\r\n        }\r\n        this.dataServer = _dataServer;\r\n        this.popServer = _popServer;\r\n        this.jDataServer = _jDataServer;\r\n        //选择二维图形的时候转角飘窗也跟着被选中。--------------------------------------\r\n        this.chooseFuncArr.push(() => {\r\n            //设置当前选择的模型就是被击中的模型。-------------------------------\r\n            this.dataServer.classesObj.currentSelectModel.Select(this.selector);\r\n            this.OnSelected();\r\n\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 开始做转角飘窗的模型。==================================================================\r\n     */\r\n    public MakeCornerBaywin() {\r\n        console.log(this.height3D);\r\n        //把前面创建的一切转角飘窗都删除掉。----------------------------------------------------\r\n        this.DestoryCornerWin();\r\n\r\n        let _cornerBaywinPoints = this.getPathPosArr({ x: 0, y: 0 });\r\n\r\n        let _shapePoints = [];\r\n        for (let i = 0; i < _cornerBaywinPoints.length; i++) {\r\n            _shapePoints.push(new THREE.Vector3(_cornerBaywinPoints[i].x, 0.0, _cornerBaywinPoints[i].y));\r\n        }\r\n\r\n\r\n        //开始创建一个用来选择窗用的box模型。---------------------------------------------------------\r\n        this.selector = this.dataServer.classesObj.extrudeModelMaker.MakeExtrueModel(_shapePoints, new THREE.Vector3(0.0, 1.0, 0.0), this.height3D, 1);\r\n        this.selector.material = new THREE.MeshBasicMaterial({ color: 0xffff00, visible: false });\r\n        this.dataServer.sceneCommonObj.scene.add(this.selector);\r\n\r\n        //把选择用的模型放到跟射线的碰撞列表里。---------------------------------------\r\n        let _customUserData: CustomUserData = new CustomUserData();\r\n        _customUserData.longObj = this;\r\n        _customUserData.modelType = ModelType.cornerBayWindow;\r\n\r\n        this.selector.userData.customUserData = _customUserData;\r\n        this.dataServer.classesObj.rayHitModelList.AddRayHitModel(this.selector);\r\n\r\n\r\n        //创建模型的外框，用来显示模型当前是否被选择的状态。-------------------------------------------\r\n        this.wireFrame = this.dataServer.classesObj.extrudeModelMaker.MakeExtrueModel(_shapePoints, new THREE.Vector3(0.0, 1.0, 0.0), this.height3D, 1);\r\n        this.wireFrame.material = new THREE.MeshBasicMaterial({ color: 0xffff00, wireframe: true, visible: false });\r\n        this.dataServer.sceneCommonObj.scene.add(this.wireFrame);\r\n\r\n        //开始做布尔的模型。-------------------------------------------------------------------------\r\n        //-----------------------------------------------------------------------------------------\r\n        //只有转角飘窗在墙上放置的话才会做布尔用的模型。\r\n        if (this.getPoint() != null) {\r\n            //准备好创建布尔多边形的数据。\r\n            let _booleanData01: any = this.MakeBooleanMeshData(\r\n                new THREE.Vector2(_cornerBaywinPoints[1].x, _cornerBaywinPoints[1].y),\r\n                new THREE.Vector2(_cornerBaywinPoints[2].x, _cornerBaywinPoints[2].y)\r\n            );\r\n            let _booleanData02: any = this.MakeBooleanMeshData(\r\n                new THREE.Vector2(_cornerBaywinPoints[5].x, _cornerBaywinPoints[5].y),\r\n                new THREE.Vector2(_cornerBaywinPoints[4].x, _cornerBaywinPoints[4].y)\r\n            );\r\n            //得出的布尔模型是否要翻转法线？--------------------------------------------------\r\n            _booleanData01.filp = false;\r\n            _booleanData02.filp = true;\r\n\r\n            let _cornerPoint: JPoint3D = this.getPoint();\r\n            let _cornerWall: JWall3D[] = <JWall3D[]>_cornerPoint.getWallArr();\r\n\r\n            let _firstCornerWallOutLine = _cornerWall[0].outLine;\r\n            let _leftUpPoint = new THREE.Vector2(\r\n                _firstCornerWallOutLine[0][0].x,\r\n                _firstCornerWallOutLine[0][0].y\r\n            );\r\n            let _leftDownPoint = new THREE.Vector2(\r\n                _firstCornerWallOutLine[0][1].x,\r\n                _firstCornerWallOutLine[0][1].y\r\n            );\r\n            let _rightDownPoint = new THREE.Vector2(\r\n                _firstCornerWallOutLine[1][0].x,\r\n                _firstCornerWallOutLine[1][0].y\r\n            );\r\n            let _rightUpPoint = new THREE.Vector2(\r\n                _firstCornerWallOutLine[1][1].x,\r\n                _firstCornerWallOutLine[1][1].y\r\n            );\r\n\r\n            let isInWall = MyUtil.IsInPoly(_booleanData01.judgeMentPoint, [_leftUpPoint, _leftDownPoint, _rightDownPoint, _rightUpPoint]);\r\n\r\n            if (isInWall == true) {\r\n                _booleanData01.wallId = _cornerWall[0].id;\r\n                _booleanData02.wallId = _cornerWall[1].id;\r\n            } else {\r\n                _booleanData01.wallId = _cornerWall[1].id;\r\n                _booleanData02.wallId = _cornerWall[0].id;\r\n            }\r\n\r\n            let _booleanDataList = [];\r\n            _booleanDataList.push(_booleanData01);\r\n            _booleanDataList.push(_booleanData02);\r\n            //开始构建布尔用的模型。--------------------------------\r\n            for (let i = 0; i < _booleanDataList.length; i++) {\r\n                let _offsetStartPoint = _booleanDataList[i].startPoint.clone().addScaledVector(_booleanDataList[i].toCenterDir, 0.1);\r\n                let _offsetEndPoint = _booleanDataList[i].endPoint.clone().addScaledVector(_booleanDataList[i].toCenterDir, 0.1);\r\n                let _startPoint = _booleanDataList[i].startPoint;\r\n                let _endPoint = _booleanDataList[i].endPoint;\r\n                let _allVertexes = [\r\n                    new THREE.Vector3(_offsetStartPoint.x, 0.0, _offsetStartPoint.y),\r\n                    new THREE.Vector3(_offsetEndPoint.x, 0.0, _offsetEndPoint.y),\r\n                    new THREE.Vector3(_startPoint.x, 0.0, _startPoint.y),\r\n                    new THREE.Vector3(_endPoint.x, 0.0, _endPoint.y),\r\n                    new THREE.Vector3(_startPoint.x, this.height3D, _startPoint.y),\r\n                    new THREE.Vector3(_endPoint.x, this.height3D, _endPoint.y),\r\n                    new THREE.Vector3(_offsetStartPoint.x, this.height3D, _offsetStartPoint.y),\r\n                    new THREE.Vector3(_offsetEndPoint.x, this.height3D, _offsetEndPoint.y),\r\n                ];\r\n\r\n\r\n                let _allFaces;\r\n                if (_booleanDataList[i].filp == true) {\r\n                    _allFaces = [\r\n                        new THREE.Face3(0, 1, 2),\r\n                        new THREE.Face3(1, 3, 2),\r\n\r\n                        new THREE.Face3(2, 3, 4),\r\n                        new THREE.Face3(3, 5, 4),\r\n\r\n                        new THREE.Face3(4, 5, 6),\r\n                        new THREE.Face3(5, 7, 6)\r\n                    ]\r\n                } else {\r\n                    _allFaces = [\r\n                        new THREE.Face3(0, 2, 1),\r\n                        new THREE.Face3(1, 2, 3),\r\n\r\n                        new THREE.Face3(2, 4, 3),\r\n                        new THREE.Face3(3, 4, 5),\r\n\r\n                        new THREE.Face3(4, 6, 5),\r\n                        new THREE.Face3(5, 6, 7)\r\n                    ]\r\n                }\r\n\r\n                //根据上面的数据把一个平面构建出来。\r\n                let _geom = new THREE.Geometry();\r\n                _geom.vertices = _allVertexes;\r\n                _geom.faces = _allFaces;\r\n                _geom.computeFaceNormals();\r\n                //把重复的顶点去掉。\r\n                _geom.mergeVertices();\r\n                let _booleanMesh = new THREE.Mesh(_geom);\r\n                _booleanMesh.visible = false;\r\n                //给模型标记一个它所在墙的标记。----------------------------------------\r\n                _booleanMesh.userData.wallId = _booleanDataList[i].wallId;\r\n\r\n                this.booleanModels.push(_booleanMesh);\r\n                this.dataServer.sceneCommonObj.scene.add(_booleanMesh);\r\n            }\r\n        }\r\n        //开始做飘窗上放置的模型。========================================================================\r\n        this.MakeCornerBaywinModels(_shapePoints);\r\n    }\r\n\r\n\r\n    private MakeBooleanMeshData(_startPoint, _targetPoint) {\r\n        let _toEndPointDir = _targetPoint.clone().sub(_startPoint);\r\n        let _toEndPointDirNormalize = _toEndPointDir.clone().normalize();\r\n        let _endPoint = _startPoint.clone().addScaledVector(_toEndPointDirNormalize, 0.1);\r\n        let _judgementPointAbsolute = _startPoint.clone().add(_toEndPointDirNormalize).add(new THREE.Vector2(this.pos.x, this.pos.y));   //结束点的绝对坐标。\r\n        let _toCenterDir = new THREE.Vector2(0.0, 0.0).sub(_startPoint).normalize();\r\n        let _returnData = {\r\n            startPoint: _startPoint,\r\n            endPoint: _endPoint,\r\n            judgeMentPoint: _judgementPointAbsolute,  //这个点是用来判断哪个布尔体对应哪面墙的依据。\r\n            toCenterDir: _toCenterDir\r\n        }\r\n        return _returnData;\r\n    }\r\n\r\n    /**\r\n     * 为飘窗添加start move end三个事件。======================================================\r\n     */\r\n    public StartEvent() {\r\n        this.act3D.start = () => {\r\n        }\r\n\r\n        this.act3D.move = () => {\r\n            //更新转角飘窗里一切模型的位置和旋转。--------------------------------\r\n            this.UpdateCornerWinPos(this.GetCornerWinPos(this.floorHeight));\r\n            //如果这个转角飘窗放在墙角的话。--------------------------------------\r\n            if (this.getPoint() != null) {\r\n                let _pointID = this.getPoint().id;\r\n\r\n                if (this.formerPointID != _pointID) {\r\n                    this.formerPointID = _pointID;\r\n                    //开始从新更新模型。----------------------------------------------------------\r\n                    this.MakeCornerBaywin();\r\n                    this.UpdateCornerWinPos(this.GetCornerWinPos(this.floorHeight));\r\n                    //开始更新转角飘窗所在的墙的模型。----------------------------------------------\r\n                    let _wallArrays: JWall3D[] = <JWall3D[]>this.getPoint().getWallArr();\r\n                    //把现在所在的两面墙先存储起来，以便后面把窗洞填起来。----------------------------\r\n                    this.formerWallArray = _wallArrays;\r\n                    //开始在墙上挖洞了。-----------------------------------------------------------\r\n                    for (let i = 0; i < _wallArrays.length; i++) {\r\n                        let _cowalls: JCowall3D[] = <JCowall3D[]>_wallArrays[i].getCowallArr();\r\n                        for (let j = 0; j < _cowalls.length; j++) {\r\n                            _cowalls[j].MakeWall(true);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                if (this.formerPointID != null) {\r\n                    this.formerPointID = null;\r\n                    //开始从新更新模型。---------------------------\r\n                    this.MakeCornerBaywin();\r\n                    //把原来的洞口重新填起来。---------------------\r\n                    if (this.formerWallArray != null) {\r\n                        for (let i = 0; i < this.formerWallArray.length; i++) {\r\n                            //检查一下这个wall是否还在场景里。-----------------------------------\r\n                            if (this.jDataServer.walls[this.formerWallArray[i].id] != undefined) {\r\n                                let _cowalls: JCowall3D[] = <JCowall3D[]>this.formerWallArray[i].getCowallArr();\r\n                                for (let j = 0; j < _cowalls.length; j++) {\r\n                                    //杨振龙在移动墙的时候有时候居然会产生新墙，它产生了新墙我得执行一下这一句，好保证他偷偷生成的墙我这边也做好实例化工作。\r\n                                    _cowalls[j].SetDataServerAndOthers(this.dataServer, this.popServer, this.jDataServer);\r\n                                    _cowalls[j].MakeWall(true);\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    this.formerWallArray = null;\r\n                }\r\n            }\r\n        }\r\n\r\n        this.act3D.end = () => {\r\n            //开始从新更新模型。----------------------------------------------------------\r\n            this.MakeCornerBaywin();\r\n            let _cornerWinNewPos = this.GetCornerWinPos(this.floorHeight);\r\n            // console.log(_cornerWinNewPos);\r\n            this.UpdateCornerWinPos(_cornerWinNewPos);\r\n            //开始更新转角飘窗所在的墙的模型。----------------------------------------------\r\n            let _wallArrays: JWall3D[] = <JWall3D[]>this.getPoint().getWallArr();\r\n            //把现在所在的两面墙先存储起来，以便后面把窗洞填起来。----------------------------\r\n            this.formerWallArray = _wallArrays;\r\n            //开始在墙上挖洞了。-----------------------------------------------------------\r\n            for (let i = 0; i < _wallArrays.length; i++) {\r\n                let _cowalls: JCowall3D[] = <JCowall3D[]>_wallArrays[i].getCowallArr();\r\n                for (let j = 0; j < _cowalls.length; j++) {\r\n                    _cowalls[j].MakeWall(true);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n    * 用来显示隐藏模型的选择框用的。===============================================\r\n    * @param _show 设置为true则显示，设置为false则隐藏。\r\n    */\r\n    public ShowWireFrame(_show) {\r\n        this.wireFrame.material.visible = _show;\r\n    }\r\n\r\n\r\n    //开始创建飘窗上放置的模型。=================================================================\r\n    private MakeCornerBaywinModels(_shapePoints) {\r\n        if (this.cornerBaywin == null) {\r\n            this.cornerBaywin = new CornerBaywinModel(this.dataServer, this.jDataServer, this.outThickness);\r\n            //记录下飘窗模型在创建的时候的下面的大理石板使用的是第几张贴图。---------------------------\r\n            this.cornerBaywin.paramsValues.windowsillMaterialIndex[ModelType.cornerBayWindow] = 0;\r\n        }\r\n        this.cornerBaywin.MakeCornerbayWinModel(_shapePoints, this.height3D);\r\n    }\r\n\r\n\r\n    /**\r\n     * 转角飘窗在三维视图被单击中的时候触发的函数。========================================================\r\n     */\r\n    public OnSelected() {\r\n        //把面选择框销毁掉。-----------------------------------------------------------\r\n        this.dataServer.classesObj.wireSelectFrame.destory3D();\r\n        //把场景里所有的门窗家具选择框都去掉。-------------------------------------------\r\n        this.dataServer.classesObj.rayHitter.HideDoorWindowFurnitureSelectFrame();\r\n        //显示当前转角飘窗的选择框。----------------------------------------------------\r\n        this.ShowWireFrame(true);\r\n        //开始创建右边属性面板的数据并生成右边属性面板。--------------------------------------------------\r\n        //let _PanelData = this.dataServer.classesObj.propertiesMenuData.MakeCornerBayWinData(this.cornerBaywin.paramsValues);\r\n        //this.popServer.panelRight.emit(_PanelData);\r\n    }\r\n\r\n    public OnUnselected() {\r\n        this.dataServer.classesObj.rayHitter.OnNothingHit();\r\n    }\r\n\r\n    /**\r\n     * 用来更新转角飘窗所有东西的位置和旋转。==============================================\r\n     * @param _pos \r\n     */\r\n    private UpdateCornerWinPos(_pos) {\r\n        this.selector.position.copy(_pos);\r\n        //this.selector.rotation.y = -this.radian;\r\n        this.wireFrame.position.copy(_pos);\r\n        if (this.booleanModels.length > 0) {\r\n            for (let i = 0; i < this.booleanModels.length; i++) {\r\n                this.booleanModels[i].position.copy(_pos);\r\n            }\r\n        }\r\n        //设置转角飘窗模型的位置。----------------------------------------\r\n        if (this.cornerBaywin != null) {\r\n            this.cornerBaywin.SetPosition(_pos);\r\n        }\r\n    }\r\n\r\n    //提供给杨松岭来设置转角飘窗距离地面的高度。================================\r\n    // public SetFloorHeight(_height) {\r\n    //     this.floorHeight = _height;\r\n    //     // this.UpdateCornerWinPos(this.GetCornerWinPos(this.floorHeight));\r\n    //     // //开始更新转角飘窗所在的墙的模型。----------------------------------------------\r\n    //     // let _wallArrays: JWall3D[] = <JWall3D[]>this.getPoint().getWallArr();\r\n    //     // //把现在所在的两面墙先存储起来，以便后面把窗洞填起来。----------------------------\r\n    //     // //this.formerWallArray = _wallArrays;\r\n    //     // //开始在墙上挖洞了。-----------------------------------------------------------\r\n    //     // for (let i = 0; i < _wallArrays.length; i++) {\r\n    //     //     let _cowalls: JCowall3D[] = <JCowall3D[]>_wallArrays[i].getCowallArr();\r\n    //     //     for (let j = 0; j < _cowalls.length; j++) {\r\n    //     //         _cowalls[j].MakeWall(true);\r\n    //     //     }\r\n    //     // }\r\n    // }\r\n\r\n\r\n    private GetCornerWinPos(_height) {\r\n        _height = Math.max(_height, 0.0);\r\n        let _windowPos = new THREE.Vector3(this.pos.x, this.floorHeight, this.pos.y);\r\n        return _windowPos;\r\n    }\r\n\r\n    /**\r\n    * 阿隆调用的销毁转角飘窗的方法。=============================================================\r\n    */\r\n    public destory3D() {\r\n        this.DestoryCornerWin();\r\n    }\r\n\r\n\r\n    //提供给杨松岭设置飘窗窗台的材质用的。=====================================================\r\n    public SetBaywindowStillTexture(_path) {\r\n        this.cornerBaywin.SetBaywindowStillTexture(_path);\r\n    }\r\n    //提供给杨松岭来获取当前普通飘窗使用的是第几个材质。=========================================\r\n    public getBaywindowStillMatIndex() {\r\n        return this.cornerBaywin.paramsValues.windowsillMaterialIndex[ModelType.cornerBayWindow];\r\n    }\r\n    //提供给杨松岭来设置当前普通飘窗使用的是第几个材质。=========================================\r\n    public SetBaywindowStillMatIndex(_index) {\r\n        this.cornerBaywin.paramsValues.windowsillMaterialIndex[ModelType.cornerBayWindow] = _index;\r\n    }\r\n\r\n\r\n    /**\r\n     * 把转角飘窗的一切模型都销毁。===========================================\r\n     */\r\n    private DestoryCornerWin() {\r\n        //把模型的选择器销毁掉。--------------------------------------------\r\n        if (this.selector != null) {\r\n            this.dataServer.classesObj.rayHitModelList.RemoveRayHitModel(this.selector);\r\n            this.dataServer.sceneCommonObj.scene.remove(this.selector);\r\n            this.selector.geometry.dispose();\r\n            this.selector = null;\r\n        }\r\n        //把模型的选择显示器销毁掉。------------------------------------------\r\n        if (this.wireFrame != null) {\r\n            this.dataServer.sceneCommonObj.scene.remove(this.wireFrame);\r\n            this.wireFrame.geometry.dispose();\r\n            this.wireFrame = null;\r\n        }\r\n        //把布尔用的模型全部销毁掉。-------------------------------------------\r\n        for (let i = 0; i < this.booleanModels.length; i++) {\r\n            this.dataServer.sceneCommonObj.scene.remove(this.booleanModels[i]);\r\n            this.booleanModels[i].geometry.dispose();\r\n        }\r\n        this.booleanModels = [];\r\n        //把转角飘窗上放的所有的模型都销毁掉。----------------------------------\r\n        if (this.cornerBaywin != null) {\r\n            this.cornerBaywin.DestroyBaywinModel();\r\n        }\r\n        //转角飘窗销毁了，如果在墙里面的话，所在的墙也要重建一下。------------------------------\r\n        if (this.getPoint() != null) {\r\n            let _wallArrays: JWall3D[] = <JWall3D[]>this.getPoint().getWallArr();\r\n            //把转角飘窗的洞填起来。\r\n            for (let i = 0; i < _wallArrays.length; i++) {\r\n                let _cowalls: JCowall3D[] = <JCowall3D[]>_wallArrays[i].getCowallArr();\r\n                for (let j = 0; j < _cowalls.length; j++) {\r\n                    //生怕阿隆换墙了，再把cowall初始化一下。-----------------------------------\r\n                    _cowalls[j].SetDataServerAndOthers(this.dataServer, this.popServer, this.jDataServer);\r\n                    console.log(_cowalls[j]);\r\n                    console.log(_cowalls[j].getInLine());\r\n                    _cowalls[j].MakeWall(true);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}","/*\r\n 作者：张建。\r\n 类说明：colwall3D对象。\r\n*/\r\nimport { JCowall } from \"../../svg/common/jdesign/JCowall\";\r\nimport { THREEDataServer } from \"../classes/THREEDataServer\";\r\nimport { JWall3D } from \"./JWall3D\";\r\nimport { CustomUserData, ModelType, ProfileModelData } from \"../classes/dataStruct\";\r\nimport { MyUtil } from \"../classes/MyUtil\";\r\nimport { ProfileModel } from \"../classes/ProfileModel\";\r\nimport { JDoor3D } from \"./JDoor3D\";\r\nimport { JWin3D } from \"./JWin3D\";\r\nimport { PopDivService } from \"../../services/pop-div.service\";\r\nimport { JCornerWin3D } from \"./JCornerWin3D\";\r\nimport { JdesignDataService } from '../../services/jdesign-data.service';\r\n\r\ndeclare var THREE: any;\r\ndeclare var ThreeBSP: any;\r\n\r\nexport class JCowall3D extends JCowall {\r\n    public wallMeshs = [];                //一个cowall所有墙的Mesh都堆到这里。\r\n    public afterBooleanMesh = [];           //布尔后的墙模型都放在这里。\r\n    private wallGeometrys = [];           //一个cowall所有墙的Geomtry都堆到这里。\r\n    private dataServer: THREEDataServer;\r\n    private popServer: PopDivService;\r\n    private jDataServer: JdesignDataService;\r\n    private oldData: any = {};            //用来和新的数据做比对，检查这个colwall是否要更新。\r\n    private allWallTypes = [              //本类用到的所有墙体的类型。\r\n        ModelType.inWall,\r\n        ModelType.outWall,\r\n        ModelType.startWall,\r\n        ModelType.endWall\r\n    ];\r\n    private formerArcDistance: number = 0;                       //弧形墙上一次的arcDistance值。\r\n    private isSwitching: boolean = false;                        //是否在弧形墙和直墙的相互转换过程中。\r\n    private allWallTextrues = []                                 //四面墙上贴的贴图。\r\n    public arcProfilePoints = [];                               //弧形墙下边的一排点。\r\n    private uvRawDatas = [];                                     //各面墙的uv初始数据。                    \r\n    private profileModels: ProfileModelData[] = [];              //这个cowall上的所有地脚线和石灰线等数据。\r\n    public paramsValues = {                                      //右边的属性面板用到的所有数据。\r\n        materialIndex: [],                                       //各个墙面选择的是哪张贴图。\r\n        kickLineProfileShapeIndex: [],\r\n        kickLineProfileMatIndex: [],\r\n        plasterCorniceProfileShapeIndex: [],\r\n        plasterCorniceProfileMatIndex: [],\r\n    }\r\n\r\n    // public myValue:number=0;\r\n\r\n    //因为我不能实例化它，只能把dataServer等需要用到的东西先给我传递进来。===============================================\r\n    public SetDataServerAndOthers(_dataServer: THREEDataServer, _popServer: PopDivService, _jDataServer: JdesignDataService) {\r\n        if (this.dataServer != undefined) {\r\n            return;\r\n        }\r\n\r\n        this.dataServer = _dataServer;\r\n        this.popServer = _popServer;\r\n        this.jDataServer = _jDataServer;\r\n        //初始化profileModels的所有数据。---------------------------------\r\n        for (let i = 0; i < this.allWallTypes.length; i++) {\r\n            this.profileModels[this.allWallTypes[i]] = new ProfileModelData();\r\n        }\r\n        // console.log(this.profileModels);\r\n        //初始化paramsValues里的所有数据。----------------------------------\r\n        // console.log(\"初始化\");\r\n        for (let key in this.paramsValues) {\r\n            for (let i = 0; i < this.allWallTypes.length; i++) {\r\n                if (this.paramsValues[key][this.allWallTypes[i]] == undefined) {\r\n                    this.paramsValues[key][this.allWallTypes[i]] = 0;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * 用来创建三维墙的函数。更新墙的时候也是，直接删掉原来的再利用这里进行重建===================================\r\n     *  _forceMakeWall：是否强制建墙？如果设置为true的话，不管这个墙有没有被移动，我强行来建。\r\n     */\r\n    public MakeWall(_forceMakeWall) {\r\n        //检查这个墙是否在弧形墙和平墙切换中。--------------------------------\r\n        this.isSwitching = false;\r\n\r\n        let _currentArcDistance = this.getWall().arcDistance;\r\n        if (_currentArcDistance != 0 && this.formerArcDistance == 0) {\r\n            this.isSwitching = true;\r\n        }\r\n        if (_currentArcDistance == 0 && this.formerArcDistance != 0) {\r\n            this.isSwitching = true;\r\n        }\r\n        this.formerArcDistance = _currentArcDistance;\r\n\r\n\r\n        //检查开始的地方和结束的地方是否没有别的cowall衔接。----------------\r\n        let _hasStartCowall = true;\r\n        let _hasEndCowall = true;\r\n        if (this.getPointStart().cowallIDs.length == 1) {\r\n            _hasStartCowall = false;\r\n        }\r\n        if (this.getPointEnd().cowallIDs.length == 1) {\r\n            _hasEndCowall = false;\r\n        }\r\n        //完全没有改变的墙不需要进行下面的重建工作。--------------------------\r\n        if (this.IfVertexesChange() == false && _forceMakeWall == false) {\r\n            return;\r\n        }\r\n        //把前面的墙都销毁掉把。---------------------------------\r\n        this.DisposeWall();\r\n\r\n        if (this.getWall().arcDistance == 0) {\r\n            //创建直墙。-------------------------------------\r\n            this.MakeStraightWall(_hasStartCowall, _hasEndCowall);\r\n        } else {\r\n            //创建弧形墙。---------------------------------\r\n            this.MakeArcWall(_hasStartCowall, _hasEndCowall);\r\n        }\r\n\r\n\r\n        //开始更新地脚线和天花线的模型。------------------------------------------------\r\n        this.UpdateKickLineProfileModel();\r\n        this.UpdatePlasterCorniceProfileModel();\r\n    }\r\n\r\n    /**\r\n     * 创建弧形墙的函数。======================================================================\r\n     * @param _hasStartCowall 这个墙前面是否有cowall？\r\n     * @param _hasEndCowall   这个墙后面是否有cowall？\r\n     */\r\n    private MakeArcWall(_hasStartCowall: boolean, _hasEndCowall: boolean) {\r\n        //这个cowall对应的墙对象。----------------------------------------------------------\r\n        let _wall3D: JWall3D = <JWall3D>this.getWall();\r\n        //首先做内墙。----------------------------------------------------------------------\r\n        let _inWall2DPoints = this.getInLine();\r\n        let _outWall2DPoints = this.getOutLine();\r\n\r\n        //为了检测墙有没有更新，要把一些老的数据先记录起来。------------------------------------\r\n        this.oldData._inWall2DPoints = _inWall2DPoints;\r\n        this.oldData._outWall2DPoints = _outWall2DPoints;\r\n        this.oldData._roomID = this.roomID;\r\n        //获取弧形墙的旋转中心。---------------------------------------------------------------\r\n        let _rotateCenter = new THREE.Vector2(_wall3D.circlePos.x, _wall3D.circlePos.y);\r\n        //开始做内墙。-----------------------------------------------------------------------------\r\n        //----------------------------------------------------------------------------------------\r\n        //旋转中心指向开始点的向量。----------------------------------------------------------\r\n        let _inWallStartVec = new THREE.Vector2(_inWall2DPoints[0].x - _rotateCenter.x, _inWall2DPoints[0].y - _rotateCenter.y);\r\n        //旋转中心指向结束点的向量。-------------------------------------------------------------\r\n        let _inWallEndVec = new THREE.Vector2(_inWall2DPoints[1].x - _rotateCenter.x, _inWall2DPoints[1].y - _rotateCenter.y);\r\n        //从圆弧开始点转向圆弧结束点的角度。-------------------------------------------------------\r\n        let _inwallAngleFromStartToEnd = MyUtil.GetAngleFrom2Vector(_inWallStartVec, _inWallEndVec);\r\n        //估计下圆弧要被划分成多少份。-------------------------------------------------------------\r\n        let _splitPartCount = Math.ceil(_inwallAngleFromStartToEnd / 0.2);\r\n        //求旋转一定量角度的向量的方向。-----------------------------------------------------------\r\n        let _inwallArcVecList = [];\r\n        for (let i = 0; i < _splitPartCount + 1; i++) {\r\n            let _beRotateVec2 = MyUtil.RotateVector2(_inWallStartVec, _inwallAngleFromStartToEnd / _splitPartCount * i);\r\n            _inwallArcVecList.push(_beRotateVec2);\r\n        }\r\n        //求弧形墙的一圈点。----------------------------------------------------------------------\r\n        let _inWallArcPoint = [];\r\n        for (let i = 0; i < _splitPartCount + 1; i++) {\r\n            _inWallArcPoint.push(_rotateCenter.clone().add(_inwallArcVecList[i]));\r\n        }\r\n        //内墙的面的顶点数据。----------------------------------------------------------------\r\n        let _inWallVertexes = [];\r\n        //先放入下一排的点。-----------------------------------------------------------------\r\n        this.arcProfilePoints[ModelType.inWall] = [];\r\n        for (let i = 0; i < _inWallArcPoint.length; i++) {\r\n            _inWallVertexes.push(new THREE.Vector3(_inWallArcPoint[i].x, 0.0, _inWallArcPoint[i].y));\r\n            //把下面这一排点也单独存起来，后面用来做地脚线要用到。----------------------------------------------\r\n            this.arcProfilePoints[ModelType.inWall].push(new THREE.Vector3(_inWallArcPoint[i].x, 0.0, _inWallArcPoint[i].y));\r\n        }\r\n        //再放入上一排的点。-----------------------------------------------------------------\r\n        for (let i = _inWallArcPoint.length - 1; i > -1; i--) {\r\n            _inWallVertexes.push(new THREE.Vector3(_inWallArcPoint[i].x, _wall3D.wallHeight, _inWallArcPoint[i].y));\r\n        }\r\n        //为内墙准备UV数据。-----------------------------------------------------------------\r\n        let _inWallDistanceFromPrePoint = _inWallVertexes[1].distanceTo(_inWallVertexes[0]);\r\n        this.uvRawDatas[ModelType.inWall] = [];\r\n        for (let i = 0; i < _inWallArcPoint.length; i++) {\r\n            this.uvRawDatas[ModelType.inWall].push(new THREE.Vector2(_inWallDistanceFromPrePoint * i, 0.0));\r\n        }\r\n        for (let i = _inWallArcPoint.length - 1; i > -1; i--) {\r\n            this.uvRawDatas[ModelType.inWall].push(new THREE.Vector2(_inWallDistanceFromPrePoint * i, _wall3D.wallHeight));\r\n        }\r\n        //计算切割平面的平面朝向。-----------------------------------------------------------\r\n        let _inwallFirstValue;\r\n        let _inwallSecondValue;\r\n        let _inwallArcDir01 = this.arcProfilePoints[ModelType.inWall][0].clone().sub(this.arcProfilePoints[ModelType.inWall][1]);\r\n        let _inwallArcDir02 = this.arcProfilePoints[ModelType.inWall][this.arcProfilePoints[ModelType.inWall].length - 1].clone().sub(this.arcProfilePoints[ModelType.inWall][this.arcProfilePoints[ModelType.inWall].length - 2]);\r\n\r\n        if (_hasStartCowall == true) {\r\n            _inwallFirstValue = new THREE.Vector3(_outWall2DPoints[1].x, 0, _outWall2DPoints[1].y).sub(new THREE.Vector3(_inWall2DPoints[0].x, 0.0, _inWall2DPoints[0].y));\r\n        } else {\r\n            _inwallFirstValue = _inwallArcDir01.clone().applyAxisAngle(new THREE.Vector3(0, 1, 0), Math.PI / 4 + _inwallAngleFromStartToEnd / _splitPartCount / 2);\r\n        }\r\n        if (_hasEndCowall == true) {\r\n            _inwallSecondValue = new THREE.Vector3(_outWall2DPoints[0].x, 0, _outWall2DPoints[0].y).sub(new THREE.Vector3(_inWall2DPoints[1].x, 0.0, _inWall2DPoints[1].y));\r\n        } else {\r\n            _inwallSecondValue = _inwallArcDir02.clone().applyAxisAngle(new THREE.Vector3(0, 1, 0), -Math.PI / 4 - _inwallAngleFromStartToEnd / _splitPartCount / 2);\r\n        }\r\n        this.profileModels[ModelType.inWall].cutPlaneDir = [\r\n            _inwallFirstValue,\r\n            _inwallSecondValue\r\n        ];\r\n        //为内墙创建Face3数据。----------------------------------------------------------------------------\r\n        let _inWallFaces = [];\r\n        for (let i = 0; i < _inWallArcPoint.length - 1; i++) {\r\n            let _nextI = i + 1;\r\n            let _oppositeI = _inWallArcPoint.length - i - 1 + _inWallArcPoint.length;\r\n            let _oppositeNextI = _oppositeI - 1;\r\n            _inWallFaces.push(new THREE.Face3(i, _nextI, _oppositeI));\r\n            _inWallFaces.push(new THREE.Face3(_nextI, _oppositeNextI, _oppositeI));\r\n        }\r\n        //开始创建一个弧形的内墙。----------------------------------------------------------------------\r\n        let _InwallMesh = this.MakeOneWallMesh(_inWallVertexes, _inWallFaces, ModelType.inWall, false);\r\n        //这个模型绑定阿隆创建的JCowall3D对象。-----------------------------------\r\n        let customUserData: CustomUserData = new CustomUserData();\r\n        customUserData.longObj = this;\r\n        customUserData.modelType = ModelType.inWall;\r\n        customUserData.wireSelectedPoints = _inWallVertexes;\r\n        _InwallMesh.userData.customUserData = customUserData;\r\n        //把模型放置到可单击模型列表里。--------------------------------------------\r\n        this.dataServer.classesObj.rayHitModelList.AddRayHitModel(_InwallMesh);\r\n\r\n        //再做外墙。------------------------------------------------------------------------\r\n        //---------------------------------------------------------------------------------\r\n        if (this.roomID == undefined) {//没有构成room的cowall。\r\n            //旋转中心指向外墙开始点的向量。----------------------------------------------------------\r\n            let _outWallStartVec = new THREE.Vector2(_outWall2DPoints[1].x - _rotateCenter.x, _outWall2DPoints[1].y - _rotateCenter.y);\r\n            //旋转中心指向外墙结束点的向量。-------------------------------------------------------------\r\n            let _outWallEndVec = new THREE.Vector2(_outWall2DPoints[0].x - _rotateCenter.x, _outWall2DPoints[0].y - _rotateCenter.y);\r\n            //从圆弧开始点转向圆弧结束点的角度。-------------------------------------------------------\r\n            let _outWallAngleFromStartToEnd = MyUtil.GetAngleFrom2Vector(_outWallStartVec, _outWallEndVec);\r\n            //求旋转一定量角度的向量的方向。-----------------------------------------------------------\r\n            let _outwallArcVecList = [];\r\n            for (let i = 0; i < _splitPartCount + 1; i++) {\r\n                let _beRotateVec2 = MyUtil.RotateVector2(_outWallStartVec, _outWallAngleFromStartToEnd / _splitPartCount * i);\r\n                _outwallArcVecList.push(_beRotateVec2);\r\n            }\r\n            //求弧形墙的一圈点。----------------------------------------------------------------------\r\n            let _outWallArcPoint = [];\r\n            for (let i = 0; i < _splitPartCount + 1; i++) {\r\n                _outWallArcPoint.push(_rotateCenter.clone().add(_outwallArcVecList[i]));\r\n            }\r\n            //外墙的面的顶点数据。----------------------------------------------------------------\r\n            let _outWallVertexes = [];\r\n            //先放入下一排的点。-----------------------------------------------------------------\r\n            this.arcProfilePoints[ModelType.outWall] = [];\r\n            for (let i = 0; i < _outWallArcPoint.length; i++) {\r\n                _outWallVertexes.push(new THREE.Vector3(_outWallArcPoint[i].x, 0.0, _outWallArcPoint[i].y));\r\n                //把下面这一排点也单独存起来，后面用来做地脚线要用到。----------------------------------------------\r\n                this.arcProfilePoints[ModelType.outWall].push(new THREE.Vector3(_outWallArcPoint[i].x, 0.0, _outWallArcPoint[i].y));\r\n            }\r\n            // //把外墙的一圈点的顺序反一下。-------------------------------------------------------\r\n            // this.arcProfilePoints[ModelType.outWall].reverse();\r\n            //再放入上一排的点。-----------------------------------------------------------------\r\n            for (let i = _outWallArcPoint.length - 1; i > -1; i--) {\r\n                _outWallVertexes.push(new THREE.Vector3(_outWallArcPoint[i].x, _wall3D.wallHeight, _outWallArcPoint[i].y));\r\n            }\r\n\r\n            //为外墙准备UV数据。-----------------------------------------------------------------\r\n            let _outWallDistanceFromPrePoint = _outWallVertexes[1].distanceTo(_outWallVertexes[0]);\r\n            this.uvRawDatas[ModelType.outWall] = [];\r\n            for (let i = 0; i < _outWallArcPoint.length; i++) {\r\n                this.uvRawDatas[ModelType.outWall].push(new THREE.Vector2(_outWallDistanceFromPrePoint * i, 0.0));\r\n            }\r\n            for (let i = _outWallArcPoint.length - 1; i > -1; i--) {\r\n                this.uvRawDatas[ModelType.outWall].push(new THREE.Vector2(_outWallDistanceFromPrePoint * i, _wall3D.wallHeight));\r\n            }\r\n\r\n            //计算切割平面的平面朝向。-------------------------------------------------------------\r\n            let _outwallFirstValue;\r\n            let _outwallSecondValue;\r\n            let _ouwallDir01 = this.arcProfilePoints[ModelType.outWall][0].clone().sub(this.arcProfilePoints[ModelType.outWall][1]);\r\n            let _ouwallDir02 = this.arcProfilePoints[ModelType.outWall][this.arcProfilePoints[ModelType.outWall].length - 1].clone().sub(this.arcProfilePoints[ModelType.outWall][this.arcProfilePoints[ModelType.outWall].length - 2]);\r\n\r\n            if (_hasEndCowall == true) {\r\n                _outwallSecondValue = new THREE.Vector3(_inWall2DPoints[1].x, 0, _inWall2DPoints[1].y).sub(new THREE.Vector3(_outWall2DPoints[0].x, 0.0, _outWall2DPoints[0].y));\r\n            } else {\r\n                _outwallSecondValue = _ouwallDir02.clone().applyAxisAngle(new THREE.Vector3(0, 1, 0), Math.PI / 4 - _outWallAngleFromStartToEnd / _splitPartCount / 2);\r\n            }\r\n\r\n            if (_hasStartCowall == true) {\r\n                _outwallFirstValue = new THREE.Vector3(_inWall2DPoints[0].x, 0, _inWall2DPoints[0].y).sub(new THREE.Vector3(_outWall2DPoints[1].x, 0.0, _outWall2DPoints[1].y));\r\n            } else {\r\n                _outwallFirstValue = _ouwallDir01.clone().applyAxisAngle(new THREE.Vector3(0, 1, 0), -Math.PI / 4 + _outWallAngleFromStartToEnd / _splitPartCount / 2);\r\n            }\r\n            this.profileModels[ModelType.outWall].cutPlaneDir = [\r\n                _outwallFirstValue,\r\n                _outwallSecondValue\r\n            ];\r\n\r\n            //为外墙创建Face3数据。----------------------------------------------------------------------------\r\n            let _outWallFaces = [];\r\n            for (let i = 0; i < _outWallArcPoint.length - 1; i++) {\r\n                let _nextI = i + 1;\r\n                let _oppositeI = _outWallArcPoint.length - i - 1 + _outWallArcPoint.length;\r\n                let _oppositeNextI = _oppositeI - 1;\r\n                _outWallFaces.push(new THREE.Face3(i, _oppositeI, _nextI));\r\n                _outWallFaces.push(new THREE.Face3(_nextI, _oppositeI, _oppositeNextI));\r\n            }\r\n            //开始创建一个弧形的外墙。----------------------------------------------------------------------\r\n            let _outwallMesh = this.MakeOneWallMesh(_outWallVertexes, _outWallFaces, ModelType.outWall, false);\r\n            //这个外墙模型绑定阿隆创建的JCowall3D对象。-----------------------------------\r\n            let customUserData: CustomUserData = new CustomUserData();\r\n            customUserData.longObj = this;\r\n            customUserData.modelType = ModelType.outWall;\r\n            customUserData.wireSelectedPoints = _outWallVertexes;\r\n            _outwallMesh.userData.customUserData = customUserData;\r\n            //把外墙模型放置到可单击模型列表里。--------------------------------------------\r\n            this.dataServer.classesObj.rayHitModelList.AddRayHitModel(_outwallMesh);\r\n\r\n        }\r\n\r\n        //做开始处的侧墙。-------------------------------------------------------------------\r\n        //-----------------------------------------------------------------------------------------\r\n        if (_hasStartCowall == false) {\r\n            // this.centerPoints[ModelType.startWall] = this.GetCenterPoint(_inWall2DPoints[0], _outWall2DPoints[1]);\r\n            // this.referenceDir[ModelType.startWall] = new THREE.Vector2(_outWall2DPoints[1].x - _inWall2DPoints[0].x, _outWall2DPoints[1].y - _inWall2DPoints[0].y);\r\n            let _startSideWallVertexes = [\r\n                new THREE.Vector3(_inWall2DPoints[0].x, 0, _inWall2DPoints[0].y),\r\n                new THREE.Vector3(_outWall2DPoints[1].x, 0, _outWall2DPoints[1].y),\r\n                new THREE.Vector3(_outWall2DPoints[1].x, _wall3D.wallHeight, _outWall2DPoints[1].y),\r\n                new THREE.Vector3(_inWall2DPoints[0].x, _wall3D.wallHeight, _inWall2DPoints[0].y),\r\n\r\n            ]\r\n            //为墙面UV搜集数据。---------------------------------------------------------------------------------\r\n            let _startSideWallLength = _startSideWallVertexes[0].clone().distanceTo(_startSideWallVertexes[1]);\r\n            this.uvRawDatas[ModelType.startWall] = [\r\n                new THREE.Vector2(0, 0),\r\n                new THREE.Vector2(_startSideWallLength, 0.0),\r\n                new THREE.Vector2(_startSideWallLength, _wall3D.wallHeight),\r\n                new THREE.Vector2(0.0, _wall3D.wallHeight)\r\n            ];\r\n            //为地脚线和石灰线的走向搜集数据。-----------------------------------------------------\r\n            this.profileModels[ModelType.startWall].profileDir = [_startSideWallVertexes[0], _startSideWallVertexes[1]];\r\n            let _startWallDir = _startSideWallVertexes[0].clone().sub(_startSideWallVertexes[1]);\r\n            this.profileModels[ModelType.startWall].cutPlaneDir = [\r\n                _startWallDir.clone().applyAxisAngle(new THREE.Vector3(0, 1, 0), -Math.PI / 4),\r\n                _startWallDir.clone().applyAxisAngle(new THREE.Vector3(0, 1, 0), Math.PI / 4),\r\n            ];\r\n\r\n            let _startSideWallFaces = [\r\n                new THREE.Face3(0, 3, 1),\r\n                new THREE.Face3(1, 3, 2),\r\n            ]\r\n            //为模型加载最初始的贴图。-----------------------------------------------\r\n            if (this.allWallTextrues[ModelType.startWall] == undefined) {\r\n                this.allWallTextrues[ModelType.startWall] = this.LoadInitTexture();\r\n            }\r\n            let _startSideWall = this.MakeOneWallMesh(_startSideWallVertexes, _startSideWallFaces, ModelType.startWall, false);\r\n            //这个模型绑定阿隆创建的JCowall3D对象。-----------------------------------\r\n            let customUserData: CustomUserData = new CustomUserData();\r\n            customUserData.longObj = this;\r\n            customUserData.modelType = ModelType.startWall;\r\n            customUserData.wireSelectedPoints = _startSideWallVertexes;\r\n            _startSideWall.userData.customUserData = customUserData;\r\n            //把模型放置到可单击模型列表里。--------------------------------------------\r\n            this.dataServer.classesObj.rayHitModelList.AddRayHitModel(_startSideWall);\r\n        }\r\n\r\n\r\n        //做结束处的侧墙。---------------------------------------------------------------------------\r\n        //-----------------------------------------------------------------------------------------\r\n        if (_hasEndCowall == false) {\r\n            let _endSideWallVertexes = [\r\n                new THREE.Vector3(_inWall2DPoints[1].x, 0, _inWall2DPoints[1].y),\r\n                new THREE.Vector3(_outWall2DPoints[0].x, 0, _outWall2DPoints[0].y),\r\n                new THREE.Vector3(_outWall2DPoints[0].x, _wall3D.wallHeight, _outWall2DPoints[0].y),\r\n                new THREE.Vector3(_inWall2DPoints[1].x, _wall3D.wallHeight, _inWall2DPoints[1].y),\r\n\r\n            ]\r\n            //为墙面UV搜集数据。---------------------------------------------------------------------------------\r\n            let _endSideWallLength = _endSideWallVertexes[0].clone().distanceTo(_endSideWallVertexes[1]);\r\n            this.uvRawDatas[ModelType.endWall] = [\r\n                new THREE.Vector2(0, 0),\r\n                new THREE.Vector2(_endSideWallLength, 0.0),\r\n                new THREE.Vector2(_endSideWallLength, _wall3D.wallHeight),\r\n                new THREE.Vector2(0.0, _wall3D.wallHeight)\r\n            ];\r\n            //为地脚线和石灰线的走向搜集数据。-----------------------------------------------------\r\n            this.profileModels[ModelType.endWall].profileDir = [_endSideWallVertexes[1], _endSideWallVertexes[0]];\r\n            let _endWallDir = _endSideWallVertexes[1].clone().sub(_endSideWallVertexes[0]);\r\n            this.profileModels[ModelType.endWall].cutPlaneDir = [\r\n                _endWallDir.clone().applyAxisAngle(new THREE.Vector3(0, 1, 0), -Math.PI / 4),\r\n                _endWallDir.clone().applyAxisAngle(new THREE.Vector3(0, 1, 0), Math.PI / 4),\r\n            ];\r\n            let _endSideWallFaces = [\r\n                new THREE.Face3(0, 1, 3),\r\n                new THREE.Face3(1, 2, 3),\r\n            ]\r\n            //为模型加载最初始的贴图。-----------------------------------------------\r\n            if (this.allWallTextrues[ModelType.endWall] == undefined) {\r\n                this.allWallTextrues[ModelType.endWall] = this.LoadInitTexture();\r\n            }\r\n            let _endSideWall = this.MakeOneWallMesh(_endSideWallVertexes, _endSideWallFaces, ModelType.endWall, false);\r\n            //这个模型绑定阿隆创建的JCowall3D对象。-----------------------------------\r\n            let customUserData: CustomUserData = new CustomUserData();\r\n            customUserData.longObj = this;\r\n            customUserData.modelType = ModelType.endWall;\r\n            customUserData.wireSelectedPoints = _endSideWallVertexes;\r\n            _endSideWall.userData.customUserData = customUserData;\r\n            //把模型放置到可单击模型列表里。--------------------------------------------\r\n            this.dataServer.classesObj.rayHitModelList.AddRayHitModel(_endSideWall);\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * 创建直墙的函数。======================================================================\r\n     * @param _hasStartCowall 这个墙前面是否有cowall？\r\n     * @param _hasEndCowall   这个墙后面是否有cowall？\r\n     */\r\n    private MakeStraightWall(_hasStartCowall: boolean, _hasEndCowall: boolean) {\r\n        //这个cowall对应的墙对象。----------------------------------------------------------\r\n        let _wall3D: JWall3D = <JWall3D>this.getWall();\r\n        //首先做内墙。----------------------------------------------------------------------\r\n        let _inWall2DPoints = this.getInLine();\r\n        let _outWall2DPoints = this.getOutLine();\r\n        //为了检测墙有没有更新，要把一些老的数据先记录起来。------------------------------------\r\n        this.oldData._inWall2DPoints = _inWall2DPoints;\r\n        this.oldData._outWall2DPoints = _outWall2DPoints;\r\n\r\n        this.oldData._roomID = this.roomID;\r\n\r\n        //内墙的面的顶点数据。----------------------------------------------------------------\r\n        let _inWallVertexes = [\r\n            new THREE.Vector3(_inWall2DPoints[0].x, 0, _inWall2DPoints[0].y),\r\n            new THREE.Vector3(_inWall2DPoints[1].x, 0, _inWall2DPoints[1].y),\r\n            new THREE.Vector3(_inWall2DPoints[1].x, _wall3D.wallHeight, _inWall2DPoints[1].y),\r\n            new THREE.Vector3(_inWall2DPoints[0].x, _wall3D.wallHeight, _inWall2DPoints[0].y)\r\n        ];\r\n        //为墙面UV搜集数据。---------------------------------------------------------------------------------\r\n        let _inWallLength = _inWallVertexes[0].clone().distanceTo(_inWallVertexes[1]);\r\n        this.uvRawDatas[ModelType.inWall] = [\r\n            new THREE.Vector2(0, 0),\r\n            new THREE.Vector2(_inWallLength, 0.0),\r\n            new THREE.Vector2(_inWallLength, _wall3D.wallHeight),\r\n            new THREE.Vector2(0.0, _wall3D.wallHeight)\r\n        ];\r\n\r\n        //为地脚线和石灰线的走向搜集数据。-----------------------------------------------------\r\n        this.profileModels[ModelType.inWall].profileDir = [_inWallVertexes[1], _inWallVertexes[0]];\r\n        //计算切割平面的平面朝向。-----------------------------------------------------------\r\n        let _inwallFirstValue;\r\n        let _inwallSecondValue;\r\n        let _inwallDir = _inWallVertexes[0].clone().sub(_inWallVertexes[1]);\r\n\r\n        if (_hasStartCowall == true) {\r\n            _inwallSecondValue = new THREE.Vector3(_outWall2DPoints[1].x, 0, _outWall2DPoints[1].y).sub(_inWallVertexes[0]);\r\n        } else {\r\n            _inwallSecondValue = _inwallDir.clone().applyAxisAngle(new THREE.Vector3(0, 1, 0), Math.PI / 4);\r\n        }\r\n        if (_hasEndCowall == true) {\r\n            _inwallFirstValue = new THREE.Vector3(_outWall2DPoints[0].x, 0, _outWall2DPoints[0].y).sub(_inWallVertexes[1]);\r\n        } else {\r\n            _inwallFirstValue = _inwallDir.clone().applyAxisAngle(new THREE.Vector3(0, 1, 0), -Math.PI / 4);\r\n        }\r\n        this.profileModels[ModelType.inWall].cutPlaneDir = [\r\n            _inwallFirstValue,\r\n            _inwallSecondValue\r\n        ];\r\n        //为内墙创建Face3数据。----------------------------------------------------------------------------\r\n        let _inWallFaces = [\r\n            new THREE.Face3(0, 1, 3),\r\n            new THREE.Face3(1, 2, 3),\r\n        ];\r\n        //为内墙模型加载最初始的贴图。-----------------------------------------------\r\n        // console.log(this.allWallTextrues);\r\n        if (this.allWallTextrues[ModelType.inWall] == undefined) {\r\n            this.allWallTextrues[ModelType.inWall] = this.LoadInitTexture();\r\n        }\r\n        let _InwallMesh = this.MakeOneWallMesh(_inWallVertexes, _inWallFaces, ModelType.inWall, false);\r\n\r\n        //这个模型绑定阿隆创建的JCowall3D对象。-----------------------------------\r\n        let customUserData: CustomUserData = new CustomUserData();\r\n        customUserData.longObj = this;\r\n        customUserData.modelType = ModelType.inWall;\r\n        customUserData.wireSelectedPoints = _inWallVertexes;\r\n        _InwallMesh.userData.customUserData = customUserData;\r\n        //把模型放置到可单击模型列表里。--------------------------------------------\r\n        this.dataServer.classesObj.rayHitModelList.AddRayHitModel(_InwallMesh);\r\n\r\n\r\n\r\n        //再做外墙。------------------------------------------------------------------------\r\n        if (this.roomID == undefined) {//没有构成room的cowall。\r\n            // this.centerPoints[ModelType.outWall] = this.GetCenterPoint(_outWall2DPoints[0], _outWall2DPoints[1]);\r\n            // this.referenceDir[ModelType.outWall] = new THREE.Vector2(_outWall2DPoints[1].x - _outWall2DPoints[0].x, _outWall2DPoints[1].y - _outWall2DPoints[0].y);\r\n            //外墙的四个角的四个顶点。---------------------------------------------------------------\r\n            let _outWallVertexes = [\r\n                new THREE.Vector3(_outWall2DPoints[0].x, 0, _outWall2DPoints[0].y),\r\n                new THREE.Vector3(_outWall2DPoints[1].x, 0, _outWall2DPoints[1].y),\r\n                new THREE.Vector3(_outWall2DPoints[1].x, _wall3D.wallHeight, _outWall2DPoints[1].y),\r\n                new THREE.Vector3(_outWall2DPoints[0].x, _wall3D.wallHeight, _outWall2DPoints[0].y),\r\n            ];\r\n            //为墙面UV搜集数据。---------------------------------------------------------------------------------\r\n            let _outWallLength = _outWallVertexes[0].clone().distanceTo(_outWallVertexes[1]);\r\n            this.uvRawDatas[ModelType.outWall] = [\r\n                new THREE.Vector2(0, 0),\r\n                new THREE.Vector2(_outWallLength, 0.0),\r\n                new THREE.Vector2(_outWallLength, _wall3D.wallHeight),\r\n                new THREE.Vector2(0.0, _wall3D.wallHeight)\r\n            ];\r\n            //为地脚线和石灰线的走向搜集数据。-----------------------------------------------------\r\n            this.profileModels[ModelType.outWall].profileDir = [_outWallVertexes[1], _outWallVertexes[0]];\r\n            //计算切割平面的平面朝向。-------------------------------------------------------------\r\n            let _outwallFirstValue;\r\n            let _outwallSecondValue;\r\n            let _outallDir = _outWallVertexes[0].clone().sub(_outWallVertexes[1]);\r\n\r\n            if (_hasEndCowall == true) {\r\n                _outwallSecondValue = new THREE.Vector3(_inWall2DPoints[1].x, 0, _inWall2DPoints[1].y).sub(_outWallVertexes[0]);\r\n            } else {\r\n                _outwallSecondValue = _outallDir.clone().applyAxisAngle(new THREE.Vector3(0, 1, 0), Math.PI / 4);\r\n            }\r\n            if (_hasStartCowall == true) {\r\n                _outwallFirstValue = new THREE.Vector3(_inWall2DPoints[0].x, 0, _inWall2DPoints[0].y).sub(_outWallVertexes[1]);\r\n            } else {\r\n                _outwallFirstValue = _outallDir.clone().applyAxisAngle(new THREE.Vector3(0, 1, 0), -Math.PI / 4);\r\n            }\r\n            this.profileModels[ModelType.outWall].cutPlaneDir = [\r\n                _outwallFirstValue,\r\n                _outwallSecondValue\r\n            ];\r\n            //为外墙生成Face3数据。-------------------------------------------------\r\n            let _outWallFaces = [\r\n                new THREE.Face3(0, 1, 3),\r\n                new THREE.Face3(1, 2, 3)\r\n            ]\r\n            //为外墙模型加载最初始的贴图。-----------------------------------------------\r\n            if (this.allWallTextrues[ModelType.outWall] == undefined) {\r\n                this.allWallTextrues[ModelType.outWall] = this.LoadInitTexture();\r\n            }\r\n            let _outwallMesh = this.MakeOneWallMesh(_outWallVertexes, _outWallFaces, ModelType.outWall, false);\r\n            //这个模型绑定阿隆创建的JCowall3D对象。-----------------------------------\r\n            let customUserData: CustomUserData = new CustomUserData();\r\n            customUserData.longObj = this;\r\n            customUserData.modelType = ModelType.outWall;\r\n            customUserData.wireSelectedPoints = _outWallVertexes;\r\n            _outwallMesh.userData.customUserData = customUserData;\r\n            //把模型放置到可单击模型列表里。--------------------------------------------\r\n            this.dataServer.classesObj.rayHitModelList.AddRayHitModel(_outwallMesh);\r\n        }\r\n        //做开始处的侧墙。-------------------------------------------------------------------\r\n        if (_hasStartCowall == false) {\r\n            // this.centerPoints[ModelType.startWall] = this.GetCenterPoint(_inWall2DPoints[0], _outWall2DPoints[1]);\r\n            // this.referenceDir[ModelType.startWall] = new THREE.Vector2(_outWall2DPoints[1].x - _inWall2DPoints[0].x, _outWall2DPoints[1].y - _inWall2DPoints[0].y);\r\n            let _startSideWallVertexes = [\r\n                new THREE.Vector3(_inWall2DPoints[0].x, 0, _inWall2DPoints[0].y),\r\n                new THREE.Vector3(_outWall2DPoints[1].x, 0, _outWall2DPoints[1].y),\r\n                new THREE.Vector3(_outWall2DPoints[1].x, _wall3D.wallHeight, _outWall2DPoints[1].y),\r\n                new THREE.Vector3(_inWall2DPoints[0].x, _wall3D.wallHeight, _inWall2DPoints[0].y),\r\n\r\n            ]\r\n            //为墙面UV搜集数据。---------------------------------------------------------------------------------\r\n            let _startSideWallLength = _startSideWallVertexes[0].clone().distanceTo(_startSideWallVertexes[1]);\r\n            this.uvRawDatas[ModelType.startWall] = [\r\n                new THREE.Vector2(0, 0),\r\n                new THREE.Vector2(_startSideWallLength, 0.0),\r\n                new THREE.Vector2(_startSideWallLength, _wall3D.wallHeight),\r\n                new THREE.Vector2(0.0, _wall3D.wallHeight)\r\n            ];\r\n            //为地脚线和石灰线的走向搜集数据。-----------------------------------------------------\r\n            this.profileModels[ModelType.startWall].profileDir = [_startSideWallVertexes[0], _startSideWallVertexes[1]];\r\n            let _startWallDir = _startSideWallVertexes[0].clone().sub(_startSideWallVertexes[1]);\r\n            this.profileModels[ModelType.startWall].cutPlaneDir = [\r\n                _startWallDir.clone().applyAxisAngle(new THREE.Vector3(0, 1, 0), -Math.PI / 4),\r\n                _startWallDir.clone().applyAxisAngle(new THREE.Vector3(0, 1, 0), Math.PI / 4),\r\n            ];\r\n\r\n            let _startSideWallFaces = [\r\n                new THREE.Face3(0, 3, 1),\r\n                new THREE.Face3(1, 3, 2),\r\n            ]\r\n            //为模型加载最初始的贴图。-----------------------------------------------\r\n            if (this.allWallTextrues[ModelType.startWall] == undefined) {\r\n                this.allWallTextrues[ModelType.startWall] = this.LoadInitTexture();\r\n            }\r\n            let _startSideWall = this.MakeOneWallMesh(_startSideWallVertexes, _startSideWallFaces, ModelType.startWall, false);\r\n            //这个模型绑定阿隆创建的JCowall3D对象。-----------------------------------\r\n            let customUserData: CustomUserData = new CustomUserData();\r\n            customUserData.longObj = this;\r\n            customUserData.modelType = ModelType.startWall;\r\n            customUserData.wireSelectedPoints = _startSideWallVertexes;\r\n            _startSideWall.userData.customUserData = customUserData;\r\n            //把模型放置到可单击模型列表里。--------------------------------------------\r\n            this.dataServer.classesObj.rayHitModelList.AddRayHitModel(_startSideWall);\r\n        }\r\n        //做结束处的侧墙。----------------------------------------------------------------------\r\n        if (_hasEndCowall == false) {\r\n            // this.centerPoints[ModelType.endWall] = this.GetCenterPoint(_inWall2DPoints[1], _outWall2DPoints[0]);\r\n            // this.referenceDir[ModelType.endWall] = new THREE.Vector2(_outWall2DPoints[0].x - _inWall2DPoints[1].x, _outWall2DPoints[0].y - _inWall2DPoints[1].y);\r\n\r\n            let _endSideWallVertexes = [\r\n                new THREE.Vector3(_inWall2DPoints[1].x, 0, _inWall2DPoints[1].y),\r\n                new THREE.Vector3(_outWall2DPoints[0].x, 0, _outWall2DPoints[0].y),\r\n                new THREE.Vector3(_outWall2DPoints[0].x, _wall3D.wallHeight, _outWall2DPoints[0].y),\r\n                new THREE.Vector3(_inWall2DPoints[1].x, _wall3D.wallHeight, _inWall2DPoints[1].y),\r\n\r\n            ]\r\n            //为墙面UV搜集数据。---------------------------------------------------------------------------------\r\n            let _endSideWallLength = _endSideWallVertexes[0].clone().distanceTo(_endSideWallVertexes[1]);\r\n            this.uvRawDatas[ModelType.endWall] = [\r\n                new THREE.Vector2(0, 0),\r\n                new THREE.Vector2(_endSideWallLength, 0.0),\r\n                new THREE.Vector2(_endSideWallLength, _wall3D.wallHeight),\r\n                new THREE.Vector2(0.0, _wall3D.wallHeight)\r\n            ];\r\n            //为地脚线和石灰线的走向搜集数据。-----------------------------------------------------\r\n            this.profileModels[ModelType.endWall].profileDir = [_endSideWallVertexes[1], _endSideWallVertexes[0]];\r\n            let _endWallDir = _endSideWallVertexes[1].clone().sub(_endSideWallVertexes[0]);\r\n            this.profileModels[ModelType.endWall].cutPlaneDir = [\r\n                _endWallDir.clone().applyAxisAngle(new THREE.Vector3(0, 1, 0), -Math.PI / 4),\r\n                _endWallDir.clone().applyAxisAngle(new THREE.Vector3(0, 1, 0), Math.PI / 4),\r\n            ];\r\n            let _endSideWallFaces = [\r\n                new THREE.Face3(0, 1, 3),\r\n                new THREE.Face3(1, 2, 3),\r\n            ]\r\n            //为模型加载最初始的贴图。-----------------------------------------------\r\n            if (this.allWallTextrues[ModelType.endWall] == undefined) {\r\n                this.allWallTextrues[ModelType.endWall] = this.LoadInitTexture();\r\n            }\r\n            let _endSideWall = this.MakeOneWallMesh(_endSideWallVertexes, _endSideWallFaces, ModelType.endWall, false);\r\n            //这个模型绑定阿隆创建的JCowall3D对象。-----------------------------------\r\n            let customUserData: CustomUserData = new CustomUserData();\r\n            customUserData.longObj = this;\r\n            customUserData.modelType = ModelType.endWall;\r\n            customUserData.wireSelectedPoints = _endSideWallVertexes;\r\n            _endSideWall.userData.customUserData = customUserData;\r\n            //把模型放置到可单击模型列表里。--------------------------------------------\r\n            this.dataServer.classesObj.rayHitModelList.AddRayHitModel(_endSideWall);\r\n        }\r\n    }\r\n\r\n    /**\r\n    * 把这个colwall上的所有的墙的模型销毁掉。==============================================================\r\n    */\r\n    private DisposeWall() {\r\n        if (this.dataServer == undefined) {\r\n            return;\r\n        }\r\n        //这个墙是不是当前选择的模型？是的话取消一切选择。\r\n        let _isCurrentSelectMesh = false;\r\n        let _currentSelectModel = this.dataServer.classesObj.currentSelectModel.currentSelectedModel;\r\n        if (_currentSelectModel != null) {\r\n            for (let key in this.wallMeshs) {\r\n                if (this.wallMeshs[key] == _currentSelectModel) {\r\n                    _isCurrentSelectMesh = true;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        if (_isCurrentSelectMesh == true) {\r\n            this.dataServer.classesObj.currentSelectModel.DeselectAll();\r\n            this.dataServer.classesObj.wireSelectFrame.destory3D();\r\n        }\r\n\r\n        //把mesh都销毁掉。------------------------------------------------\r\n        for (let key in this.wallMeshs) {\r\n            if (this.wallMeshs[key] != null) {\r\n                this.dataServer.classesObj.rayHitModelList.RemoveRayHitModel(this.wallMeshs[key]);\r\n                this.dataServer.sceneCommonObj.scene.remove(this.wallMeshs[key]);\r\n                this.wallMeshs[key].material.dispose();\r\n                delete this.wallMeshs[key].userData.customUserData;\r\n                this.wallMeshs[key].geometry.dispose();\r\n                this.wallMeshs[key] = null;\r\n            }\r\n        }\r\n        this.wallMeshs = [];\r\n        //把布尔后的mesh都销毁掉。------------\r\n        for (let key in this.afterBooleanMesh) {\r\n            if (this.afterBooleanMesh[key] != null) {\r\n                this.dataServer.sceneCommonObj.scene.remove(this.afterBooleanMesh[key]);\r\n                this.afterBooleanMesh[key].material.dispose();\r\n                this.afterBooleanMesh[key].geometry.dispose();\r\n                this.afterBooleanMesh[key] = null;\r\n            }\r\n        }\r\n\r\n\r\n\r\n        //把geometry都销毁掉。--------------------------------------------\r\n        for (let key in this.wallGeometrys) {\r\n            if (this.wallGeometrys[key] != null) {\r\n                this.wallGeometrys[key].dispose();\r\n                this.wallGeometrys[key] = null;\r\n            }\r\n        }\r\n        this.wallGeometrys = [];\r\n    }\r\n\r\n    /**\r\n     * 为墙体加载初始化的贴图。==========================================================================\r\n     */\r\n    private LoadInitTexture() {\r\n        let initTextureUrl = this.jDataServer.json.wallPaper[0];\r\n        let _theTexture = this.dataServer.loaders.textureLoader.load(initTextureUrl);\r\n        _theTexture.wrapS = THREE.RepeatWrapping;\r\n        _theTexture.wrapT = THREE.RepeatWrapping;\r\n        return _theTexture;\r\n    }\r\n\r\n    /**\r\n     * 给这个模型创建地脚线。在右边属性面板勾上地脚线的时候调用===============================================================\r\n     * @param _modelType 模型的类型,用来区分是内墙还是外墙还是边上的墙------------------------------------------\r\n     *  @param _profileDatas 剖面上的一圈点--------------------------------------------------------------------\r\n     */\r\n    public MakeKickLine(_profileDatas: any) {\r\n        let _modelType = this.dataServer.classesObj.currentSelectModel.GetSelectedModelType();\r\n        //let _allKickLine = this.dataServer.classesObj.profileLoader.GetKickLineData();\r\n        //读取对应的地脚线的数据。----------------------------------\r\n        //let _profileDatas = _allKickLine.dataList[this.paramsValues.kickLineProfileShapeIndex[_modelType]].vertexData;\r\n\r\n        this.profileModels[_modelType].kickLineProfilePoints = _profileDatas;\r\n        //第一个创建地脚线的时候，请先创建一个ProfileModel对象。---------------\r\n        if (this.profileModels[_modelType].kickLine == null) {\r\n            this.profileModels[_modelType].kickLine = new ProfileModel(this.dataServer, ModelType.kickLine, this.jDataServer);\r\n        }\r\n        let _wallDoors = this.getWall().getDoorArr();\r\n        //如果是直墙的话则创建的是直墙的地脚线。-----------------------------------------\r\n        if (this.MakeStarightOrArcWall(_modelType) == true) {\r\n            this.profileModels[_modelType].kickLine.MakeStraightProfile(\r\n                this.paramsValues.kickLineProfileMatIndex[_modelType],\r\n                0,\r\n                this.profileModels[_modelType].kickLineSize,\r\n                this.profileModels[_modelType].profileDir,\r\n                this.profileModels[_modelType].cutPlaneDir,\r\n                this.profileModels[_modelType].kickLineProfilePoints,\r\n                _wallDoors\r\n            );\r\n        }\r\n        //如果是弧形墙的话则为弧形墙创建地脚线。---------------------------------------------\r\n        else {\r\n            this.profileModels[_modelType].kickLine.MakeArcProfile(\r\n                this.paramsValues.kickLineProfileMatIndex[_modelType],\r\n                0,\r\n                this.profileModels[_modelType].kickLineSize,\r\n                this.arcProfilePoints[_modelType],\r\n                this.profileModels[_modelType].cutPlaneDir,\r\n                this.profileModels[_modelType].kickLineProfilePoints,\r\n                _wallDoors,\r\n                _modelType == ModelType.outWall ? true : false\r\n            );\r\n        }\r\n    }\r\n    /**\r\n     * 销毁某个地脚线。==========================================================================\r\n      \r\n     */\r\n    public DestroyKickLine() {\r\n        let _currentHitModelType = this.dataServer.classesObj.currentSelectModel.GetSelectedModelType();\r\n        this.profileModels[_currentHitModelType].kickLine.DisposeProfileModel();\r\n        this.profileModels[_currentHitModelType].kickLine = undefined;\r\n    }\r\n\r\n    /**\r\n     * 给这个模型创建石灰。在右边属性面板勾上石灰线的时候调用。===============================================================\r\n     * @param _profileDatas 剖面上的一圈点--------------------------------------------------------------------\r\n     */\r\n    public MakePlasterCornice(_profileDatas) {\r\n        //let _allPlasterCornice = this.dataServer.classesObj.profileLoader.GetplasterCorniceData();\r\n        //读取对应的石灰线的一圈点。----------------------------------\r\n        //let _profileDatas = _allPlasterCornice.dataList[this.paramsValues.plasterCorniceProfileShapeIndex[_modelType]].vertexData;\r\n        let _modelType = this.dataServer.classesObj.currentSelectModel.GetSelectedModelType();\r\n\r\n        this.profileModels[_modelType].plasterCornicePoints = _profileDatas;\r\n        //第一个创建石灰线的时候，请先创建一个ProfileModel对象。---------------\r\n        if (this.profileModels[_modelType].plasterCornice == null) {\r\n            this.profileModels[_modelType].plasterCornice = new ProfileModel(this.dataServer, ModelType.plasterCornice, this.jDataServer);\r\n        }\r\n\r\n\r\n        let _wall3D: JWall3D = <JWall3D>this.getWall();\r\n        //创建的是直的石灰线。---------------------------------------------------------------\r\n        if (this.MakeStarightOrArcWall(_modelType) == true) {\r\n            this.profileModels[_modelType].plasterCornice.MakeStraightProfile(\r\n                this.paramsValues.plasterCorniceProfileMatIndex[_modelType],\r\n                _wall3D.wallHeight - this.profileModels[_modelType].plasterCorniceSize.y,\r\n                this.profileModels[_modelType].plasterCorniceSize,\r\n                this.profileModels[_modelType].profileDir,\r\n                this.profileModels[_modelType].cutPlaneDir,\r\n                this.profileModels[_modelType].plasterCornicePoints,\r\n                []\r\n            );\r\n        }\r\n        //创建的是弧形的石灰线。---------------------------------------------------------------\r\n        else {\r\n            this.profileModels[_modelType].plasterCornice.MakeArcProfile(\r\n                this.paramsValues.plasterCorniceProfileMatIndex[_modelType],\r\n                _wall3D.wallHeight - this.profileModels[_modelType].plasterCorniceSize.y,\r\n                this.profileModels[_modelType].plasterCorniceSize,\r\n                this.arcProfilePoints[_modelType],\r\n                this.profileModels[_modelType].cutPlaneDir,\r\n                this.profileModels[_modelType].plasterCornicePoints,\r\n                [],\r\n                _modelType == ModelType.outWall ? true : false\r\n            );\r\n        }\r\n    }\r\n\r\n    //销毁石灰线的方法。========================================================================\r\n    public DestroyPlasterCornice() {\r\n        let _currentHitModelType = this.dataServer.classesObj.currentSelectModel.GetSelectedModelType();\r\n        this.profileModels[_currentHitModelType].plasterCornice.DisposeProfileModel();\r\n        this.profileModels[_currentHitModelType].plasterCornice = undefined;\r\n    }\r\n\r\n    /**\r\n    * 用来创建一面弧形墙自定义函数。===========================================================\r\n    * @param _vertexsList 构成模型的所有顶点数据。\r\n    * @param _faceList 构成模型的所有face3数据。\r\n    * @param _wallName 这一个面的墙的名字。\r\n    */\r\n    // public MakeArcWallMesh(_vertexsList, _faceList, _modelType) {\r\n    //     //构成模型的所有顶点数据。---------\r\n    //     let _wallVertexes = [];\r\n    //     for (let i = 0; i < _vertexsList.length; i++) {\r\n    //         _wallVertexes.push(_vertexsList[i]);\r\n    //     }\r\n    //     let _wallFaces = [];\r\n    //     for (let i = 0; i < _faceList.length; i++) {\r\n    //         _wallFaces.push(_faceList[i]);\r\n    //     }\r\n    //     this.wallGeometrys[_modelType] = new THREE.Geometry();\r\n    //     this.wallGeometrys[_modelType].vertices = _wallVertexes;\r\n    //     this.wallGeometrys[_modelType].faces = _wallFaces;\r\n    //     //this.wallGeometrys[_modelType].faceVertexUvs = _wallUVs;\r\n    //     this.wallGeometrys[_modelType].computeFaceNormals();\r\n    //     this.wallGeometrys[_modelType].mergeVertices();\r\n\r\n    //     let _wallMaterial = new THREE.MeshPhongMaterial({\r\n    //         map: this.allTextrues[_modelType]\r\n    //     });\r\n\r\n    //     this.wallMeshs[_modelType] = new THREE.Mesh(this.wallGeometrys[_modelType]);\r\n    //     this.dataServer.sceneCommonObj.scene.add(this.wallMeshs[_modelType]);\r\n    // }\r\n\r\n    /**\r\n     * 用来创建直一面墙模型的自定义函数。===========================================================\r\n     * @param _vertexsList 构成模型的所有顶点数据。\r\n     * @param _faceList 构成模型的所有face3数据。\r\n     * @param _wallName 这一个面的墙的名字。\r\n     * @param _smooth   这面墙是否使用平滑的设置。\r\n     */\r\n    private MakeOneWallMesh(_vertexsList, _faceList, _modelType, _smooth) {\r\n        //构成模型的所有顶点数据。---------\r\n        let _wallVertexes = [];\r\n        for (let i = 0; i < _vertexsList.length; i++) {\r\n            _wallVertexes.push(_vertexsList[i]);\r\n        }\r\n        let _wallFaces = [];\r\n        for (let i = 0; i < _faceList.length; i++) {\r\n            _wallFaces.push(_faceList[i]);\r\n        }\r\n        //开始计算UV。\r\n        let _wallUVs = [[]];\r\n\r\n        for (let i = 0; i < _wallFaces.length; i++) {\r\n            let _oneTriangleUVs = []\r\n            for (let j = 0; j < MyUtil.faceABC.length; j++) {\r\n                let _theUV = this.uvRawDatas[_modelType][_wallFaces[i][MyUtil.faceABC[j]]];\r\n                _oneTriangleUVs.push(new THREE.Vector2(_theUV.x / 1000, _theUV.y / 1000));\r\n            }\r\n            _wallUVs[0].push(_oneTriangleUVs);\r\n        }\r\n\r\n        this.wallGeometrys[_modelType] = new THREE.Geometry();\r\n        this.wallGeometrys[_modelType].vertices = _wallVertexes;\r\n        this.wallGeometrys[_modelType].faces = _wallFaces;\r\n        this.wallGeometrys[_modelType].faceVertexUvs = _wallUVs;\r\n        if (_smooth == true) {\r\n            //如果这面墙要进行平滑处理。------------------------------\r\n            this.wallGeometrys[_modelType].computeVertexNormals();\r\n        } else {\r\n            //如果这面墙不需要进行平滑处理。---------------------------\r\n            this.wallGeometrys[_modelType].computeFaceNormals();\r\n        }\r\n        this.wallGeometrys[_modelType].mergeVertices();\r\n\r\n        let _wallMaterial = new THREE.MeshPhongMaterial({\r\n            map: this.allWallTextrues[_modelType]\r\n        });\r\n\r\n        this.wallMeshs[_modelType] = new THREE.Mesh(this.wallGeometrys[_modelType]);\r\n        this.dataServer.sceneCommonObj.scene.add(this.wallMeshs[_modelType]);\r\n        //要开始检测是否有和门窗的布尔运算。------------------------------------------------\r\n        //只有外墙和内墙才会计算布尔。---------------------------\r\n        if (_modelType == ModelType.inWall || _modelType == ModelType.outWall) {\r\n            //获取一个cowall上的所有门对象。\r\n            let _allDoors: JDoor3D[] = <JDoor3D[]>this.getWall().getDoorArr();\r\n            //获取一个cowall上的所有窗和飘窗对象。\r\n            let _allWindows: JWin3D[] = <JWin3D[]>this.getWall().getWinArr();\r\n            //获取一个cowall上的所有转角飘窗对象。\r\n            let _allCornerWins: JCornerWin3D[] = <JCornerWin3D[]>this.getWall().getCornWinArr();\r\n\r\n            // console.log(_allDoors);\r\n            if (_allDoors.length > 0 || _allWindows.length > 0 || _allCornerWins.length > 0) {\r\n                //用这个模型去减去别的模型。\r\n                let _booleanMain = new ThreeBSP(this.wallMeshs[_modelType]);\r\n\r\n                //开始进行转角飘窗的布尔。--------------------------------\r\n                for (let i = 0; i < _allCornerWins.length; i++) {\r\n\r\n                    let _cornerWinBooleanMeshes = _allCornerWins[i].booleanModels;\r\n                    // console.log(_cornerWinBooleanMeshes);\r\n                    // let _subtractModel = new ThreeBSP(_cornerWinBooleanMeshes[0]);\r\n                    // _booleanMain = _booleanMain.subtract(_subtractModel);\r\n\r\n                    for (let j = 0; j < _cornerWinBooleanMeshes.length; j++) {\r\n                        let _booleanMeshWallId = _cornerWinBooleanMeshes[j].userData.wallId;\r\n                        let _currentWallId = this.getWall().id;\r\n                        if (_currentWallId == _booleanMeshWallId) {\r\n                            let _subtractModel = new ThreeBSP(_cornerWinBooleanMeshes[j]);\r\n                            _booleanMain = _booleanMain.subtract(_subtractModel);\r\n                        }\r\n                    }\r\n                }\r\n                //开始进行门的布尔。-------------------------------------\r\n                for (let i = 0; i < _allDoors.length; i++) {\r\n                    let _subtractModel = new ThreeBSP(_allDoors[i].booleanModel);\r\n                    _booleanMain = _booleanMain.subtract(_subtractModel);\r\n                }\r\n                //开始进行窗和普通飘窗的布尔。-------------------------------------\r\n                for (let i = 0; i < _allWindows.length; i++) {\r\n                    let _subtractModel = new ThreeBSP(_allWindows[i].booleanModel);\r\n                    _booleanMain = _booleanMain.subtract(_subtractModel);\r\n                }\r\n\r\n                this.afterBooleanMesh[_modelType] = _booleanMain.toMesh();\r\n\r\n                if (_smooth == true) {\r\n                    //如果模型需要进行平滑处理。----------------------------------------------\r\n                    this.afterBooleanMesh[_modelType].geometry.mergeVertices();\r\n                    this.afterBooleanMesh[_modelType].geometry.computeVertexNormals();\r\n                } else {\r\n                    //如果模型不需要被进行平滑处理。-------------------------------------------\r\n                    this.afterBooleanMesh[_modelType].geometry.computeFaceNormals();\r\n                }\r\n\r\n                this.dataServer.sceneCommonObj.scene.add(this.afterBooleanMesh[_modelType]);\r\n            }\r\n        }\r\n        //如果是有布尔后的墙的话。--------------------------\r\n        if (this.afterBooleanMesh[_modelType] != undefined) {\r\n            this.wallMeshs[_modelType].material.visible = false;\r\n            this.afterBooleanMesh[_modelType].material = _wallMaterial;\r\n        } else {\r\n            this.wallMeshs[_modelType].material = _wallMaterial;\r\n        }\r\n\r\n\r\n\r\n        return this.wallMeshs[_modelType];\r\n    }\r\n\r\n    /**\r\n     * 检查当前colwall对象的四个点的做标是否有变化。用来决定该墙体要不要更新。返回true代表这个墙需要重建，返回false代表不用-----------------------------\r\n     */\r\n    private IfVertexesChange(): boolean {\r\n        //从还没有构成空间的墙到构成空间的墙需要更新一下。-------------------------\r\n        if (this.oldData._roomID != this.roomID) {\r\n            return true;\r\n        } else {\r\n            //这个墙刚开始创建的时候肯定要更新一下咯。----------------------------\r\n            if (Object.getOwnPropertyNames(this.oldData).length == 0) {\r\n                return true;\r\n            } else {\r\n                //如果墙下面的四个点都不变，那就不要更新了啦。----------------------\r\n                if (MyUtil.IfArrayTheSame(this.oldData._inWall2DPoints, this.getInLine(), [\"x\", \"y\"]) &&\r\n                    MyUtil.IfArrayTheSame(this.oldData._outWall2DPoints, this.getOutLine(), [\"x\", \"y\"])) {\r\n                    return false;\r\n                }\r\n                //如果墙下面对应的四个点稍有变化，那还是更新吧。--------------------\r\n                else {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * 获取阿隆给我的两个点的中心点，返回Vector2。\r\n     */\r\n    // private GetCenterPoint(_point1, _point2) {\r\n    //     return new THREE.Vector2((_point1.x + _point2.x) / 2, (_point1.y + _point2.y) / 2);\r\n    // }\r\n\r\n    /**\r\n     * 提供给阿隆使用的销毁墙体模型的方法。================================\r\n     */\r\n    public destory3D() {\r\n\r\n        this.DisposeWall();\r\n        //把所有墙使用的贴图都要销毁掉。------------------------------------------------\r\n        for (let key in this.allWallTextrues) {\r\n            this.allWallTextrues[key].dispose();\r\n        }\r\n        this.allWallTextrues = [];\r\n        //所有的地脚线天花线都要销毁掉啊。----------------------------------------------\r\n        for (let i = 0; i < this.allWallTypes.length; i++) {\r\n            if (this.HasKickLine(this.allWallTypes[i])) {\r\n                this.profileModels[this.allWallTypes[i]].kickLine.DisposeProfileModel();\r\n                this.profileModels[this.allWallTypes[i]].kickLine = undefined;\r\n            }\r\n            if (this.HasPlasterCornice(this.allWallTypes[i])) {\r\n                this.profileModels[this.allWallTypes[i]].plasterCornice.DisposeProfileModel();\r\n                this.profileModels[this.allWallTypes[i]].plasterCornice = undefined;\r\n            }\r\n        }\r\n        this.profileModels = [];\r\n    }\r\n\r\n    //获取当前cowall的向量，返回Vector2。==========================================\r\n    // public GetDir_Vector2() {\r\n    //     let _dir = this.getVector();\r\n    //     return new THREE.Vector2(_dir.x, _dir.y).normalize();\r\n    // }\r\n    /**\r\n     * 设置cowall里某个模型的材质。========================================\r\n     * @param _modelType \r\n     */\r\n    public SetModelTexture(_imageUrl: string) {\r\n        let _currentHitModelType = this.dataServer.classesObj.currentSelectModel.GetSelectedModelType();\r\n        this.allWallTextrues[_currentHitModelType].image.src = _imageUrl;\r\n        this.allWallTextrues[_currentHitModelType].image.onload = () => {\r\n            this.allWallTextrues[_currentHitModelType].needsUpdate = true;\r\n        }\r\n    }\r\n\r\n    //给杨松岭获取当前墙使用的贴图的序号。==============================================\r\n    public GetMaterialSelectIndex() {\r\n        let _currentHitModelType = this.dataServer.classesObj.currentSelectModel.GetSelectedModelType();\r\n        return this.paramsValues.materialIndex[_currentHitModelType];\r\n    }\r\n\r\n    //给杨松岭设置当前墙使用的贴图的序号。==============================================\r\n    public SetMaterialSelectIndex(_index) {\r\n        let _currentHitModelType = this.dataServer.classesObj.currentSelectModel.GetSelectedModelType();\r\n        this.paramsValues.materialIndex[_currentHitModelType] = _index;\r\n        console.log(this.paramsValues);\r\n    }\r\n\r\n    //给杨松岭获取当前墙使用的是哪个款式的地脚线。=========================================\r\n    public GetKickLineProfileIndex() {\r\n        let _currentHitModelType = this.dataServer.classesObj.currentSelectModel.GetSelectedModelType();\r\n        return this.paramsValues.kickLineProfileShapeIndex[_currentHitModelType];\r\n    }\r\n\r\n    //给杨松岭设置当前墙使用的是哪个款式的地脚线。=========================================\r\n    public SetKickLineProfileIndex(_index) {\r\n        let _currentHitModelType = this.dataServer.classesObj.currentSelectModel.GetSelectedModelType();\r\n        this.paramsValues.kickLineProfileShapeIndex[_currentHitModelType] = _index;\r\n    }\r\n\r\n    //给杨松岭获取当前使用的是哪个款式的石灰线。=========================================\r\n    public GetPlasterCorniceProfileIndex() {\r\n        let _currentHitModelType = this.dataServer.classesObj.currentSelectModel.GetSelectedModelType();\r\n        return this.paramsValues.plasterCorniceProfileShapeIndex[_currentHitModelType];\r\n    }\r\n\r\n    //给杨松岭设置当前墙使用的是哪个款式的石灰线。=========================================\r\n    public SetPlasterCorniceProfileIndex(_index) {\r\n        let _currentHitModelType = this.dataServer.classesObj.currentSelectModel.GetSelectedModelType();\r\n        this.paramsValues.plasterCorniceProfileShapeIndex[_currentHitModelType] = _index;\r\n    }\r\n\r\n    //给杨松岭获取当前地脚线使用的是第几张贴图。============================================\r\n    public GetKickLineProfileMatIndex() {\r\n        let _currentHitModelType = this.dataServer.classesObj.currentSelectModel.GetSelectedModelType();\r\n        return this.paramsValues.kickLineProfileMatIndex[_currentHitModelType];\r\n    }\r\n    //给杨松岭用来设置地脚线使用的是第几张贴图。=============================================\r\n    public SetKickLineProfileMatIndex(_index) {\r\n        let _currentHitModelType = this.dataServer.classesObj.currentSelectModel.GetSelectedModelType();\r\n        this.paramsValues.kickLineProfileMatIndex[_currentHitModelType] = _index;\r\n    }\r\n\r\n    //给杨松岭获获取当前石灰线使用的是第几张贴图。=============================================\r\n    public GetPlasterCorniceProfileMatIndex() {\r\n        let _currentHitModelType = this.dataServer.classesObj.currentSelectModel.GetSelectedModelType();\r\n        return this.paramsValues.plasterCorniceProfileMatIndex[_currentHitModelType];\r\n    }\r\n\r\n    //给杨松岭获设置当前石灰线使用的是第几张贴图。=============================================\r\n    public SetPlasterCorniceProfileMatIndex(_index) {\r\n        let _currentHitModelType = this.dataServer.classesObj.currentSelectModel.GetSelectedModelType();\r\n        this.paramsValues.plasterCorniceProfileMatIndex[_currentHitModelType] = _index;\r\n    }\r\n\r\n    /**\r\n     * 这个模型是否有某个地脚线。============================\r\n     * @param _modelType \r\n     */\r\n    public HasKickLine(_modelType) {\r\n        let _returnValue = false;\r\n        if (this.profileModels[_modelType] != undefined) {\r\n            if (this.profileModels[_modelType].kickLine != undefined) {\r\n                _returnValue = true;\r\n            }\r\n        }\r\n        return _returnValue;\r\n    }\r\n\r\n    /**\r\n     * 当前选择的那个模型有没有地脚线？=================================================\r\n     */\r\n    public CurrentSelectHasKickLine() {\r\n        let _currentHitModelType = this.dataServer.classesObj.currentSelectModel.GetSelectedModelType();\r\n        return this.HasKickLine(_currentHitModelType);\r\n    }\r\n\r\n    /**\r\n     * 获取当前墙体的某一个地脚线对象。============================\r\n     * @param _modelType \r\n     */\r\n    public GetKickLine(_modelType): ProfileModel {\r\n        if (this.HasKickLine(_modelType)) {\r\n            return this.profileModels[_modelType].kickLine\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 提供给杨松岭设置地脚线贴图的方法。==============================\r\n     */\r\n    public SetCurrentSelectKickLineMat(_url) {\r\n        let _currentHitModelType = this.dataServer.classesObj.currentSelectModel.GetSelectedModelType();\r\n        let _theKickLine = this.GetKickLine(_currentHitModelType);\r\n        _theKickLine.SetModelTexture(_url);\r\n    }\r\n\r\n\r\n    /**\r\n     * 提供给杨松岭设置石灰线贴图的方法。==============================\r\n     */\r\n    public SetCurrentPlasterCorniceMat(_url) {\r\n        let _currentHitModelType = this.dataServer.classesObj.currentSelectModel.GetSelectedModelType();\r\n        let _thePlasterCornice = this.GetPlasterCornice(_currentHitModelType);\r\n        _thePlasterCornice.SetModelTexture(_url);\r\n    }\r\n\r\n\r\n    /**\r\n     * 这个模型是否后某个石灰线。============================\r\n     * @param _modelType \r\n     */\r\n    public HasPlasterCornice(_modelType) {\r\n        if (this.profileModels[_modelType] != undefined) {\r\n            if (this.profileModels[_modelType].plasterCornice == undefined) {\r\n                return false;\r\n            } else {\r\n                return true;\r\n            }\r\n        }\r\n        //如果这个墙压根都没有被初始化的话，也当做是没有天花线。\r\n        else {\r\n            return false;\r\n        }\r\n    }\r\n    /**\r\n     * 当前选择的模型是否有天花线。主要是提供给杨松岭使用的。========================\r\n     */\r\n    public CurrentSelectHasPlasterCornice() {\r\n        let _currentHitModelType = this.dataServer.classesObj.currentSelectModel.GetSelectedModelType();\r\n        return this.HasPlasterCornice(_currentHitModelType);\r\n    }\r\n\r\n    /**\r\n     * 获取当前墙体的某一个石灰线对象。============================================\r\n     * @param _modelType \r\n     */\r\n    public GetPlasterCornice(_modelType): ProfileModel {\r\n        if (this.HasPlasterCornice(_modelType)) {\r\n            return this.profileModels[_modelType].plasterCornice\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n    //更新地脚线的模型。在墙上拖动门窗的时候一直调用此函数。===============================================================\r\n    public UpdateKickLineProfileModel() {\r\n        for (let i = 0; i < this.allWallTypes.length; i++) {\r\n            //如果某些墙被销毁了，该墙对应的地脚线肯定要跟着被销毁吧。----------------------------------------\r\n            if (this.wallMeshs[this.allWallTypes[i]] == undefined && this.HasKickLine(this.allWallTypes[i])) {\r\n                this.profileModels[this.allWallTypes[i]].kickLine.DisposeProfileModel();\r\n                this.profileModels[this.allWallTypes[i]].kickLine = undefined;\r\n            }\r\n            //这个墙上的所有的门。--------------------------------------------------------------------------\r\n            let _wallDoors = this.getWall().getDoorArr();\r\n\r\n            //如果某墙体存在并且它本来就拥有地脚线，那么就开始更新该地脚线吧。----------------------------------\r\n            if (this.wallMeshs[this.allWallTypes[i]] != undefined && this.HasKickLine(this.allWallTypes[i])) {\r\n                //如果是直墙的话则创建直墙的地脚线。-------------------------------------------------\r\n                let _kickLineSize = this.profileModels[this.allWallTypes[i]].kickLineSize;\r\n                let _kickLineProfilePoints = this.profileModels[this.allWallTypes[i]].kickLineProfilePoints;\r\n                let _kickLineProfileMatIndex = this.paramsValues.kickLineProfileMatIndex[this.allWallTypes[i]];\r\n                if (this.MakeStarightOrArcWall(this.allWallTypes[i]) == true) {\r\n                    if (this.isSwitching == true) {\r\n                        this.profileModels[this.allWallTypes[i]].kickLine.MakeStraightProfile(_kickLineProfileMatIndex, 0, _kickLineSize, this.profileModels[this.allWallTypes[i]].profileDir, this.profileModels[this.allWallTypes[i]].cutPlaneDir, _kickLineProfilePoints, _wallDoors);\r\n                    } else {\r\n                        this.profileModels[this.allWallTypes[i]].kickLine.UpdateStraightProfile(0, _kickLineSize, this.profileModels[this.allWallTypes[i]].profileDir, this.profileModels[this.allWallTypes[i]].cutPlaneDir, _kickLineProfilePoints, _wallDoors);\r\n                    }\r\n                }\r\n                //如果是弧形墙的话则为弧形墙创建地脚线。---------------------------------------------\r\n                else {\r\n                    if (this.isSwitching == true) {\r\n                        this.profileModels[this.allWallTypes[i]].kickLine.MakeArcProfile(_kickLineProfileMatIndex, 0, _kickLineSize, this.arcProfilePoints[this.allWallTypes[i]], this.profileModels[this.allWallTypes[i]].cutPlaneDir, _kickLineProfilePoints, _wallDoors, this.allWallTypes[i] == ModelType.outWall ? true : false);\r\n                    } else {\r\n                        this.profileModels[this.allWallTypes[i]].kickLine.UpdateArcProfile(0, _kickLineSize, this.arcProfilePoints[this.allWallTypes[i]], this.profileModels[this.allWallTypes[i]].cutPlaneDir, _kickLineProfilePoints, _wallDoors, this.allWallTypes[i] == ModelType.outWall ? true : false);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public OnSelected() {\r\n        let _currentHitModelType = this.dataServer.classesObj.currentSelectModel.GetSelectedModelType();\r\n        //做一个模型的面选择框。-----------------------------------------------------------------\r\n        if (this.wallMeshs[_currentHitModelType] == undefined) {\r\n            console.error(\"还没有创建可供选择的模型。\");\r\n            return;\r\n        }\r\n        let _beHitModelCustomData: CustomUserData = this.wallMeshs[_currentHitModelType].userData.customUserData;\r\n        let _wireSelectedPoints = _beHitModelCustomData.wireSelectedPoints;\r\n        this.dataServer.classesObj.wireSelectFrame.MakeWireSelectFrame(_wireSelectedPoints);\r\n        //把场景里所有的门窗家具选择框都去掉。--------------------\r\n        this.dataServer.classesObj.rayHitter.HideDoorWindowFurnitureSelectFrame();\r\n        //把移动旋转工具取消激活掉。------------------------------\r\n        this.dataServer.classesObj.modelTransformer.SetEnable(false);\r\n        this.dataServer.classesObj.modelTransformer.ClearControlModel();\r\n\r\n        //为右边的面板创建数据。-----------------------------------\r\n        //let PanelData = this.dataServer.classesObj.propertiesMenuData.MakeWallData(this.paramsValues);\r\n        //this.popServer.panelRight.emit(PanelData);\r\n    }\r\n\r\n\r\n    //更新石灰线的模型。================================================================\r\n    private UpdatePlasterCorniceProfileModel() {\r\n        for (let i = 0; i < this.allWallTypes.length; i++) {\r\n            //如果某些墙被销毁了，该墙对应的石灰线肯定要跟着被销毁吧。----------------------------------------\r\n            if (this.wallMeshs[this.allWallTypes[i]] == undefined && this.HasPlasterCornice(this.allWallTypes[i])) {\r\n                this.profileModels[this.allWallTypes[i]].plasterCornice.DisposeProfileModel();\r\n                this.profileModels[this.allWallTypes[i]].plasterCornice = undefined;\r\n            }\r\n            //如果某墙体存在并且它本来就拥有石灰线，那么就开始更新该石灰线吧。----------------------------------\r\n            if (this.wallMeshs[this.allWallTypes[i]] != undefined && this.HasPlasterCornice(this.allWallTypes[i])) {\r\n                let _wall3D: JWall3D = <JWall3D>this.getWall();\r\n                //如果是直墙的话则为直墙创建石灰线。------------------------------------------------\r\n                let _profileHeight = _wall3D.wallHeight - this.profileModels[this.allWallTypes[i]].plasterCorniceSize.y;\r\n                let _plasterCorniceSize = this.profileModels[this.allWallTypes[i]].plasterCorniceSize;\r\n                let _plasterCornicePoints = this.profileModels[this.allWallTypes[i]].plasterCornicePoints;\r\n                let _plasterCorniceProfileMatIndex = this.paramsValues.plasterCorniceProfileMatIndex[this.allWallTypes[i]];\r\n                if (this.MakeStarightOrArcWall(this.allWallTypes[i]) == true) {\r\n                    if (this.isSwitching == true) {\r\n                        this.profileModels[this.allWallTypes[i]].plasterCornice.MakeStraightProfile(_plasterCorniceProfileMatIndex, _profileHeight, _plasterCorniceSize, this.profileModels[this.allWallTypes[i]].profileDir, this.profileModels[this.allWallTypes[i]].cutPlaneDir, _plasterCornicePoints, []);\r\n                    } else {\r\n                        this.profileModels[this.allWallTypes[i]].plasterCornice.UpdateStraightProfile(_profileHeight, _plasterCorniceSize, this.profileModels[this.allWallTypes[i]].profileDir, this.profileModels[this.allWallTypes[i]].cutPlaneDir, _plasterCornicePoints, []);\r\n                    }\r\n                }\r\n                //如果是弧形墙的话则为弧形墙创建石灰线。---------------------------------------------\r\n                else {\r\n                    if (this.isSwitching == true) {\r\n                        this.profileModels[this.allWallTypes[i]].plasterCornice.MakeArcProfile(_plasterCorniceProfileMatIndex, _profileHeight, _plasterCorniceSize, this.arcProfilePoints[this.allWallTypes[i]], this.profileModels[this.allWallTypes[i]].cutPlaneDir, _plasterCornicePoints, [], this.allWallTypes[i] == ModelType.outWall ? true : false);\r\n                    } else {\r\n                        this.profileModels[this.allWallTypes[i]].plasterCornice.UpdateArcProfile(_profileHeight, _plasterCorniceSize, this.arcProfilePoints[this.allWallTypes[i]], this.profileModels[this.allWallTypes[i]].cutPlaneDir, _plasterCornicePoints, [], this.allWallTypes[i] == ModelType.outWall ? true : false);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 用来判断是否要创建直的墙，返回true代表创建的是直墙，返回false代表创建的是弧形墙。\r\n     * @param _modelType \r\n     */\r\n    private MakeStarightOrArcWall(_modelType): boolean {\r\n        let _ifMakeStraightWall = true;\r\n        //如果墙有弧度且又是内墙或者外墙的话，则创建弧形墙，否则都创建直墙。--------------------\r\n        if (this.getWall().arcDistance != 0) {\r\n            if (_modelType == ModelType.inWall || _modelType == ModelType.outWall) {\r\n                _ifMakeStraightWall = false;\r\n            }\r\n        }\r\n        return _ifMakeStraightWall;\r\n    }\r\n\r\n\r\n}","\r\nimport { THREEDataServer } from \"../classes/THREEDataServer\";\r\nimport { JCowall3D } from \"./JCowall3D\";\r\nimport { ModelType } from \"../classes/dataStruct\";\r\nimport { JWall3D } from \"./JWall3D\";\r\nimport { JDWAbstract } from \"../../svg/common/jdesign/JDWAbstract\";\r\nimport { PopDivService } from '../../services/pop-div.service';\r\nimport { CustomUserData } from '../classes/dataStruct';\r\nimport { DoorWindowFrame } from \"../classes/DoorWindowFrame\";\r\nimport { BaywinModel } from \"../classes/BaywinModel\";\r\nimport { PreloadBox } from \"../classes/PreloadBox\";\r\nimport { MyUtil } from \"../classes/MyUtil\";\r\nimport { JdesignDataService } from '../../services/jdesign-data.service';\r\n\r\ndeclare var THREE: any;\r\n\r\nexport abstract class JDW3D extends JDWAbstract {\r\n    protected dataServer: THREEDataServer;\r\n    protected popServer: PopDivService;\r\n    protected jDataServer: JdesignDataService;\r\n    private selector: any;                                                    //用来选择门的对象。为Mesh\r\n    private wireFrame: any;                                                   //门的线框，用来显示是否选择用的。\r\n    public booleanModel: any;                                                   //用来做布尔运算用的模型。为Mesh\r\n    private formerwall: JWall3D;                                             //这个门上次离开的wall对象。\r\n    protected doorWinModel: any;                                                //门窗模型的父对象。 \r\n    // protected floorHeight3D: number = 500;  //距离地面的高度。\r\n    protected preloadBox: PreloadBox;             //用来显示加载进度的盒子。-------------------------------\r\n\r\n    //门和窗的框。-----------------------------------------------------------------\r\n    protected doorWinFrame: DoorWindowFrame = null;       //门框的所有模型都放在这里\r\n    public baywin: BaywinModel = null;                    //飘窗的所有模型在这里。\r\n    protected formerWidth: number = 0;                         //这个门框的原来宽度，用来判断模型的宽度是否被修改过没有。\r\n    protected formerDeep: number = 0;                             //这个门框的原来的厚度，用来判断模型的厚度是否被修改过了。\r\n    protected OnModelMove = [];                                 //当这个模型在阿隆那边被拖动的时候触发的函数。\r\n\r\n\r\n    /**\r\n     * 用来显示隐藏模型的选择框用的。===============================================\r\n     * @param _show 设置为true则显示，设置为false则隐藏。\r\n     */\r\n    public ShowWireFrame(_show) {\r\n        this.wireFrame.material.visible = _show;\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    /**\r\n     * 开始绑定门一系列的事件。========================================================\r\n     */\r\n    public StartEvent() {\r\n        this.act3D.start = () => {\r\n        }\r\n        this.act3D.move = () => {\r\n            this.UpdateDoorWinPos(this.GetWinDoorPos(this.floorHeight));\r\n            //如果这个门放到墙里面的时候。-------------------------------\r\n            if (this.getwall() != undefined) {\r\n                let _currentWall: JWall3D = <JWall3D>this.getwall();\r\n                //当把门从一面墙移动到另外一面墙。----------------------------------------------\r\n                if (this.formerwall != null) {\r\n                    if (this.formerwall.id != _currentWall.id) {\r\n                        //请把另外一堵墙给填充回去。--------------------------------------------------\r\n                        let _formerCowalls: JCowall3D[] = <JCowall3D[]>this.formerwall.getCowallArr();\r\n                        for (let i = 0; i < _formerCowalls.length; i++) {\r\n                            //检查这个this.formerCowalls[i]是否存在场景里。\r\n                            //如果formerCowall[i]还存在场景里，那就是从一面墙移动到另外一面墙的情况。\r\n                            //如果这个formerCowall[i]不在场景里，那就是杨振龙自己帮我换了一个colwall了，那这个formerCowall[i]就不用补了。\r\n                            if (this.jDataServer.cowalls[_formerCowalls[i].id] != undefined) {\r\n                                //杨振龙在移动墙的时候有时候居然会产生新墙，它产生了新墙我得执行一下这一句，好保证他偷偷生成的墙我这边也做好实例化工作。\r\n                                _formerCowalls[i].SetDataServerAndOthers(this.dataServer, this.popServer, this.jDataServer);\r\n                                _formerCowalls[i].MakeWall(true);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                //把这个门离开的那些cowall记录起来。-------------------------------------------------\r\n                this.formerwall = _currentWall;\r\n                //新的墙再进行挖洞。-----------------------------------------------------------------\r\n                let _currentCowalls: JCowall3D[] = <JCowall3D[]>_currentWall.getCowallArr();\r\n                for (let i = 0; i < _currentCowalls.length; i++) {\r\n                    //杨振龙在移动墙的时候有时候居然会产生新墙，它产生了新墙我得执行一下这一句，好保证他偷偷生成的墙我这边也做好实例化工作。\r\n                    _currentCowalls[i].SetDataServerAndOthers(this.dataServer, this.popServer, this.jDataServer);\r\n                    _currentCowalls[i].MakeWall(true);\r\n                }\r\n            }\r\n\r\n\r\n            else {\r\n                //把门从墙里扯出来的话，需要把门原来的洞口给封起来。---------------------\r\n                if (this.formerwall != null) {\r\n                    //检查一下这个wall是否还在场景里。-----------------------------------\r\n                    if (this.jDataServer.walls[this.formerwall.id] != undefined) {\r\n                        let _formerCowalls: JCowall3D[] = <JCowall3D[]>this.formerwall.getCowallArr();\r\n                        for (let i = 0; i < _formerCowalls.length; i++) {\r\n                            //杨振龙在移动墙的时候有时候居然会产生新墙，它产生了新墙我得执行一下这一句，好保证他偷偷生成的墙我这边也做好实例化工作。\r\n                            _formerCowalls[i].SetDataServerAndOthers(this.dataServer, this.popServer, this.jDataServer);\r\n                            _formerCowalls[i].MakeWall(true);\r\n                        }\r\n                        this.formerwall = null;\r\n                    } else {\r\n                        this.formerwall = null;\r\n                    }\r\n                }\r\n            }\r\n            //开始调用子类里的模型移动的方法。-------------------------------------\r\n            for (let i = 0; i < this.OnModelMove.length; i++) {\r\n                this.OnModelMove[i]();\r\n            }\r\n        }\r\n        this.act3D.end = () => {\r\n\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 获取门的当前位置，返回vector3对象。\r\n     */\r\n    // private getPos_Vector3() {\r\n    //     return new THREE.Vector3(this.pos.x, 0, this.pos.y);\r\n    // }\r\n\r\n    //检查两个cowall的数组是否相等。================================================\r\n    private isColwallArrayTheSame(_colwallArray1: JCowall3D[], _colwallArray2: JCowall3D[]) {\r\n        let _theSame = true;\r\n        //如果数组的长度不一致，则不会是一样的。---------------------\r\n        if (_colwallArray1.length != _colwallArray2.length) {\r\n            _theSame = false;\r\n            return _theSame;\r\n        }\r\n        for (let i = 0; i < _colwallArray1.length; i++) {\r\n            if (_colwallArray1[i].id != _colwallArray2[i].id) {\r\n                _theSame = false;\r\n                break;\r\n            }\r\n        }\r\n        return _theSame;\r\n    }\r\n\r\n    /**\r\n     * 提供给阿隆使用的销毁模型的方法。========================================\r\n     */\r\n    destory3D() {\r\n        //先把门原来所在的墙的懂给封起来。------------\r\n        if (this.formerwall != null) {\r\n            let _formerCowalls: JCowall3D[] = <JCowall3D[]>this.formerwall.getCowallArr();\r\n            for (let i = 0; i < _formerCowalls.length; i++) {\r\n                //如果这个formerCowall[i]不在场景里，那就是杨振龙自己帮我换了一个colwall了，那这个formerCowall[i]就不用补了。\r\n                if (this.jDataServer.cowalls[_formerCowalls[i].id] != undefined) {\r\n                    _formerCowalls[i].SetDataServerAndOthers(this.dataServer, this.popServer, this.jDataServer);\r\n                    _formerCowalls[i].MakeWall(true);\r\n                }\r\n            }\r\n        }\r\n        //移动旋转工具也取消激活。--------------------------------------------\r\n        this.dataServer.classesObj.modelTransformer.SetEnable(false);\r\n        this.DestoryWinDoor(true);\r\n    }\r\n\r\n\r\n\r\n    public OnSelected() {\r\n        //设置无敌大平面的位置。------------------------------------------------------------------------------------------------------------\r\n        this.dataServer.classesObj.rayHitModelList.bigPlane.setFromNormalAndCoplanarPoint(new THREE.Vector3(0, 1, 0), this.selector.position);\r\n\r\n        //把面选择框销毁掉。-----------------------------------------------------------\r\n        this.dataServer.classesObj.wireSelectFrame.destory3D();\r\n        //把场景里所有的门窗家具选择框都去掉。--------------------\r\n        this.dataServer.classesObj.rayHitter.HideDoorWindowFurnitureSelectFrame();\r\n        //把当前模型的选择框显示出来。----------------------------\r\n        this.ShowWireFrame(true);\r\n        //家具门和窗都把移动旋转工具显示出来。------------------------------------------------\r\n        this.dataServer.classesObj.modelTransformer.SetEnable(true);\r\n        //设置当前被控制模型为被单击的模型。--------------------------------------------------\r\n        this.dataServer.classesObj.modelTransformer.SetControlModel(this.selector);\r\n        //设置移动旋转工具的位置。-----------------------------------------------------------\r\n        this.dataServer.classesObj.modelTransformer.SetTransformerPos(this.selector.position);\r\n\r\n        let _currentModelType: ModelType = this.dataServer.classesObj.currentSelectModel.GetSelectedModelType();\r\n        //窗户模型不可以使用移动旋转工具的旋转功能。但是可以使用垂直移动功能。--------------------------\r\n\r\n        //  let PanelData;\r\n        if (_currentModelType == ModelType.window) {\r\n            this.dataServer.classesObj.modelTransformer.SetRotatable(false);\r\n            this.dataServer.classesObj.modelTransformer.SetVerticalMovable(true);\r\n            // if (this.doorWinFrame != null) {\r\n            //     PanelData = this.dataServer.classesObj.propertiesMenuData.MakeWinDoorData(this.doorWinFrame.paramsValues, \"窗框贴图\", \"窗框轮廓线\", ModelType.window);\r\n            // }\r\n        }\r\n        //门既不能用旋转功能，也不能用垂直移动功能。-------------------------------------------------\r\n        else if (_currentModelType == ModelType.door) {\r\n            this.dataServer.classesObj.modelTransformer.SetRotatable(false);\r\n            this.dataServer.classesObj.modelTransformer.SetVerticalMovable(false);\r\n            // if (this.doorWinFrame != null) {\r\n            //     PanelData = this.dataServer.classesObj.propertiesMenuData.MakeWinDoorData(this.doorWinFrame.paramsValues, \"门框贴图\", \"门框轮廓线\", ModelType.door);\r\n            // }\r\n        }\r\n        //飘窗不可以旋转，但是可以垂直移动。--------------------------------------------------------\r\n        else if (_currentModelType == ModelType.normalBayWindow) {\r\n            this.dataServer.classesObj.modelTransformer.SetRotatable(false);\r\n            this.dataServer.classesObj.modelTransformer.SetVerticalMovable(true);\r\n            // if (this.baywin != null) {\r\n            //     PanelData = this.dataServer.classesObj.propertiesMenuData.MakeNormalBaywinData(this.baywin.paramsValues);\r\n            // }\r\n        }\r\n        //this.popServer.panelRight.emit(PanelData);\r\n    }\r\n\r\n\r\n    public OnUnselected() {\r\n        this.dataServer.classesObj.rayHitter.OnNothingHit();\r\n    }\r\n\r\n\r\n    /**\r\n     * 用来做销毁门窗的自定义函数。=============================================\r\n     * @param _destroyDAE 是否要销毁掉DAE模型？\r\n     */\r\n    protected DestoryWinDoor(_destroyDAE: boolean) {\r\n        //把模型的选择器销毁掉。------------------------------------------\r\n        if (this.selector != null) {\r\n            this.dataServer.classesObj.rayHitModelList.RemoveRayHitModel(this.selector);\r\n            this.dataServer.sceneCommonObj.scene.remove(this.selector);\r\n            this.selector.geometry.dispose();\r\n            this.selector = null;\r\n        }\r\n        //把模型的选择显示器销毁掉。---------------------------------------\r\n        if (this.wireFrame != null) {\r\n            this.dataServer.sceneCommonObj.scene.remove(this.wireFrame);\r\n            this.wireFrame.geometry.dispose();\r\n            this.wireFrame = null;\r\n        }\r\n        //把布尔用的那个几何体也删除掉。------------------------------------\r\n        if (this.booleanModel != null) {\r\n            this.dataServer.sceneCommonObj.scene.remove(this.booleanModel);\r\n            this.booleanModel.geometry.dispose();\r\n            this.booleanModel = null;\r\n        }\r\n        //把formerCowalls清空。-------------------------------------------\r\n        this.formerwall = null;\r\n        //把门框都销毁掉。-------------------------------------------------\r\n        if (this.doorWinFrame != null) {\r\n            this.doorWinFrame.DestroyDoorWinFrame();\r\n            this.doorWinFrame = null;\r\n        }\r\n        //把普通飘窗也销毁掉。----------------------------------------------\r\n        if (this.baywin != null) {\r\n            this.baywin.DestroyBaywinModel();\r\n            this.baywin = null;\r\n        }\r\n        //把门的DAE模型也销毁掉。----------------------------------------------\r\n        if (_destroyDAE == true) {\r\n            if (this.doorWinModel != null) {\r\n                MyUtil.DestroyDAEModel(this.dataServer.sceneCommonObj.scene, this.doorWinModel);\r\n                this.doorWinModel = null;\r\n            }\r\n        }\r\n        //把加载进度显示框也销毁掉。------------------------------------------\r\n        if (this.preloadBox != null) {\r\n            this.preloadBox.DisposePreloadBox();\r\n            this.preloadBox = null;\r\n        }\r\n\r\n\r\n    }\r\n\r\n    /**\r\n     * 做一个空白的可随意拖动的门洞需要调用的初始化函数。\r\n     */\r\n    protected Init(_modelType) {\r\n        //=============================================================================\r\n\r\n        //开始创建一个用来选择窗用的box模型。---------------------------------------------------------\r\n        this.selector = this.dataServer.classesObj.boxMaker.MakeBox(this.size.width, this.size.height3D, this.size.height * 1.2, true, true);\r\n        this.selector.material = new THREE.MeshBasicMaterial({ color: 0xffff00, visible: false });\r\n        this.dataServer.sceneCommonObj.scene.add(this.selector);\r\n\r\n        //创建模型的外框，用来显示模型当前是否被选择的状态。-------------------------------------------\r\n        this.wireFrame = this.dataServer.classesObj.boxMaker.MakeBox(this.size.width, this.size.height3D, this.size.height, true, true);\r\n        this.wireFrame.material = new THREE.MeshBasicMaterial({ color: 0xffff00, wireframe: true, visible: false });\r\n        this.dataServer.sceneCommonObj.scene.add(this.wireFrame);\r\n\r\n        //把选择用的模型放到跟射线的碰撞列表里。---------------------------------------\r\n        let _customUserData: CustomUserData = new CustomUserData();\r\n        _customUserData.longObj = this;\r\n        _customUserData.modelType = _modelType;\r\n\r\n        this.selector.userData.customUserData = _customUserData;\r\n        this.dataServer.classesObj.rayHitModelList.AddRayHitModel(this.selector);\r\n\r\n        //用来做门洞的布尔盒子是没有下面的面的。---------------------------------------\r\n        let _booleanBoxHasBottom: boolean = true;\r\n        if (_modelType == ModelType.door) {\r\n            _booleanBoxHasBottom = false;\r\n        }\r\n        //开始创建一个用来做窗布尔用的box模型。\r\n        this.booleanModel = this.dataServer.classesObj.boxMaker.MakeBox(this.size.width, this.size.height3D, this.size.height, false, _booleanBoxHasBottom);\r\n        this.dataServer.sceneCommonObj.scene.add(this.booleanModel);\r\n        this.booleanModel.material.visible = false;\r\n\r\n\r\n        //设置门窗都不能够用旋转工具来进行旋转。-------------------------------------\r\n        this.dataServer.classesObj.modelTransformer.SetRotatable(false);\r\n\r\n        //把移动旋转工具全部取消激活。-----------------------------------------------------\r\n        this.dataServer.classesObj.modelTransformer.SetEnable(false);\r\n        //清空移动旋转工具的当前控制模型。--------------------------------------------------\r\n        this.dataServer.classesObj.modelTransformer.ClearControlModel();\r\n\r\n        //选择二维图形的时候门窗也跟着被选中。--------------------------------------\r\n        this.chooseFuncArr.push(() => {\r\n            //设置当前选择的模型就是被击中的模型。-------------------------------\r\n            this.dataServer.classesObj.currentSelectModel.Select(this.selector);\r\n            this.OnSelected();\r\n\r\n        });\r\n        //在二维图形里取消选择的时候三维视图也跟着一并取消选择。-------------------\r\n        this.noChooseFuncArr.push(() => {\r\n            this.OnUnselected();\r\n        });\r\n        //阿隆调用的更新门位置的函数。----------------------------------------------------------------------------\r\n        this.updateArr3D.push(\r\n            () => {\r\n                this.UpdatePos(this.floorHeight);\r\n            }\r\n        );\r\n        //记录一下门的宽度。---------------------------------------------------\r\n        this.formerWidth = this.size.width;\r\n        //记录一下门的深度。---------------------------------------------------\r\n        this.formerDeep = this.size.height;\r\n\r\n    }\r\n\r\n    /**\r\n     * 输入一个高度，获取门窗的真实位置，返回值是Vector3。=====================================\r\n     * @param _height \r\n     */\r\n    protected GetWinDoorPos(_height) {\r\n        _height = Math.max(_height, 0.0);\r\n        let _windowPos = new THREE.Vector3(this.pos.x, this.floorHeight, this.pos.y);\r\n        return _windowPos;\r\n    }\r\n\r\n    /**\r\n     * 用来更新这个门窗所在的墙体。========================================================\r\n     */\r\n    private UpdateWallBoolean() {\r\n        //如果窗户被上下移动，窗户又确实在墙的里面的话，则更新窗洞吧。------\r\n        if (this.getwall() != undefined) {\r\n            //如果是在垂直方向上移动窗户，那么把墙洞也更新下吧。---------------\r\n            let cowalls: JCowall3D[] = <JCowall3D[]>this.getwall().getCowallArr();\r\n            for (let i = 0; i < cowalls.length; i++) {\r\n                cowalls[i].MakeWall(true);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 用来更新门窗里一切东西的位置和旋转。=====================================\r\n     */\r\n    protected UpdateDoorWinPos(_pos) {\r\n        //设置门框选择器的位置和旋转。----------------------------------------\r\n        this.selector.position.copy(_pos);\r\n        this.selector.rotation.y = -this.radian;\r\n        //设置门框选择显示器的位置和旋转。-------------------------------------\r\n        this.wireFrame.position.copy(_pos);\r\n        this.wireFrame.rotation.y = -this.radian;\r\n        //设置门框布尔模型的位置和旋转。---------------------------------------\r\n        this.booleanModel.position.copy(_pos);\r\n        this.booleanModel.rotation.y = -this.radian;\r\n        //更新移动旋转工具的位置。---------------------------------------------\r\n        this.dataServer.classesObj.modelTransformer.SetTransformerPos(_pos);\r\n        //设置门框的模型的位置和旋转。------------------------------------------\r\n        if (this.doorWinFrame != null) {\r\n            this.doorWinFrame.SetPosition(_pos);\r\n            this.doorWinFrame.SetRotation(-this.radian);\r\n        }\r\n        //更新模型加载进度显示器的位置和旋转。--------------------------------\r\n        if (this.preloadBox != null) {\r\n            this.preloadBox.UpdatePos(_pos);\r\n            this.preloadBox.UpdateYRadian(-this.radian);\r\n        }\r\n        //设置普通飘窗模型的位置和旋转。----------------------------------------\r\n        if (this.baywin != null) {\r\n            this.baywin.SetPosition(_pos);\r\n            this.baywin.SetRotation(-this.radian);\r\n        }\r\n        if (this.doorWinModel != null) {\r\n            this.doorWinModel.position.copy(_pos);\r\n            this.doorWinModel.rotation.y = -this.radian;\r\n        }\r\n    }\r\n    /**\r\n     * 这个提供给阿隆来移动门窗的模型。同时也是提供给垂直移动工具移动门窗模型用的。====================\r\n     * @param _height \r\n     */\r\n    public UpdatePos(_height) {\r\n        if (_height != this.floorHeight) {\r\n            this.floorHeight = _height;\r\n            this.UpdateWallBoolean();\r\n        }\r\n        this.UpdateDoorWinPos(this.GetWinDoorPos(_height));\r\n    }\r\n}","/*\r\n 作者：张建。\r\n 类说明：本类就是用来专门做门用的。\r\n*/\r\nimport { JDoor } from \"../../svg/common/jdesign/JDoor\";\r\nimport { ModelType } from '../classes/dataStruct';\r\nimport { DoorWindowFrame } from \"../classes/DoorWindowFrame\";\r\nimport { MyUtil } from \"../classes/MyUtil\";\r\nimport { PreloadBox } from \"../classes/PreloadBox\";\r\nimport { PopDivService } from '../../services/pop-div.service';\r\nimport { THREEDataServer } from \"../classes/THREEDataServer\";\r\n\r\nimport { JdesignDataService } from '../../services/jdesign-data.service';\r\nimport { JCowall3D } from \"./JCowall3D\";\r\ndeclare var THREE: any;\r\n\r\nexport class JDoor3D extends JDoor {\r\n    tempDaeModelUrl: string = \"https://www.3dhome360.com/LZN/model/door/door3/door3.DAE\";\r\n\r\n    public SetDataServerAndOthers(_dataServer: THREEDataServer, _popServer: PopDivService, _jDataServer: JdesignDataService) {\r\n        if (this.dataServer != undefined) {\r\n            return;\r\n        }\r\n        this.dataServer = _dataServer;\r\n        this.popServer = _popServer;\r\n        this.jDataServer = _jDataServer;\r\n        this.OnModelMove.push(this.OnDoorBeMove.bind(this));\r\n    }\r\n\r\n    /**\r\n     * 当这个门的模型被阿隆那边移动的时候触发的函数。==============================================\r\n     */\r\n    private OnDoorBeMove() {\r\n        //如果门存储的宽度跟目前的宽度不相等，代表门的宽度被缩放过了。--------------------------\r\n        if (this.formerWidth != this.size.width ||\r\n            this.formerDeep != this.size.height\r\n        ) {\r\n            console.log(\"重构门\");\r\n            this.MakeDoor(false);\r\n            this.UpdateDoorWinPos(this.GetWinDoorPos(this.floorHeight));\r\n            let _cowalls: JCowall3D[] = <JCowall3D[]>this.getwall().getCowallArr();\r\n            for (let i = 0; i < _cowalls.length; i++) {\r\n                _cowalls[i].MakeWall(true);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param _loadDae 创建门的时候是否要加载DAE模型？\r\n     */\r\n    public MakeDoor(_loadDae: boolean) {\r\n\r\n        //先把前面的门窗销毁掉咯。--------------------------------------------\r\n        this.DestoryWinDoor(_loadDae);\r\n        //构建基础窗洞的一些步骤。--------------------------------------------\r\n        //this.floorHeight = 0;\r\n        //初始化一些公共的步骤。----------------------------------------------\r\n        this.Init(ModelType.door);\r\n        //设置门是不能在垂直方向上移动的。-------------------------------------\r\n        this.dataServer.classesObj.modelTransformer.SetVerticalMovable(false);\r\n        //开始创建门框模型。------------------------------------------------------------------------\r\n        //----------------------------------------------------------------------------------------\r\n        let _allDoorFrameDatas = this.jDataServer.json.doorFrame;\r\n\r\n\r\n\r\n        //第一个门框的一圈点的数据。----------------------------------\r\n        if (this.isHaveFrame == true) {\r\n            let _firstDoorFrameProfileData = _allDoorFrameDatas[0].vertexData;\r\n            this.MakeDoorFrame(_firstDoorFrameProfileData);\r\n        }\r\n\r\n        //门框的厚度，不是整个门框的厚度哦。----------------------------\r\n        let _doorFrameWidth = 0;\r\n        if (this.doorWinFrame != null) {\r\n            _doorFrameWidth = this.doorWinFrame.frameWidth;\r\n        }\r\n\r\n        //控制门的宽度深度高度。-----------------------------------------\r\n        let _newWidth = this.size.width - 2 * _doorFrameWidth;\r\n        let _newHeight = this.size.height3D - _doorFrameWidth;\r\n        let _newDeep = 60;\r\n\r\n        //开始加载门的模型。---------------------------------------------\r\n        if (this.modelUrl != undefined) {\r\n            if (_loadDae == true) {\r\n                \r\n                //创建显示加载进度的盒子。-----------------------------------------------------\r\n                this.preloadBox = new PreloadBox(this.dataServer);\r\n                this.preloadBox.MakeBox(_newWidth, _newHeight, _newDeep);\r\n                \r\n                //开始加载DAE模型进来。--------------------------------------------------------\r\n                MyUtil.LoadDaeClampInSize(\r\n                    this.dataServer,\r\n                    this.modelUrl,\r\n                    {\r\n                        width: _newWidth,\r\n                        height: _newHeight,\r\n                        deep: _newDeep\r\n                    },\r\n                    (_model) => {\r\n                        // console.log(this.preloadBox);\r\n                        // console.log(this.preloadBox);\r\n                        if (this.preloadBox != null) {\r\n                            this.doorWinModel = new THREE.Object3D();\r\n                            this.dataServer.sceneCommonObj.scene.add(this.doorWinModel);\r\n                            this.doorWinModel.add(_model);\r\n                            this.doorWinModel.position.copy(this.GetWinDoorPos(this.floorHeight));\r\n                            this.doorWinModel.rotation.y = -this.radian;\r\n                            this.preloadBox.DisposePreloadBox();\r\n                        }\r\n                    },\r\n                    (_progress) => {\r\n                        if (this.preloadBox != null) {\r\n                            this.preloadBox.SetProgress(_progress);\r\n                        }\r\n                    }\r\n                )\r\n            }\r\n            //如果不加载模型，那起码把模型的尺寸稍微修改一下吧。--------------------------\r\n            else {\r\n                if (this.doorWinModel != null) {\r\n                    MyUtil.ClampModelInSize(this.doorWinModel.children[0], {\r\n                        width: _newWidth,\r\n                        height: _newHeight,\r\n                        deep: _newDeep\r\n                    })\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * 创建门框的函数。====================================================================\r\n     * @param _profileData 里面的数据是[[1,2],[3,4],[5,6]]\r\n     */\r\n    public MakeDoorFrame(_profileData) {//开始创建门框的模型。------------------------------------------\r\n        if (this.doorWinFrame == null) {\r\n            this.doorWinFrame = new DoorWindowFrame(this.dataServer, this.jDataServer);\r\n            this.doorWinFrame.paramsValues.profileMaterialIndex[ModelType.door] = 0;\r\n            this.doorWinFrame.paramsValues.profileShapeIndex[ModelType.door] = 0;\r\n        }\r\n        this.doorWinFrame.MakeFrame(ModelType.door, this.size.width, this.size.height3D, this.size.height, _profileData, false);\r\n    }\r\n\r\n\r\n}","/*\r\n 作者：张建。\r\n 类说明：这里用来创建地板模型。\r\n*/\r\nimport { JFloor } from \"../../svg/common/jdesign/JFloor\";\r\nimport { JRoom3D } from \"./JRoom3D\";\r\nimport { THREEDataServer } from \"../classes/THREEDataServer\";\r\nimport { MyUtil } from \"../classes/MyUtil\";\r\nimport { CustomUserData, ModelType } from \"../classes/dataStruct\";\r\nimport { DomUpdateService } from '../../services/dom-update.service';\r\nimport { PopDivService } from \"../../services/pop-div.service\";\r\nimport { JCowall3D } from \"./JCowall3D\";\r\nimport { JdesignDataService } from '../../services/jdesign-data.service';\r\ndeclare var earcut: any;\r\ndeclare var THREE: any;\r\n\r\nexport class JFloor3D extends JFloor {\r\n    public floorMesh = null;\r\n    public floorGeometry = null;\r\n    private oldData: any = {};              //用来和新的数据做比对，检查这个oldData是否要更新。\r\n    private dataServer: THREEDataServer;\r\n    private popServer: PopDivService;\r\n    private jDataServer: JdesignDataService;\r\n    private domServer: DomUpdateService;\r\n    private floorTexture: any = null;       //贴在地板上的贴图。\r\n\r\n    public paramsValues = {\r\n        materialIndex: [],                    //当前选择的是哪张贴图。\r\n    }\r\n\r\n    //因为我不能实例化它，只能把dataServer等需要用到的东西先给我传递进来。===============================================\r\n    public SetDataServerAndOthers(_dataServer: THREEDataServer, _domServer: DomUpdateService, _popServer: PopDivService, _jDataServer: JdesignDataService) {\r\n        if (this.dataServer != undefined) {\r\n            return;\r\n        }\r\n        this.dataServer = _dataServer;\r\n        this.domServer = _domServer;\r\n        this.popServer = _popServer;\r\n        this.jDataServer = _jDataServer;\r\n        if (this.paramsValues.materialIndex[ModelType.floor] == undefined) {\r\n            this.paramsValues.materialIndex[ModelType.floor] = 0;\r\n        }\r\n\r\n    }\r\n\r\n    //用来构建地板模型的方法。\r\n    public MakeFloor() {\r\n        \r\n        //完全没有改变的地板不需要进行下面的重建工作。---------------\r\n        if (this.IfVertexesChange() == false) {\r\n            return;\r\n        }\r\n\r\n        //先把前面的地板销毁掉吧。\r\n        this.DisposeFloor();\r\n\r\n\r\n        //地板的一圈点。数据结构是[{x:0,y:1},{x:0,y:1},{x:0,y:1}]\r\n        let _floorVertexes = this.GetFloorRingVertexes();\r\n        this.oldData._floorVertexes = _floorVertexes;\r\n\r\n        let _floorVertexList = [];\r\n        for (let i = 0; i < _floorVertexes.length; i++) {\r\n            _floorVertexList.push(_floorVertexes[i].x);\r\n            _floorVertexList.push(_floorVertexes[i].y);\r\n        }\r\n        let vertexIndex = earcut(_floorVertexList);\r\n        //计算地板的所有顶点数据。----------------------------\r\n        let _floorVertexesV3 = [];\r\n        for (let i = 0; i < _floorVertexes.length; i++) {\r\n            _floorVertexesV3.push(new THREE.Vector3(_floorVertexes[i].x, 0, _floorVertexes[i].y));\r\n        }\r\n        //计算地板的所有Face3数据。---------------------------\r\n        let _floorFaces = [];\r\n        for (let i = 0; i < vertexIndex.length; i += 3) {\r\n            _floorFaces.push(new THREE.Face3(vertexIndex[i], vertexIndex[i + 2], vertexIndex[i + 1]));\r\n        }\r\n        //计算地板的所有UV数据。------------------------------\r\n        let _floorUvs = [[]];\r\n        for (let i = 0; i < _floorFaces.length; i++) {\r\n            let _oneUV = [];\r\n            _oneUV.push(new THREE.Vector2(_floorVertexesV3[_floorFaces[i].a].x / 2000, _floorVertexesV3[_floorFaces[i].a].z / 2000));\r\n            _oneUV.push(new THREE.Vector2(_floorVertexesV3[_floorFaces[i].b].x / 2000, _floorVertexesV3[_floorFaces[i].b].z / 2000));\r\n            _oneUV.push(new THREE.Vector2(_floorVertexesV3[_floorFaces[i].c].x / 2000, _floorVertexesV3[_floorFaces[i].c].z / 2000));\r\n            _floorUvs[0].push(_oneUV);\r\n        }\r\n\r\n\r\n        this.floorGeometry = new THREE.Geometry();\r\n        this.floorGeometry.vertices = _floorVertexesV3;\r\n        this.floorGeometry.faces = _floorFaces;\r\n        this.floorGeometry.faceVertexUvs = _floorUvs;\r\n        this.floorGeometry.computeFaceNormals();\r\n\r\n        this.floorGeometry.mergeVertices();\r\n\r\n        let _floorMapIndex = this.paramsValues.materialIndex[ModelType.floor];\r\n        if (this.floorTexture == null) {\r\n            this.floorTexture = this.dataServer.loaders.textureLoader.load(this.jDataServer.json.floorPics[_floorMapIndex]);\r\n            this.floorTexture.wrapS = THREE.RepeatWrapping;\r\n            this.floorTexture.wrapT = THREE.RepeatWrapping;\r\n            //修改杨振龙2D部分的地板贴图。-----------------------------------------------\r\n            let _path = this.jDataServer.json.floorPics[_floorMapIndex];\r\n            this.Set2DMap(_path, 2000, 2000);\r\n        }\r\n\r\n        this.floorMesh = new THREE.Mesh(this.floorGeometry, new THREE.MeshPhongMaterial({ map: this.floorTexture }));\r\n\r\n        //绑定杨振龙创建的那个对象。--------------------------------\r\n        let customUserData: CustomUserData = new CustomUserData();\r\n        customUserData.longObj = this;\r\n        customUserData.modelType = ModelType.floor;\r\n        customUserData.wireSelectedPoints = _floorVertexesV3;\r\n        this.floorMesh.userData.customUserData = customUserData;\r\n\r\n        this.dataServer.classesObj.rayHitModelList.AddRayHitModel(this.floorMesh);\r\n        this.dataServer.sceneCommonObj.scene.add(this.floorMesh);\r\n\r\n    }\r\n\r\n    /**\r\n    * 把这个floor上的所有的地板的模型销毁掉。\r\n    */\r\n    private DisposeFloor() {\r\n        if (this.floorMesh != null) {\r\n            this.dataServer.classesObj.rayHitModelList.RemoveRayHitModel(this.floorMesh);\r\n            this.dataServer.sceneCommonObj.scene.remove(this.floorMesh);\r\n            delete this.floorMesh.userData.customUserData;\r\n            this.floorMesh = null;\r\n        }\r\n        if (this.floorGeometry != null) {\r\n            this.floorGeometry.dispose();\r\n            this.floorGeometry = null;\r\n        }\r\n    }\r\n    /**\r\n         * 检查当前floor3D对象的四周顶点是否有变化。用来决定该地板要不要更新。返回true代表这个地板需要重建，返回false代表不用-----------------------------\r\n         */\r\n    private IfVertexesChange(): boolean {\r\n        // let _theRoom: JRoom3D = this.getRoom();\r\n        if (this.oldData._floorVertexes == undefined) {\r\n            return true;\r\n        } else {\r\n            if (MyUtil.IfArrayTheSame(this.oldData._floorVertexes, this.getInLine(), [\"x\", \"y\"])) {\r\n                return false;\r\n            } else {\r\n                return true;\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 给阿隆调用的，销毁地板3D模型的自定义函数。======================\r\n     */\r\n    public destory3D() {\r\n        this.DisposeFloor();\r\n    }\r\n\r\n    /**\r\n     * 修改地板地图的自定义函数。=====================================\r\n     * @param _path 地板要切换成的贴图的路径。\r\n     */\r\n    public SetModelTexture(_path: string) {\r\n        this.floorTexture.image.src = _path;\r\n        this.floorTexture.image.onload = () => {\r\n            this.floorTexture.needsUpdate = true;\r\n        }\r\n        //修改杨振龙2D部分的地板贴图。-----------------------------------------------\r\n        this.Set2DMap(_path, 2000, 2000);\r\n    }\r\n\r\n    //提供给杨松岭的，告知这个地板当前是获取哪一张贴图。---------------------------------\r\n    public GetMaterialSelectIndex() {\r\n        return this.paramsValues.materialIndex[ModelType.floor];\r\n    }\r\n    //提供给杨松岭，设置地板的贴图。----------------------------------------------------\r\n    public SetMaterialSelectIndex(_index) {\r\n        this.paramsValues.materialIndex[ModelType.floor] = _index;\r\n    }\r\n    //给杨军龙那边做还原贴图调用的。\r\n    // public SetMaterialByIndex(_index) {\r\n\r\n    //     // let _textureUrl=this.jDataServer.json.floorPics[_index];\r\n    //     // this.SetModelTexture(_textureUrl);\r\n    // }\r\n\r\n\r\n\r\n\r\n    //修改杨振龙2D部分的地板贴图的自定义函数。-----------------------------------------------\r\n    private Set2DMap(_path, _width, _height) {\r\n        this.imgUrl = _path;\r\n        this.size = {\r\n            width: _width,\r\n            height: _height\r\n        }\r\n        this.domServer.svgRoom.emit();\r\n    }\r\n\r\n    public OnSelected() {\r\n        //产生一个面选择框。-----------------------------------------------------------------------\r\n        let _beHitModelCustomData: CustomUserData = this.floorMesh.userData.customUserData;\r\n        let _wireSelectedPoints = _beHitModelCustomData.wireSelectedPoints;\r\n        this.dataServer.classesObj.wireSelectFrame.MakeWireSelectFrame(_wireSelectedPoints);\r\n        //把场景里所有的门窗家具选择框都去掉。--------------------\r\n        this.dataServer.classesObj.rayHitter.HideDoorWindowFurnitureSelectFrame();\r\n        //把移动旋转工具取消激活掉。------------------------------\r\n        this.dataServer.classesObj.modelTransformer.SetEnable(false);\r\n        this.dataServer.classesObj.modelTransformer.ClearControlModel();\r\n\r\n\r\n        //为右边的面板创建数据。-----------------------------------\r\n        // let PanelData = this.dataServer.classesObj.propertiesMenuData.MakeFloorData(this.paramsValues);\r\n        //this.popServer.panelRight.emit(PanelData);\r\n    }\r\n\r\n    /**\r\n     * 获取地板上的一圈的顶点。返回的数值要求是[{x:0,y:1},{x:0,y:1}]==================================\r\n     */\r\n    private GetFloorRingVertexes() {\r\n        let _returnPoints = [];\r\n        let _allCowalls = this.getRoom().getCowallArrBySort();\r\n        for (let i = 0; i < _allCowalls.length; i++) {\r\n            let _colwall3D: JCowall3D = <JCowall3D>_allCowalls[i];\r\n            let _theWall = _colwall3D.getWall();\r\n            if (_theWall.arcDistance != 0) {\r\n                let _allPoints = _colwall3D.arcProfilePoints[ModelType.inWall];\r\n                for (let j = 0; j < _allPoints.length; j++) {\r\n                    _returnPoints.push({ x: _allPoints[j].x, y: _allPoints[j].z })\r\n                }\r\n            } else {\r\n                let _allPoints = _colwall3D.getInLine();\r\n                _returnPoints.push(_allPoints[0]);\r\n                _returnPoints.push(_allPoints[1]);\r\n            }\r\n        }\r\n        return _returnPoints;\r\n    }\r\n}","import { JdesignDataService } from \"../../services/jdesign-data.service\";\r\nimport { JFloorplan, JFloorplanInitType } from \"../../svg/common/jdesign/JFloorplan\";\r\n\r\nexport class JFloorplan3D extends JFloorplan {\r\n\r\n    constructor(obj: JFloorplanInitType, public dataService: JdesignDataService) {\r\n        super(obj, dataService)\r\n    }\r\n}","import { JFurniture } from \"../../svg/common/jdesign/JFurniture\";\r\nimport { THREEDataServer } from \"../classes/THREEDataServer\";\r\nimport { MyUtil } from \"../classes/MyUtil\";\r\nimport { ModelType, CustomUserData } from '../classes/dataStruct';\r\nimport { PreloadBox } from \"../classes/PreloadBox\";\r\nimport { HGDataServer } from '../classes/HGModel/HGDataServer';\r\nimport { HGWardrobeLoader } from \"../classes/HGModel/HGWardrobeLoader\";\r\nimport { PopDivService } from '../../services/pop-div.service';\r\n\r\ndeclare var THREE: any;\r\n\r\nexport class JFurniture3D extends JFurniture {\r\n\r\n    public SetDataServerAndOthers(_dataServer: THREEDataServer, _hgModelServer: HGDataServer, _popServer: PopDivService) {\r\n        this.FatherSetDataServerAndOthers(_dataServer, _popServer);\r\n        //初始化map加载器吧。------------------------------------------------\r\n        if (this.dataServer.loaders.wardrobeLoader == null) {\r\n            this.dataServer.loaders.wardrobeLoader = new HGWardrobeLoader(_hgModelServer);\r\n        }\r\n    }\r\n\r\n    public MakeFurniture() {\r\n        //构架家具的父对象。-----------------------------\r\n        this.furnitureFarther = new THREE.Object3D();\r\n        this.dataServer.sceneCommonObj.scene.add(this.furnitureFarther);\r\n        let _modelExtension = (MyUtil.getExtensionName(this.url3D));\r\n        //开始加载dae模型。------------------------------\r\n        if (_modelExtension == \"DAE\") {\r\n            MyUtil.LoadDaeClampInSize(\r\n                this.dataServer,\r\n                this.url3D,\r\n                {\r\n                    width: this.size.width,\r\n                    height: this.size.height3D,\r\n                    deep: this.size.height\r\n                },\r\n                (_model) => {\r\n                    this.furnitureFarther.add(_model);\r\n                    this.preloadBox.DisposePreloadBox();\r\n                },\r\n                (_progress) => {\r\n                    this.preloadBox.SetProgress(_progress);\r\n                }\r\n            )\r\n        } else if (_modelExtension == \"map\") {\r\n            MyUtil.LoadMapClampInSize(\r\n                this.dataServer,\r\n                this.url3D,\r\n                {\r\n                    width: this.size.width,\r\n                    height: this.size.height3D,\r\n                    deep: this.size.height\r\n                },\r\n                (_model) => {\r\n                    this.furnitureFarther.add(_model);\r\n                    this.preloadBox.DisposePreloadBox();\r\n                },\r\n                (_progress) => {\r\n                    this.preloadBox.SetProgress(_progress);\r\n                }\r\n            );\r\n        }\r\n        //创建一个选择器。-------------------------------\r\n        this.selector = this.dataServer.classesObj.boxMaker.MakeBox(this.size.width, this.size.height3D, this.size.height, true, true);\r\n        this.selector.material = new THREE.MeshBasicMaterial({ color: 0xffff00, visible: false });\r\n        this.dataServer.sceneCommonObj.scene.add(this.selector);\r\n        //把选择用的模型放到跟射线的碰撞列表里。---------------------------------------\r\n        let _customUserData: CustomUserData = new CustomUserData();\r\n        _customUserData.longObj = this;\r\n        _customUserData.modelType = ModelType.furniture;\r\n\r\n        this.selector.userData.customUserData = _customUserData;\r\n        this.dataServer.classesObj.rayHitModelList.AddRayHitModel(this.selector);\r\n        //创建显示加载进度的盒子。-----------------------------------------------------\r\n        this.preloadBox = new PreloadBox(this.dataServer);\r\n        this.preloadBox.MakeBox(this.size.width, this.size.height3D, this.size.height);\r\n\r\n        //创建模型的外框，用来显示模型当前是否被选择的状态。-------------------------------------------\r\n        this.wireFrame = this.dataServer.classesObj.boxMaker.MakeBox(this.size.width, this.size.height3D, this.size.height, true, true);\r\n        this.wireFrame.material = new THREE.MeshBasicMaterial({ color: 0xffff00, wireframe: true, visible: false });\r\n        this.dataServer.sceneCommonObj.scene.add(this.wireFrame);\r\n        //换算好家具模型距离地面的高度。-----------------------------------------------------------\r\n        if (this.floorHeight != undefined) {\r\n            if (this.floorHeight <= 0) {\r\n                this.floorHeight = 2800 + this.floorHeight - this.size.height3D;\r\n            }\r\n        } else {\r\n            this.floorHeight = 0;\r\n        }\r\n        //设置移动旋转工具是否可以旋转是否可以垂直移动。----------------------------\r\n        this.dataServer.classesObj.modelTransformer.SetRotatable(true);\r\n        this.dataServer.classesObj.modelTransformer.SetVerticalMovable(true);\r\n        //把移动旋转工具全部取消激活。--------------------------------------\r\n        this.dataServer.classesObj.modelTransformer.SetEnable(false);\r\n        //清空移动旋转工具的当前控制模型。----------------------------------\r\n        this.dataServer.classesObj.modelTransformer.ClearControlModel();\r\n    }\r\n\r\n    /**\r\n        * 销毁家具的模型。=================================================================\r\n        */\r\n    private DisposeFurniture() {\r\n        //清空一切的选择。-------------------------------------------------\r\n        this.dataServer.classesObj.currentSelectModel.DeselectAll();\r\n        //把移动旋转工具全部取消激活。--------------------------------------\r\n        this.dataServer.classesObj.modelTransformer.SetEnable(false);\r\n        //清空移动旋转工具的当前控制模型。----------------------------------\r\n        this.dataServer.classesObj.modelTransformer.ClearControlModel();\r\n        //删除模型用来显示外框的东西。----------------------------------------\r\n        this.dataServer.sceneCommonObj.scene.remove(this.wireFrame);\r\n        this.wireFrame.material.dispose();\r\n        this.wireFrame.geometry.dispose();\r\n        //把预加载的盒子也删除掉。--------------------------------------------\r\n\r\n        this.preloadBox.DisposePreloadBox();\r\n        //删除用来做射线碰撞的盒子。------------------------------------------\r\n        this.dataServer.classesObj.rayHitModelList.RemoveRayHitModel(this.selector);\r\n        delete this.selector.userData.customUserData;\r\n        this.dataServer.sceneCommonObj.scene.remove(this.selector);\r\n        this.selector.geometry.dispose();\r\n        this.selector.material.dispose();\r\n        //删除家具的总的父物体。------------------------------------------------\r\n        MyUtil.DestroyDAEModel(this.dataServer.sceneCommonObj.scene, this.furnitureFarther);\r\n    }\r\n\r\n    /**\r\n     * 阿隆删除家具的时候会调用这个函数。===========================================\r\n     */\r\n    public destory3D() {\r\n        this.DisposeFurniture();\r\n    }\r\n\r\n\r\n\r\n}","import { JGeometry } from \"../../svg/common/jdesign/JGeometry\";\r\nimport { THREEDataServer } from \"../classes/THREEDataServer\";\r\nimport { MyUtil } from \"../classes/MyUtil\";\r\nimport { PreloadBox } from \"../classes/PreloadBox\";\r\nimport { PopDivService } from '../../services/pop-div.service';\r\n\r\n\r\ndeclare var THREE: any;\r\n\r\nexport abstract class JGeometry3D extends JGeometry {\r\n    protected dataServer: THREEDataServer;\r\n    protected selector: any;\r\n    protected preloadBox: PreloadBox;             //用来显示加载进度的盒子。-------------------------------\r\n    protected furnitureFarther: any;              //家具的父对象。-----------------------------------------\r\n    protected wireFrame: any;                     //家具的线框，用来显示是否选择用的。-----------------------\r\n    // private floorHeight3D: number = 0.0;    //这个家具距离地面高度多远。--------------------\r\n    protected popServer: PopDivService;\r\n    protected OnModelMove = [];                                 //当这个模型在阿隆那边被拖动的时候触发的函数。\r\n\r\n    protected FatherSetDataServerAndOthers(_dataServer: THREEDataServer, _popServer: PopDivService) {\r\n        if (this.dataServer != undefined) {\r\n            return;\r\n        }\r\n        this.dataServer = _dataServer;\r\n        this.popServer = _popServer;\r\n        this.chooseFuncArr.push(() => {\r\n            //设置当前选择的模型就是被击中的模型。-------------------------------\r\n            this.dataServer.classesObj.currentSelectModel.Select(this.selector);\r\n            this.OnSelected();\r\n        })\r\n        this.noChooseFuncArr.push(() => {\r\n            this.OnUnselected();\r\n        })\r\n    }\r\n\r\n    //当家具被选择中的时候触发的函数。---------------------\r\n    public OnSelected() {\r\n        //设置无敌大平面的位置。------------------------------------------------------------------------------------------------------------\r\n        this.dataServer.classesObj.rayHitModelList.bigPlane.setFromNormalAndCoplanarPoint(new THREE.Vector3(0, 1, 0), this.selector.position);\r\n        //把面选择框取消显示。-------------------------\r\n        this.dataServer.classesObj.wireSelectFrame.destory3D();\r\n        //把场景里所有的门窗家具选择框都去掉。--------------------\r\n        this.dataServer.classesObj.rayHitter.HideDoorWindowFurnitureSelectFrame();\r\n        //把当前模型的选择框显示出来。----------------------------\r\n        this.ShowWireFrame(true);\r\n        //家具门和窗都把移动旋转工具显示出来。------------------------------------------------\r\n        this.dataServer.classesObj.modelTransformer.SetEnable(true);\r\n        //设置当前被控制模型为被单击的模型。--------------------------------------------------\r\n        this.dataServer.classesObj.modelTransformer.SetControlModel(this.selector);\r\n        //设置移动旋转工具的位置。-----------------------------------------------------------\r\n        this.dataServer.classesObj.modelTransformer.SetTransformerPos(this.selector.position);\r\n        //设置移动旋转工具的权限。-----------------------------------------------------------\r\n        this.dataServer.classesObj.modelTransformer.SetRotatable(true);\r\n        if (this.type == \"furniture\") {\r\n            //家具对象可以使用垂直移动工具在垂直方向上移动。--------------\r\n            this.dataServer.classesObj.modelTransformer.SetVerticalMovable(true);\r\n        } else {\r\n            //烟道对象不可以使用垂直移动工具在垂直方向上移动。--------------\r\n            this.dataServer.classesObj.modelTransformer.SetVerticalMovable(false);\r\n        }\r\n    }\r\n    //当家具取消选择的时候触发的函数。-------------------\r\n    public OnUnselected() {\r\n        this.dataServer.classesObj.rayHitter.OnNothingHit();\r\n    }\r\n\r\n    public StartEvent() {\r\n        this.act3D.start = () => {\r\n\r\n        }\r\n        this.act3D.move = () => {\r\n            this.UpdatePos(this.floorHeight);\r\n            //开始调用子类里的模型移动的方法。-------------------------------------\r\n            for (let i = 0; i < this.OnModelMove.length; i++) {\r\n                this.OnModelMove[i]();\r\n            }\r\n        }\r\n\r\n        this.act3D.end = () => {\r\n\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 更新模型的位置。\r\n     */\r\n    public UpdatePos(_height) {\r\n        this.floorHeight = _height;\r\n        this.floorHeight = MyUtil.Clamp(this.floorHeight, 0.0, Infinity);\r\n        let _wantPos = this.getPos_Vector3(this.floorHeight);\r\n        //更新用来选择家具模型的位置和旋转。----------------------------------\r\n        this.selector.position.copy(_wantPos);\r\n        this.selector.rotation.y = -this.radian;\r\n\r\n        //更新模型父对象的位置和旋转。---------------------------------------\r\n        this.furnitureFarther.position.copy(_wantPos);\r\n        this.furnitureFarther.rotation.y = -this.radian;\r\n\r\n        //更新模型加载进度显示器的位置和旋转。--------------------------------\r\n        if (this.preloadBox != undefined) {\r\n            this.preloadBox.UpdatePos(_wantPos);\r\n            this.preloadBox.UpdateYRadian(-this.radian);\r\n        }\r\n        //更新模型选择外框的位置和旋转。---------------------------------------\r\n        this.wireFrame.position.copy(_wantPos);\r\n        this.wireFrame.rotation.y = -this.radian;\r\n        //更新移动旋转工具的位置。---------------------------------------------\r\n        this.dataServer.classesObj.modelTransformer.SetTransformerPos(_wantPos);\r\n    }\r\n\r\n    /**\r\n    * 获取门的当前位置，返回vector3对象。================================================\r\n    */\r\n    private getPos_Vector3(_height) {\r\n        return new THREE.Vector3(this.pos.x, _height, this.pos.y);\r\n    }\r\n\r\n    /**\r\n       * 用来显示隐藏模型的选择框用的。===============================================\r\n       * @param _show 设置为true则显示，设置为false则隐藏。\r\n       */\r\n    public ShowWireFrame(_show) {\r\n        this.wireFrame.material.visible = _show;\r\n    }\r\n\r\n\r\n\r\n}","import { JLUWin } from \"../../svg/common/jdesign/JLUWin\";\r\n\r\nexport abstract class JLUWin3D extends JLUWin {\r\n\r\n}","import { JLWin } from \"../../svg/common/jdesign/JLWin\";\r\n\r\nexport class JLWin3D extends JLWin {\r\n\r\n}","import { JParamsModel } from \"../../svg/common/jdesign/JParamsModel\";\r\n\r\nexport class JParamsModel3D extends JParamsModel {\r\n\r\n}","import { JdesignDataService } from \"../../services/jdesign-data.service\";\r\nimport { JdesignUtil2dService } from \"../../services/jdesign-util2d.service\";\r\nimport { JPoint, JPointInitType } from \"../../svg/common/jdesign/JPoint\";\r\n\r\nexport class JPoint3D extends JPoint {\r\n\r\n    constructor(\r\n        obj: JPointInitType,\r\n        public dataService: JdesignDataService,\r\n        public DUService: JdesignUtil2dService\r\n    ) {\r\n        super(obj, dataService, DUService)\r\n    }\r\n}","import { JRoof } from \"../../svg/common/jdesign/JRoof\";\r\nimport { DomUpdateService } from '../../services/dom-update.service';\r\nimport { THREEDataServer } from \"../classes/THREEDataServer\";\r\nimport { MyUtil } from \"../classes/MyUtil\";\r\nimport { CustomUserData, ModelType } from \"../classes/dataStruct\";\r\nimport { JRoom3D } from \"./JRoom3D\";\r\nimport { PopDivService } from \"../../services/pop-div.service\";\r\nimport { JCowall3D } from \"./JCowall3D\";\r\nimport { JdesignDataService } from '../../services/jdesign-data.service';\r\n\r\ndeclare var earcut: any;\r\ndeclare var THREE: any;\r\n\r\nexport class JRoof3D extends JRoof {\r\n    public roofMesh = null;\r\n    public roofGeometry = null;\r\n    private oldData: any = {};              //用来和新的数据做比对，检查这个oldData是否要更新。\r\n    private dataServer: THREEDataServer;\r\n    private jDataServer: JdesignDataService;\r\n    private domServer: DomUpdateService;\r\n    private roofTexture: any = null;        //贴在天花板上的贴图。\r\n    private popServer: PopDivService;\r\n\r\n    public paramsValues = {\r\n        materialIndex: [],                    //当前选择的是哪张贴图。\r\n    }\r\n\r\n    //因为我不能实例化它，只能把dataServer等需要用到的东西先给我传递进来。===============================================\r\n    public SetDataServerAndOthers(_dataServer: THREEDataServer, _domServer: DomUpdateService, _popServer: PopDivService,_jDataServer: JdesignDataService) {\r\n        if (this.dataServer != undefined) {\r\n            return;\r\n        }\r\n        this.dataServer = _dataServer;\r\n        this.domServer = _domServer;\r\n        this.popServer = _popServer;\r\n        this.jDataServer=_jDataServer;\r\n        //当前屋顶选择的是第一个材质。---------------------------\r\n        this.paramsValues.materialIndex[ModelType.roof] = 0;\r\n    }\r\n\r\n    //用来构建地板模型的方法。\r\n    public MakeRoof() {\r\n        //完全没有改变的地板不需要进行下面的重建工作。---------------\r\n        if (this.IfVertexesChange() == false) {\r\n            return;\r\n        }\r\n\r\n        //先把前面的天花板销毁掉吧。\r\n        this.DisposeRoof();\r\n        //天花板的一圈点。\r\n        let _roofVertexes = this.GetRoofRingVertexes();\r\n        this.oldData._floorVertexes = _roofVertexes;\r\n\r\n        let _roofVertexList = [];\r\n        for (let i = 0; i < _roofVertexes.length; i++) {\r\n            _roofVertexList.push(_roofVertexes[i].x);\r\n            _roofVertexList.push(_roofVertexes[i].y);\r\n        }\r\n        let vertexIndex = earcut(_roofVertexList);\r\n        //计算天花板的所有顶点数据。----------------------------\r\n        let _theRoom3D: JRoom3D = <JRoom3D>this.getRoom();\r\n        let _roofVertexesV3 = [];\r\n        for (let i = 0; i < _roofVertexes.length; i++) {\r\n            _roofVertexesV3.push(new THREE.Vector3(_roofVertexes[i].x, _theRoom3D.wallHeight, _roofVertexes[i].y));\r\n        }\r\n        //计算天花板的所有Face3数据。---------------------------\r\n        let _roofFaces = [];\r\n        for (let i = 0; i < vertexIndex.length; i += 3) {\r\n            _roofFaces.push(new THREE.Face3(vertexIndex[i], vertexIndex[i + 1], vertexIndex[i + 2]));\r\n        }\r\n        //计算天花板的所有UV数据。------------------------------\r\n        let _roofUvs = [[]];\r\n        for (let i = 0; i < _roofFaces.length; i++) {\r\n            let _oneUV = [];\r\n            _oneUV.push(new THREE.Vector2(_roofVertexesV3[_roofFaces[i].a].x / 2000, _roofVertexesV3[_roofFaces[i].a].z / 2000));\r\n            _oneUV.push(new THREE.Vector2(_roofVertexesV3[_roofFaces[i].b].x / 2000, _roofVertexesV3[_roofFaces[i].b].z / 2000));\r\n            _oneUV.push(new THREE.Vector2(_roofVertexesV3[_roofFaces[i].c].x / 2000, _roofVertexesV3[_roofFaces[i].c].z / 2000));\r\n            _roofUvs[0].push(_oneUV);\r\n        }\r\n\r\n\r\n        this.roofGeometry = new THREE.Geometry();\r\n        this.roofGeometry.vertices = _roofVertexesV3;\r\n        this.roofGeometry.faces = _roofFaces;\r\n        this.roofGeometry.faceVertexUvs = _roofUvs;\r\n        this.roofGeometry.computeFaceNormals();\r\n\r\n        this.roofGeometry.mergeVertices();\r\n\r\n\r\n        if (this.roofTexture == null) {\r\n            this.roofTexture = this.dataServer.loaders.textureLoader.load(this.jDataServer.json.roofPics[0]);\r\n            this.roofTexture.wrapS = THREE.RepeatWrapping;\r\n            this.roofTexture.wrapT = THREE.RepeatWrapping;\r\n        }\r\n\r\n        this.roofMesh = new THREE.Mesh(this.roofGeometry, new THREE.MeshPhongMaterial({ map: this.roofTexture }));\r\n\r\n        //绑定杨振龙创建的那个对象。--------------------------------\r\n        let customUserData: CustomUserData = new CustomUserData();\r\n        customUserData.longObj = this;\r\n        customUserData.modelType = ModelType.roof;\r\n        customUserData.wireSelectedPoints = _roofVertexesV3;\r\n        this.roofMesh.userData.customUserData = customUserData;\r\n\r\n        this.dataServer.classesObj.rayHitModelList.AddRayHitModel(this.roofMesh);\r\n        this.dataServer.sceneCommonObj.scene.add(this.roofMesh);\r\n\r\n    }\r\n\r\n    /**\r\n    * 把这个roof上的所有的天花板的模型销毁掉。\r\n    */\r\n    private DisposeRoof() {\r\n        if (this.roofMesh != null) {\r\n            this.dataServer.classesObj.rayHitModelList.RemoveRayHitModel(this.roofMesh);\r\n            this.dataServer.sceneCommonObj.scene.remove(this.roofMesh);\r\n            delete this.roofMesh.userData.customUserData;\r\n            this.roofMesh = null;\r\n        }\r\n        if (this.roofGeometry != null) {\r\n            this.roofGeometry.dispose();\r\n            this.roofGeometry = null;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 给杨松岭提供的获取当点的屋顶使用的是哪张贴图的。================================\r\n     */\r\n    public GetMaterialSelectIndex() {\r\n        return this.paramsValues.materialIndex[ModelType.roof];\r\n    }\r\n\r\n\r\n    /**\r\n     * 给杨松岭提供的记录当点的屋顶使用的是哪张贴图的。================================\r\n     */\r\n    public SetMaterialSelectIndex(_index: number) {\r\n        this.paramsValues.materialIndex[ModelType.roof] = _index;\r\n    }\r\n\r\n    /**\r\n     * 检查当前Roof3D对象的四周顶点是否有变化。用来决定该天花板要不要更新。返回true代表这个天花板需要重建，返回false代表不用-----------------------------\r\n    */\r\n    private IfVertexesChange(): boolean {\r\n        if (this.oldData._floorVertexes == undefined) {\r\n            return true;\r\n        } else {\r\n            if (MyUtil.IfArrayTheSame(this.oldData._floorVertexes, this.getInLine(), [\"x\", \"y\"])) {\r\n                return false;\r\n            } else {\r\n                return true;\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * 给阿隆调用的销毁屋顶的模型的函数。==================================================\r\n     */\r\n    public destory3D() {\r\n        this.DisposeRoof();\r\n    }\r\n    /**\r\n     * 此函数用来修改天花板的贴图用的。====================================================\r\n     * @param _path 要被修改成的贴图的路径。\r\n     */\r\n    public SetModelTexture(_path: string) {\r\n        this.roofTexture.image.src = _path;\r\n        this.roofTexture.image.onload = () => {\r\n            this.roofTexture.needsUpdate = true;\r\n        }\r\n    }\r\n\r\n    public OnSelected() {\r\n        //产生一个面选择框。-------------------------------------------------------------------\r\n        let _beHitModelCustomData: CustomUserData = this.roofMesh.userData.customUserData;\r\n        let _wireSelectedPoints = _beHitModelCustomData.wireSelectedPoints;\r\n        this.dataServer.classesObj.wireSelectFrame.MakeWireSelectFrame(_wireSelectedPoints);\r\n        //把场景里所有的门窗家具选择框都去掉。--------------------\r\n        this.dataServer.classesObj.rayHitter.HideDoorWindowFurnitureSelectFrame();\r\n        //把移动旋转工具取消激活掉。------------------------------\r\n        this.dataServer.classesObj.modelTransformer.SetEnable(false);\r\n        this.dataServer.classesObj.modelTransformer.ClearControlModel();\r\n        //为右边的面板创建数据。-----------------------------------\r\n       //let PanelData = this.dataServer.classesObj.propertiesMenuData.MakeRoofData(this.paramsValues);\r\n        //this.popServer.panelRight.emit(PanelData);\r\n    }\r\n\r\n\r\n\r\n    /**\r\n    * 获取地板上的一圈的顶点。返回的数值要求是[{x:0,y:1},{x:0,y:1}]==================================\r\n    */\r\n    private GetRoofRingVertexes() {\r\n        let _returnPoints = [];\r\n        let _allCowalls = this.getRoom().getCowallArrBySort();\r\n        for (let i = 0; i < _allCowalls.length; i++) {\r\n            let _colwall3D: JCowall3D = <JCowall3D>_allCowalls[i];\r\n            let _theWall = _colwall3D.getWall();\r\n            if (_theWall.arcDistance != 0) {\r\n                let _allPoints = _colwall3D.arcProfilePoints[ModelType.inWall];\r\n                for (let j = 0; j < _allPoints.length; j++) {\r\n                    _returnPoints.push({ x: _allPoints[j].x, y: _allPoints[j].z })\r\n                }\r\n            } else {\r\n                let _allPoints = _colwall3D.getInLine();\r\n                _returnPoints.push(_allPoints[0]);\r\n                _returnPoints.push(_allPoints[1]);\r\n            }\r\n        }\r\n        return _returnPoints;\r\n    }\r\n}","import { JRoom } from \"../../svg/common/jdesign/JRoom\";\r\nimport { THREEDataServer } from \"../classes/THREEDataServer\";\r\nimport { JFloor3D } from \"./JFloor3D\";\r\n\r\nexport class JRoom3D extends JRoom {\r\n    public wallHeight: number = 2800;\r\n    private dataServer: THREEDataServer;\r\n\r\n    public SetDataServerAndOthers(_dataServer: THREEDataServer, ) {\r\n        if (this.dataServer != undefined) {\r\n            return;\r\n        }\r\n        this.dataServer = _dataServer;\r\n\r\n        this.chooseFuncArr.push(() => {\r\n            // //设置当前选择的模型就是被击中的模型。-------------------------------\r\n            // this.dataServer.classesObj.currentSelectModel.Select(this.selector);\r\n            let _floorObj: JFloor3D = <JFloor3D>this.getFloor();\r\n            this.dataServer.classesObj.currentSelectModel.Select(_floorObj.floorMesh);\r\n            _floorObj.OnSelected();\r\n\r\n        })\r\n        this.noChooseFuncArr.push(() => {\r\n            // this.OnUnselected();\r\n            this.dataServer.classesObj.rayHitter.OnNothingHit();\r\n        })\r\n    }\r\n\r\n}","import { JUWin } from \"../../svg/common/jdesign/JUWin\";\r\n\r\nexport class JUWin3D extends JUWin {\r\n\r\n}","import { JWall } from \"../../svg/common/jdesign/JWall\";\r\nimport { THREEDataServer } from \"../classes/THREEDataServer\";\r\nimport { JCowall3D } from \"./JCowall3D\";\r\nimport { ModelType } from \"../classes/dataStruct\";\r\n\r\nexport class JWall3D extends JWall {\r\n    public wallHeight: number = 2800;\r\n    private dataServer: THREEDataServer;\r\n\r\n    public SetDataServerAndOthers(_dataServer: THREEDataServer, ) {\r\n        if (this.dataServer != undefined) {\r\n            return;\r\n        }\r\n        this.dataServer = _dataServer;\r\n\r\n        //在2D里选择墙的时候触发的动作。=============================================\r\n        this.chooseFuncArr.push(() => {\r\n            // let _theCowalls = this.getCowallArr();\r\n            // let _oneOfCowall: JCowall3D = <JCowall3D>_theCowalls[0];\r\n            // //设置当前选择的模型就是被击中的模型。-------------------------------\r\n            // this.dataServer.classesObj.currentSelectModel.Select(_oneOfCowall.wallMeshs[ModelType.inWall]);\r\n            // _oneOfCowall.OnSelected();\r\n\r\n        })\r\n        this.noChooseFuncArr.push(() => {\r\n             \r\n            this.dataServer.classesObj.rayHitter.OnNothingHit();\r\n        })\r\n    }\r\n}","/*\r\n 作者：张建。\r\n 类说明：本类就是专门用来做窗的类。-----------------------------\r\n*/\r\nimport { JWin } from \"../../svg/common/jdesign/JWin\";\r\nimport { ModelType } from '../classes/dataStruct';\r\nimport { MyUtil } from \"../classes/MyUtil\";\r\nimport { DoorWindowFrame } from \"../classes/DoorWindowFrame\";\r\nimport { PreloadBox } from \"../classes/PreloadBox\";\r\nimport { PopDivService } from '../../services/pop-div.service';\r\nimport { THREEDataServer } from \"../classes/THREEDataServer\";\r\nimport { JCowall3D } from \"./JCowall3D\";\r\nimport { JdesignDataService } from '../../services/jdesign-data.service';\r\n\r\ndeclare var THREE: any;\r\n\r\nexport class JWin3D extends JWin {\r\n    tempDaeModelUrl: string = \"https://www.3dhome360.com/LZN/model/window/win001/ch02.DAE\";\r\n\r\n    public SetDataServerAndOthers(_dataServer: THREEDataServer, _jDataServer: JdesignDataService, _popServer: PopDivService) {\r\n        if (this.dataServer != undefined) {\r\n            return;\r\n        }\r\n        this.dataServer = _dataServer;\r\n        this.popServer = _popServer;\r\n        this.jDataServer = _jDataServer;\r\n        this.OnModelMove.push(this.OnWinBeMove.bind(this));\r\n    }\r\n\r\n\r\n    /**\r\n    * 当这个窗的模型被阿隆那边移动的时候触发的函数。==============================================\r\n    */\r\n    private OnWinBeMove() {\r\n        //如果窗存储的宽度跟目前的宽度不相等，代表窗的宽度被缩放过了。--------------------------\r\n        if (this.formerWidth != this.size.width ||\r\n            this.formerDeep != this.size.height\r\n        ) {\r\n            this.MakeWin(false);\r\n            this.UpdateDoorWinPos(this.GetWinDoorPos(this.floorHeight));\r\n            let _cowalls: JCowall3D[] = <JCowall3D[]>this.getwall().getCowallArr();\r\n            for (let i = 0; i < _cowalls.length; i++) {\r\n                _cowalls[i].MakeWall(true);\r\n            }\r\n        }\r\n    }\r\n\r\n    public MakeWin(_loadDae: boolean) {\r\n        //先把前面的门窗销毁掉咯。------------------------------------------\r\n        this.DestoryWinDoor(_loadDae);\r\n        //设置窗户的离地高度。--------------------------------------------------\r\n        //this.floorHeight = 500;\r\n        //构建基础窗洞的一些步骤。------------------------------------\r\n        this.Init(ModelType.window);\r\n        //设置窗是可以在垂直方向上移动的。-------------------------------------\r\n        this.dataServer.classesObj.modelTransformer.SetVerticalMovable(true);\r\n        //开始创建窗框。----------------------------------------------------------------------------\r\n        //----------------------------------------------------------------------------------------\r\n        let _allDoorFrameDatas = this.jDataServer.json.winFrame;\r\n        //第一个窗框的一圈点的数据。----------------------------------\r\n        let _firstWinFrameProfileData = _allDoorFrameDatas[0].vertexData;\r\n        this.MakeWinFrame(_firstWinFrameProfileData);\r\n\r\n        let _doorFrameWidth = 0;\r\n        if (this.doorWinFrame != null) {\r\n            _doorFrameWidth = this.doorWinFrame.frameWidth;\r\n        }\r\n\r\n        let _newWidth = this.size.width - 2 * _doorFrameWidth;\r\n        let _newHeight = this.size.height3D - 2 * _doorFrameWidth;\r\n        let _newDeep = 60;\r\n\r\n        //如果要重新加载DAE的话就重新加载DAE。-------------------------------------\r\n        if (_loadDae == true) {\r\n            //创建显示加载进度的盒子。-----------------------------------------------------\r\n            this.preloadBox = new PreloadBox(this.dataServer);\r\n            this.preloadBox.MakeBox(_newWidth, _newHeight, _newDeep);\r\n            this.preloadBox.SetYOffset(_doorFrameWidth);\r\n            //开始加载门的模型。---------------------------------------------\r\n            MyUtil.LoadDaeClampInSize(\r\n                this.dataServer,\r\n                this.tempDaeModelUrl,\r\n                {\r\n                    width: _newWidth,\r\n                    height: _newHeight,\r\n                    deep: _newDeep\r\n                },\r\n                (_model) => {\r\n                    if (this.preloadBox != null) {\r\n                        this.doorWinModel = new THREE.Object3D();\r\n                        this.dataServer.sceneCommonObj.scene.add(this.doorWinModel);\r\n                        this.doorWinModel.add(_model);\r\n                        _model.position.y = _doorFrameWidth;\r\n                        this.doorWinModel.position.copy(this.GetWinDoorPos(this.floorHeight));\r\n                        this.doorWinModel.rotation.y = -this.radian;\r\n                        this.preloadBox.DisposePreloadBox();\r\n                    }\r\n                },\r\n                (_progress) => {\r\n                    if (this.preloadBox != null) {\r\n                        this.preloadBox.SetProgress(_progress);\r\n                    }\r\n                }\r\n            )\r\n        }\r\n        //如果不加载模型，那起码把模型的尺寸稍微修改一下吧。--------------------------\r\n        else {\r\n            if (this.doorWinModel != undefined) {\r\n                MyUtil.ClampModelInSize(this.doorWinModel.children[0], {\r\n                    width: _newWidth,\r\n                    height: _newHeight,\r\n                    deep: _newDeep\r\n                })\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n       * 创建窗框的自定义函数。\r\n       * @param _profileData 里面的数据是[[1,2],[3,4],[5,6]]\r\n       */\r\n    public MakeWinFrame(_profileData) {\r\n        if (this.doorWinFrame == null) {\r\n            this.doorWinFrame = new DoorWindowFrame(this.dataServer, this.jDataServer);\r\n            this.doorWinFrame.paramsValues.profileMaterialIndex[ModelType.window] = 0;\r\n            this.doorWinFrame.paramsValues.profileShapeIndex[ModelType.window] = 0;\r\n        }\r\n        this.doorWinFrame.MakeFrame(ModelType.window, this.size.width, this.size.height3D, this.size.height, _profileData, true);\r\n    }\r\n\r\n\r\n}","import { JCornerWin3D } from \"../jDesign3D/JCornerWin3D\";\r\nimport { JCowall3D } from \"../jDesign3D/JCowall3D\";\r\nimport { ModelType } from \"../classes/dataStruct\";\r\n\r\n\r\nexport class Redo3D {\r\n    constructor() {\r\n\r\n    }\r\n    /** 点还原 */\r\n    rePoint(obj) {\r\n\r\n    }\r\n\r\n    /** 创建点 */\r\n    createPoint(obj) {\r\n        obj.strongUpdate3D()\r\n    }\r\n\r\n    /** 墙还原 */\r\n    reWall(obj) {\r\n\r\n    }\r\n\r\n    /** 创建墙 */\r\n    createWall(obj) {\r\n        obj.strongUpdate3D()\r\n    }\r\n\r\n    /** 有序墙还原 */\r\n    reCowall(obj) {\r\n\r\n    }\r\n\r\n    /** 创建有序墙 */\r\n    createCowall(obj: JCowall3D) {\r\n\r\n        console.log(obj.paramsValues);\r\n\r\n        // obj.strongUpdate3D();\r\n    }\r\n\r\n    /** 空间还原 */\r\n    reRoom(obj) {\r\n\r\n    }\r\n\r\n    /** 创建空间 */\r\n    createRoom(obj) {\r\n        // InitDataUtil.CreateObjUpdate(obj)\r\n        // obj.strongUpdate3D()\r\n    }\r\n\r\n    /** floor还原 */\r\n    reFloor(obj) {\r\n        console.log(obj);\r\n    }\r\n\r\n    /* 天花还原 */\r\n    reRoof(obj) {\r\n\r\n    }\r\n\r\n    /** 创建地板 */\r\n    createFloor(obj) {\r\n        // obj.strongUpdate3D()\r\n\r\n\r\n    }\r\n\r\n    doneFloor(obj) {\r\n\r\n    }\r\n\r\n    /* 创建天花 */\r\n    createRoof(obj) {\r\n        obj.strongUpdate3D()\r\n    }\r\n\r\n    /** door还原 */\r\n    reDoor(obj) {\r\n        obj.strongUpdate3D();\r\n        // obj.setDig();\r\n    }\r\n\r\n    /** 创建门 */\r\n    createDoor(obj) {\r\n        // InitDataUtil.CreateObjUpdate(obj)\r\n        // obj.strongUpdate3D()\r\n        // obj.setDig()\r\n    }\r\n\r\n    /** window还原 */\r\n    reWin(obj) {\r\n        // obj.strongUpdate3D();\r\n        // obj.setDig();\r\n    }\r\n\r\n    reLWin(obj) {\r\n\r\n    }\r\n\r\n    reUWin(obj) {\r\n\r\n    }\r\n\r\n    createLWin(obj) {\r\n\r\n    }\r\n\r\n    createUWin(obj) {\r\n\r\n    }\r\n\r\n    reCornWin(obj: JCornerWin3D) {\r\n        obj.act3D.move()\r\n    }\r\n\r\n    /** 创建窗 */\r\n    createWin(obj) {\r\n        // InitDataUtil.CreateObjUpdate(obj)\r\n        // obj.strongUpdate3D()\r\n        // obj.setDig()\r\n    }\r\n\r\n    /** 家具还原 */\r\n    reFurniture(obj) {\r\n        obj.strongUpdate3D()\r\n    }\r\n\r\n    /* 建筑还原 */\r\n    reBuild(obj) {\r\n        obj.strongUpdate3D()\r\n    }\r\n\r\n    /** 创建家具 */\r\n    createFurniture(obj) {\r\n        // InitDataUtil.CreateObjUpdate(obj)\r\n        // obj.strongUpdate3D()\r\n    }\r\n\r\n    /* 创建建筑 */\r\n    createBuild(obj) {\r\n\r\n    }\r\n\r\n    /* 创建飘窗 */\r\n    createCornerWin(obj) {\r\n\r\n    }\r\n}","import { SaveType } from \"../../svg/common/save/SaveType\";\r\n\r\nexport namespace SaveType3D {\r\n\r\n\r\n    export class JPoint3D extends SaveType.JPoint {\r\n\r\n        /* 范例 */\r\n        constructor() {\r\n            super()\r\n        }\r\n\r\n    }\r\n\r\n    export class JWall3D extends SaveType.JWall {\r\n\r\n    }\r\n\r\n    export class JCowall3D extends SaveType.JCowall {\r\n        // wallTextureIndex;\r\n        // hasProfile;\r\n        // profileStyle;\r\n        // profileTextureIndex;\r\n        paramsValues;\r\n        /* 范例 */\r\n        constructor() {\r\n            super()\r\n            this.paramsValues = null;\r\n            // this.wallTextureIndex = null;\r\n            // this.hasProfile = null;\r\n            // this.profileStyle = null;\r\n            // this.profileTextureIndex = null;\r\n        }\r\n    }\r\n\r\n    export class JRoom3D extends SaveType.JRoom {\r\n        rootTextureIndex;\r\n        constructor() {\r\n            super()\r\n            this.rootTextureIndex = null;\r\n        }\r\n    }\r\n\r\n    export class JFloor3D extends SaveType.JFloor {\r\n        paramsValues;\r\n        constructor() {\r\n            super();\r\n            this.paramsValues = null;\r\n        }\r\n    }\r\n\r\n    export class JRoof3D extends SaveType.JRoof {\r\n        constructor() {\r\n            super()\r\n        }\r\n    }\r\n\r\n\r\n    export class JWin3D extends SaveType.JWin {\r\n        profileIndex;\r\n        constructor() {\r\n            super();\r\n            this.profileIndex = null;\r\n        }\r\n    }\r\n\r\n    export class JLWin3D extends SaveType.JLWin {\r\n        constructor() {\r\n            super()\r\n        }\r\n    }\r\n\r\n    export class JUWin3D extends SaveType.JUWin {\r\n        constructor() {\r\n            super()\r\n        }\r\n    }\r\n\r\n    export class JBayWin3D extends SaveType.JWin {\r\n        constructor() {\r\n            super()\r\n        }\r\n    }\r\n\r\n    export class JDoor3D extends SaveType.JDoor {\r\n        profileIndex;\r\n        constructor() {\r\n            super();\r\n            this.profileIndex = null;\r\n        }\r\n    }\r\n\r\n    export class JCamera3D extends SaveType.JCamera {\r\n\r\n    }\r\n\r\n    export class JFurniture3D extends SaveType.JFurniture {\r\n        modelYPos;\r\n        constructor() {\r\n            super()\r\n            this.modelYPos = null;\r\n        }\r\n    }\r\n\r\n    export class JBuild3D extends SaveType.JBuild {\r\n\r\n    }\r\n\r\n    export class JFloorPlan3D extends SaveType.JFloorplan {\r\n\r\n    }\r\n\r\n    export class JCornerWin3D extends SaveType.JCornerWin {\r\n\r\n    }\r\n}","module.exports = \".testDiv {\\n  width: 100%;\\n  height: 100%;\\n  background-color: #ff0000;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdGhyZWUvRDpcXGtub3dsZWRnZVxcaGdcXG9sZFxcb2xkUm9vbS9zcmNcXGFwcFxcdGhyZWVcXHRocmVlLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC90aHJlZS90aHJlZS5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLFdBQUE7RUFDQSxZQUFBO0VBQ0EseUJBQUE7QUNDSiIsImZpbGUiOiJzcmMvYXBwL3RocmVlL3RocmVlLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnRlc3REaXYge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmYwMDAwO1xyXG59IiwiLnRlc3REaXYge1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmYwMDAwO1xufSJdfQ== */\"","/*\r\n 作者：张建。\r\n 类说明：这个是三维部分的主要组建，起总的统筹作用。\r\n*/\r\nimport { Component } from '@angular/core';\r\nimport { THREEDataServer } from './classes/THREEDataServer';\r\nimport { JdesignDataService } from '../services/jdesign-data.service';\r\nimport { DomUpdateService } from '../services/dom-update.service';\r\nimport { SceneMaker } from './classes/SceneMaker';\r\nimport { JCowall3D } from './jDesign3D/JCowall3D';\r\nimport { JCamera3D } from './jDesign3D/JCamera3D';\r\nimport { CanvasEventMaster } from './classes/canvasEventMaster';\r\nimport { HGDataServer } from './classes/HGModel/HGDataServer';\r\nimport { JRoom3D } from './jDesign3D/JRoom3D';\r\nimport { JFloor3D } from './jDesign3D/JFloor3D';\r\nimport { Rayhitter } from './classes/Rayhitter';\r\nimport { PopDivService } from '../services/pop-div.service';\r\nimport { JRoof3D } from './jDesign3D/JRoof3D';\r\nimport { JdesignUtil2dService } from '../services/jdesign-util2d.service';\r\nimport { JDoor3D } from './jDesign3D/JDoor3D';\r\nimport { JWin3D } from './jDesign3D/JWin3D';\r\nimport { JFurniture3D } from './jDesign3D/JFurniture3D';\r\nimport { ModelTransformer } from './classes/ModelTransformer';\r\nimport { JWall3D } from './jDesign3D/JWall3D';\r\nimport { JCornerWin3D } from './jDesign3D/JCornerWin3D';\r\nimport { JBuild3D } from './jDesign3D/JBuild3D';\r\ndeclare var THREE: any;\r\n\r\n@Component({\r\n  selector: '[threeCanvas]',\r\n  templateUrl: './three.component.html',\r\n  providers: [THREEDataServer, HGDataServer],\r\n  styleUrls: ['./three.component.scss']\r\n})\r\nexport class ThreeComponent {\r\n  constructor(private dataServer: THREEDataServer,\r\n    private jDataServer: JdesignDataService,\r\n    private domServer: DomUpdateService,\r\n    private popServer: PopDivService,\r\n    private JDUServer: JdesignUtil2dService,\r\n    private hgModelServer: HGDataServer\r\n  ) {\r\n    //画布更新的时候调用这个函数。===============================\r\n    this.domServer.three.subscribe(() => {\r\n      //调整一下三维视图的尺寸。\r\n      this.ResizeCanvas();\r\n    });\r\n\r\n    //svg初始化的时候触发一次。==================================\r\n    this.domServer.svgInit.subscribe(() => {\r\n      //实例化seneMaker对象。-----------------------------\r\n      this.dataServer.classesObj.sceneMaker = new SceneMaker(this.dataServer, this.jDataServer, this.JDUServer);\r\n      //初始化场景里的东西先。-----------------------------\r\n      this.dataServer.classesObj.sceneMaker.StartScene();\r\n      //开始给画布绑定事件。-----------------------------------\r\n      this.dataServer.classesObj.canvasEventMaster = new CanvasEventMaster(this.dataServer);\r\n      //开始处理射线事件。----------------------------------\r\n      this.dataServer.classesObj.rayHitter = new Rayhitter(this.dataServer, this.jDataServer, this.popServer);\r\n      //开始创建移动旋转模型的工具。-------------------------------------\r\n      this.dataServer.classesObj.modelTransformer = new ModelTransformer(this.dataServer, this.jDataServer);\r\n\r\n       \r\n      //把3d摄像机放置在场景里。----------------------------\r\n      this.jDataServer.camera.SetDataServerAndOthers(this.dataServer, this.domServer, this.jDataServer);\r\n      this.jDataServer.camera.AddCameraToScene();\r\n      //调整一下三维视图的尺寸。-------------------------------\r\n      this.ResizeCanvas();\r\n      // this.dataServer.classesObj.sceneMaker.AnimationScene();\r\n\r\n      //阿隆的摄像机被移动的时候调用的事件。-----------------------\r\n      this.jDataServer.camera.updateArr3D.push((_target) => {\r\n        let _currentCamera: JCamera3D = _target;\r\n        _currentCamera.UpdateCameraPosAndRotation();\r\n\r\n      });\r\n      //开始加载石灰线和地脚线的数据。---------------------------------------\r\n      // this.dataServer.classesObj.profileLoader = new ProfileLoader(this.dataServer);\r\n      // this.dataServer.classesObj.profileLoader.StartLoadData(() => {\r\n      //   // console.log(this.dataServer.classesObj.profileLoader.GetDoorFrameData())\r\n      //   //执行一下这个，证明这个程序可以开始了。--------------------\r\n      //   this.domServer.threeInit.emit();\r\n      // });\r\n      // \r\n    });\r\n\r\n\r\n\r\n\r\n    //cowall更新的时候触发的函数。===========================================\r\n    this.jDataServer.cache.cowall.update3D.subscribe(() => {\r\n      //获取场景里的所有cowall并进行更新。----------------------------------\r\n      let _allCowalls: JCowall3D[] = this.jDataServer.doCowalls().arr();\r\n      for (let i = 0; i < _allCowalls.length; i++) {\r\n        let _theWall: JWall3D = <JWall3D>_allCowalls[i].getWall();\r\n        _theWall.SetDataServerAndOthers(this.dataServer);\r\n        _allCowalls[i].SetDataServerAndOthers(this.dataServer, this.popServer, this.jDataServer);\r\n        _allCowalls[i].MakeWall(false);\r\n      }\r\n      //获取场景里的所有room并对其里面的地板和天花板进行更新。------------------------------------\r\n      let _allRooms = this.jDataServer.doRooms().arr();\r\n      for (let i = 0; i < _allRooms.length; i++) {\r\n        let _theRoom: JRoom3D = _allRooms[i];\r\n        _theRoom.SetDataServerAndOthers(this.dataServer);\r\n        //开始创建地板的模型。--------------------------------------------------\r\n        let _theFloor3D: JFloor3D = <JFloor3D>_theRoom.getFloor();\r\n        _theFloor3D.SetDataServerAndOthers(this.dataServer, this.domServer, this.popServer, this.jDataServer);\r\n        _theFloor3D.MakeFloor();\r\n        //开始创建天花板的模型。------------------------------------------------\r\n        let _theRoof3D: JRoof3D = <JRoof3D>_theRoom.getRoof();\r\n        _theRoof3D.SetDataServerAndOthers(this.dataServer, this.domServer, this.popServer, this.jDataServer);\r\n        _theRoof3D.MakeRoof();\r\n      }\r\n      //做取消选择任何模型的动作。=================================================\r\n      //把模型选择框都取消显示。-------------------------------------------------\r\n      //this.dataServer.classesObj.wireSelectFrame.destory3D();\r\n      //设置当前没有任何模型被选择。-----------------------------------\r\n      //this.dataServer.classesObj.currentSelectModel.DeselectAll();\r\n      //右边属性面板什么都没有。-------------------------------\r\n      //this.popServer.panelRight.emit([]);\r\n    });\r\n\r\n    //创建门的时候调用的事件----------------------------------------------------\r\n    this.jDataServer.cache.door.createFunc = (_obj: JDoor3D) => {\r\n      _obj.SetDataServerAndOthers(this.dataServer, popServer, this.jDataServer);\r\n      this.dataServer.creatingLongObj = _obj;\r\n      //开始创建门了。-------------------------------\r\n      _obj.MakeDoor(true);\r\n      //开启门的一系列事件。-----------------------\r\n      _obj.StartEvent();\r\n    }\r\n\r\n\r\n\r\n\r\n    this.jDataServer.cache.cornerWin.createFunc = (_obj: JCornerWin3D) => {\r\n      _obj.SetDataServerAndOthers(this.dataServer, this.jDataServer, popServer);\r\n      this.dataServer.creatingLongObj = _obj;\r\n      _obj.MakeCornerBaywin();\r\n      _obj.StartEvent();\r\n    }\r\n\r\n    // this.jDataServer.cache.furniture.rotate(obj,9)\r\n\r\n    //创建窗的时候调用的事件----------------------------------------------------\r\n    this.jDataServer.cache.win.createFunc = (_obj: JWin3D) => {\r\n      _obj.SetDataServerAndOthers(this.dataServer, this.jDataServer, popServer);\r\n      this.dataServer.creatingLongObj = _obj;\r\n      //开始创建窗了。-------------------------------\r\n      _obj.MakeWin(true);\r\n      //开启窗的一系列事件。-----------------------\r\n      _obj.StartEvent();\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    //当家具创建的时候调用的函数。------------------------------------------------\r\n    this.jDataServer.cache.furniture.createFunc = (_obj: JFurniture3D) => {\r\n      _obj.SetDataServerAndOthers(this.dataServer, this.hgModelServer, this.popServer);\r\n      this.dataServer.creatingLongObj = _obj;\r\n      _obj.MakeFurniture();\r\n      _obj.StartEvent();\r\n    }\r\n\r\n\r\n    this.jDataServer.cache.build.createFunc = (_obj: JBuild3D) => {\r\n      _obj.SetDataServerAndOthers(this.dataServer,this.jDataServer, this.popServer);\r\n      this.dataServer.creatingLongObj = _obj;\r\n      _obj.MakeBuild();\r\n      _obj.StartEvent();\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n  }\r\n\r\n  private ResizeCanvas() {\r\n    if (this.dataServer.classesObj.sceneMaker == undefined) {\r\n      return;\r\n    }\r\n    if (this.jDataServer.cache.thumbnail.three.isZoom) {\r\n      this.dataServer.canvasSize = this.jDataServer.cache.thumbnail.three.zoomSize\r\n    }\r\n    else {\r\n      this.dataServer.canvasSize = this.jDataServer.cache.thumbnail.three.divSize\r\n    }\r\n    this.dataServer.classesObj.sceneMaker.ResizeScene(this.dataServer.canvasSize);\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ThreeComponent } from './three.component';\r\nimport { MouseEventService } from '../svg/common/services/mouse-event.service';\r\nimport { RightMenuService } from '../services/right-menu.service';\r\nimport { ConsoleService } from '../svg/common/services/console.service';\r\nimport { ToggleWindowModule } from '../design-pop/toggle-window/toggle-window.module';\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule,\r\n        ToggleWindowModule\r\n    ],\r\n    declarations: [ThreeComponent],\r\n    exports: [ThreeComponent],\r\n    providers: [MouseEventService, RightMenuService, ConsoleService]\r\n})\r\nexport class ThreeModule { }\r\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"],"sourceRoot":""}